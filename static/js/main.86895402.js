/*! For license information please see main.86895402.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var i=n(853),r=n(43),s=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(a(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var j=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var _=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===_?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case v:return"Profiler";case b:return"StrictMode";case k:return"Suspense";case C:return"SuspenseList";case j:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case w:return e.displayName||"Context";case x:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var R=Array.isArray,D=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},M=[],B=-1;function F(e){return{current:e}}function z(e){0>B||(e.current=M[B],M[B]=null,B--)}function q(e,t){B++,M[B]=e.current,e.current=t}var W,V,H=F(null),U=F(null),G=F(null),J=F(null);function K(e,t){switch(q(G,t),q(U,e),q(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bd(t=yd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(H),q(H,e)}function Q(){z(H),z(U),z(G)}function X(e){null!==e.memoizedState&&q(J,e);var t=H.current,n=bd(t,e.type);t!==n&&(q(U,e),q(H,n))}function Y(e){U.current===e&&(z(H),z(U)),J.current===e&&(z(J),uh._currentValue=O)}function $(e){if(void 0===W)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);W=t&&t[1]||"",V=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+W+e+V}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var i=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){i=s}e.call(n.prototype)}}else{try{throw Error()}catch(a){i=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&i&&"string"===typeof o.stack)return[o.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(1!==i||1!==r)do{if(i--,0>--r||l[i]!==c[r]){var u="\n"+l[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=i&&0<=r);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?$(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return $(e.type);case 16:return $("Lazy");case 13:return e.child!==t&&null!==t?$("Suspense Fallback"):$("Suspense");case 19:return $("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return $("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(i){return"\nError generating stack: "+i.message+"\n"+i.stack}}var ie=Object.prototype.hasOwnProperty,re=i.unstable_scheduleCallback,se=i.unstable_cancelCallback,ae=i.unstable_shouldYield,oe=i.unstable_requestPaint,le=i.unstable_now,ce=i.unstable_getCurrentPriorityLevel,ue=i.unstable_ImmediatePriority,de=i.unstable_UserBlockingPriority,he=i.unstable_NormalPriority,me=i.unstable_LowPriority,pe=i.unstable_IdlePriority,fe=i.log,ge=i.unstable_setDisableYieldValue,ye=null,be=null;function ve(e){if("function"===typeof fe&&ge(e),be&&"function"===typeof be.setStrictMode)try{be.setStrictMode(ye,e)}catch(t){}}var xe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/Se|0)|0},we=Math.log,Se=Math.LN2;var ke=256,Ce=262144,Ne=4194304;function Te(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function je(e,t,n){var i=e.pendingLanes;if(0===i)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&i;return 0!==o?0!==(i=o&~s)?r=Te(i):0!==(a&=o)?r=Te(a):n||0!==(n=o&~e)&&(r=Te(n)):0!==(o=i&~s)?r=Te(o):0!==a?r=Te(a):n||0!==(n=i&~e)&&(r=Te(n)),0===r?0:0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:r}function Ee(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ae(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ie(){var e=Ne;return 0===(62914560&(Ne<<=1))&&(Ne=4194304),e}function _e(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-xe(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|261930&n}function De(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-xe(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Le(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Oe(n))&(e.suspendedLanes|t))?0:n}function Oe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Me(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Be(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:Th(e.type)}function Fe(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var ze=Math.random().toString(36).slice(2),qe="__reactFiber$"+ze,We="__reactProps$"+ze,Ve="__reactContainer$"+ze,He="__reactEvents$"+ze,Ue="__reactListeners$"+ze,Ge="__reactHandles$"+ze,Je="__reactResources$"+ze,Ke="__reactMarker$"+ze;function Qe(e){delete e[qe],delete e[We],delete e[He],delete e[Ue],delete e[Ge]}function Xe(e){var t=e[qe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ve]||n[qe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Od(e);null!==e;){if(n=e[qe])return n;e=Od(e)}return t}n=(e=n).parentNode}return null}function Ye(e){if(e=e[qe]||e[Ve]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function $e(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Ze(e){var t=e[Je];return t||(t=e[Je]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ke]=!0}var tt=new Set,nt={};function it(e,t){rt(e,t),rt(e+"Capture",t)}function rt(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),at={},ot={};function lt(e,t,n){if(r=t,ie.call(ot,r)||!ie.call(at,r)&&(st.test(r)?ot[r]=!0:(at[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var i=t.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,i){if(null===i)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+i)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function mt(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var r=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ht(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function bt(e,t,n,i,r,s,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?xt(e,a,dt(t)):null!=n?xt(e,a,dt(n)):null!=i&&e.removeAttribute("value"),null==r&&null!=s&&(e.defaultChecked=!!s),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+dt(o):e.removeAttribute("name")}function vt(e,t,n,i,r,s,a,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return void mt(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i="function"!==typeof(i=null!=i?i:r)&&"symbol"!==typeof i&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a),mt(e)}function xt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function St(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(a(92));if(R(i)){if(1<i.length)throw Error(a(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i),mt(e)}function Ct(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(e,t,n){var i=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?i?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":i?e.setProperty(t,n):"number"!==typeof n||0===n||Nt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function jt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&Tt(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&Tt(e,s,t[s])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _t(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pt(){}var Rt=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,Ot=null;function Mt(e){var t=Ye(e);if(t&&(e=t.stateNode)){var n=e[We]||null;e:switch(e=t.stateNode,t.type){case"input":if(bt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[We]||null;if(!r)throw Error(a(90));bt(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&pt(i)}break e;case"textarea":St(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Bt=!1;function Ft(e,t,n){if(Bt)return e(t,n);Bt=!0;try{return e(t)}finally{if(Bt=!1,(null!==Lt||null!==Ot)&&(Zc(),Lt&&(t=Lt,e=Ot,Ot=Lt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function zt(e,t){var n=e.stateNode;if(null===n)return null;var i=n[We]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var qt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Wt=!1;if(qt)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Wt=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(Yh){Wt=!1}var Ht=null,Ut=null,Gt=null;function Jt(){if(Gt)return Gt;var e,t,n=Ut,i=n.length,r="value"in Ht?Ht.value:Ht.textContent,s=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[s-t];t++);return Gt=r.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Qt(){return!0}function Xt(){return!1}function Yt(e){function t(t,n,i,r,s){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Qt:Xt,this.isPropagationStopped=Xt,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qt)},persist:function(){},isPersistent:Qt}),t}var $t,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Yt(tn),rn=m({},tn,{view:0,detail:0}),sn=Yt(rn),an=m({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?($t=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=$t=0,en=e),$t)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),on=Yt(an),ln=Yt(m({},an,{dataTransfer:0})),cn=Yt(m({},rn,{relatedTarget:0})),un=Yt(m({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Yt(m({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Yt(m({},tn,{data:0})),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function yn(){return gn}var bn=Yt(m({},rn,{key:function(e){if(e.key){var t=mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),vn=Yt(m({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=Yt(m({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),wn=Yt(m({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Sn=Yt(m({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),kn=Yt(m({},tn,{newState:0,oldState:0})),Cn=[9,13,27,32],Nn=qt&&"CompositionEvent"in window,Tn=null;qt&&"documentMode"in document&&(Tn=document.documentMode);var jn=qt&&"TextEvent"in window&&!Tn,En=qt&&(!Nn||Tn&&8<Tn&&11>=Tn),An=String.fromCharCode(32),In=!1;function _n(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dn[e.type]:"textarea"===t}function On(e,t,n,i){Lt?Ot?Ot.push(i):Ot=[i]:Lt=i,0<(t=id(t,"onChange")).length&&(n=new nn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Mn=null,Bn=null;function Fn(e){Qu(e,0)}function zn(e){if(pt($e(e)))return e}function qn(e,t){if("change"===e)return t}var Wn=!1;if(qt){var Vn;if(qt){var Hn="oninput"in document;if(!Hn){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),Hn="function"===typeof Un.oninput}Vn=Hn}else Vn=!1;Wn=Vn&&(!document.documentMode||9<document.documentMode)}function Gn(){Mn&&(Mn.detachEvent("onpropertychange",Jn),Bn=Mn=null)}function Jn(e){if("value"===e.propertyName&&zn(Bn)){var t=[];On(t,Bn,e,Dt(e)),Ft(Fn,t)}}function Kn(e,t,n){"focusin"===e?(Gn(),Bn=n,(Mn=t).attachEvent("onpropertychange",Jn)):"focusout"===e&&Gn()}function Qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(Bn)}function Xn(e,t){if("click"===e)return zn(t)}function Yn(e,t){if("input"===e||"change"===e)return zn(t)}var $n="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if($n(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!ie.call(t,r)||!$n(e[r],t[r]))return!1}return!0}function ei(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ti(e,t){var n,i=ei(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ei(i)}}function ni(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ni(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ii(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function ri(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var si=qt&&"documentMode"in document&&11>=document.documentMode,ai=null,oi=null,li=null,ci=!1;function ui(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ci||null==ai||ai!==ft(i)||("selectionStart"in(i=ai)&&ri(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},li&&Zn(li,i)||(li=i,0<(i=id(oi,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ai)))}function di(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hi={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionrun:di("Transition","TransitionRun"),transitionstart:di("Transition","TransitionStart"),transitioncancel:di("Transition","TransitionCancel"),transitionend:di("Transition","TransitionEnd")},mi={},pi={};function fi(e){if(mi[e])return mi[e];if(!hi[e])return e;var t,n=hi[e];for(t in n)if(n.hasOwnProperty(t)&&t in pi)return mi[e]=n[t];return e}qt&&(pi=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);var gi=fi("animationend"),yi=fi("animationiteration"),bi=fi("animationstart"),vi=fi("transitionrun"),xi=fi("transitionstart"),wi=fi("transitioncancel"),Si=fi("transitionend"),ki=new Map,Ci="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(e,t){ki.set(e,t),it(t,[e])}Ci.push("scrollEnd");var Ti="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},ji=[],Ei=0,Ai=0;function Ii(){for(var e=Ei,t=Ai=Ei=0;t<e;){var n=ji[t];ji[t++]=null;var i=ji[t];ji[t++]=null;var r=ji[t];ji[t++]=null;var s=ji[t];if(ji[t++]=null,null!==i&&null!==r){var a=i.pending;null===a?r.next=r:(r.next=a.next,a.next=r),i.pending=r}0!==s&&Di(n,r,s)}}function _i(e,t,n,i){ji[Ei++]=e,ji[Ei++]=t,ji[Ei++]=n,ji[Ei++]=i,Ai|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function Pi(e,t,n,i){return _i(e,t,n,i),Li(e)}function Ri(e,t){return _i(e,null,null,t),Li(e)}function Di(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var r=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(i=s.alternate)&&(i.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(r=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,r&&null!==t&&(r=31-xe(n),null===(i=(e=s.hiddenUpdates)[r])?e[r]=[t]:i.push(t),t.lane=536870912|n),s):null}function Li(e){if(50<Hc)throw Hc=0,Uc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Oi={};function Mi(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bi(e,t,n,i){return new Mi(e,t,n,i)}function Fi(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zi(e,t){var n=e.alternate;return null===n?((n=Bi(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function qi(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wi(e,t,n,i,r,s){var o=0;if(i=e,"function"===typeof e)Fi(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case j:return(e=Bi(31,n,t,r)).elementType=j,e.lanes=s,e;case y:return Vi(n.children,r,s,t);case b:o=8,r|=24;break;case v:return(e=Bi(12,n,t,2|r)).elementType=v,e.lanes=s,e;case k:return(e=Bi(13,n,t,r)).elementType=k,e.lanes=s,e;case C:return(e=Bi(19,n,t,r)).elementType=C,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:o=10;break e;case x:o=9;break e;case S:o=11;break e;case N:o=14;break e;case T:o=16,i=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),i=null}return(t=Bi(o,n,t,r)).elementType=e,t.type=i,t.lanes=s,t}function Vi(e,t,n,i){return(e=Bi(7,e,i,t)).lanes=n,e}function Hi(e,t,n){return(e=Bi(6,e,null,t)).lanes=n,e}function Ui(e){var t=Bi(18,null,null,0);return t.stateNode=e,t}function Gi(e,t,n){return(t=Bi(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ji=new WeakMap;function Ki(e,t){if("object"===typeof e&&null!==e){var n=Ji.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Ji.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Qi=[],Xi=0,Yi=null,$i=0,Zi=[],er=0,tr=null,nr=1,ir="";function rr(e,t){Qi[Xi++]=$i,Qi[Xi++]=Yi,Yi=e,$i=t}function sr(e,t,n){Zi[er++]=nr,Zi[er++]=ir,Zi[er++]=tr,tr=e;var i=nr;e=ir;var r=32-xe(i)-1;i&=~(1<<r),n+=1;var s=32-xe(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,nr=1<<32-xe(t)+r|n<<r|i,ir=s+e}else nr=1<<s|n<<r|i,ir=e}function ar(e){null!==e.return&&(rr(e,1),sr(e,1,0))}function or(e){for(;e===Yi;)Yi=Qi[--Xi],Qi[Xi]=null,$i=Qi[--Xi],Qi[Xi]=null;for(;e===tr;)tr=Zi[--er],Zi[er]=null,ir=Zi[--er],Zi[er]=null,nr=Zi[--er],Zi[er]=null}function lr(e,t){Zi[er++]=nr,Zi[er++]=ir,Zi[er++]=tr,nr=t.id,ir=t.overflow,tr=e}var cr=null,ur=null,dr=!1,hr=null,mr=!1,pr=Error(a(519));function fr(e){throw wr(Ki(Error(a(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pr}function gr(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[qe]=e,t[We]=i,n){case"dialog":Xu("cancel",t),Xu("close",t);break;case"iframe":case"object":case"embed":Xu("load",t);break;case"video":case"audio":for(n=0;n<Ju.length;n++)Xu(Ju[n],t);break;case"source":Xu("error",t);break;case"img":case"image":case"link":Xu("error",t),Xu("load",t);break;case"details":Xu("toggle",t);break;case"input":Xu("invalid",t),vt(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Xu("invalid",t);break;case"textarea":Xu("invalid",t),kt(t,i.value,i.defaultValue,i.children)}"string"!==typeof(n=i.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===i.suppressHydrationWarning||cd(t.textContent,n)?(null!=i.popover&&(Xu("beforetoggle",t),Xu("toggle",t)),null!=i.onScroll&&Xu("scroll",t),null!=i.onScrollEnd&&Xu("scrollend",t),null!=i.onClick&&(t.onclick=Pt),t=!0):t=!1,t||fr(e,!0)}function yr(e){for(cr=e.return;cr;)switch(cr.tag){case 5:case 31:case 13:return void(mr=!1);case 27:case 3:return void(mr=!0);default:cr=cr.return}}function br(e){if(e!==cr)return!1;if(!dr)return yr(e),dr=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||vd(e.type,e.memoizedProps)),t=!t),t&&ur&&fr(e),yr(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));ur=Ld(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));ur=Ld(e)}else 27===n?(n=ur,Td(e.type)?(e=Dd,Dd=null,ur=e):ur=n):ur=cr?Rd(e.stateNode.nextSibling):null;return!0}function vr(){ur=cr=null,dr=!1}function xr(){var e=hr;return null!==e&&(null===Ic?Ic=e:Ic.push.apply(Ic,e),hr=null),e}function wr(e){null===hr?hr=[e]:hr.push(e)}var Sr=F(null),kr=null,Cr=null;function Nr(e,t,n){q(Sr,t._currentValue),t._currentValue=n}function Tr(e){e._currentValue=Sr.current,z(Sr)}function jr(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Er(e,t,n,i){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var s=r.dependencies;if(null!==s){var o=r.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=r;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),jr(s.return,n,e),i||(o=null);break e}s=l.next}}else if(18===r.tag){if(null===(o=r.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),jr(o,n,e),o=null}else o=r.child;if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===e){o=null;break}if(null!==(r=o.sibling)){r.return=o.return,o=r;break}o=o.return}r=o}}function Ar(e,t,n,i){e=null;for(var r=t,s=!1;null!==r;){if(!s)if(0!==(524288&r.flags))s=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var o=r.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=r.type;$n(r.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(r===J.current){if(null===(o=r.alternate))throw Error(a(387));o.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(uh):e=[uh])}r=r.return}null!==e&&Er(t,e,n,i),t.flags|=262144}function Ir(e){for(e=e.firstContext;null!==e;){if(!$n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _r(e){kr=e,Cr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Pr(e){return Dr(kr,e)}function Rr(e,t){return null===kr&&_r(e),Dr(e,t)}function Dr(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Cr){if(null===e)throw Error(a(308));Cr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Cr=Cr.next=t;return n}var Lr="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Or=i.unstable_scheduleCallback,Mr=i.unstable_NormalPriority,Br={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fr(){return{controller:new Lr,data:new Map,refCount:0}}function zr(e){e.refCount--,0===e.refCount&&Or(Mr,function(){e.controller.abort()})}var qr=null,Wr=0,Vr=0,Hr=null;function Ur(){if(0===--Wr&&null!==qr){null!==Hr&&(Hr.status="fulfilled");var e=qr;qr=null,Vr=0,Hr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gr=D.S;D.S=function(e,t){Rc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===qr){var n=qr=[];Wr=0,Vr=Wu(),Hr={status:"pending",value:void 0,then:function(e){n.push(e)}}}Wr++,t.then(Ur,Ur)}(0,t),null!==Gr&&Gr(e,t)};var Jr=F(null);function Kr(){var e=Jr.current;return null!==e?e:pc.pooledCache}function Qr(e,t){q(Jr,null===t?Jr.current:t.pool)}function Xr(){var e=Kr();return null===e?null:{parent:Br._currentValue,pool:e}}var Yr=Error(a(460)),$r=Error(a(474)),Zr=Error(a(542)),es={then:function(){}};function ts(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ns(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Pt,Pt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw as(e=t.reason),e;default:if("string"===typeof t.status)t.then(Pt,Pt);else{if(null!==(e=pc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw as(e=t.reason),e}throw rs=t,Yr}}function is(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw rs=t,Yr;throw t}}var rs=null;function ss(){if(null===rs)throw Error(a(459));var e=rs;return rs=null,e}function as(e){if(e===Yr||e===Zr)throw Error(a(483))}var os=null,ls=0;function cs(e){var t=ls;return ls+=1,null===os&&(os=[]),ns(os,e,t)}function us(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ds(e,t){if(t.$$typeof===p)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hs(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=zi(e,t)).index=0,e.sibling=null,e}function s(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=67108866,n):i:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Hi(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var s=n.type;return s===y?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===T&&is(s)===t.type)?(us(t=r(t,n.props),n),t.return=e,t):(us(t=Wi(n.type,n.key,n.props,null,e.mode,i),n),t.return=e,t)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gi(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,s){return null===t||7!==t.tag?((t=Vi(n,e.mode,i,s)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hi(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return us(n=Wi(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Gi(t,e.mode,n)).return=e,t;case T:return h(e,t=is(t),n)}if(R(t)||I(t))return(t=Vi(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,cs(t),n);if(t.$$typeof===w)return h(e,Rr(e,t),n);ds(e,t)}return null}function m(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===r?c(e,t,n,i):null;case g:return n.key===r?u(e,t,n,i):null;case T:return m(e,t,n=is(n),i)}if(R(n)||I(n))return null!==r?null:d(e,t,n,i,null);if("function"===typeof n.then)return m(e,t,cs(n),i);if(n.$$typeof===w)return m(e,t,Rr(e,n),i);ds(e,n)}return null}function p(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i||"bigint"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case f:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case g:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case T:return p(e,t,n,i=is(i),r)}if(R(i)||I(i))return d(t,e=e.get(n)||null,i,r,null);if("function"===typeof i.then)return p(e,t,n,cs(i),r);if(i.$$typeof===w)return p(e,t,n,Rr(t,i),r);ds(t,i)}return null}function b(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var v=u.key;null!==c;){if(c.key===v){if((v=u.type)===y){if(7===c.tag){n(l,c.sibling),(d=r(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===v||"object"===typeof v&&null!==v&&v.$$typeof===T&&is(v)===c.type){n(l,c.sibling),us(d=r(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===y?((d=Vi(u.props.children,l.mode,d,u.key)).return=l,l=d):(us(d=Wi(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case g:e:{for(v=u.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=r(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Gi(u,l.mode,d)).return=l,l=d}return o(l);case T:return b(l,c,u=is(u),d)}if(R(u))return function(r,a,o,l){for(var c=null,u=null,d=a,f=a=0,g=null;null!==d&&f<o.length;f++){d.index>f?(g=d,d=null):g=d.sibling;var y=m(r,d,o[f],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(r,d),a=s(y,a,f),null===u?c=y:u.sibling=y,u=y,d=g}if(f===o.length)return n(r,d),dr&&rr(r,f),c;if(null===d){for(;f<o.length;f++)null!==(d=h(r,o[f],l))&&(a=s(d,a,f),null===u?c=d:u.sibling=d,u=d);return dr&&rr(r,f),c}for(d=i(d);f<o.length;f++)null!==(g=p(d,r,f,o[f],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),a=s(g,a,f),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(r,e)}),dr&&rr(r,f),c}(l,c,u,d);if(I(u)){if("function"!==typeof(v=I(u)))throw Error(a(150));return function(r,o,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,f=o,g=o=0,y=null,b=l.next();null!==f&&!b.done;g++,b=l.next()){f.index>g?(y=f,f=null):y=f.sibling;var v=m(r,f,b.value,c);if(null===v){null===f&&(f=y);break}e&&f&&null===v.alternate&&t(r,f),o=s(v,o,g),null===d?u=v:d.sibling=v,d=v,f=y}if(b.done)return n(r,f),dr&&rr(r,g),u;if(null===f){for(;!b.done;g++,b=l.next())null!==(b=h(r,b.value,c))&&(o=s(b,o,g),null===d?u=b:d.sibling=b,d=b);return dr&&rr(r,g),u}for(f=i(f);!b.done;g++,b=l.next())null!==(b=p(f,r,g,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?g:b.key),o=s(b,o,g),null===d?u=b:d.sibling=b,d=b);return e&&f.forEach(function(e){return t(r,e)}),dr&&rr(r,g),u}(l,c,u=v.call(u),d)}if("function"===typeof u.then)return b(l,c,cs(u),d);if(u.$$typeof===w)return b(l,c,Rr(l,u),d);ds(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=r(c,u)).return=l,l=d):(n(l,c),(d=Hi(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,i){try{ls=0;var r=b(e,t,n,i);return os=null,r}catch(a){if(a===Yr||a===Zr)throw a;var s=Bi(29,a,null,e.mode);return s.lanes=i,s.return=e,s}}}var ms=hs(!0),ps=hs(!1),fs=!1;function gs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ys(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vs(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&mc)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Li(e),Di(e,null,n),t}return _i(e,i,t,n),Li(e)}function xs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,De(e,n)}}function ws(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?r=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ss=!1;function ks(){if(Ss){if(null!==Hr)throw Hr}}function Cs(e,t,n,i){Ss=!1;var r=e.updateQueue;fs=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=r.baseState;for(a=0,u=c=l=null,o=s;;){var h=-536870913&o.lane,p=h!==o.lane;if(p?(gc&h)===h:(i&h)===h){0!==h&&h===Vr&&(Ss=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var f=e,g=o;h=t;var y=n;switch(g.tag){case 1:if("function"===typeof(f=g.payload)){d=f.call(y,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(y,d,h):f)||void 0===h)break e;d=m({},d,h);break e;case 2:fs=!0}}null!==(h=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=r.callbacks)?r.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=h;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(p=o).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===s&&(r.shared.lanes=0),Cc|=a,e.lanes=a,e.memoizedState=d}}function Ns(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function Ts(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ns(n[e],t)}var js=F(null),Es=F(0);function As(e,t){q(Es,e=Sc),q(js,t),Sc=e|t.baseLanes}function Is(){q(Es,Sc),q(js,js.current)}function _s(){Sc=Es.current,z(js),z(Es)}var Ps=F(null),Rs=null;function Ds(e){var t=e.alternate;q(Fs,1&Fs.current),q(Ps,e),null===Rs&&(null===t||null!==js.current||null!==t.memoizedState)&&(Rs=e)}function Ls(e){q(Fs,Fs.current),q(Ps,e),null===Rs&&(Rs=e)}function Os(e){22===e.tag?(q(Fs,Fs.current),q(Ps,e),null===Rs&&(Rs=e)):Ms()}function Ms(){q(Fs,Fs.current),q(Ps,Ps.current)}function Bs(e){z(Ps),Rs===e&&(Rs=null),z(Fs)}var Fs=F(0);function zs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||_d(n)||Pd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qs=0,Ws=null,Vs=null,Hs=null,Us=!1,Gs=!1,Js=!1,Ks=0,Qs=0,Xs=null,Ys=0;function $s(){throw Error(a(321))}function Zs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$n(e[n],t[n]))return!1;return!0}function ea(e,t,n,i,r,s){return qs=s,Ws=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?go:yo,Js=!1,s=n(i,r),Js=!1,Gs&&(s=na(t,n,i,r)),ta(e),s}function ta(e){D.H=fo;var t=null!==Vs&&null!==Vs.next;if(qs=0,Hs=Vs=Ws=null,Us=!1,Qs=0,Xs=null,t)throw Error(a(300));null===e||Ro||null!==(e=e.dependencies)&&Ir(e)&&(Ro=!0)}function na(e,t,n,i){Ws=e;var r=0;do{if(Gs&&(Xs=null),Qs=0,Gs=!1,25<=r)throw Error(a(301));if(r+=1,Hs=Vs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}D.H=bo,s=t(n,i)}while(Gs);return s}function ia(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?ca(t):t,e=e.useState()[0],(null!==Vs?Vs.memoizedState:null)!==e&&(Ws.flags|=1024),t}function ra(){var e=0!==Ks;return Ks=0,e}function sa(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function aa(e){if(Us){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Us=!1}qs=0,Hs=Vs=Ws=null,Gs=!1,Qs=Ks=0,Xs=null}function oa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Hs?Ws.memoizedState=Hs=e:Hs=Hs.next=e,Hs}function la(){if(null===Vs){var e=Ws.alternate;e=null!==e?e.memoizedState:null}else e=Vs.next;var t=null===Hs?Ws.memoizedState:Hs.next;if(null!==t)Hs=t,Vs=e;else{if(null===e){if(null===Ws.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(Vs=e).memoizedState,baseState:Vs.baseState,baseQueue:Vs.baseQueue,queue:Vs.queue,next:null},null===Hs?Ws.memoizedState=Hs=e:Hs=Hs.next=e}return Hs}function ca(e){var t=Qs;return Qs+=1,null===Xs&&(Xs=[]),e=ns(Xs,e,t),t=Ws,null===(null===Hs?t.memoizedState:Hs.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?go:yo),e}function ua(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ca(e);if(e.$$typeof===w)return Pr(e)}throw Error(a(438,String(e)))}function da(e){var t=null,n=Ws.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var i=Ws.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(t={data:i.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ws.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=E;return t.index++,n}function ha(e,t){return"function"===typeof t?t(e):t}function ma(e){return pa(la(),Vs,e)}function pa(e,t,n){var i=e.queue;if(null===i)throw Error(a(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(null!==s){if(null!==r){var o=r.next;r.next=s.next,s.next=o}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,null===r)e.memoizedState=s;else{var l=o=null,c=null,u=t=r.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(gc&h)===h:(qs&h)===h){var m=u.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Vr&&(d=!0);else{if((qs&m)===m){u=u.next,m===Vr&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,Ws.lanes|=m,Cc|=m}h=u.action,Js&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else m={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=m,o=s):c=c.next=m,Ws.lanes|=h,Cc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!$n(s,e.memoizedState)&&(Ro=!0,d&&null!==(n=Hr)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,i.lastRenderedState=s}return null===r&&(i.lanes=0),[e.memoizedState,i.dispatch]}function fa(e){var t=la(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{s=e(s,o.action),o=o.next}while(o!==r);$n(s,t.memoizedState)||(Ro=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function ga(e,t,n){var i=Ws,r=la(),s=dr;if(s){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!$n((Vs||r).memoizedState,n);if(o&&(r.memoizedState=n,Ro=!0),r=r.queue,qa(va.bind(null,i,r,e),[e]),r.getSnapshot!==t||o||null!==Hs&&1&Hs.memoizedState.tag){if(i.flags|=2048,Oa(9,{destroy:void 0},ba.bind(null,i,r,n,t),null),null===pc)throw Error(a(349));s||0!==(127&qs)||ya(i,t,n)}return n}function ya(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ws.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ws.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ba(e,t,n,i){t.value=n,t.getSnapshot=i,xa(t)&&wa(e)}function va(e,t,n){return n(function(){xa(t)&&wa(e)})}function xa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$n(e,n)}catch(i){return!0}}function wa(e){var t=Ri(e,2);null!==t&&Kc(t,e,2)}function Sa(e){var t=oa();if("function"===typeof e){var n=e;if(e=n(),Js){ve(!0);try{n()}finally{ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e},t}function ka(e,t,n,i){return e.baseState=n,pa(e,Vs,"function"===typeof i?i:ha)}function Ca(e,t,n,i,r){if(ho(e))throw Error(a(485));if(null!==(e=t.action)){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==D.T?n(!0):s.isTransition=!1,i(s),null===(n=t.pending)?(s.next=t.pending=s,Na(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Na(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=D.T,a={};D.T=a;try{var o=n(r,i),l=D.S;null!==l&&l(a,o),Ta(e,t,o)}catch(c){Ea(e,t,c)}finally{null!==s&&null!==a.types&&(s.types=a.types),D.T=s}}else try{Ta(e,t,s=n(r,i))}catch(u){Ea(e,t,u)}}function Ta(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ja(e,t,n)},function(n){return Ea(e,t,n)}):ja(e,t,n)}function ja(e,t,n){t.status="fulfilled",t.value=n,Aa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Na(e,n)))}function Ea(e,t,n){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=n,Aa(t),t=t.next}while(t!==i)}e.action=null}function Aa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ia(e,t){return t}function _a(e,t){if(dr){var n=pc.formState;if(null!==n){e:{var i=Ws;if(dr){if(ur){t:{for(var r=ur,s=mr;8!==r.nodeType;){if(!s){r=null;break t}if(null===(r=Rd(r.nextSibling))){r=null;break t}}r="F!"===(s=r.data)||"F"===s?r:null}if(r){ur=Rd(r.nextSibling),i="F!"===r.data;break e}}fr(i)}i=!1}i&&(t=n[0])}}return(n=oa()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:t},n.queue=i,n=lo.bind(null,Ws,i),i.dispatch=n,i=Sa(!1),s=uo.bind(null,Ws,!1,i.queue),r={state:t,dispatch:null,action:e,pending:null},(i=oa()).queue=r,n=Ca.bind(null,Ws,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function Pa(e){return Ra(la(),Vs,e)}function Ra(e,t,n){if(t=pa(e,t,Ia)[0],e=ma(ha)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var i=ca(t)}catch(a){if(a===Yr)throw Zr;throw a}else i=t;var r=(t=la()).queue,s=r.dispatch;return n!==t.memoizedState&&(Ws.flags|=2048,Oa(9,{destroy:void 0},Da.bind(null,r,n),null)),[i,s,e]}function Da(e,t){e.action=t}function La(e){var t=la(),n=Vs;if(null!==n)return Ra(t,n,e);la(),t=t.memoizedState;var i=(n=la()).queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Oa(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},null===(t=Ws.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ws.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Ma(){return la().memoizedState}function Ba(e,t,n,i){var r=oa();Ws.flags|=e,r.memoizedState=Oa(1|t,{destroy:void 0},n,void 0===i?null:i)}function Fa(e,t,n,i){var r=la();i=void 0===i?null:i;var s=r.memoizedState.inst;null!==Vs&&null!==i&&Zs(i,Vs.memoizedState.deps)?r.memoizedState=Oa(t,s,n,i):(Ws.flags|=e,r.memoizedState=Oa(1|t,s,n,i))}function za(e,t){Ba(8390656,8,e,t)}function qa(e,t){Fa(2048,8,e,t)}function Wa(e){var t=la().memoizedState;return function(e){Ws.flags|=4;var t=Ws.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Ws.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&mc))throw Error(a(440));return t.impl.apply(void 0,arguments)}}function Va(e,t){return Fa(4,2,e,t)}function Ha(e,t){return Fa(4,4,e,t)}function Ua(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ga(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Fa(4,4,Ua.bind(null,t,e),n)}function Ja(){}function Ka(e,t){var n=la();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&Zs(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Qa(e,t){var n=la();t=void 0===t?null:t;var i=n.memoizedState;if(null!==t&&Zs(t,i[1]))return i[0];if(i=e(),Js){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[i,t],i}function Xa(e,t,n){return void 0===n||0!==(1073741824&qs)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=n,e=Jc(),Ws.lanes|=e,Cc|=e,n)}function Ya(e,t,n,i){return $n(n,t)?n:null!==js.current?(e=Xa(e,n,i),$n(e,t)||(Ro=!0),e):0===(42&qs)||0!==(1073741824&qs)&&0===(261930&gc)?(Ro=!0,e.memoizedState=n):(e=Jc(),Ws.lanes|=e,Cc|=e,t)}function $a(e,t,n,i,r){var s=L.p;L.p=0!==s&&8>s?s:8;var a=D.T,o={};D.T=o,uo(e,!1,t,n);try{var l=r(),c=D.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)co(e,t,function(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(i.status="rejected",i.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),i}(l,i),Gc());else co(e,t,i,Gc())}catch(u){co(e,t,{then:function(){},status:"rejected",reason:u},Gc())}finally{L.p=s,null!==a&&null!==o.types&&(a.types=o.types),D.T=a}}function Za(){}function eo(e,t,n,i){if(5!==e.tag)throw Error(a(476));var r=to(e).queue;$a(e,r,t,O,null===n?Za:function(){return no(e),n(i)})}function to(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:O},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function no(e){var t=to(e);null===t.next&&(t=e.alternate.memoizedState),co(e,t.next.queue,{},Gc())}function io(){return Pr(uh)}function ro(){return la().memoizedState}function so(){return la().memoizedState}function ao(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Gc(),i=vs(t,e=bs(n),n);return null!==i&&(Kc(i,t,n),xs(i,t,n)),t={cache:Fr()},void(e.payload=t)}t=t.return}}function oo(e,t,n){var i=Gc();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ho(e)?mo(t,n):null!==(n=Pi(e,t,n,i))&&(Kc(n,e,i),po(n,t,i))}function lo(e,t,n){co(e,t,n,Gc())}function co(e,t,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ho(e))mo(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(r.hasEagerState=!0,r.eagerState=o,$n(o,a))return _i(e,t,r,0),null===pc&&Ii(),!1}catch(l){}if(null!==(n=Pi(e,t,r,i)))return Kc(n,e,i),po(n,t,i),!0}return!1}function uo(e,t,n,i){if(i={lane:2,revertLane:Wu(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ho(e)){if(t)throw Error(a(479))}else null!==(t=Pi(e,n,i,2))&&Kc(t,e,2)}function ho(e){var t=e.alternate;return e===Ws||null!==t&&t===Ws}function mo(e,t){Gs=Us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function po(e,t,n){if(0!==(4194048&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,De(e,n)}}var fo={readContext:Pr,use:ua,useCallback:$s,useContext:$s,useEffect:$s,useImperativeHandle:$s,useLayoutEffect:$s,useInsertionEffect:$s,useMemo:$s,useReducer:$s,useRef:$s,useState:$s,useDebugValue:$s,useDeferredValue:$s,useTransition:$s,useSyncExternalStore:$s,useId:$s,useHostTransitionStatus:$s,useFormState:$s,useActionState:$s,useOptimistic:$s,useMemoCache:$s,useCacheRefresh:$s};fo.useEffectEvent=$s;var go={readContext:Pr,use:ua,useCallback:function(e,t){return oa().memoizedState=[e,void 0===t?null:t],e},useContext:Pr,useEffect:za,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,Ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){Ba(4,2,e,t)},useMemo:function(e,t){var n=oa();t=void 0===t?null:t;var i=e();if(Js){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=oa();if(void 0!==n){var r=n(t);if(Js){ve(!0);try{n(t)}finally{ve(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=oo.bind(null,Ws,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},oa().memoizedState=e},useState:function(e){var t=(e=Sa(e)).queue,n=lo.bind(null,Ws,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ja,useDeferredValue:function(e,t){return Xa(oa(),e,t)},useTransition:function(){var e=Sa(!1);return e=$a.bind(null,Ws,e.queue,!0,!1),oa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Ws,r=oa();if(dr){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===pc)throw Error(a(349));0!==(127&gc)||ya(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,za(va.bind(null,i,s,e),[e]),i.flags|=2048,Oa(9,{destroy:void 0},ba.bind(null,i,s,n,t),null),n},useId:function(){var e=oa(),t=pc.identifierPrefix;if(dr){var n=ir;t="_"+t+"R_"+(n=(nr&~(1<<32-xe(nr)-1)).toString(32)+n),0<(n=Ks++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Ys++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:io,useFormState:_a,useActionState:_a,useOptimistic:function(e){var t=oa();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=uo.bind(null,Ws,!0,n),n.dispatch=t,[e,t]},useMemoCache:da,useCacheRefresh:function(){return oa().memoizedState=ao.bind(null,Ws)},useEffectEvent:function(e){var t=oa(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&mc))throw Error(a(440));return n.impl.apply(void 0,arguments)}}},yo={readContext:Pr,use:ua,useCallback:Ka,useContext:Pr,useEffect:qa,useImperativeHandle:Ga,useInsertionEffect:Va,useLayoutEffect:Ha,useMemo:Qa,useReducer:ma,useRef:Ma,useState:function(){return ma(ha)},useDebugValue:Ja,useDeferredValue:function(e,t){return Ya(la(),Vs.memoizedState,e,t)},useTransition:function(){var e=ma(ha)[0],t=la().memoizedState;return["boolean"===typeof e?e:ca(e),t]},useSyncExternalStore:ga,useId:ro,useHostTransitionStatus:io,useFormState:Pa,useActionState:Pa,useOptimistic:function(e,t){return ka(la(),0,e,t)},useMemoCache:da,useCacheRefresh:so};yo.useEffectEvent=Wa;var bo={readContext:Pr,use:ua,useCallback:Ka,useContext:Pr,useEffect:qa,useImperativeHandle:Ga,useInsertionEffect:Va,useLayoutEffect:Ha,useMemo:Qa,useReducer:fa,useRef:Ma,useState:function(){return fa(ha)},useDebugValue:Ja,useDeferredValue:function(e,t){var n=la();return null===Vs?Xa(n,e,t):Ya(n,Vs.memoizedState,e,t)},useTransition:function(){var e=fa(ha)[0],t=la().memoizedState;return["boolean"===typeof e?e:ca(e),t]},useSyncExternalStore:ga,useId:ro,useHostTransitionStatus:io,useFormState:La,useActionState:La,useOptimistic:function(e,t){var n=la();return null!==Vs?ka(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:da,useCacheRefresh:so};function vo(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:m({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}bo.useEffectEvent=Wa;var xo={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Gc(),r=bs(i);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=vs(e,r,i))&&(Kc(t,e,i),xs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Gc(),r=bs(i);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=vs(e,r,i))&&(Kc(t,e,i),xs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gc(),i=bs(n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=vs(e,i,n))&&(Kc(t,e,n),xs(t,e,n))}};function wo(e,t,n,i,r,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,i)||!Zn(r,s))}function So(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&xo.enqueueReplaceState(t,t.state,null)}function ko(e,t){var n=t;if("ref"in t)for(var i in n={},t)"ref"!==i&&(n[i]=t[i]);if(e=e.defaultProps)for(var r in n===t&&(n=m({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}function Co(e){Ti(e)}function No(e){console.error(e)}function To(e){Ti(e)}function jo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Eo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Ao(e,t,n){return(n=bs(n)).tag=3,n.payload={element:null},n.callback=function(){jo(e,t)},n}function Io(e){return(e=bs(e)).tag=3,e}function _o(e,t,n,i){var r=n.type.getDerivedStateFromError;if("function"===typeof r){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){Eo(t,n,i)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){Eo(t,n,i),"function"!==typeof r&&(null===Oc?Oc=new Set([this]):Oc.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}var Po=Error(a(461)),Ro=!1;function Do(e,t,n,i){t.child=null===e?ps(t,null,n,i):ms(t,e.child,n,i)}function Lo(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var o in i)"ref"!==o&&(a[o]=i[o])}else a=i;return _r(t),i=ea(e,t,n,a,s,r),o=ra(),null===e||Ro?(dr&&o&&ar(t),t.flags|=1,Do(e,t,i,r),t.child):(sa(e,t,r),rl(e,t,r))}function Oo(e,t,n,i,r){if(null===e){var s=n.type;return"function"!==typeof s||Fi(s)||void 0!==s.defaultProps||null!==n.compare?((e=Wi(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Mo(e,t,s,i,r))}if(s=e.child,!sl(e,r)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(a,i)&&e.ref===t.ref)return rl(e,t,r)}return t.flags|=1,(e=zi(s,i)).ref=t.ref,e.return=t,t.child=e}function Mo(e,t,n,i,r){if(null!==e){var s=e.memoizedProps;if(Zn(s,i)&&e.ref===t.ref){if(Ro=!1,t.pendingProps=i=s,!sl(e,r))return t.lanes=e.lanes,rl(e,t,r);0!==(131072&e.flags)&&(Ro=!0)}}return Ho(e,t,n,i,r)}function Bo(e,t,n,i){var r=i.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===i.mode){if(0!==(128&t.flags)){if(s=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,r=0;null!==i;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~s}else i=0,t.child=null;return zo(e,t,s,n,i)}if(0===(536870912&n))return i=t.lanes=536870912,zo(e,t,null!==s?s.baseLanes|n:n,n,i);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Qr(0,null!==s?s.cachePool:null),null!==s?As(t,s):Is(),Os(t)}else null!==s?(Qr(0,s.cachePool),As(t,s),Ms(),t.memoizedState=null):(null!==e&&Qr(0,null),Is(),Ms());return Do(e,t,r,n),t.child}function Fo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function zo(e,t,n,i,r){var s=Kr();return s=null===s?null:{parent:Br._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Qr(0,null),Is(),Os(t),null!==e&&Ar(e,t,i,!0),t.childLanes=r,null}function qo(e,t){return(t=Zo({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Wo(e,t,n){return ms(t,e.child,null,n),(e=qo(t,t.pendingProps)).flags|=2,Bs(t),t.memoizedState=null,e}function Vo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ho(e,t,n,i,r){return _r(t),n=ea(e,t,n,i,void 0,r),i=ra(),null===e||Ro?(dr&&i&&ar(t),t.flags|=1,Do(e,t,n,r),t.child):(sa(e,t,r),rl(e,t,r))}function Uo(e,t,n,i,r,s){return _r(t),t.updateQueue=null,n=na(t,i,n,r),ta(e),i=ra(),null===e||Ro?(dr&&i&&ar(t),t.flags|=1,Do(e,t,n,s),t.child):(sa(e,t,s),rl(e,t,s))}function Go(e,t,n,i,r){if(_r(t),null===t.stateNode){var s=Oi,a=n.contextType;"object"===typeof a&&null!==a&&(s=Pr(a)),s=new n(i,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=xo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=i,s.state=t.memoizedState,s.refs={},gs(t),a=n.contextType,s.context="object"===typeof a&&null!==a?Pr(a):Oi,s.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(vo(t,n,a,i),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(a=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&xo.enqueueReplaceState(s,s.state,null),Cs(t,i,s,r),ks(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=ko(n,o);s.props=l;var c=s.context,u=n.contextType;a=Oi,"object"===typeof u&&null!==u&&(a=Pr(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==a)&&So(t,s,i,a),fs=!1;var h=t.memoizedState;s.state=h,Cs(t,i,s,r),ks(),c=t.memoizedState,o||h!==c||fs?("function"===typeof d&&(vo(t,n,d,i),c=t.memoizedState),(l=fs||wo(t,n,l,i,h,c,a))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),s.props=i,s.state=c,s.context=a,i=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,ys(e,t),u=ko(n,a=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=Oi,"object"===typeof c&&null!==c&&(l=Pr(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&So(t,s,i,l),fs=!1,h=t.memoizedState,s.state=h,Cs(t,i,s,r),ks();var m=t.memoizedState;a!==d||h!==m||fs||null!==e&&null!==e.dependencies&&Ir(e.dependencies)?("function"===typeof o&&(vo(t,n,o,i),m=t.memoizedState),(u=fs||wo(t,n,u,i,h,m,l)||null!==e&&null!==e.dependencies&&Ir(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,m,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,m,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),s.props=i,s.state=m,s.context=l,i=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,Vo(e,t),i=0!==(128&t.flags),s||i?(s=t.stateNode,n=i&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&i?(t.child=ms(t,e.child,null,r),t.child=ms(t,null,n,r)):Do(e,t,n,r),t.memoizedState=s.state,e=t.child):e=rl(e,t,r),e}function Jo(e,t,n,i){return vr(),t.flags|=256,Do(e,t,n,i),t.child}var Ko={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qo(e){return{baseLanes:e,cachePool:Xr()}}function Xo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=jc),e}function Yo(e,t,n){var i,r=t.pendingProps,s=!1,o=0!==(128&t.flags);if((i=o)||(i=(null===e||null!==e.memoizedState)&&0!==(2&Fs.current)),i&&(s=!0,t.flags&=-129),i=0!==(32&t.flags),t.flags&=-33,null===e){if(dr){if(s?Ds(t):Ms(),(e=ur)?null!==(e=null!==(e=Id(e,mr))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==tr?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},(n=Ui(e)).return=t,t.child=n,cr=t,ur=null):e=null,null===e)throw fr(t);return Pd(e)?t.lanes=32:t.lanes=536870912,null}var l=r.children;return r=r.fallback,s?(Ms(),l=Zo({mode:"hidden",children:l},s=t.mode),r=Vi(r,s,n,null),l.return=t,r.return=t,l.sibling=r,t.child=l,(r=t.child).memoizedState=Qo(n),r.childLanes=Xo(e,i,n),t.memoizedState=Ko,Fo(null,r)):(Ds(t),$o(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Ds(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(Ms(),t.child=e.child,t.flags|=128,t=null):(Ms(),l=r.fallback,s=t.mode,r=Zo({mode:"visible",children:r.children},s),(l=Vi(l,s,n,null)).flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,ms(t,e.child,null,n),(r=t.child).memoizedState=Qo(n),r.childLanes=Xo(e,i,n),t.memoizedState=Ko,t=Fo(null,r));else if(Ds(t),Pd(l)){if(i=l.nextSibling&&l.nextSibling.dataset)var u=i.dgst;i=u,(r=Error(a(419))).stack="",r.digest=i,wr({value:r,source:null,stack:null}),t=el(e,t,n)}else if(Ro||Ar(e,t,n,!1),i=0!==(n&e.childLanes),Ro||i){if(null!==(i=pc)&&(0!==(r=Le(i,n))&&r!==c.retryLane))throw c.retryLane=r,Ri(e,r),Kc(i,e,r),Po;_d(l)||au(),t=el(e,t,n)}else _d(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ur=Rd(l.nextSibling),cr=t,dr=!0,hr=null,mr=!1,null!==e&&lr(t,e),(t=$o(t,r.children)).flags|=4096);return t}return s?(Ms(),l=r.fallback,s=t.mode,u=(c=e.child).sibling,(r=zi(c,{mode:"hidden",children:r.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=zi(u,l):(l=Vi(l,s,n,null)).flags|=2,l.return=t,r.return=t,r.sibling=l,t.child=r,Fo(null,r),r=t.child,null===(l=e.child.memoizedState)?l=Qo(n):(null!==(s=l.cachePool)?(c=Br._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Xr(),l={baseLanes:l.baseLanes|n,cachePool:s}),r.memoizedState=l,r.childLanes=Xo(e,i,n),t.memoizedState=Ko,Fo(e.child,r)):(Ds(t),e=(n=e.child).sibling,(n=zi(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function $o(e,t){return(t=Zo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Zo(e,t){return(e=Bi(22,e,null,t)).lanes=0,e}function el(e,t,n){return ms(t,e.child,null,n),(e=$o(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),jr(e.return,t,n)}function nl(e,t,n,i,r,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.treeForkCount=s)}function il(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;i=i.children;var a=Fs.current,o=0!==(2&a);if(o?(a=1&a|2,t.flags|=128):a&=1,q(Fs,a),Do(e,t,i,n),i=dr?$i:0,!o&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===zs(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),nl(t,!1,r,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===zs(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}nl(t,!0,n,null,s,i);break;case"together":nl(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function rl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Cc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ar(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=zi(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zi(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ir(e))}function al(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ro=!0;else{if(!sl(e,n)&&0===(128&t.flags))return Ro=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),Nr(0,Br,e.memoizedState.cache),vr();break;case 27:case 5:X(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:Nr(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ls(t),null;break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(Ds(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Yo(e,t,n):(Ds(t),null!==(e=rl(e,t,n))?e.sibling:null);Ds(t);break;case 19:var r=0!==(128&e.flags);if((i=0!==(n&t.childLanes))||(Ar(e,t,n,!1),i=0!==(n&t.childLanes)),r){if(i)return il(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),q(Fs,Fs.current),i)break;return null;case 22:return t.lanes=0,Bo(e,t,n,t.pendingProps);case 24:Nr(0,Br,e.memoizedState.cache)}return rl(e,t,n)}(e,t,n);Ro=0!==(131072&e.flags)}else Ro=!1,dr&&0!==(1048576&t.flags)&&sr(t,$i,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=is(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var r=e.$$typeof;if(r===S){t.tag=11,t=Lo(null,t,e,i,n);break e}if(r===N){t.tag=14,t=Oo(null,t,e,i,n);break e}}throw t=P(e)||e,Error(a(306,t,""))}Fi(e)?(i=ko(e,i),t.tag=1,t=Go(null,t,e,i,n)):(t.tag=0,t=Ho(null,t,e,i,n))}return t;case 0:return Ho(e,t,t.type,t.pendingProps,n);case 1:return Go(e,t,i=t.type,r=ko(i,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(a(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,ys(e,t),Cs(t,i,null,n);var o=t.memoizedState;if(i=o.cache,Nr(0,Br,i),i!==s.cache&&Er(t,[Br],n,!0),ks(),i=o.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Jo(e,t,i,n);break e}if(i!==r){wr(r=Ki(Error(a(424)),t)),t=Jo(e,t,i,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ur=Rd(e.firstChild),cr=t,dr=!0,hr=null,mr=!0,n=ps(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(vr(),i===r){t=rl(e,t,n);break e}Do(e,t,i,n)}t=t.child}return t;case 26:return Vo(e,t),null===e?(n=Ud(t.type,null,t.pendingProps,null))?t.memoizedState=n:dr||(n=t.type,e=t.pendingProps,(i=gd(G.current).createElement(n))[qe]=t,i[We]=e,hd(i,n,e),et(i),t.stateNode=i):t.memoizedState=Ud(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&dr&&(i=t.stateNode=Md(t.type,t.pendingProps,G.current),cr=t,mr=!0,r=ur,Td(t.type)?(Dd=r,ur=Rd(i.firstChild)):ur=r),Do(e,t,t.pendingProps.children,n),Vo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&dr&&((r=i=ur)&&(null!==(i=function(e,t,n,i){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(i){if(!e[Ke])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===s)return e}if(null===(e=Rd(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,mr))?(t.stateNode=i,cr=t,ur=Rd(i.firstChild),mr=!1,r=!0):r=!1),r||fr(t)),X(t),r=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,i=s.children,vd(r,s)?i=null:null!==o&&vd(r,o)&&(t.flags|=32),null!==t.memoizedState&&(r=ea(e,t,ia,null,null,n),uh._currentValue=r),Vo(e,t),Do(e,t,i,n),t.child;case 6:return null===e&&dr&&((e=n=ur)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Rd(e.nextSibling)))return null}return e}(n,t.pendingProps,mr))?(t.stateNode=n,cr=t,ur=null,e=!0):e=!1),e||fr(t)),null;case 13:return Yo(e,t,n);case 4:return K(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ms(t,null,i,n):Do(e,t,i,n),t.child;case 11:return Lo(e,t,t.type,t.pendingProps,n);case 7:return Do(e,t,t.pendingProps,n),t.child;case 8:case 12:return Do(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Nr(0,t.type,i.value),Do(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,_r(t),i=i(r=Pr(r)),t.flags|=1,Do(e,t,i,n),t.child;case 14:return Oo(e,t,t.type,t.pendingProps,n);case 15:return Mo(e,t,t.type,t.pendingProps,n);case 19:return il(e,t,n);case 31:return function(e,t,n){var i=t.pendingProps,r=0!==(128&t.flags);if(t.flags&=-129,null===e){if(dr){if("hidden"===i.mode)return e=qo(t,i),t.lanes=536870912,Fo(null,e);if(Ls(t),(e=ur)?null!==(e=null!==(e=Id(e,mr))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==tr?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},(n=Ui(e)).return=t,t.child=n,cr=t,ur=null):e=null,null===e)throw fr(t);return t.lanes=536870912,null}return qo(t,i)}var s=e.memoizedState;if(null!==s){var o=s.dehydrated;if(Ls(t),r)if(256&t.flags)t.flags&=-257,t=Wo(e,t,n);else{if(null===t.memoizedState)throw Error(a(558));t.child=e.child,t.flags|=128,t=null}else if(Ro||Ar(e,t,n,!1),r=0!==(n&e.childLanes),Ro||r){if(null!==(i=pc)&&0!==(o=Le(i,n))&&o!==s.retryLane)throw s.retryLane=o,Ri(e,o),Kc(i,e,o),Po;au(),t=Wo(e,t,n)}else e=s.treeContext,ur=Rd(o.nextSibling),cr=t,dr=!0,hr=null,mr=!1,null!==e&&lr(t,e),(t=qo(t,i)).flags|=4096;return t}return(e=zi(e.child,{mode:i.mode,children:i.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Bo(e,t,n,t.pendingProps);case 24:return _r(t),i=Pr(Br),null===e?(null===(r=Kr())&&(r=pc,s=Fr(),r.pooledCache=s,s.refCount++,null!==s&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},gs(t),Nr(0,Br,r)):(0!==(e.lanes&n)&&(ys(e,t),Cs(t,null,null,n),ks()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),Nr(0,Br,i)):(i=s.cache,Nr(0,Br,i),i!==r.cache&&Er(t,[Br],n,!0))),Do(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function ol(e){e.flags|=4}function ll(e,t,n,i,r){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&r)===r)if(e.stateNode.complete)e.flags|=8192;else{if(!iu())throw rs=es,$r;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!rh(t)){if(!iu())throw rs=es,$r;e.flags|=8192}}function ul(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ie():536870912,e.lanes|=t,Ec|=t)}function dl(e,t){if(!dr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=65011712&r.subtreeFlags,i|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function ml(e,t,n){var i=t.pendingProps;switch(or(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hl(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Tr(Br),Q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(br(t)?ol(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,xr())),hl(t),null;case 26:var r=t.type,s=t.memoizedState;return null===e?(ol(t),null!==s?(hl(t),cl(t,s)):(hl(t),ll(t,r,0,0,n))):s?s!==e.memoizedState?(ol(t),hl(t),cl(t,s)):(hl(t),t.flags&=-16777217):((e=e.memoizedProps)!==i&&ol(t),hl(t),ll(t,r,0,0,n)),null;case 27:if(Y(t),n=G.current,r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&ol(t);else{if(!i){if(null===t.stateNode)throw Error(a(166));return hl(t),null}e=H.current,br(t)?gr(t):(e=Md(r,i,n),t.stateNode=e,ol(t))}return hl(t),null;case 5:if(Y(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&ol(t);else{if(!i){if(null===t.stateNode)throw Error(a(166));return hl(t),null}if(s=H.current,br(t))gr(t);else{var o=gd(G.current);switch(s){case 1:s=o.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=o.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=o.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=o.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(s=o.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"===typeof i.is?o.createElement("select",{is:i.is}):o.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s="string"===typeof i.is?o.createElement(r,{is:i.is}):o.createElement(r)}}s[qe]=t,s[We]=i;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)s.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=s;e:switch(hd(s,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ol(t)}}return hl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&ol(t);else{if("string"!==typeof i&&null===t.stateNode)throw Error(a(166));if(e=G.current,br(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(r=cr))switch(r.tag){case 27:case 5:i=r.memoizedProps}e[qe]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||cd(e.nodeValue,n)))||fr(t,!0)}else(e=gd(e).createTextNode(i))[qe]=t,t.stateNode=e}return hl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(i=br(t),null!==n){if(null===e){if(!i)throw Error(a(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(557));e[qe]=t}else vr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),e=!1}else n=xr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Bs(t),t):(Bs(t),null);if(0!==(128&t.flags))throw Error(a(558))}return hl(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=br(t),null!==i&&null!==i.dehydrated){if(null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[qe]=t}else vr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),r=!1}else r=xr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(Bs(t),t):(Bs(t),null)}return Bs(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==i,e=null!==e&&null!==e.memoizedState,n&&(r=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(r=i.alternate.memoizedState.cachePool.pool),s=null,null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ul(t,t.updateQueue),hl(t),null);case 4:return Q(),null===e&&Zu(t.stateNode.containerInfo),hl(t),null;case 10:return Tr(t.type),hl(t),null;case 19:if(z(Fs),null===(i=t.memoizedState))return hl(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)dl(i,!1);else{if(0!==kc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=zs(e))){for(t.flags|=128,dl(i,!1),e=s.updateQueue,t.updateQueue=e,ul(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)qi(n,e),n=n.sibling;return q(Fs,1&Fs.current|2),dr&&rr(t,i.treeForkCount),t.child}e=e.sibling}null!==i.tail&&le()>Dc&&(t.flags|=128,r=!0,dl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=zs(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,ul(t,e),dl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!dr)return hl(t),null}else 2*le()-i.renderingStartTime>Dc&&536870912!==n&&(t.flags|=128,r=!0,dl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=le(),e.sibling=null,n=Fs.current,q(Fs,r?1&n|2:1&n),dr&&rr(t,i.treeForkCount),e):(hl(t),null);case 22:case 23:return Bs(t),_s(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?0!==(536870912&n)&&0===(128&t.flags)&&(hl(t),6&t.subtreeFlags&&(t.flags|=8192)):hl(t),null!==(n=t.updateQueue)&&ul(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&z(Jr),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Tr(Br),hl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function pl(e,t){switch(or(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Tr(Br),Q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 31:if(null!==t.memoizedState){if(Bs(t),null===t.alternate)throw Error(a(340));vr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Bs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));vr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(Fs),null;case 4:return Q(),null;case 10:return Tr(t.type),null;case 22:case 23:return Bs(t),_s(),null!==e&&z(Jr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Tr(Br),null;default:return null}}function fl(e,t){switch(or(t),t.tag){case 3:Tr(Br),Q();break;case 26:case 27:case 5:Y(t);break;case 4:Q();break;case 31:null!==t.memoizedState&&Bs(t);break;case 13:Bs(t);break;case 19:z(Fs);break;case 10:Tr(t.type);break;case 22:case 23:Bs(t),_s(),null!==e&&z(Jr);break;case 24:Tr(Br)}}function gl(e,t){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(o){ku(t,t.return,o)}}function yl(e,t,n){try{var i=t.updateQueue,r=null!==i?i.lastEffect:null;if(null!==r){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,r=t;var l=n,c=o;try{c()}catch(u){ku(r,l,u)}}}i=i.next}while(i!==s)}}catch(u){ku(t,t.return,u)}}function bl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ts(t,n)}catch(i){ku(e,e.return,i)}}}function vl(e,t,n){n.props=ko(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){ku(e,t,i)}}function xl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;default:i=e.stateNode}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(r){ku(e,t,r)}}function wl(e,t){var n=e.ref,i=e.refCleanup;if(null!==n)if("function"===typeof i)try{i()}catch(r){ku(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){ku(e,t,s)}else n.current=null}function Sl(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){ku(e,e.return,r)}}function kl(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:i.hasOwnProperty(p)||ud(e,t,p,null,i,h)}}for(var m in i){var p=i[m];if(h=n[m],i.hasOwnProperty(m)&&(null!=p||null!=h))switch(m){case"type":s=p;break;case"name":r=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==h&&ud(e,t,m,p,i,h)}}return void bt(e,o,l,c,u,d,s,r);case"select":for(s in p=o=l=m=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:i.hasOwnProperty(s)||ud(e,t,s,null,i,c)}for(r in i)if(s=i[r],c=n[r],i.hasOwnProperty(r)&&(null!=s||null!=c))switch(r){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&ud(e,t,r,s,i,c)}return t=l,n=o,i=p,void(null!=m?wt(e,!!n,m,!1):!!i!==!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=m=null,n)if(r=n[l],n.hasOwnProperty(l)&&null!=r&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ud(e,t,l,null,i,r)}for(o in i)if(r=i[o],s=n[o],i.hasOwnProperty(o)&&(null!=r||null!=s))switch(o){case"value":m=r;break;case"defaultValue":p=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(a(91));break;default:r!==s&&ud(e,t,o,r,i,s)}return void St(e,m,p);case"option":for(var f in n)if(m=n[f],n.hasOwnProperty(f)&&null!=m&&!i.hasOwnProperty(f))if("selected"===f)e.selected=!1;else ud(e,t,f,null,i,m);for(c in i)if(m=i[c],p=n[c],i.hasOwnProperty(c)&&m!==p&&(null!=m||null!=p))if("selected"===c)e.selected=m&&"function"!==typeof m&&"symbol"!==typeof m;else ud(e,t,c,m,i,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)m=n[g],n.hasOwnProperty(g)&&null!=m&&!i.hasOwnProperty(g)&&ud(e,t,g,null,i,m);for(u in i)if(m=i[u],p=n[u],i.hasOwnProperty(u)&&m!==p&&(null!=m||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(a(137,t));break;default:ud(e,t,u,m,i,p)}return;default:if(Et(t)){for(var y in n)m=n[y],n.hasOwnProperty(y)&&void 0!==m&&!i.hasOwnProperty(y)&&dd(e,t,y,void 0,i,m);for(d in i)m=i[d],p=n[d],!i.hasOwnProperty(d)||m===p||void 0===m&&void 0===p||dd(e,t,d,m,i,p);return}}for(var b in n)m=n[b],n.hasOwnProperty(b)&&null!=m&&!i.hasOwnProperty(b)&&ud(e,t,b,null,i,m);for(h in i)m=i[h],p=n[h],!i.hasOwnProperty(h)||m===p||null==m&&null==p||ud(e,t,h,m,i,p)}(i,e.type,n,t),i[We]=t}catch(r){ku(e,e.return,r)}}function Cl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Td(e.type)||4===e.tag}function Nl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Cl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Td(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Tl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Pt));else if(4!==i&&(27===i&&Td(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function jl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&(27===i&&Td(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(jl(e,t,n),e=e.sibling;null!==e;)jl(e,t,n),e=e.sibling}function El(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);hd(t,i,n),t[qe]=e,t[We]=n}catch(s){ku(e,e.return,s)}}var Al=!1,Il=!1,_l=!1,Pl="function"===typeof WeakSet?WeakSet:Set,Rl=null;function Dl(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Kl(e,n),4&i&&gl(5,n);break;case 1:if(Kl(e,n),4&i)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){ku(n,n.return,a)}else{var r=ko(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){ku(n,n.return,o)}}64&i&&bl(n),512&i&&xl(n,n.return);break;case 3:if(Kl(e,n),64&i&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ts(e,t)}catch(a){ku(n,n.return,a)}}break;case 27:null===t&&4&i&&El(n);case 26:case 5:Kl(e,n),null===t&&4&i&&Sl(n),512&i&&xl(n,n.return);break;case 12:Kl(e,n);break;case 31:Kl(e,n),4&i&&zl(e,n);break;case 13:Kl(e,n),4&i&&ql(e,n),64&i&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}(e,n=ju.bind(null,n))));break;case 22:if(!(i=null!==n.memoizedState||Al)){t=null!==t&&null!==t.memoizedState||Il,r=Al;var s=Il;Al=i,(Il=t)&&!s?Xl(e,n,0!==(8772&n.subtreeFlags)):Kl(e,n),Al=r,Il=s}break;case 30:break;default:Kl(e,n)}}function Ll(e){var t=e.alternate;null!==t&&(e.alternate=null,Ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ol=null,Ml=!1;function Bl(e,t,n){for(n=n.child;null!==n;)Fl(e,t,n),n=n.sibling}function Fl(e,t,n){if(be&&"function"===typeof be.onCommitFiberUnmount)try{be.onCommitFiberUnmount(ye,n)}catch(s){}switch(n.tag){case 26:Il||wl(n,t),Bl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Il||wl(n,t);var i=Ol,r=Ml;Td(n.type)&&(Ol=n.stateNode,Ml=!1),Bl(e,t,n),Bd(n.stateNode),Ol=i,Ml=r;break;case 5:Il||wl(n,t);case 6:if(i=Ol,r=Ml,Ol=null,Bl(e,t,n),Ml=r,null!==(Ol=i))if(Ml)try{(9===Ol.nodeType?Ol.body:"HTML"===Ol.nodeName?Ol.ownerDocument.body:Ol).removeChild(n.stateNode)}catch(a){ku(n,t,a)}else try{Ol.removeChild(n.stateNode)}catch(a){ku(n,t,a)}break;case 18:null!==Ol&&(Ml?(jd(9===(e=Ol).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Hh(e)):jd(Ol,n.stateNode));break;case 4:i=Ol,r=Ml,Ol=n.stateNode.containerInfo,Ml=!0,Bl(e,t,n),Ol=i,Ml=r;break;case 0:case 11:case 14:case 15:yl(2,n,t),Il||yl(4,n,t),Bl(e,t,n);break;case 1:Il||(wl(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount&&vl(n,t,i)),Bl(e,t,n);break;case 21:Bl(e,t,n);break;case 22:Il=(i=Il)||null!==n.memoizedState,Bl(e,t,n),Il=i;break;default:Bl(e,t,n)}}function zl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Hh(e)}catch(n){ku(t,t.return,n)}}}function ql(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Hh(e)}catch(n){ku(t,t.return,n)}}function Wl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Pl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Pl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var i=Eu.bind(null,e,t);t.then(i,i)}})}function Vl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Td(l.type)){Ol=l.stateNode,Ml=!1;break e}break;case 5:Ol=l.stateNode,Ml=!1;break e;case 3:case 4:Ol=l.stateNode.containerInfo,Ml=!0;break e}l=l.return}if(null===Ol)throw Error(a(160));Fl(s,o,r),Ol=null,Ml=!1,null!==(s=r.alternate)&&(s.return=null),r.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Ul(t,e),t=t.sibling}var Hl=null;function Ul(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vl(t,e),Gl(e),4&i&&(yl(3,e,e.return),gl(3,e),yl(5,e,e.return));break;case 1:Vl(t,e),Gl(e),512&i&&(Il||null===n||wl(n,n.return)),64&i&&Al&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var r=Hl;if(Vl(t,e),Gl(e),512&i&&(Il||null===n||wl(n,n.return)),4&i){var s=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":(!(s=r.getElementsByTagName("title")[0])||s[Ke]||s[qe]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),hd(s,i,n),s[qe]=e,et(s),i=s;break e;case"link":var o=nh("link","href",r).get(i+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}hd(s=r.createElement(i),i,n),r.head.appendChild(s);break;case"meta":if(o=nh("meta","content",r).get(i+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}hd(s=r.createElement(i),i,n),r.head.appendChild(s);break;default:throw Error(a(468,i))}s[qe]=e,et(s),i=s}e.stateNode=i}else ih(r,e.type,e.stateNode);else e.stateNode=Yd(r,i,e.memoizedProps);else s!==i?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===i?ih(r,e.type,e.stateNode):Yd(r,i,e.memoizedProps)):null===i&&null!==e.stateNode&&kl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Vl(t,e),Gl(e),512&i&&(Il||null===n||wl(n,n.return)),null!==n&&4&i&&kl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Vl(t,e),Gl(e),512&i&&(Il||null===n||wl(n,n.return)),32&e.flags){r=e.stateNode;try{Ct(r,"")}catch(f){ku(e,e.return,f)}}4&i&&null!=e.stateNode&&kl(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&i&&(_l=!0);break;case 6:if(Vl(t,e),Gl(e),4&i){if(null===e.stateNode)throw Error(a(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(f){ku(e,e.return,f)}}break;case 3:if(th=null,r=Hl,Hl=qd(t.containerInfo),Vl(t,e),Hl=r,Gl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Hh(t.containerInfo)}catch(f){ku(e,e.return,f)}_l&&(_l=!1,Jl(e));break;case 4:i=Hl,Hl=qd(e.stateNode.containerInfo),Vl(t,e),Gl(e),Hl=i;break;case 12:default:Vl(t,e),Gl(e);break;case 31:case 19:Vl(t,e),Gl(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Wl(e,i)));break;case 13:Vl(t,e),Gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Pc=le()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Wl(e,i)));break;case 22:r=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Al,d=Il;if(Al=u||r,Il=d||c,Vl(t,e),Il=d,Al=u,Gl(e),8192&i)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||c||Al||Il||Ql(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,r)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,m=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(f){ku(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(f){ku(c,c.return,f)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;r?Ed(p,!0):Ed(c.stateNode,!1)}catch(f){ku(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Wl(e,n))));case 30:case 21:}}function Gl(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(Cl(i)){n=i;break}i=i.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var r=n.stateNode;jl(e,Nl(e),r);break;case 5:var s=n.stateNode;32&n.flags&&(Ct(s,""),n.flags&=-33),jl(e,Nl(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;Tl(e,Nl(e),o);break;default:throw Error(a(161))}}catch(l){ku(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Jl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Jl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Kl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Dl(e,t.alternate,t),t=t.sibling}function Ql(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yl(4,t,t.return),Ql(t);break;case 1:wl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&vl(t,t.return,n),Ql(t);break;case 27:Bd(t.stateNode);case 26:case 5:wl(t,t.return),Ql(t);break;case 22:null===t.memoizedState&&Ql(t);break;default:Ql(t)}e=e.sibling}}function Xl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Xl(r,s,n),gl(4,s);break;case 1:if(Xl(r,s,n),"function"===typeof(r=(i=s).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){ku(i,i.return,c)}if(null!==(r=(i=s).updateQueue)){var o=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)Ns(l[r],o)}catch(c){ku(i,i.return,c)}}n&&64&a&&bl(s),xl(s,s.return);break;case 27:El(s);case 26:case 5:Xl(r,s,n),n&&null===i&&4&a&&Sl(s),xl(s,s.return);break;case 12:Xl(r,s,n);break;case 31:Xl(r,s,n),n&&4&a&&zl(r,s);break;case 13:Xl(r,s,n),n&&4&a&&ql(r,s);break;case 22:null===s.memoizedState&&Xl(r,s,n),xl(s,s.return);break;case 30:break;default:Xl(r,s,n)}t=t.sibling}}function Yl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&zr(n))}function $l(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zr(e))}function Zl(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,i),t=t.sibling}function ec(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Zl(e,t,n,i),2048&r&&gl(9,t);break;case 1:case 31:case 13:default:Zl(e,t,n,i);break;case 3:Zl(e,t,n,i),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zr(e)));break;case 12:if(2048&r){Zl(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ku(t,t.return,l)}}else Zl(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,null!==t.memoizedState?2&s._visibility?Zl(e,t,n,i):nc(e,t):2&s._visibility?Zl(e,t,n,i):(s._visibility|=2,tc(e,t,n,i,0!==(10256&t.subtreeFlags)||!1)),2048&r&&Yl(a,t);break;case 24:Zl(e,t,n,i),2048&r&&$l(t.alternate,t)}}function tc(e,t,n,i,r){for(r=r&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,a=t,o=n,l=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:tc(s,a,o,l,r),gl(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?tc(s,a,o,l,r):nc(s,a):(u._visibility|=2,tc(s,a,o,l,r)),r&&2048&c&&Yl(a.alternate,a);break;case 24:tc(s,a,o,l,r),r&&2048&c&&$l(a.alternate,a);break;default:tc(s,a,o,l,r)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:nc(n,i),2048&r&&Yl(i.alternate,i);break;case 24:nc(n,i),2048&r&&$l(i.alternate,i);break;default:nc(n,i)}t=t.sibling}}var ic=8192;function rc(e,t,n){if(e.subtreeFlags&ic)for(e=e.child;null!==e;)sc(e,t,n),e=e.sibling}function sc(e,t,n){switch(e.tag){case 26:rc(e,t,n),e.flags&ic&&null!==e.memoizedState&&function(e,t,n,i){if("stylesheet"===n.type&&("string"!==typeof i.media||!1!==matchMedia(i.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var r=Gd(i.href),s=t.querySelector(Jd(r));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=ah.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void et(s);s=t.ownerDocument||t,i=Kd(i),(r=Fd.get(r))&&Zd(i,r),et(s=s.createElement("link"));var a=s;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),hd(s,"link",i),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=ah.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Hl,e.memoizedState,e.memoizedProps);break;case 5:default:rc(e,t,n);break;case 3:case 4:var i=Hl;Hl=qd(e.stateNode.containerInfo),rc(e,t,n),Hl=i;break;case 22:null===e.memoizedState&&(null!==(i=e.alternate)&&null!==i.memoizedState?(i=ic,ic=16777216,rc(e,t,n),ic=i):rc(e,t,n))}}function ac(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function oc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Rl=i,uc(i,e)}ac(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:oc(e),2048&e.flags&&yl(9,e,e.return);break;case 3:case 12:default:oc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):oc(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Rl=i,uc(i,e)}ac(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:yl(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Rl;){var n=Rl;switch(n.tag){case 0:case 11:case 15:yl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:zr(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,Rl=i;else e:for(n=e;null!==Rl;){var r=(i=Rl).sibling,s=i.return;if(Ll(i),i===n){Rl=null;break e}if(null!==r){r.return=s,Rl=r;break e}Rl=s}}}var dc={getCacheForType:function(e){var t=Pr(Br),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Pr(Br).controller.signal}},hc="function"===typeof WeakMap?WeakMap:Map,mc=0,pc=null,fc=null,gc=0,yc=0,bc=null,vc=!1,xc=!1,wc=!1,Sc=0,kc=0,Cc=0,Nc=0,Tc=0,jc=0,Ec=0,Ac=null,Ic=null,_c=!1,Pc=0,Rc=0,Dc=1/0,Lc=null,Oc=null,Mc=0,Bc=null,Fc=null,zc=0,qc=0,Wc=null,Vc=null,Hc=0,Uc=null;function Gc(){return 0!==(2&mc)&&0!==gc?gc&-gc:null!==D.T?Wu():Be()}function Jc(){if(0===jc)if(0===(536870912&gc)||dr){var e=Ce;0===(3932160&(Ce<<=1))&&(Ce=262144),jc=e}else jc=536870912;return null!==(e=Ps.current)&&(e.flags|=32),jc}function Kc(e,t,n){(e!==pc||2!==yc&&9!==yc)&&null===e.cancelPendingCommit||(tu(e,0),$c(e,gc,jc,!1)),Pe(e,n),0!==(2&mc)&&e===pc||(e===pc&&(0===(2&mc)&&(Nc|=n),4===kc&&$c(e,gc,jc,!1)),Lu(e))}function Qc(e,t,n){if(0!==(6&mc))throw Error(a(327));for(var i=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ee(e,t),r=i?function(e,t){var n=mc;mc|=2;var i=ru(),r=su();pc!==e||gc!==t?(Lc=null,Dc=le()+500,tu(e,t)):xc=Ee(e,t);e:for(;;)try{if(0!==yc&&null!==fc){t=fc;var s=bc;t:switch(yc){case 1:yc=0,bc=null,hu(e,t,s,1);break;case 2:case 9:if(ts(s)){yc=0,bc=null,du(t);break}t=function(){2!==yc&&9!==yc||pc!==e||(yc=7),Lu(e)},s.then(t,t);break e;case 3:yc=7;break e;case 4:yc=5;break e;case 7:ts(s)?(yc=0,bc=null,du(t)):(yc=0,bc=null,hu(e,t,s,7));break;case 5:var o=null;switch(fc.tag){case 26:o=fc.memoizedState;case 5:case 27:var l=fc;if(o?rh(o):l.stateNode.complete){yc=0,bc=null;var c=l.sibling;if(null!==c)fc=c;else{var u=l.return;null!==u?(fc=u,mu(u)):fc=null}break t}}yc=0,bc=null,hu(e,t,s,5);break;case 6:yc=0,bc=null,hu(e,t,s,6);break;case 8:eu(),kc=6;break e;default:throw Error(a(462))}}cu();break}catch(d){nu(e,d)}return Cr=kr=null,D.H=i,D.A=r,mc=n,null!==fc?0:(pc=null,gc=0,Ii(),kc)}(e,t):ou(e,t,!0),s=i;;){if(0===r){xc&&!i&&$c(e,t,0,!1);break}if(n=e.current.alternate,!s||Yc(n)){if(2===r){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;r=Ac;var c=l.current.memoizedState.isDehydrated;if(c&&(tu(l,o).flags|=256),2!==(o=ou(l,o,!1))){if(wc&&!c){l.errorRecoveryDisabledLanes|=s,Nc|=s,r=4;break e}s=Ic,Ic=r,null!==s&&(null===Ic?Ic=s:Ic.push.apply(Ic,s))}r=o}if(s=!1,2!==r)continue}}if(1===r){tu(e,0),$c(e,t,0,!0);break}e:{switch(i=e,s=r){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:$c(i,t,jc,!vc);break e;case 2:Ic=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(r=Pc+300-le())){if($c(i,t,jc,!vc),0!==je(i,0,!0))break e;zc=t,i.timeoutHandle=wd(Xc.bind(null,i,n,Ic,Lc,_c,t,jc,Nc,Ec,vc,s,"Throttled",-0,0),r)}else Xc(i,n,Ic,Lc,_c,t,jc,Nc,Ec,vc,s,null,-0,0)}break}r=ou(e,t,!1),s=!1}Lu(e)}function Xc(e,t,n,i,r,s,a,o,l,c,u,d,h,m){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){sc(t,s,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pt});var p=(62914560&s)===s?Pc-le():(4194048&s)===s?Rc-le():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&lh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sh&&(sh=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],s=r.transferSize,a=r.initiatorType,o=r.duration;if(s&&o&&md(a)){for(a=0,o=r.responseEnd,i+=1;i<n.length;i++){var l=n[i],c=l.startTime;if(c>o)break;var u=l.transferSize,d=l.initiatorType;u&&md(d)&&(a+=u*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--i,t+=8*(s+a)/(r.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var r=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}(d,p)))return zc=s,e.cancelPendingCommit=p(fu.bind(null,e,t,s,n,i,r,a,o,l,u,d,null,h,m)),void $c(e,s,a,!c)}fu(e,t,s,n,i,r,a,o,l)}function Yc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!$n(s(),r))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $c(e,t,n,i){t&=~Tc,t&=~Nc,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-xe(r),a=1<<s;i[s]=-1,r&=~a}0!==n&&Re(e,n,t)}function Zc(){return 0!==(6&mc)||(Ou(0,!1),!1)}function eu(){if(null!==fc){if(0===yc)var e=fc.return;else Cr=kr=null,aa(e=fc),os=null,ls=0,e=fc;for(;null!==e;)fl(e.alternate,e),e=e.return;fc=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Sd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zc=0,eu(),pc=e,fc=n=zi(e.current,null),gc=t,yc=0,bc=null,vc=!1,xc=Ee(e,t),wc=!1,Ec=jc=Tc=Nc=Cc=kc=0,Ic=Ac=null,_c=!1,0!==(8&t)&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var r=31-xe(i),s=1<<r;t|=e[r],i&=~s}return Sc=t,Ii(),n}function nu(e,t){Ws=null,D.H=fo,t===Yr||t===Zr?(t=ss(),yc=3):t===$r?(t=ss(),yc=4):yc=t===Po?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===fc&&(kc=1,jo(e,Ki(t,e.current)))}function iu(){var e=Ps.current;return null===e||((4194048&gc)===gc?null===Rs:((62914560&gc)===gc||0!==(536870912&gc))&&e===Rs)}function ru(){var e=D.H;return D.H=fo,null===e?fo:e}function su(){var e=D.A;return D.A=dc,e}function au(){kc=4,vc||(4194048&gc)!==gc&&null!==Ps.current||(xc=!0),0===(134217727&Cc)&&0===(134217727&Nc)||null===pc||$c(pc,gc,jc,!1)}function ou(e,t,n){var i=mc;mc|=2;var r=ru(),s=su();pc===e&&gc===t||(Lc=null,tu(e,t)),t=!1;var a=kc;e:for(;;)try{if(0!==yc&&null!==fc){var o=fc,l=bc;switch(yc){case 8:eu(),a=6;break e;case 3:case 2:case 9:case 6:null===Ps.current&&(t=!0);var c=yc;if(yc=0,bc=null,hu(e,o,l,c),n&&xc){a=0;break e}break;default:c=yc,yc=0,bc=null,hu(e,o,l,c)}}lu(),a=kc;break}catch(u){nu(e,u)}return t&&e.shellSuspendCounter++,Cr=kr=null,mc=i,D.H=r,D.A=s,null===fc&&(pc=null,gc=0,Ii()),a}function lu(){for(;null!==fc;)uu(fc)}function cu(){for(;null!==fc&&!ae();)uu(fc)}function uu(e){var t=al(e.alternate,e,Sc);e.memoizedProps=e.pendingProps,null===t?mu(e):fc=t}function du(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Uo(n,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Uo(n,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:aa(t);default:fl(n,t),t=al(n,t=fc=qi(t,Sc),Sc)}e.memoizedProps=e.pendingProps,null===t?mu(e):fc=t}function hu(e,t,n,i){Cr=kr=null,aa(t),os=null,ls=0;var r=t.return;try{if(function(e,t,n,i,r){if(n.flags|=32768,null!==i&&"object"===typeof i&&"function"===typeof i.then){if(null!==(t=n.alternate)&&Ar(t,n,r,!0),null!==(n=Ps.current)){switch(n.tag){case 31:case 13:return null===Rs?au():null===n.alternate&&0===kc&&(kc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===es?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),Cu(e,i,r)),!1;case 22:return n.flags|=65536,i===es?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),Cu(e,i,r)),!1}throw Error(a(435,n.tag))}return Cu(e,i,r),au(),!1}if(dr)return null!==(t=Ps.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==pr&&wr(Ki(e=Error(a(422),{cause:i}),n))):(i!==pr&&wr(Ki(t=Error(a(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,i=Ki(i,n),ws(e,r=Ao(e.stateNode,i,r)),4!==kc&&(kc=2)),!1;var s=Error(a(520),{cause:i});if(s=Ki(s,n),null===Ac?Ac=[s]:Ac.push(s),4!==kc&&(kc=2),null===t)return!0;i=Ki(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,ws(n,e=Ao(n.stateNode,i,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Oc||!Oc.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,_o(r=Io(r),e,n,i),ws(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,gc))return kc=1,jo(e,Ki(n,e.current)),void(fc=null)}catch(s){if(null!==r)throw fc=r,s;return kc=1,jo(e,Ki(n,e.current)),void(fc=null)}32768&t.flags?(dr||1===i?e=!0:xc||0!==(536870912&gc)?e=!1:(vc=e=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=Ps.current)&&13===i.tag&&(i.flags|=16384))),pu(t,e)):mu(t)}function mu(e){var t=e;do{if(0!==(32768&t.flags))return void pu(t,vc);e=t.return;var n=ml(t.alternate,t,Sc);if(null!==n)return void(fc=n);if(null!==(t=t.sibling))return void(fc=t);fc=t=e}while(null!==t);0===kc&&(kc=5)}function pu(e,t){do{var n=pl(e.alternate,e);if(null!==n)return n.flags&=32767,void(fc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(fc=e);fc=e=n}while(null!==e);kc=6,fc=null}function fu(e,t,n,i,r,s,o,l,c){e.cancelPendingCommit=null;do{xu()}while(0!==Mc);if(0!==(6&mc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(s=t.lanes|t.childLanes,function(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-xe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var m=h[u];null!==m&&(m.lane&=-536870913)}n&=~d}0!==i&&Re(e,i,0),0!==s&&0===r&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,n,s|=Ai,o,l,c),e===pc&&(fc=pc=null,gc=0),Fc=t,Bc=e,zc=n,qc=s,Wc=r,Vc=i,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,re(he,function(){return wu(),null})):(e.callbackNode=null,e.callbackPriority=0),i=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||i){i=D.T,D.T=null,r=L.p,L.p=2,o=mc,mc|=4;try{!function(e,t){if(e=e.containerInfo,pd=vh,ri(e=ii(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var p;h!==n||0!==r&&3!==h.nodeType||(l=o+r),h!==s||0!==i&&3!==h.nodeType||(c=o+i),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++u===r&&(l=o),m===s&&++d===i&&(c=o),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(fd={focusedElem:e,selectionRange:n},vh=!1,Rl=t;null!==Rl;)if(e=(t=Rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Rl=e;else for(;null!==Rl;){switch(s=(t=Rl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(r=e[n]).ref.impl=r.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var f=ko(n.type,r);e=i.getSnapshotBeforeUpdate(f,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(y){ku(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Ad(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ad(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Rl=e;break}Rl=t.return}}(e,t)}finally{mc=o,L.p=r,D.T=i}}Mc=1,gu(),yu(),bu()}}function gu(){if(1===Mc){Mc=0;var e=Bc,t=Fc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var i=L.p;L.p=2;var r=mc;mc|=4;try{Ul(t,e);var s=fd,a=ii(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&ni(o.ownerDocument.documentElement,o)){if(null!==l&&ri(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var m=h.getSelection(),p=o.textContent.length,f=Math.min(l.start,p),g=void 0===l.end?f:Math.min(l.end,p);!m.extend&&f>g&&(a=g,g=f,f=a);var y=ti(o,f),b=ti(o,g);if(y&&b&&(1!==m.rangeCount||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==b.node||m.focusOffset!==b.offset)){var v=d.createRange();v.setStart(y.node,y.offset),m.removeAllRanges(),f>g?(m.addRange(v),m.extend(b.node,b.offset)):(v.setEnd(b.node,b.offset),m.addRange(v))}}}}for(d=[],m=o;m=m.parentNode;)1===m.nodeType&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var x=d[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}vh=!!pd,fd=pd=null}finally{mc=r,L.p=i,D.T=n}}e.current=t,Mc=2}}function yu(){if(2===Mc){Mc=0;var e=Bc,t=Fc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var i=L.p;L.p=2;var r=mc;mc|=4;try{Dl(e,t.alternate,t)}finally{mc=r,L.p=i,D.T=n}}Mc=3}}function bu(){if(4===Mc||3===Mc){Mc=0,oe();var e=Bc,t=Fc,n=zc,i=Vc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Mc=5:(Mc=0,Fc=Bc=null,vu(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Oc=null),Me(n),t=t.stateNode,be&&"function"===typeof be.onCommitFiberRoot)try{be.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==i){t=D.T,r=L.p,L.p=2,D.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var o=i[a];s(o.value,{componentStack:o.stack})}}finally{D.T=t,L.p=r}}0!==(3&zc)&&xu(),Lu(e),r=e.pendingLanes,0!==(261930&n)&&0!==(42&r)?e===Uc?Hc++:(Hc=0,Uc=e):Hc=0,Ou(0,!1)}}function vu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,zr(t)))}function xu(){return gu(),yu(),bu(),wu()}function wu(){if(5!==Mc)return!1;var e=Bc,t=qc;qc=0;var n=Me(zc),i=D.T,r=L.p;try{L.p=32>n?32:n,D.T=null,n=Wc,Wc=null;var s=Bc,o=zc;if(Mc=0,Fc=Bc=null,zc=0,0!==(6&mc))throw Error(a(331));var l=mc;if(mc|=4,lc(s.current),ec(s,s.current,o,n),mc=l,Ou(0,!1),be&&"function"===typeof be.onPostCommitFiberRoot)try{be.onPostCommitFiberRoot(ye,s)}catch(c){}return!0}finally{L.p=r,D.T=i,vu(e,t)}}function Su(e,t,n){t=Ki(n,t),null!==(e=vs(e,t=Ao(e.stateNode,t,2),2))&&(Pe(e,2),Lu(e))}function ku(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Oc||!Oc.has(i))){e=Ki(n,e),null!==(i=vs(t,n=Io(2),2))&&(_o(n,i,t,e),Pe(i,2),Lu(i));break}}t=t.return}}function Cu(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new hc;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(wc=!0,r.add(n),e=Nu.bind(null,e,t,n),t.then(e,e))}function Nu(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pc===e&&(gc&n)===n&&(4===kc||3===kc&&(62914560&gc)===gc&&300>le()-Pc?0===(2&mc)&&tu(e,0):Tc|=n,Ec===gc&&(Ec=0)),Lu(e)}function Tu(e,t){0===t&&(t=Ie()),null!==(e=Ri(e,t))&&(Pe(e,t),Lu(e))}function ju(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Eu(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==i&&i.delete(t),Tu(e,n)}var Au=null,Iu=null,_u=!1,Pu=!1,Ru=!1,Du=0;function Lu(e){e!==Iu&&null===e.next&&(null===Iu?Au=Iu=e:Iu=Iu.next=e),Pu=!0,_u||(_u=!0,Cd(function(){0!==(6&mc)?re(ue,Mu):Bu()}))}function Ou(e,t){if(!Ru&&Pu){Ru=!0;do{for(var n=!1,i=Au;null!==i;){if(!t)if(0!==e){var r=i.pendingLanes;if(0===r)var s=0;else{var a=i.suspendedLanes,o=i.pingedLanes;s=(1<<31-xe(42|e)+1)-1,s=201326741&(s&=r&~(a&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,qu(i,s))}else s=gc,0===(3&(s=je(i,i===pc?s:0,null!==i.cancelPendingCommit||-1!==i.timeoutHandle)))||Ee(i,s)||(n=!0,qu(i,s));i=i.next}}while(n);Ru=!1}}function Mu(){Bu()}function Bu(){Pu=_u=!1;var e=0;0!==Du&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==xd&&(xd=e,!0);return xd=null,!1}()&&(e=Du);for(var t=le(),n=null,i=Au;null!==i;){var r=i.next,s=Fu(i,t);0===s?(i.next=null,null===n?Au=r:n.next=r,null===r&&(Iu=n)):(n=i,(0!==e||0!==(3&s))&&(Pu=!0)),i=r}0!==Mc&&5!==Mc||Ou(e,!1),0!==Du&&(Du=0)}function Fu(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-xe(s),o=1<<a,l=r[a];-1===l?0!==(o&n)&&0===(o&i)||(r[a]=Ae(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=gc,n=je(e,e===(t=pc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),i=e.callbackNode,0===n||e===t&&(2===yc||9===yc)||null!==e.cancelPendingCommit)return null!==i&&null!==i&&se(i),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ee(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&se(i),Me(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return i=zu.bind(null,e),n=re(n,i),e.callbackPriority=t,e.callbackNode=n,t}return null!==i&&null!==i&&se(i),e.callbackPriority=2,e.callbackNode=null,2}function zu(e,t){if(0!==Mc&&5!==Mc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var i=gc;return 0===(i=je(e,e===pc?i:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Qc(e,i,t),Fu(e,le()),null!=e.callbackNode&&e.callbackNode===n?zu.bind(null,e):null)}function qu(e,t){if(xu())return null;Qc(e,t,!0)}function Wu(){if(0===Du){var e=Vr;0===e&&(e=ke,0===(261888&(ke<<=1))&&(ke=256)),Du=e}return Du}function Vu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:_t(""+e)}function Hu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Uu=0;Uu<Ci.length;Uu++){var Gu=Ci[Uu];Ni(Gu.toLowerCase(),"on"+(Gu[0].toUpperCase()+Gu.slice(1)))}Ni(gi,"onAnimationEnd"),Ni(yi,"onAnimationIteration"),Ni(bi,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(vi,"onTransitionRun"),Ni(xi,"onTransitionStart"),Ni(wi,"onTransitionCancel"),Ni(Si,"onTransitionEnd"),rt("onMouseEnter",["mouseout","mouseover"]),rt("onMouseLeave",["mouseout","mouseover"]),rt("onPointerEnter",["pointerout","pointerover"]),rt("onPointerLeave",["pointerout","pointerover"]),it("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),it("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),it("onBeforeInput",["compositionend","keypress","textInput","paste"]),it("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ku=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ju));function Qu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;s=o,r.currentTarget=c;try{s(r)}catch(u){Ti(u)}r.currentTarget=null,s=l}else for(a=0;a<i.length;a++){if(l=(o=i[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;s=o,r.currentTarget=c;try{s(r)}catch(u){Ti(u)}r.currentTarget=null,s=l}}}}function Xu(e,t){var n=t[He];void 0===n&&(n=t[He]=new Set);var i=e+"__bubble";n.has(i)||(ed(t,e,2,!1),n.add(i))}function Yu(e,t,n){var i=0;t&&(i|=4),ed(n,e,i,t)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Zu(e){if(!e[$u]){e[$u]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Ku.has(t)||Yu(t,!1,e),Yu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$u]||(t[$u]=!0,Yu("selectionchange",!1,t))}}function ed(e,t,n,i){switch(Th(t)){case 2:var r=xh;break;case 8:r=wh;break;default:r=Sh}n=r.bind(null,t,n,e),r=void 0,!Wt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function td(e,t,n,i,r){var s=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var o=i.stateNode.containerInfo;if(o===r)break;if(4===a)for(a=i.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===r)return;a=a.return}for(;null!==o;){if(null===(a=Xe(o)))return;if(5===(c=a.tag)||6===c||26===c||27===c){i=s=a;continue e}o=o.parentNode}}i=i.return}Ft(function(){var i=s,r=Dt(n),a=[];e:{var o=ki.get(e);if(void 0!==o){var c=nn,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=bn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xn;break;case gi:case yi:case bi:c=un;break;case Si:c=wn;break;case"scroll":case"scrollend":c=sn;break;case"wheel":c=Sn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=vn;break;case"toggle":case"beforetoggle":c=kn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),m=d?null!==o?o+"Capture":null:o;d=[];for(var p,f=i;null!==f;){var g=f;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===m||null!=(g=zt(f,m))&&d.push(nd(f,g,p)),h)break;f=f.return}0<d.length&&(o=new c(o,u,null,n,r),a.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Rt||!(u=n.relatedTarget||n.fromElement)||!Xe(u)&&!u[Ve])&&(c||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=i,null!==(u=(u=n.relatedTarget||n.toElement)?Xe(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=i),c!==u)){if(d=on,g="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=vn,g="onPointerLeave",m="onPointerEnter",f="pointer"),h=null==c?o:$e(c),p=null==u?o:$e(u),(o=new d(g,f+"leave",c,n,r)).target=h,o.relatedTarget=p,g=null,Xe(r)===i&&((d=new d(m,f+"enter",u,n,r)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=rd,f=u,p=0,g=m=c;g;g=d(g))p++;g=0;for(var y=f;y;y=d(y))g++;for(;0<p-g;)m=d(m),p--;for(;0<g-p;)f=d(f),g--;for(;p--;){if(m===f||null!==f&&m===f.alternate){d=m;break e}m=d(m),f=d(f)}d=null}else d=null;null!==c&&sd(a,o,c,d,!1),null!==u&&null!==h&&sd(a,h,u,d,!0)}if("select"===(c=(o=i?$e(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var b=qn;else if(Ln(o))if(Wn)b=Yn;else{b=Qn;var v=Kn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?i&&Et(i.elementType)&&(b=qn):b=Xn;switch(b&&(b=b(e,i))?On(a,b,n,r):(v&&v(e,o,i),"focusout"===e&&i&&"number"===o.type&&null!=i.memoizedProps.value&&xt(o,"number",o.value)),v=i?$e(i):window,e){case"focusin":(Ln(v)||"true"===v.contentEditable)&&(ai=v,oi=i,li=null);break;case"focusout":li=oi=ai=null;break;case"mousedown":ci=!0;break;case"contextmenu":case"mouseup":case"dragend":ci=!1,ui(a,n,r);break;case"selectionchange":if(si)break;case"keydown":case"keyup":ui(a,n,r)}var x;if(Nn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Rn?_n(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(En&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Rn&&(x=Jt()):(Ut="value"in(Ht=r)?Ht.value:Ht.textContent,Rn=!0)),0<(v=id(i,w)).length&&(w=new hn(w,e,null,n,r),a.push({event:w,listeners:v}),x?w.data=x:null!==(x=Pn(n))&&(w.data=x))),(x=jn?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(In=!0,An);case"textInput":return(e=t.data)===An&&In?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!Nn&&_n(e,t)?(e=Jt(),Gt=Ut=Ht=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=id(i,"onBeforeInput")).length&&(v=new hn("onBeforeInput","beforeinput",null,n,r),a.push({event:v,listeners:w}),v.data=x)),function(e,t,n,i,r){if("submit"===t&&n&&n.stateNode===r){var s=Vu((r[We]||null).action),a=i.submitter;a&&null!==(t=(t=a[We]||null)?Vu(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new nn("action","action",null,i,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==Du){var e=a?Hu(r,a):new FormData(r);eo(n,{pending:!0,data:e,method:r.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=a?Hu(r,a):new FormData(r),eo(n,{pending:!0,data:e,method:r.method,action:s},s,e))},currentTarget:r}]})}}(a,e,i,n,r)}Qu(a,t)})}function nd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function id(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,s=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===s||(null!=(r=zt(e,n))&&i.unshift(nd(e,r,s)),null!=(r=zt(e,t))&&i.push(nd(e,r,s))),3===e.tag)return i;e=e.return}return[]}function rd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function sd(e,t,n,i,r){for(var s=t._reactName,a=[];null!==n&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===i)break;5!==o&&26!==o&&27!==o||null===c||(l=c,r?null!=(c=zt(n,s))&&a.unshift(nd(n,c,l)):r||null!=(c=zt(n,s))&&a.push(nd(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var ad=/\r\n?/g,od=/\u0000|\uFFFD/g;function ld(e){return("string"===typeof e?e:""+e).replace(ad,"\n").replace(od,"")}function cd(e,t){return t=ld(t),ld(e)===t}function ud(e,t,n,i,r,s){switch(n){case"children":"string"===typeof i?"body"===t||"textarea"===t&&""===i||Ct(e,i):("number"===typeof i||"bigint"===typeof i)&&"body"!==t&&Ct(e,""+i);break;case"className":ct(e,"class",i);break;case"tabIndex":ct(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,i);break;case"style":jt(e,i,s);break;case"data":if("object"!==t){ct(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"===typeof i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=_t(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"===typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&ud(e,t,"name",r.name,r,null),ud(e,t,"formEncType",r.formEncType,r,null),ud(e,t,"formMethod",r.formMethod,r,null),ud(e,t,"formTarget",r.formTarget,r,null)):(ud(e,t,"encType",r.encType,r,null),ud(e,t,"method",r.method,r,null),ud(e,t,"target",r.target,r,null))),null==i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=_t(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Pt);break;case"onScroll":null!=i&&Xu("scroll",e);break;case"onScrollEnd":null!=i&&Xu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(a(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"muted":e.muted=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"===typeof i||"boolean"===typeof i||"symbol"===typeof i){e.removeAttribute("xlink:href");break}n=_t(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"===typeof i||"symbol"===typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Xu("beforetoggle",e),Xu("toggle",e),lt(e,"popover",i);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":lt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=At.get(n)||n,i)}}function dd(e,t,n,i,r,s){switch(n){case"style":jt(e,i,s);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(a(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof i?Ct(e,i):("number"===typeof i||"bigint"===typeof i)&&Ct(e,""+i);break;case"onScroll":null!=i&&Xu("scroll",e);break;case"onScrollEnd":null!=i&&Xu("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Pt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"===typeof(s=null!=(s=e[We]||null)?s[n]:null)&&e.removeEventListener(t,s,r),"function"!==typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):lt(e,n,i):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r)))}}function hd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xu("error",e),Xu("load",e);var i,r=!1,s=!1;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(null!=o)switch(i){case"src":r=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ud(e,t,i,o,n,null)}}return s&&ud(e,t,"srcSet",n.srcSet,n,null),void(r&&ud(e,t,"src",n.src,n,null));case"input":Xu("invalid",e);var l=i=o=s=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(null!=d)switch(r){case"name":s=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:ud(e,t,r,d,n,null)}}return void vt(e,i,l,c,u,o,s,!1);case"select":for(s in Xu("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":r=l;default:ud(e,t,s,l,n,null)}return t=i,n=o,e.multiple=!!r,void(null!=t?wt(e,!!r,t,!1):null!=n&&wt(e,!!r,n,!0));case"textarea":for(o in Xu("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":s=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:ud(e,t,o,l,n,null)}return void kt(e,r,s,i);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else ud(e,t,c,r,n,null);return;case"dialog":Xu("beforetoggle",e),Xu("toggle",e),Xu("cancel",e),Xu("close",e);break;case"iframe":case"object":Xu("load",e);break;case"video":case"audio":for(r=0;r<Ju.length;r++)Xu(Ju[r],e);break;case"image":Xu("error",e),Xu("load",e);break;case"details":Xu("toggle",e);break;case"embed":case"source":case"link":Xu("error",e),Xu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ud(e,t,u,r,n,null)}return;default:if(Et(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(r=n[d])&&dd(e,t,d,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(r=n[l])&&ud(e,t,l,r,n,null))}function md(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var pd=null,fd=null;function gd(e){return 9===e.nodeType?e:e.ownerDocument}function yd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function vd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var xd=null;var wd="function"===typeof setTimeout?setTimeout:void 0,Sd="function"===typeof clearTimeout?clearTimeout:void 0,kd="function"===typeof Promise?Promise:void 0,Cd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof kd?function(e){return kd.resolve(null).then(e).catch(Nd)}:wd;function Nd(e){setTimeout(function(){throw e})}function Td(e){return"head"===e}function jd(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)||"/&"===n){if(0===i)return e.removeChild(r),void Hh(t);i--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)i++;else if("html"===n)Bd(e.ownerDocument.documentElement);else if("head"===n){Bd(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var a=s.nextSibling,o=s.nodeName;s[Ke]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}else"body"===n&&Bd(e.ownerDocument.body);n=r}while(n);Hh(t)}function Ed(e,t){var n=e;e=0;do{var i=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=i}while(n)}function Ad(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ad(n),Qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Id(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Rd(e.nextSibling)))return null}return e}function _d(e){return"$?"===e.data||"$~"===e.data}function Pd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Rd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Dd=null;function Ld(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Rd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Od(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Md(e,t,n){switch(t=gd(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function Bd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Qe(e)}var Fd=new Map,zd=new Set;function qd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Wd=L.d;L.d={f:function(){var e=Wd.f(),t=Zc();return e||t},r:function(e){var t=Ye(e);null!==t&&5===t.tag&&"form"===t.type?no(t):Wd.r(e)},D:function(e){Wd.D(e),Hd("dns-prefetch",e,null)},C:function(e,t){Wd.C(e,t),Hd("preconnect",e,t)},L:function(e,t,n){Wd.L(e,t,n);var i=Vd;if(i&&e&&t){var r='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(r+='[imagesizes="'+yt(n.imageSizes)+'"]')):r+='[href="'+yt(e)+'"]';var s=r;switch(t){case"style":s=Gd(e);break;case"script":s=Qd(e)}Fd.has(s)||(e=m({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Fd.set(s,e),null!==i.querySelector(r)||"style"===t&&i.querySelector(Jd(s))||"script"===t&&i.querySelector(Xd(s))||(hd(t=i.createElement("link"),"link",e),et(t),i.head.appendChild(t)))}},m:function(e,t){Wd.m(e,t);var n=Vd;if(n&&e){var i=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+yt(i)+'"][href="'+yt(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Qd(e)}if(!Fd.has(s)&&(e=m({rel:"modulepreload",href:e},t),Fd.set(s,e),null===n.querySelector(r))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xd(s)))return}hd(i=n.createElement("link"),"link",e),et(i),n.head.appendChild(i)}}},X:function(e,t){Wd.X(e,t);var n=Vd;if(n&&e){var i=Ze(n).hoistableScripts,r=Qd(e),s=i.get(r);s||((s=n.querySelector(Xd(r)))||(e=m({src:e,async:!0},t),(t=Fd.get(r))&&eh(e,t),et(s=n.createElement("script")),hd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}},S:function(e,t,n){Wd.S(e,t,n);var i=Vd;if(i&&e){var r=Ze(i).hoistableStyles,s=Gd(e);t=t||"default";var a=r.get(s);if(!a){var o={loading:0,preload:null};if(a=i.querySelector(Jd(s)))o.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Fd.get(s))&&Zd(e,n);var l=a=i.createElement("link");et(l),hd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,$d(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:o},r.set(s,a)}}},M:function(e,t){Wd.M(e,t);var n=Vd;if(n&&e){var i=Ze(n).hoistableScripts,r=Qd(e),s=i.get(r);s||((s=n.querySelector(Xd(r)))||(e=m({src:e,async:!0,type:"module"},t),(t=Fd.get(r))&&eh(e,t),et(s=n.createElement("script")),hd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}};var Vd="undefined"===typeof document?null:document;function Hd(e,t,n){var i=Vd;if(i&&"string"===typeof t&&t){var r=yt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof n&&(r+='[crossorigin="'+n+'"]'),zd.has(r)||(zd.add(r),e={rel:e,crossOrigin:n,href:t},null===i.querySelector(r)&&(hd(t=i.createElement("link"),"link",e),et(t),i.head.appendChild(t)))}}function Ud(e,t,n,i){var r,s,o,l,c=(c=G.current)?qd(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Gd(n.href),(i=(n=Ze(c).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Gd(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Jd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Fd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Fd.set(e,n),u||(r=c,s=e,o=n,l=d.state,r.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=r.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),hd(s,"link",o),et(s),r.head.appendChild(s))))),t&&null===i)throw Error(a(528,""));return d}if(t&&null!==i)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Qd(n),(i=(n=Ze(c).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Gd(e){return'href="'+yt(e)+'"'}function Jd(e){return'link[rel="stylesheet"]['+e+"]"}function Kd(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Qd(e){return'[src="'+yt(e)+'"]'}function Xd(e){return"script[async]"+e}function Yd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(i)return t.instance=i,et(i),i;var r=m({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(i=(e.ownerDocument||e).createElement("style")),hd(i,"style",r),$d(i,n.precedence,e),t.instance=i;case"stylesheet":r=Gd(n.href);var s=e.querySelector(Jd(r));if(s)return t.state.loading|=4,t.instance=s,et(s),s;i=Kd(n),(r=Fd.get(r))&&Zd(i,r),et(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),hd(s,"link",i),t.state.loading|=4,$d(s,n.precedence,e),t.instance=s;case"script":return s=Qd(n.src),(r=e.querySelector(Xd(s)))?(t.instance=r,et(r),r):(i=n,(r=Fd.get(s))&&eh(i=m({},n),r),et(r=(e=e.ownerDocument||e).createElement("script")),hd(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,$d(i,n.precedence,e));return t.instance}function $d(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var o=i[a];if(o.dataset.precedence===t)s=o;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var th=null;function nh(e,t,n){if(null===th){var i=new Map,r=th=new Map;r.set(n,i)}else(i=(r=th).get(n))||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[Ke]||s[qe]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=i.get(a);o?o.push(s):i.set(a,[s])}}return i}function ih(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function rh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sh=0;function ah(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var oh=null;function lh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,oh=new Map,t.forEach(ch,e),oh=null,ah.call(e))}function ch(e,t){if(!(4&t.state.loading)){var n=oh.get(e);if(n)var i=n.get(null);else{n=new Map,oh.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}a=(r=t.instance).getAttribute("data-precedence"),(s=n.get(a)||i)===i&&n.set(null,r),n.set(a,r),this.count++,i=ah.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var uh={$$typeof:w,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function dh(e,t,n,i,r,s,a,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_e(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_e(0),this.hiddenUpdates=_e(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hh(e,t,n,i,r,s,a,o,l,c,u,d){return e=new dh(e,t,n,a,l,c,u,d,o),t=1,!0===s&&(t|=24),s=Bi(3,null,null,t),e.current=s,s.stateNode=e,(t=Fr()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},gs(s),e}function mh(e){return e?e=Oi:Oi}function ph(e,t,n,i,r,s){r=mh(r),null===i.context?i.context=r:i.pendingContext=r,(i=bs(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(i.callback=s),null!==(n=vs(e,i,t))&&(Kc(n,0,t),xs(n,e,t))}function fh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gh(e,t){fh(e,t),(e=e.alternate)&&fh(e,t)}function yh(e){if(13===e.tag||31===e.tag){var t=Ri(e,67108864);null!==t&&Kc(t,0,67108864),gh(e,67108864)}}function bh(e){if(13===e.tag||31===e.tag){var t=Gc(),n=Ri(e,t=Oe(t));null!==n&&Kc(n,0,t),gh(e,t)}}var vh=!0;function xh(e,t,n,i){var r=D.T;D.T=null;var s=L.p;try{L.p=2,Sh(e,t,n,i)}finally{L.p=s,D.T=r}}function wh(e,t,n,i){var r=D.T;D.T=null;var s=L.p;try{L.p=8,Sh(e,t,n,i)}finally{L.p=s,D.T=r}}function Sh(e,t,n,i){if(vh){var r=kh(i);if(null===r)td(e,t,i,Ch,n),Lh(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Eh=Oh(Eh,e,t,n,i,r),!0;case"dragenter":return Ah=Oh(Ah,e,t,n,i,r),!0;case"mouseover":return Ih=Oh(Ih,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return _h.set(s,Oh(_h.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Ph.set(s,Oh(Ph.get(s)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Lh(e,i),4&t&&-1<Dh.indexOf(e)){for(;null!==r;){var s=Ye(r);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=Te(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-xe(a);o.entanglements[1]|=l,a&=~l}Lu(s),0===(6&mc)&&(Dc=le()+500,Ou(0,!1))}}break;case 31:case 13:null!==(o=Ri(s,2))&&Kc(o,0,2),Zc(),gh(s,2)}if(null===(s=kh(i))&&td(e,t,i,Ch,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else td(e,t,i,null,n)}}function kh(e){return Nh(e=Dt(e))}var Ch=null;function Nh(e){if(Ch=null,null!==(e=Xe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ch=e,null}function Th(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case me:return 32;case pe:return 268435456;default:return 32}default:return 32}}var jh=!1,Eh=null,Ah=null,Ih=null,_h=new Map,Ph=new Map,Rh=[],Dh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lh(e,t){switch(e){case"focusin":case"focusout":Eh=null;break;case"dragenter":case"dragleave":Ah=null;break;case"mouseover":case"mouseout":Ih=null;break;case"pointerover":case"pointerout":_h.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ph.delete(t.pointerId)}}function Oh(e,t,n,i,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=Ye(t))&&yh(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Mh(e){var t=Xe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Fe(e.priority,function(){bh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Fe(e.priority,function(){bh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=kh(e.nativeEvent);if(null!==n)return null!==(t=Ye(n))&&yh(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Rt=i,n.target.dispatchEvent(i),Rt=null,t.shift()}return!0}function Fh(e,t,n){Bh(e)&&n.delete(t)}function zh(){jh=!1,null!==Eh&&Bh(Eh)&&(Eh=null),null!==Ah&&Bh(Ah)&&(Ah=null),null!==Ih&&Bh(Ih)&&(Ih=null),_h.forEach(Fh),Ph.forEach(Fh)}function qh(e,t){e.blockedOn===t&&(e.blockedOn=null,jh||(jh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zh)))}var Wh=null;function Vh(e){Wh!==e&&(Wh=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Wh===e&&(Wh=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if("function"!==typeof i){if(null===Nh(i||n))continue;break}var s=Ye(n);null!==s&&(e.splice(t,3),t-=3,eo(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Hh(e){function t(t){return qh(t,e)}null!==Eh&&qh(Eh,e),null!==Ah&&qh(Ah,e),null!==Ih&&qh(Ih,e),_h.forEach(t),Ph.forEach(t);for(var n=0;n<Rh.length;n++){var i=Rh[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Rh.length&&null===(n=Rh[0]).blockedOn;)Mh(n),null===n.blockedOn&&Rh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[We]||null;if("function"===typeof s)a||Vh(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[We]||null)o=a.formAction;else if(null!==Nh(r))continue}else o=a.action;"function"===typeof o?n[i+1]=o:(n.splice(i,3),i-=3),Vh(n)}}}function Uh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return r=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==r&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var i=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==r&&(r(),r=null)}}}function Gh(e){this._internalRoot=e}function Jh(e){this._internalRoot=e}Jh.prototype.render=Gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));ph(t.current,Gc(),e,t,null,null)},Jh.prototype.unmount=Gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ph(e.current,2,null,e,null,null),Zc(),t[Ve]=null}},Jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Be();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rh.length&&0!==t&&t<Rh[n].priority;n++);Rh.splice(n,0,e),0===n&&Mh(e)}};var Kh=r.version;if("19.2.0"!==Kh)throw Error(a(527,Kh,"19.2.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(i=r.return)){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return d(r),e;if(s===i)return d(r),t;s=s.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,c=r.child;c;){if(c===n){o=!0,n=r,i=s;break}if(c===i){o=!0,i=r,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,i=r;break}if(c===i){o=!0,i=s,n=r;break}c=c.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Qh={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{ye=Xh.inject(Qh),be=Xh}catch($h){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,i="",r=Co,s=No,l=To;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=hh(e,1,!1,null,0,n,i,null,r,s,l,Uh),e[Ve]=t.current,Zu(e),new Gh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var i=!1,r="",s=Co,l=No,c=To,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=hh(e,1,!0,t,0,i,r,u,s,l,c,Uh)).context=mh(null),n=t.current,(r=bs(i=Oe(i=Gc()))).callback=null,vs(n,r,i),n=i,t.current.lanes=n,Pe(t,n),Lu(t),e[Ve]=t.current,Zu(e),new Jh(t)},t.version="19.2.0"},43:(e,t,n)=>{e.exports=n(288)},54:(e,t,n)=>{n.d(t,{O0:()=>c,Pg:()=>o,completeCourseLesson:()=>l,deleteAIPathFromFirestore:()=>h,getAIPathProgressFromFirestore:()=>p,getAIPathsFromFirestore:()=>d,saveAIPathProgressToFirestore:()=>m,saveAIPathToFirestore:()=>u});var i=n(555),r=n(667),s=n(662);const a=async e=>{try{const t=(0,r.H9)(s.db,"users",e,"progress","main"),n=await(0,r.x7)(t);if(!n.exists()){const e={totalXP:0,courses:{bible:{completedLessons:[],totalXP:0,lastCompleted:null},church:{completedLessons:[],totalXP:0,lastCompleted:null},apologetics:{completedLessons:[],totalXP:0,lastCompleted:null}},dailyChallenges:{totalCompleted:0,totalXP:0,streak:0,lastCompletedDate:null,completedDates:[]},reviews:{totalCompleted:0,totalXP:0,sessions:[]},lastUpdated:(0,r.O5)()};return await(0,r.BN)(t,e),{success:!0,progress:e}}return{success:!0,progress:n.data()}}catch(t){return console.error("Initialize progress error:",t),{success:!1,error:t.message}}},o=async e=>{try{const t=(0,r.H9)(s.db,"users",e,"progress","main"),n=await(0,r.x7)(t);return n.exists()?{success:!0,progress:n.data()}:await a(e)}catch(t){return console.error("Get progress error:",t),{success:!1,error:t.message}}},l=async(e,t,n,i)=>{try{var o;const l=(0,r.H9)(s.db,"users",e,"progress","main"),c=(0,r.H9)(s.db,"users",e),u=await(0,r.x7)(l);u.exists()||await a(e);const d=u.data()||{};return((null===(o=d.courses)||void 0===o?void 0:o[t])||{completedLessons:[],totalXP:0}).completedLessons.includes(n)?{success:!0,message:"Lesson already completed",xpAwarded:0}:(await(0,r.mZ)(l,{["courses.".concat(t,".completedLessons")]:(0,r.hq)(n),["courses.".concat(t,".totalXP")]:(0,r.GV)(i),["courses.".concat(t,".lastCompleted")]:(0,r.O5)(),totalXP:(0,r.GV)(i),lastUpdated:(0,r.O5)()}),await(0,r.mZ)(c,{totalXP:(0,r.GV)(i),lastUpdated:(0,r.O5)()}),{success:!0,xpAwarded:i,message:"Lesson completed successfully"})}catch(l){return console.error("Complete lesson error:",l),{success:!1,error:l.message}}},c=async(e,t)=>{try{var n,i,a;const o=(0,r.H9)(s.db,"users",e,"progress","main"),l=await(0,r.x7)(o);if(l.exists()){if(l.data().totalXP>=t.totalXP)return{success:!0,message:"Firestore already has more recent data"}}const c={totalXP:t.totalXP||0,courses:{bible:{completedLessons:t.bibleProgress||[],totalXP:t.bibleXP||0,lastCompleted:(null===(n=t.bibleProgress)||void 0===n?void 0:n.length)>0?(0,r.O5)():null},church:{completedLessons:t.churchProgress||[],totalXP:t.churchXP||0,lastCompleted:(null===(i=t.churchProgress)||void 0===i?void 0:i.length)>0?(0,r.O5)():null},apologetics:{completedLessons:t.apologeticsProgress||[],totalXP:t.apologeticsXP||0,lastCompleted:(null===(a=t.apologeticsProgress)||void 0===a?void 0:a.length)>0?(0,r.O5)():null}},dailyChallenges:{totalCompleted:t.dailyChallengeCompleted||0,totalXP:t.dailyChallengeXP||0,streak:t.dailyChallengeStreak||0,lastCompletedDate:t.lastDailyChallengeDate||null,completedDates:t.dailyChallengeDates||[]},reviews:{totalCompleted:t.reviewSessionsCompleted||0,totalXP:t.reviewXP||0,sessions:t.reviewSessions||[]},lastUpdated:(0,r.O5)(),migratedFrom:"localStorage",migrationDate:(0,r.O5)()};await(0,r.BN)(o,c);const u=(0,r.H9)(s.db,"users",e);return await(0,r.mZ)(u,{totalXP:c.totalXP,lastUpdated:(0,r.O5)()}),{success:!0,message:"Local progress migrated to Firestore successfully"}}catch(o){return console.error("Migration error:",o),{success:!1,error:o.message}}},u=async(e,t)=>{try{const n=(0,r.H9)(s.db,"users",e,"aiPaths",t.id);return await(0,r.BN)(n,(0,i.A)((0,i.A)({},t),{},{savedAt:(0,r.O5)(),updatedAt:(0,r.O5)()})),{success:!0}}catch(n){return console.error("Error saving AI path to Firestore:",n),{success:!1,error:n.message}}},d=async e=>{try{const{collection:t,getDocs:r,query:a,orderBy:o}=await Promise.resolve().then(n.bind(n,667)),l=a(t(s.db,"users",e,"aiPaths"),o("savedAt","desc")),c=await r(l),u=[];return c.forEach(e=>{u.push((0,i.A)((0,i.A)({},e.data()),{},{id:e.id}))}),{success:!0,paths:u}}catch(t){return console.error("Error loading AI paths from Firestore:",t),{success:!1,error:t.message,paths:[]}}},h=async(e,t)=>{try{const{deleteDoc:i}=await Promise.resolve().then(n.bind(n,667)),a=(0,r.H9)(s.db,"users",e,"aiPaths",t);await i(a);const o=(0,r.H9)(s.db,"users",e,"aiPathProgress",t);return await i(o),{success:!0}}catch(i){return console.error("Error deleting AI path from Firestore:",i),{success:!1,error:i.message}}},m=async(e,t,n)=>{try{const i=(0,r.H9)(s.db,"users",e,"aiPathProgress",t);return await(0,r.BN)(i,{completedLessons:n,lastUpdated:(0,r.O5)()}),{success:!0}}catch(i){return console.error("Error saving AI path progress:",i),{success:!1,error:i.message}}},p=async(e,t)=>{try{const n=(0,r.H9)(s.db,"users",e,"aiPathProgress",t),i=await(0,r.x7)(n);return i.exists()?{success:!0,completedLessons:i.data().completedLessons||[]}:{success:!0,completedLessons:[]}}catch(n){return console.error("Error loading AI path progress:",n),{success:!1,error:n.message,completedLessons:[]}}}},144:(e,t,n)=>{n.d(t,{IX:()=>Qe,eJ:()=>mt,hG:()=>bt,xI:()=>qn,hg:()=>gt,kZ:()=>dt,x9:()=>pt,CI:()=>yt,r7:()=>ft});var i=n(986),r=n(555),s=n(232),a=n(776),o=n(965),l=n(606);const c=["providerId"],u=["uid","auth","stsTokenManager"],d=["providerId","signInMethod"];function h(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m=h,p=new a.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),f=new o.Vy("@firebase/auth");function g(e){if(f.logLevel<=o.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];f.error("Auth (".concat(s.MF,"): ").concat(e),...n)}}function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw w(e,...n)}function b(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return w(e,...n)}function v(e,t,n){const i=(0,r.A)((0,r.A)({},m()),{},{[t]:n});return new a.FA("auth","Firebase",i).create(t,{appName:e.name})}function x(e){return v(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function w(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if("string"!==typeof e){const t=n[0],i=[...n.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(t,...i)}return p.create(e,...n)}function S(e,t){if(!e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];throw w(t,...i)}}function k(e){const t="INTERNAL ASSERTION FAILED: "+e;throw g(t),new Error(t)}function C(e,t){e||k(t)}function N(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function T(){return"http:"===j()||"https:"===j()}function j(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class E{constructor(e,t){this.shortDelay=e,this.longDelay=t,C(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,a.jZ)()||(0,a.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(T()||(0,a.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function A(e,t){C(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class I{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void k("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void k("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void k("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},P=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],R=new E(3e4,6e4);function D(e,t){return e.tenantId&&!t.tenantId?(0,r.A)((0,r.A)({},t),{},{tenantId:e.tenantId}):t}async function L(e,t,n,i){return O(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let s={},o={};i&&("GET"===t?o=i:s={body:JSON.stringify(i)});const l=(0,a.Am)((0,r.A)({key:e.config.apiKey},o)).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const u=(0,r.A)({method:t,headers:c},s);return(0,a.c1)()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,a.zJ)(e.emulatorConfig.host)&&(u.credentials="include"),I.fetch()(await B(e,e.config.apiHost,n,l),u)})}async function O(e,t,n){e._canInitEmulator=!1;const i=(0,r.A)((0,r.A)({},_),t);try{const t=new z(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw q(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const t=r.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw q(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw q(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw q(e,"user-disabled",s);const o=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw v(e,o,a);y(e,o)}}catch(s){if(s instanceof a.g)throw s;y(e,"network-request-failed",{message:String(s)})}}async function M(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await L(e,t,n,i,r);return"mfaPendingCredential"in s&&y(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function B(e,t,n,i){const r="".concat(t).concat(n,"?").concat(i),s=e,a=s.config.emulator?A(e.config,r):"".concat(e.config.apiScheme,"://").concat(r);if(P.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(a).toString()}return a}function F(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class z{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(b(this.auth,"network-request-failed")),R.get())})}}function q(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=b(e,t,i);return r.customData._tokenResponse=n,r}function W(e){return void 0!==e&&void 0!==e.enterprise}class V{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return F(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function H(e,t){return L(e,"GET","/v2/recaptchaConfig",D(e,t))}async function U(e,t){return L(e,"POST","/v1/accounts:lookup",t)}function G(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function J(e){return 1e3*Number(e)}function K(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return g("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,a.u)(n);return e?JSON.parse(e):(g("Failed to decode base64 JWT payload"),null)}catch(r){return g("Caught error parsing JWT payload as JSON",null===r||void 0===r?void 0:r.toString()),null}}function Q(e){const t=K(e);return S(t,"internal-error"),S("undefined"!==typeof t.exp,"internal-error"),S("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function X(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof a.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Y{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ${constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=G(this.lastLoginAt),this.creationTime=G(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Z(e){var t;const n=e.auth,i=await e.getIdToken(),r=await X(e,U(n,{idToken:i}));S(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const a=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?ee(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null!==o&&void 0!==o&&o.length),h=!!u&&d,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new $(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,m)}function ee(e){return e.map(e=>{let{providerId:t}=e,n=(0,i.A)(e,c);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class te{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){S(e.idToken,"internal-error"),S("undefined"!==typeof e.idToken,"internal-error"),S("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Q(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){S(0!==e.length,"internal-error");const t=Q(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(S(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(e,t){const n=await O(e,{},async()=>{const n=(0,a.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,s=await B(e,i,"/v1/token","key=".concat(r)),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return e.emulatorConfig&&(0,a.zJ)(e.emulatorConfig.host)&&(l.credentials="include"),I.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,s=new te;return n&&(S("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),i&&(S("string"===typeof i,"internal-error",{appName:e}),s.accessToken=i),r&&(S("number"===typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new te,this.toJSON())}_performRefresh(){return k("not implemented")}}function ne(e,t){S("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ie{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,s=(0,i.A)(e,u);this.providerId="firebase",this.proactiveRefresh=new Y(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await X(this,this.stsTokenManager.getToken(this.auth,e));return S(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,a.Ku)(e),i=await n.getIdToken(t),r=K(i);S(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"===typeof r.firebase?r.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:G(J(r.auth_time)),issuedAtTime:G(J(r.iat)),expirationTime:G(J(r.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,a.Ku)(e);await Z(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>(0,r.A)({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ie((0,r.A)((0,r.A)({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Z(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,s.xZ)(this.auth.app))return Promise.reject(x(this.auth));const e=await this.getIdToken();return await X(this,async function(e,t){return L(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return(0,r.A)((0,r.A)({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>(0,r.A)({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,s,a,o,l,c,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,m=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(a=t.photoURL)&&void 0!==a?a:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,y=null!==(c=t.createdAt)&&void 0!==c?c:void 0,b=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:x,isAnonymous:w,providerData:k,stsTokenManager:C}=t;S(v&&C,e,"internal-error");const N=te.fromJSON(this.name,C);S("string"===typeof v,e,"internal-error"),ne(d,e.name),ne(h,e.name),S("boolean"===typeof x,e,"internal-error"),S("boolean"===typeof w,e,"internal-error"),ne(m,e.name),ne(p,e.name),ne(f,e.name),ne(g,e.name),ne(y,e.name),ne(b,e.name);const T=new ie({uid:v,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:w,photoURL:p,phoneNumber:m,tenantId:f,stsTokenManager:N,createdAt:y,lastLoginAt:b});return k&&Array.isArray(k)&&(T.providerData=k.map(e=>(0,r.A)({},e))),g&&(T._redirectEventId=g),T}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=new te;i.updateFromServerResponse(t);const r=new ie({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Z(r),r}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];S(void 0!==i.localId,"internal-error");const r=void 0!==i.providerUserInfo?ee(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(null!==r&&void 0!==r&&r.length),a=new te;a.updateFromIdToken(n);const o=new ie({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new $(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(null!==r&&void 0!==r&&r.length)};return Object.assign(o,l),o}}const re=new Map;function se(e){C(e instanceof Function,"Expected a class definition");let t=re.get(e);return t?(C(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,re.set(e,t),t)}class ae{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ae.type="NONE";const oe=ae;function le(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ce{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=le(this.userKey,i.apiKey,r),this.fullPersistenceKey=le("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await U(this.auth,{idToken:e}).catch(()=>{});return t?ie._fromGetAccountInfoResponse(this.auth,t,e):null}return ie._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ce(se(oe),e,n);const i=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let r=i[0]||se(oe);const s=le(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const i=await U(e,{idToken:t}).catch(()=>{});if(!i)break;n=await ie._fromGetAccountInfoResponse(e,i,t)}else n=ie._fromJSON(e,t);c!==r&&(a=n),r=c;break}}catch(l){}const o=i.filter(e=>e._shouldAllowMigration);return r._shouldAllowMigration&&o.length?(r=o[0],a&&await r._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==r)try{await e._remove(s)}catch(t){}})),new ce(r,e,n)):new ce(r,e,n)}}function ue(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(pe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(de(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ge(t))return"Blackberry";if(ye(t))return"Webos";if(he(t))return"Safari";if((t.includes("chrome/")||me(t))&&!t.includes("edge/"))return"Chrome";if(fe(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/firefox\//i.test(e)}function he(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/crios\//i.test(e)}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/iemobile/i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/android/i.test(e)}function ge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/blackberry/i.test(e)}function ye(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/webos/i.test(e)}function be(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ve(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return be(e)||fe(e)||ye(e)||ge(e)||/windows phone/i.test(e)||pe(e)}function xe(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ue((0,a.ZQ)());break;case"Worker":t="".concat(ue((0,a.ZQ)()),"-").concat(e);break;default:t=e}const i=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(s.MF,"/").concat(i)}class we{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,i)=>{try{n(e(t))}catch(r){i(r)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(i){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Se{constructor(e){var t,n,i,r;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(i=e.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(r=e.forceUpgradeOnSignin)&&void 0!==r&&r,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,r,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(i=o.containsLowercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(r=o.containsUppercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}class ke{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ne(this),this.idTokenSubscription=new Ne(this),this.beforeStateQueue=new we(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=se(t)),this._initializationPromise=this.queue(async()=>{var n,i,r;if(!this._deleted&&(this.persistenceManager=await ce.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(i=this._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(s){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await U(this,{idToken:e}),n=await ie._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if((0,s.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,i=!1;if(e&&this.config.authDomain){var r,a;await this.getOrInitRedirectPersistenceManager();const t=null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId,s=null===(a=n)||void 0===a?void 0:a._redirectEventId,o=await this.tryRedirectSignIn(e);t&&t!==s||null===o||void 0===o||!o.user||(n=o.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return S(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Z(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,s.xZ)(this.app))return Promise.reject(x(this));const t=e?(0,a.Ku)(e):null;return t&&S(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&S(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,s.xZ)(this.app)?Promise.reject(x(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,s.xZ)(this.app)?Promise.reject(x(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(se(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return L(e,"GET","/v2/passwordPolicy",D(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Se(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new a.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return L(e,"POST","/v2/accounts:revokeToken",D(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&se(e)||this._popupRedirectResolver;S(t,this,"argument-error"),this.redirectPersistenceManager=await ce.create(this,[se(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(S(a,this,"internal-error"),a.then(()=>{s||r(this.currentUser)}),"function"===typeof t){const r=e.addObserver(t,n,i);return()=>{s=!0,r()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if((0,s.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(f.logLevel<=o.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];f.warn("Auth (".concat(s.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Ce(e){return(0,a.Ku)(e)}class Ne{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,a.tD)(e=>this.observer=e)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Te={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function je(e){return Te.loadJS(e)}function Ee(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ae{constructor(){this.enterprise=new Ie}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ie{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const _e="NO_RECAPTCHA";class Pe{constructor(e){this.type="recaptcha-enterprise",this.auth=Ce(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,i){const r=window.grecaptcha;W(r)?r.enterprise.ready(()=>{r.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(_e)})}):i(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ae).execute("siteKey",{action:"verify"})}return new Promise((e,i)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{H(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(i=>{if(void 0!==i.recaptchaKey){const n=new V(i);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(r=>{if(!t&&W(window.grecaptcha))n(r,e,i);else{if("undefined"===typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));let t=Te.recaptchaEnterpriseScript;0!==t.length&&(t+=r),je(t).then(()=>{n(r,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function Re(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new Pe(e);let o;if(s)o=_e;else try{o=await a.verify(n)}catch(c){o=await a.verify(n,!0)}const l=(0,r.A)({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in l){const e=l.phoneEnrollmentInfo.phoneNumber,t=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const e=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function De(e,t,n,i,r){if("EMAIL_PASSWORD_PROVIDER"===r){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await Re(e,t,n,"getOobCode"===n);return i(e,r)}return i(e,t).catch(async r=>{if(r.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const r=await Re(e,t,n,"getOobCode"===n);return i(e,r)}return Promise.reject(r)})}if("PHONE_PROVIDER"===r){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("PHONE_PROVIDER")){const r=await Re(e,t,n);return i(e,r).catch(async r=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(r.code==="auth/".concat("missing-recaptcha-token")||r.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const r=await Re(e,t,n,!1,!0);return i(e,r)}return Promise.reject(r)})}{const r=await Re(e,t,n,!1,!0);return i(e,r)}}return Promise.reject(r+" provider is not supported.")}async function Le(e){const t=Ce(e),n=await H(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new V(n);if(null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,i.isAnyProviderEnabled()){new Pe(t).verify()}}function Oe(e,t,n){const i=Ce(e);S(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!(null===n||void 0===n||!n.disableWarnings),s=Me(t),{host:o,port:l}=function(e){const t=Me(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:Be(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:Be(t)}}}(t),c=null===l?"":":".concat(l),u={url:"".concat(s,"//").concat(o).concat(c,"/")},d=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator)return S(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),void S((0,a.bD)(u,i.config.emulator)&&(0,a.bD)(d,i.emulatorConfig),i,"emulator-config-failed");i.config.emulator=u,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,(0,a.zJ)(o)?((0,a.gE)("".concat(s,"//").concat(o).concat(c)),(0,a.P1)("Auth",!0)):r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Me(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Be(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Fe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return k("not implemented")}_getIdTokenResponse(e){return k("not implemented")}_linkToIdToken(e,t){return k("not implemented")}_getReauthenticationResolver(e){return k("not implemented")}}async function ze(e,t){return L(e,"POST","/v1/accounts:signUp",t)}async function qe(e,t){return M(e,"POST","/v1/accounts:signInWithPassword",D(e,t))}class We extends Fe{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new We(e,t,"password")}static _fromEmailAndCode(e,t){return new We(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return De(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",qe,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return M(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))}(e,{email:this._email,oobCode:this._password});default:y(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return De(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ze,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return M(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:y(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ve(e,t){return M(e,"POST","/v1/accounts:signInWithIdp",D(e,t))}class He extends Fe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new He(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):y("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=(0,i.A)(t,d);if(!n||!r)return null;const a=new He(n,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){return Ve(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ve(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ve(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,a.Am)(t)}return e}}async function Ue(e,t){return L(e,"POST","/v1/accounts:sendVerificationCode",D(e,t))}const Ge={USER_NOT_FOUND:"user-not-found"};class Je extends Fe{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Je({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Je({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return M(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await M(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t));if(n.temporaryProof)throw q(e,"account-exists-with-different-credential",n);return n}(e,(0,r.A)({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return M(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,(0,r.A)((0,r.A)({},t),{},{operation:"REAUTH"})),Ge)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new Je({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class Ke{constructor(e){var t,n,i,r,s,o;const l=(0,a.I9)((0,a.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);S(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(r=l.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=l.lang)&&void 0!==s?s:null,this.tenantId=null!==(o=l.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=(0,a.I9)((0,a.hp)(e)).link,n=t?(0,a.I9)((0,a.hp)(t)).deep_link_id:null,i=(0,a.I9)((0,a.hp)(e)).deep_link_id;return(i?(0,a.I9)((0,a.hp)(i)).link:null)||i||n||t||e}(e);try{return new Ke(t)}catch(n){return null}}}class Qe{constructor(){this.providerId=Qe.PROVIDER_ID}static credential(e,t){return We._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ke.parseLink(t);return S(n,"argument-error"),We._fromEmailAndCode(e,n.code,n.tenantId)}}Qe.PROVIDER_ID="password",Qe.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Qe.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Xe{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ye extends Xe{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $e extends Ye{constructor(){super("facebook.com")}static credential(e){return He._fromParams({providerId:$e.PROVIDER_ID,signInMethod:$e.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $e.credentialFromTaggedObject(e)}static credentialFromError(e){return $e.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return $e.credential(t.oauthAccessToken)}catch(n){return null}}}$e.FACEBOOK_SIGN_IN_METHOD="facebook.com",$e.PROVIDER_ID="facebook.com";class Ze extends Ye{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return He._fromParams({providerId:Ze.PROVIDER_ID,signInMethod:Ze.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ze.credentialFromTaggedObject(e)}static credentialFromError(e){return Ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Ze.credential(n,i)}catch(r){return null}}}Ze.GOOGLE_SIGN_IN_METHOD="google.com",Ze.PROVIDER_ID="google.com";class et extends Ye{constructor(){super("github.com")}static credential(e){return He._fromParams({providerId:et.PROVIDER_ID,signInMethod:et.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return et.credentialFromTaggedObject(e)}static credentialFromError(e){return et.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return et.credential(t.oauthAccessToken)}catch(n){return null}}}et.GITHUB_SIGN_IN_METHOD="github.com",et.PROVIDER_ID="github.com";class tt extends Ye{constructor(){super("twitter.com")}static credential(e,t){return He._fromParams({providerId:tt.PROVIDER_ID,signInMethod:tt.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return tt.credentialFromTaggedObject(e)}static credentialFromError(e){return tt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return tt.credential(n,i)}catch(r){return null}}}async function nt(e,t){return M(e,"POST","/v1/accounts:signUp",D(e,t))}tt.TWITTER_SIGN_IN_METHOD="twitter.com",tt.PROVIDER_ID="twitter.com";class it{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await ie._fromIdTokenResponse(e,n,i),s=rt(n);return new it({user:r,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=rt(n);return new it({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function rt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class st extends a.g{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,st.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new st(e,t,n,i)}}function at(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw st._fromErrorAndOperation(e,n,t,i);throw n})}async function ot(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=await X(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return it._forOperation(e,"link",i)}async function lt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e;if((0,s.xZ)(i.app))return Promise.reject(x(i));const r="reauthenticate";try{const s=await X(e,at(i,r,t,e),n);S(s.idToken,i,"internal-error");const a=K(s.idToken);S(a,i,"internal-error");const{sub:o}=a;return S(e.uid===o,i,"user-mismatch"),it._forOperation(e,r,s)}catch(a){throw(null===a||void 0===a?void 0:a.code)==="auth/".concat("user-not-found")&&y(i,"user-mismatch"),a}}async function ct(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,s.xZ)(e.app))return Promise.reject(x(e));const i="signIn",r=await at(e,i,t),a=await it._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(a.user),a}async function ut(e,t){return ct(Ce(e),t)}async function dt(e,t){return lt((0,a.Ku)(e),t)}async function ht(e){const t=Ce(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function mt(e,t,n){if((0,s.xZ)(e.app))return Promise.reject(x(e));const i=Ce(e),r=De(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nt,"EMAIL_PASSWORD_PROVIDER"),a=await r.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ht(e),t}),o=await it._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function pt(e,t,n){return(0,s.xZ)(e.app)?Promise.reject(x(e)):ut((0,a.Ku)(e),Qe.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ht(e),t})}async function ft(e,t){let{displayName:n,photoURL:i}=t;if(void 0===n&&void 0===i)return;const r=(0,a.Ku)(e),s={idToken:await r.getIdToken(),displayName:n,photoUrl:i,returnSecureToken:!0},o=await X(r,async function(e,t){return L(e,"POST","/v1/accounts:update",t)}(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(e=>{let{providerId:t}=e;return"password"===t});l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function gt(e,t,n,i){return(0,a.Ku)(e).onAuthStateChanged(t,n,i)}function yt(e){return(0,a.Ku)(e).signOut()}async function bt(e){return(0,a.Ku)(e).delete()}function vt(e,t){return L(e,"POST","/v2/accounts/mfaEnrollment:start",D(e,t))}new WeakMap;const xt="__sak";class wt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xt,"1"),this.storage.removeItem(xt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class St extends wt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ve(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);(0,a.lT)()&&10===document.documentMode&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}St.type="LOCAL";const kt=St;function Ct(e){var t,n;const i=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),r=RegExp("".concat(i,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(r))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Nt(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Tt{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Nt(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Ct(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Nt(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Nt(e);if(window.cookieStore){const e=e=>{const i=e.changed.find(e=>e.name===n);i&&t(i.value);e.deleted.find(e=>e.name===n)&&t(null)},i=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,i),window.cookieStore.addEventListener("change",e)}let i=Ct(n);const r=setInterval(()=>{const e=Ct(n);e!==i&&(t(e),i=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(r))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Tt.type="COOKIE";class jt extends wt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jt.type="SESSION";const Et=jt;class At{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new At(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,s=this.handlersMap[i];if(null===s||void 0===s||!s.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const a=Array.from(s).map(async e=>e(t.origin,r)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function It(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let i=0;i<t;i++)n+=Math.floor(10*Math.random());return e+n}At.receivers=[];class _t{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise((a,o)=>{const l=It("",20);i.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),r=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(t.data.response);break;default:clearTimeout(c),clearTimeout(r),o(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function Pt(){return window}function Rt(){return"undefined"!==typeof Pt().WorkerGlobalScope&&"function"===typeof Pt().importScripts}const Dt="firebaseLocalStorageDb",Lt="firebaseLocalStorage",Ot="fbase_key";class Mt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bt(e,t){return e.transaction([Lt],t?"readwrite":"readonly").objectStore(Lt)}function Ft(){const e=indexedDB.open(Dt,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Lt,{keyPath:Ot})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Lt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Dt);return new Mt(e).toPromise()}(),t(await Ft()))})})}async function zt(e,t,n){const i=Bt(e,!0).put({[Ot]:t,value:n});return new Mt(i).toPromise()}function qt(e,t){const n=Bt(e,!0).delete(t);return new Mt(n).toPromise()}class Wt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Ft()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=At._getInstance(Rt()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new _t(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ft();return await zt(e,xt,"1"),await qt(e,xt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>zt(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Bt(e,!1).get(t),i=await new Mt(n).toPromise();return void 0===i?null:i.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qt(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Bt(e,!1).getAll();return new Mt(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Wt.type="LOCAL";const Vt=Wt;function Ht(e,t){return L(e,"POST","/v2/accounts/mfaSignIn:start",D(e,t))}Ee("rcb"),new E(3e4,6e4);const Ut="recaptcha";async function Gt(e,t,n){if(!e._getRecaptchaConfig())try{await Le(e)}catch(r){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"===typeof t?{phoneNumber:t}:t,"session"in r){const t=r.session;if("phoneNumber"in r){S("enroll"===t.type,e,"internal-error");const i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=De(e,i,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===_e){S((null===n||void 0===n?void 0:n.type)===Ut,e,"argument-error");return vt(e,await Jt(e,t,n))}return vt(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var i;S("signin"===t.type,e,"internal-error");const s=(null===(i=r.multiFactorHint)||void 0===i?void 0:i.uid)||r.multiFactorUid;S(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=De(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===_e){S((null===n||void 0===n?void 0:n.type)===Ut,e,"argument-error");return Ht(e,await Jt(e,t,n))}return Ht(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},i=De(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===_e){S((null===n||void 0===n?void 0:n.type)===Ut,e,"argument-error");return Ue(e,await Jt(e,t,n))}return Ue(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Jt(e,t,n){S(n.type===Ut,e,"argument-error");const i=await n.verify();S("string"===typeof i,e,"argument-error");const s=(0,r.A)({},t);if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.captchaResponse,n=s.phoneEnrollmentInfo.clientType,r=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:i,captchaResponse:t,clientType:n,recaptchaVersion:r}}),s}if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.captchaResponse,t=s.phoneSignInInfo.clientType,n=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:i,captchaResponse:e,clientType:t,recaptchaVersion:n}}),s}return Object.assign(s,{recaptchaToken:i}),s}class Kt{constructor(e){this.providerId=Kt.PROVIDER_ID,this.auth=Ce(e)}verifyPhoneNumber(e,t){return Gt(this.auth,e,(0,a.Ku)(t))}static credential(e,t){return Je._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Kt.credentialFromTaggedObject(t)}static credentialFromError(e){return Kt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:i}=t;return n&&i?Je._fromTokenResponse(n,i):null}}function Qt(e,t){return t?se(t):(S(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Kt.PROVIDER_ID="phone",Kt.PHONE_SIGN_IN_METHOD="phone";class Xt extends Fe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ve(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ve(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ve(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Yt(e){return ct(e.auth,new Xt(e),e.bypassAuthState)}function $t(e){const{auth:t,user:n}=e;return S(n,t,"internal-error"),lt(n,new Xt(e),e.bypassAuthState)}async function Zt(e){const{auth:t,user:n}=e;return S(n,t,"internal-error"),ot(n,new Xt(e),e.bypassAuthState)}class en{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yt;case"linkViaPopup":case"linkViaRedirect":return Zt;case"reauthViaPopup":case"reauthViaRedirect":return $t;default:y(this.auth,"internal-error")}}resolve(e){C(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){C(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tn=new E(2e3,1e4);class nn extends en{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,nn.currentPopupAction&&nn.currentPopupAction.cancel(),nn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return S(e,this.auth,"internal-error"),e}async onExecution(){C(1===this.filter.length,"Popup operations only handle one event");const e=It();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(b(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(b(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(b(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,tn.get())};e()}}nn.currentPopupAction=null;const rn=new Map;class sn extends en{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=rn.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ln(t),i=on(e);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}rn.set(this.auth._key(),e)}return this.bypassAuthState||rn.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function an(e,t){rn.set(e._key(),t)}function on(e){return se(e._redirectPersistence)}function ln(e){return le("pendingRedirect",e.config.apiKey,e.name)}async function cn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,s.xZ)(e.app))return Promise.reject(x(e));const i=Ce(e),r=Qt(i,t),a=new sn(i,r,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}class un{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!hn(e)){var n;const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(b(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(dn(e))}saveEventToCache(e){this.cachedEventUids.add(dn(e)),this.lastProcessedEventTime=Date.now()}}function dn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function hn(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const mn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pn=/^https?/;async function fn(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return L(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const i of t)try{if(gn(i))return}catch(n){}y(e,"unauthorized-domain")}function gn(e){const t=N(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!pn.test(n))return!1;if(mn.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const yn=new E(3e4,6e4);function bn(){const e=Pt().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function vn(e){return new Promise((t,n)=>{var i,r;function s(){bn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bn(),n(b(e,"network-request-failed"))},timeout:yn.get()})}if(null!==(i=Pt().gapi)&&void 0!==i&&null!==(i=i.iframes)&&void 0!==i&&i.Iframe)t(gapi.iframes.getContext());else{if(null===(r=Pt().gapi)||void 0===r||!r.load){const t=Ee("iframefcb");return Pt()[t]=()=>{gapi.load?s():n(b(e,"network-request-failed"))},je("".concat(Te.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw xn=null,e})}let xn=null;const wn=new E(5e3,15e3),Sn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cn(e){const t=e.config;S(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?A(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),i={apiKey:t.apiKey,appName:e.name,v:s.MF},r=kn.get(e.config.apiHost);r&&(i.eid=r);const o=e._getFrameworks();return o.length&&(i.fw=o.join(",")),"".concat(n,"?").concat((0,a.Am)(i).slice(1))}async function Nn(e){const t=await function(e){return xn=xn||vn(e),xn}(e),n=Pt().gapi;return S(n,e,"internal-error"),t.open({where:document.body,url:Cn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sn,dontclear:!0},t=>new Promise(async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=b(e,"network-request-failed"),s=Pt().setTimeout(()=>{i(r)},wn.get());function a(){Pt().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{i(r)})}))}const Tn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function En(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=(0,r.A)((0,r.A)({},Tn),{},{width:i.toString(),height:s.toString(),top:o,left:l}),d=(0,a.ZQ)().toLowerCase();n&&(c=me(d)?"_blank":n),de(d)&&(t=t||"http://localhost",u.scrollbars="yes");const h=Object.entries(u).reduce((e,t)=>{let[n,i]=t;return"".concat(e).concat(n,"=").concat(i,",")},"");if(function(){var e;return be(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(d)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(t||"",c),new jn(null);const m=window.open(t||"",c,h);S(m,e,"popup-blocked");try{m.focus()}catch(p){}return new jn(m)}const An="__/auth/handler",In="emulator/auth/handler",_n=encodeURIComponent("fac");async function Pn(e,t,n,i,r,o){S(e.config.authDomain,e,"auth-domain-config-required"),S(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:s.MF,eventId:r};if(t instanceof Xe){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,a.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))l[e]=t}if(t instanceof Ye){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const s of Object.keys(c))void 0===c[s]&&delete c[s];const u=await e._getAppCheckToken(),d=u?"#".concat(_n,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(An);return A(t,In)}(e),"?").concat((0,a.Am)(c).slice(1)).concat(d)}const Rn="webStorageSupport";const Dn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Et,this._completeRedirectFn=cn,this._overrideRedirectResult=an}async _openPopup(e,t,n,i){var r;C(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return En(e,await Pn(e,t,n,N(),i),It())}async _openRedirect(e,t,n,i){await this._originValidation(e);return function(e){Pt().location.href=e}(await Pn(e,t,n,N(),i)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(C(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Nn(e),n=new un(e);return t.register("authEvent",t=>{S(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Rn,{type:Rn},n=>{var i;const r=null===n||void 0===n||null===(i=n[0])||void 0===i?void 0:i[Rn];void 0!==r&&t(!!r),y(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fn(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ve()||he()||be()}};var Ln="@firebase/auth",On="1.11.1";class Mn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Bn=(0,a.XA)("authIdTokenMaxAge")||300;let Fn=null;const zn=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Bn)return;const r=null===n||void 0===n?void 0:n.token;Fn!==r&&(Fn=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))};function qn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.Sx)();const t=(0,s.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,s.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),i=n.getOptions();if((0,a.bD)(i,null!==t&&void 0!==t?t:{}))return e;y(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Dn,persistence:[Vt,kt,Et]}),i=(0,a.XA)("authTokenSyncURL");if(i&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(i,location.origin);if(location.origin===e.origin){const t=zn(e.toString());!function(e,t,n){(0,a.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,i){(0,a.Ku)(e).onIdTokenChanged(t,n,i)}(n,e=>t(e))}}const r=(0,a.Tj)("auth");return r&&Oe(n,"http://".concat(r)),n}var Wn;Te={loadJS:e=>new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=b("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(i)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Wn="Browser",(0,s.om)(new l.uA("auth",(e,t)=>{let{options:n}=t;const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;S(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:a,authDomain:o,clientPlatform:Wn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xe(Wn)},c=new ke(i,r,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(se);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,s.om)(new l.uA("auth-internal",e=>(e=>new Mn(e))(Ce(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,s.KO)(Ln,On,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Wn)),(0,s.KO)(Ln,On,"esm2020")},232:(e,t,n)=>{n.d(t,{MF:()=>de,j6:()=>ae,xZ:()=>oe,om:()=>se,Sx:()=>me,Wp:()=>he,KO:()=>pe});var i=n(555),r=n(606),s=n(965),a=n(776);let o,l;const c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,m=new WeakMap;let p={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return u.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return y(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function f(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(b(this),n),y(c.get(this))}:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return y(e.apply(b(this),n))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const s=e.call(b(this),t,...i);return d.set(s,t.sort?t.sort():[t]),y(s)}}function g(e){return"function"===typeof e?f(e):(e instanceof IDBTransaction&&function(e){if(u.has(e))return;const t=new Promise((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{t(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)});u.set(e,t)}(e),t=e,(o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,p):e);var t}function y(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{t(y(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&c.set(t,e)}).catch(()=>{}),m.set(t,e),t}(e);if(h.has(e))return h.get(e);const t=g(e);return t!==e&&(h.set(e,t),m.set(t,e)),t}const b=e=>m.get(e);const v=["get","getKey","getAll","getAllKeys","count"],x=["put","add","delete","clear"],w=new Map;function S(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(w.get(t))return w.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=x.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!v.includes(n))return;const s=async function(e){const t=this.transaction(e,r?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return i&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),r&&t.done]))[0]};return w.set(t,s),s}p=(e=>(0,i.A)((0,i.A)({},e),{},{get:(t,n,i)=>S(t,n)||e.get(t,n,i),has:(t,n)=>!!S(t,n)||e.has(t,n)}))(p);class k{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const C="@firebase/app",N="0.14.5",T=new s.Vy("@firebase/app"),j="@firebase/app-compat",E="@firebase/analytics-compat",A="@firebase/analytics",I="@firebase/app-check-compat",_="@firebase/app-check",P="@firebase/auth",R="@firebase/auth-compat",D="@firebase/database",L="@firebase/data-connect",O="@firebase/database-compat",M="@firebase/functions",B="@firebase/functions-compat",F="@firebase/installations",z="@firebase/installations-compat",q="@firebase/messaging",W="@firebase/messaging-compat",V="@firebase/performance",H="@firebase/performance-compat",U="@firebase/remote-config",G="@firebase/remote-config-compat",J="@firebase/storage",K="@firebase/storage-compat",Q="@firebase/firestore",X="@firebase/ai",Y="@firebase/firestore-compat",$="firebase",Z="[DEFAULT]",ee={[C]:"fire-core",[j]:"fire-core-compat",[A]:"fire-analytics",[E]:"fire-analytics-compat",[_]:"fire-app-check",[I]:"fire-app-check-compat",[P]:"fire-auth",[R]:"fire-auth-compat",[D]:"fire-rtdb",[L]:"fire-data-connect",[O]:"fire-rtdb-compat",[M]:"fire-fn",[B]:"fire-fn-compat",[F]:"fire-iid",[z]:"fire-iid-compat",[q]:"fire-fcm",[W]:"fire-fcm-compat",[V]:"fire-perf",[H]:"fire-perf-compat",[U]:"fire-rc",[G]:"fire-rc-compat",[J]:"fire-gcs",[K]:"fire-gcs-compat",[Q]:"fire-fst",[Y]:"fire-fst-compat",[X]:"fire-vertex","fire-js":"fire-js",[$]:"fire-js-all"},te=new Map,ne=new Map,ie=new Map;function re(e,t){try{e.container.addComponent(t)}catch(n){T.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function se(e){const t=e.name;if(ie.has(t))return T.debug("There were multiple attempts to register component ".concat(t,".")),!1;ie.set(t,e);for(const n of te.values())re(n,e);for(const n of ne.values())re(n,e);return!0}function ae(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function oe(e){return null!==e&&void 0!==e&&void 0!==e.settings}const le={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ce=new a.FA("app","Firebase",le);class ue{constructor(e,t,n){this._isDeleted=!1,this._options=(0,i.A)({},e),this._config=(0,i.A)({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ce.create("app-deleted",{appName:this._name})}}const de="12.5.0";function he(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const s=(0,i.A)({name:Z,automaticDataCollectionEnabled:!0},t),o=s.name;if("string"!==typeof o||!o)throw ce.create("bad-app-name",{appName:String(o)});if(n||(n=(0,a.T9)()),!n)throw ce.create("no-options");const l=te.get(o);if(l){if((0,a.bD)(n,l.options)&&(0,a.bD)(s,l.config))return l;throw ce.create("duplicate-app",{appName:o})}const c=new r.h1(o);for(const i of ie.values())c.addComponent(i);const u=new ue(n,s,c);return te.set(o,u),u}function me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;const t=te.get(e);if(!t&&e===Z&&(0,a.T9)())return he();if(!t)throw ce.create("no-app",{appName:e});return t}function pe(e,t,n){var i;let s=null!==(i=ee[e])&&void 0!==i?i:e;n&&(s+="-".concat(n));const a=s.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),a&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void T.warn(e.join(" "))}se(new r.uA("".concat(s,"-version"),()=>({library:s,version:t}),"VERSION"))}const fe="firebase-heartbeat-store";let ge=null;function ye(){return ge||(ge=function(e,t){let{blocked:n,upgrade:i,blocking:r,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=y(a);return i&&a.addEventListener("upgradeneeded",e=>{i(y(a.result),e.oldVersion,e.newVersion,y(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),r&&e.addEventListener("versionchange",e=>r(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(fe)}catch(n){console.warn(n)}}}).catch(e=>{throw ce.create("idb-open",{originalErrorMessage:e.message})})),ge}async function be(e,t){try{const n=(await ye()).transaction(fe,"readwrite"),i=n.objectStore(fe);await i.put(t,ve(e)),await n.done}catch(n){if(n instanceof a.g)T.warn(n.message);else{const e=ce.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});T.warn(e.message)}}}function ve(e){return"".concat(e.name,"!").concat(e.options.appId)}class xe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Se(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=we();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(e=>e.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){T.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=we(),{heartbeatsToSend:n,unsentEntries:i}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=e.slice();for(const r of e){const e=n.find(e=>e.agent===r.agent);if(e){if(e.dates.push(r.date),ke(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),ke(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),r=(0,a.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return T.warn(t),""}}}function we(){return(new Date).toISOString().substring(0,10)}class Se{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,a.zW)()&&(0,a.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ye()).transaction(fe),n=await t.objectStore(fe).get(ve(e));return await t.done,n}catch(t){if(t instanceof a.g)T.warn(t.message);else{const e=ce.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});T.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return be(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return be(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ke(e){return(0,a.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var Ce;Ce="",se(new r.uA("platform-logger",e=>new k(e),"PRIVATE")),se(new r.uA("heartbeat",e=>new xe(e),"PRIVATE")),pe(C,N,Ce),pe(C,N,"esm2020"),pe("fire-js","")},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||f}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||f}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=b.prototype;var w=x.prototype=new v;w.constructor=x,g(w,b.prototype),w.isPureReactComponent=!0;var S=Array.isArray;function k(){}var C={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function T(e,t,i){var r=i.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:i}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,r,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case i:u=!0;break;case h:return I((u=e._init)(e._payload),t,r,s,a)}}if(u)return a=a(e),u=""===s?"."+A(e,0):s,S(a)?(r="",null!=u&&(r=u.replace(E,"$&/")+"/"),I(a,t,r,"",function(e){return e})):null!=a&&(j(a)&&(l=a,c=r+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+u,a=T(l.type,c,l.props)),t.push(a)),1;u=0;var d,m=""===s?".":s+":";if(S(e))for(var f=0;f<e.length;f++)u+=I(s=e[f],t,r,o=m+A(s,f),a);else if("function"===typeof(f=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=f.call(e),f=0;!(s=e.next()).done;)u+=I(s=s.value,t,r,o=m+A(s,f++),a);else if("object"===o){if("function"===typeof e.then)return I(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(k,k):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,s,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function _(e,t,n){if(null==e)return e;var i=[],r=0;return I(e,i,"","",function(e){return t.call(n,e,r++)}),i}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},D={map:_,forEach:function(e,t,n){_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _(e,function(){t++}),t},toArray:function(e){return _(e,function(e){return e})||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=m,t.Children=D,t.Component=b,t.Fragment=r,t.Profiler=a,t.PureComponent=x,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return C.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var i=g({},e.props),r=e.key;if(null!=t)for(s in void 0!==t.key&&(r=""+t.key),t)!N.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(i[s]=t[s]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];i.children=a}return T(e.type,r,i)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var i,r={},s=null;if(null!=t)for(i in void 0!==t.key&&(s=""+t.key),t)N.call(t,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(r[i]=t[i]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];r.children=o}if(e&&e.defaultProps)for(i in a=e.defaultProps)void 0===r[i]&&(r[i]=a[i]);return T(e,s,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=C.T,n={};C.T=n;try{var i=e(),r=C.S;null!==r&&r(n,i),"object"===typeof i&&null!==i&&"function"===typeof i.then&&i.then(k,R)}catch(s){R(s)}finally{null!==t&&null!==n.types&&(t.types=n.types),C.T=t}},t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},t.use=function(e){return C.H.use(e)},t.useActionState=function(e,t,n){return C.H.useActionState(e,t,n)},t.useCallback=function(e,t){return C.H.useCallback(e,t)},t.useContext=function(e){return C.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return C.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return C.H.useEffect(e,t)},t.useEffectEvent=function(e){return C.H.useEffectEvent(e)},t.useId=function(){return C.H.useId()},t.useImperativeHandle=function(e,t,n){return C.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return C.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.H.useMemo(e,t)},t.useOptimistic=function(e,t){return C.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return C.H.useReducer(e,t,n)},t.useRef=function(e){return C.H.useRef(e)},t.useState=function(e){return C.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return C.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return C.H.useTransition()},t.version="19.2.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},555:(e,t,n)=>{function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function s(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>o})},579:(e,t,n)=>{e.exports=n(799)},606:(e,t,n)=>{n.d(t,{h1:()=>o,uA:()=>r});var i=n(776);class r{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const s="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new i.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),i=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:i});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&s.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(i){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===s?void 0:r),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(a){}var r;return i||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},662:(e,t,n)=>{n.d(t,{j:()=>o,db:()=>l});var i=n(232);(0,i.KO)("firebase","12.5.0","app");var r=n(144),s=n(667);const a=(0,i.Wp)({apiKey:"AIzaSyDvYAi4EMGSfBTysKVsgIvw-dk26kpa4Us",authDomain:"church-explorer-20e5a.firebaseapp.com",projectId:"church-explorer-20e5a",storageBucket:"church-explorer-20e5a.firebasestorage.app",messagingSenderId:"359510802923",appId:"1:359510802923:web:1c9e7c335f63d8ef3659ae"}),o=(0,r.xI)(a),l=(0,s.aU)(a)},667:(e,t,n)=>{n.d(t,{hq:()=>vc,collection:()=>nl,deleteDoc:()=>fc,H9:()=>il,x7:()=>uc,getDocs:()=>hc,aU:()=>ll,GV:()=>xc,AB:()=>Zl,orderBy:()=>Yl,query:()=>Jl,O5:()=>bc,BN:()=>mc,mZ:()=>pc});var i,r,s=n(555),a=n(232),o=n(606),l=n(965),c=n(776),u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},d={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const i=Array(16);if("string"===typeof t)for(var r=0;r<16;++r)i[r]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(r=0;r<16;++r)i[r]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],r=e.g[2];let s,a=e.g[3];s=t+(a^n&(r^a))+i[0]+3614090360&4294967295,s=a+(r^(t=n+(s<<7&4294967295|s>>>25))&(n^r))+i[1]+3905402710&4294967295,a=t+(s<<12&4294967295|s>>>20),s=r+(n^a&(t^n))+i[2]+606105819&4294967295,s=n+(t^(r=a+(s<<17&4294967295|s>>>15))&(a^t))+i[3]+3250441966&4294967295,s=t+(a^(n=r+(s<<22&4294967295|s>>>10))&(r^a))+i[4]+4118548399&4294967295,s=a+(r^(t=n+(s<<7&4294967295|s>>>25))&(n^r))+i[5]+1200080426&4294967295,a=t+(s<<12&4294967295|s>>>20),s=r+(n^a&(t^n))+i[6]+2821735955&4294967295,s=n+(t^(r=a+(s<<17&4294967295|s>>>15))&(a^t))+i[7]+4249261313&4294967295,s=t+(a^(n=r+(s<<22&4294967295|s>>>10))&(r^a))+i[8]+1770035416&4294967295,s=a+(r^(t=n+(s<<7&4294967295|s>>>25))&(n^r))+i[9]+2336552879&4294967295,a=t+(s<<12&4294967295|s>>>20),s=r+(n^a&(t^n))+i[10]+4294925233&4294967295,s=n+(t^(r=a+(s<<17&4294967295|s>>>15))&(a^t))+i[11]+2304563134&4294967295,s=t+(a^(n=r+(s<<22&4294967295|s>>>10))&(r^a))+i[12]+1804603682&4294967295,s=a+(r^(t=n+(s<<7&4294967295|s>>>25))&(n^r))+i[13]+4254626195&4294967295,a=t+(s<<12&4294967295|s>>>20),s=r+(n^a&(t^n))+i[14]+2792965006&4294967295,s=n+(t^(r=a+(s<<17&4294967295|s>>>15))&(a^t))+i[15]+1236535329&4294967295,s=t+(r^a&((n=r+(s<<22&4294967295|s>>>10))^r))+i[1]+4129170786&4294967295,s=a+(n^r&((t=n+(s<<5&4294967295|s>>>27))^n))+i[6]+3225465664&4294967295,a=t+(s<<9&4294967295|s>>>23),s=r+(t^n&(a^t))+i[11]+643717713&4294967295,s=n+(a^t&((r=a+(s<<14&4294967295|s>>>18))^a))+i[0]+3921069994&4294967295,s=t+(r^a&((n=r+(s<<20&4294967295|s>>>12))^r))+i[5]+3593408605&4294967295,s=a+(n^r&((t=n+(s<<5&4294967295|s>>>27))^n))+i[10]+38016083&4294967295,a=t+(s<<9&4294967295|s>>>23),s=r+(t^n&(a^t))+i[15]+3634488961&4294967295,s=n+(a^t&((r=a+(s<<14&4294967295|s>>>18))^a))+i[4]+3889429448&4294967295,s=t+(r^a&((n=r+(s<<20&4294967295|s>>>12))^r))+i[9]+568446438&4294967295,s=a+(n^r&((t=n+(s<<5&4294967295|s>>>27))^n))+i[14]+3275163606&4294967295,a=t+(s<<9&4294967295|s>>>23),s=r+(t^n&(a^t))+i[3]+4107603335&4294967295,s=n+(a^t&((r=a+(s<<14&4294967295|s>>>18))^a))+i[8]+1163531501&4294967295,s=t+(r^a&((n=r+(s<<20&4294967295|s>>>12))^r))+i[13]+2850285829&4294967295,s=a+(n^r&((t=n+(s<<5&4294967295|s>>>27))^n))+i[2]+4243563512&4294967295,a=t+(s<<9&4294967295|s>>>23),s=r+(t^n&(a^t))+i[7]+1735328473&4294967295,s=n+(a^t&((r=a+(s<<14&4294967295|s>>>18))^a))+i[12]+2368359562&4294967295,s=t+((n=r+(s<<20&4294967295|s>>>12))^r^a)+i[5]+4294588738&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^r)+i[8]+2272392833&4294967295,a=t+(s<<11&4294967295|s>>>21),s=r+(a^t^n)+i[11]+1839030562&4294967295,s=n+((r=a+(s<<16&4294967295|s>>>16))^a^t)+i[14]+4259657740&4294967295,s=t+((n=r+(s<<23&4294967295|s>>>9))^r^a)+i[1]+2763975236&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^r)+i[4]+1272893353&4294967295,a=t+(s<<11&4294967295|s>>>21),s=r+(a^t^n)+i[7]+4139469664&4294967295,s=n+((r=a+(s<<16&4294967295|s>>>16))^a^t)+i[10]+3200236656&4294967295,s=t+((n=r+(s<<23&4294967295|s>>>9))^r^a)+i[13]+681279174&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^r)+i[0]+3936430074&4294967295,a=t+(s<<11&4294967295|s>>>21),s=r+(a^t^n)+i[3]+3572445317&4294967295,s=n+((r=a+(s<<16&4294967295|s>>>16))^a^t)+i[6]+76029189&4294967295,s=t+((n=r+(s<<23&4294967295|s>>>9))^r^a)+i[9]+3654602809&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^r)+i[12]+3873151461&4294967295,a=t+(s<<11&4294967295|s>>>21),s=r+(a^t^n)+i[15]+530742520&4294967295,s=n+((r=a+(s<<16&4294967295|s>>>16))^a^t)+i[2]+3299628645&4294967295,s=t+(r^((n=r+(s<<23&4294967295|s>>>9))|~a))+i[0]+4096336452&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~r))+i[7]+1126891415&4294967295,a=t+(s<<10&4294967295|s>>>22),s=r+(t^(a|~n))+i[14]+2878612391&4294967295,s=n+(a^((r=a+(s<<15&4294967295|s>>>17))|~t))+i[5]+4237533241&4294967295,s=t+(r^((n=r+(s<<21&4294967295|s>>>11))|~a))+i[12]+1700485571&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~r))+i[3]+2399980690&4294967295,a=t+(s<<10&4294967295|s>>>22),s=r+(t^(a|~n))+i[10]+4293915773&4294967295,s=n+(a^((r=a+(s<<15&4294967295|s>>>17))|~t))+i[1]+2240044497&4294967295,s=t+(r^((n=r+(s<<21&4294967295|s>>>11))|~a))+i[8]+1873313359&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~r))+i[15]+4264355552&4294967295,a=t+(s<<10&4294967295|s>>>22),s=r+(t^(a|~n))+i[6]+2734768916&4294967295,s=n+(a^((r=a+(s<<15&4294967295|s>>>17))|~t))+i[13]+1309151649&4294967295,s=t+(r^((n=r+(s<<21&4294967295|s>>>11))|~a))+i[4]+4149444226&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~r))+i[11]+3174756917&4294967295,a=t+(s<<10&4294967295|s>>>22),s=r+(t^(a|~n))+i[2]+718787259&4294967295,s=n+(a^((r=a+(s<<15&4294967295|s>>>17))|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+a&4294967295}function s(e,t){this.h=t;const n=[];let i=!0;for(let r=e.length-1;r>=0;r--){const s=0|e[r];i&&s==t||(n[r]=s,i=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const i=t-this.blockSize,r=this.C;let s=this.h,a=0;for(;a<t;){if(0==s)for(;a<=i;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,r),s=0;break}}else for(;a<t;)if(r[s++]=e[a++],s==this.blockSize){n(this,r),s=0;break}}this.h=s,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let i=0;i<32;i+=8)e[t++]=this.g[n]>>>i&255;return e};var a={};function o(e){return-128<=e&&e<128?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new s([0|e],e<0?-1:0)}):new s([0|e],e<0?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return c;if(e<0)return f(l(-e));const t=[];let n=1;for(let i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new s(t,0)}var c=o(0),u=o(1),h=o(16777216);function m(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function p(e){return-1==e.h}function f(e){const t=e.g.length,n=[];for(let i=0;i<t;i++)n[i]=~e.g[i];return new s(n,~e.h).add(u)}function g(e,t){return e.add(f(t))}function y(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function b(e,t){this.g=e,this.h=t}function v(e,t){if(m(t))throw Error("division by zero");if(m(e))return new b(c,c);if(p(e))return t=v(f(e),t),new b(f(t.g),f(t.h));if(p(t))return t=v(e,f(t)),new b(f(t.g),t.h);if(e.g.length>30){if(p(e)||p(t))throw Error("slowDivide_ only works with positive integers.");for(var n=u,i=t;i.l(e)<=0;)n=x(n),i=x(i);var r=w(n,1),s=w(i,1);for(i=w(i,2),n=w(n,2);!m(i);){var a=s.add(i);a.l(e)<=0&&(r=r.add(n),s=a),i=w(i,1),n=w(n,1)}return t=g(e,r.j(t)),new b(r,t)}for(r=c;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),i=(i=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,i-48),a=(s=l(n)).j(t);p(a)||a.l(e)>0;)a=(s=l(n-=i)).j(t);m(s)&&(s=u),r=r.add(s),e=g(e,a)}return new b(r,e)}function x(e){const t=e.g.length+1,n=[];for(let i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new s(n,e.h)}function w(e,t){const n=t>>5;t%=32;const i=e.g.length-n,r=[];for(let s=0;s<i;s++)r[s]=t>0?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new s(r,e.h)}(e=s.prototype).m=function(){if(p(this))return-f(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const i=this.i(n);e+=(i>=0?i:4294967296+i)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(m(this))return"0";if(p(this))return"-"+f(this).toString(e);const t=l(Math.pow(e,6));var n=this;let i="";for(;;){const r=v(n,t).g;let s=(((n=g(n,r.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(m(n=r))return s+i;for(;s.length<6;)s="0"+s;i=s+i}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return p(e=g(this,e))?-1:m(e)?0:1},e.abs=function(){return p(this)?f(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),s=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=s>>>16,t&=65535,s&=65535,n[r]=s<<16|t}return new s(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(m(this)||m(e))return c;if(p(this))return p(e)?f(this).j(f(e)):f(f(this).j(e));if(p(e))return f(this.j(f(e)));if(this.l(h)<0&&e.l(h)<0)return l(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,s=65535&this.i(i),a=e.i(t)>>>16,o=65535&e.i(t);n[2*i+2*t]+=s*o,y(n,2*i+2*t),n[2*i+2*t+1]+=r*o,y(n,2*i+2*t+1),n[2*i+2*t+1]+=s*a,y(n,2*i+2*t+1),n[2*i+2*t+2]+=r*a,y(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new s(n,0)},e.B=function(e){return v(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new s(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new s(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new s(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,r=d.Md5=t,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return f(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const i=l(Math.pow(n,8));let r=c;for(let a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a);const e=parseInt(t.substring(a,a+s),n);s<8?(s=l(Math.pow(n,s)),r=r.j(s).add(l(e))):(r=r.j(i),r=r.add(l(e)))}return r},i=d.Integer=s}).apply("undefined"!==typeof u?u:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var h,m,p,f,g,y,b,v,x="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},w={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof x&&x];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function i(e,i){if(i)e:{var r=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in r))break e;r=r[a]}(i=i(s=r[e=e[e.length-1]]))!=s&&null!=i&&t(r,e,{configurable:!0,writable:!0,value:i})}}i("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var r=r||{},s=this||self;function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=o).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function S(e){const t=e.length;if(t>0){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function C(e,t){for(let i=1;i<arguments.length;i++){const t=arguments[i];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const i=t.length||0;e.length=n+i;for(let r=0;r<i;r++)e[n+r]=t[r]}else e.push(t)}}function N(e){s.setTimeout(()=>{throw e},0)}function T(){var e=_;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var j=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new E,e=>e.reset());class E{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let A,I=!1,_=new class{constructor(){this.h=this.g=null}add(e,t){const n=j.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=Promise.resolve(void 0);A=()=>{e.then(R)}};function R(){for(var e;e=T();){try{e.h.call(e.g)}catch(n){N(n)}var t=j;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}I=!1}function D(){this.u=this.u,this.C=this.C}function L(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},L.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function M(e){return/^[\s\xa0]*$/.test(e)}function B(e,t){L.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(B,L),B.prototype.init=function(e,t){const n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&B.Z.h.call(this)},B.prototype.h=function(){B.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),z=0;function q(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ha=r,this.key=++z,this.da=this.fa=!1}function W(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function H(e){const t={};for(const n in e)t[n]=e[n];return t}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(e,t){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)e[n]=i[n];for(let t=0;t<U.length;t++)n=U[t],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function J(e){this.src=e,this.g={},this.h=0}function K(e,t){const n=t.type;if(n in e.g){var i,r=e.g[n],s=Array.prototype.indexOf.call(r,t,void 0);(i=s>=0)&&Array.prototype.splice.call(r,s,1),i&&(W(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Q(e,t,n,i){for(let r=0;r<e.length;++r){const s=e[r];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==i)return r}return-1}J.prototype.add=function(e,t,n,i,r){const s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);const a=Q(e,t,i,r);return a>-1?(t=e[a],n||(t.fa=!1)):((t=new q(t,this.src,s,!!i,r)).fa=n,e.push(t)),t};var X="closure_lm_"+(1e6*Math.random()|0),Y={};function $(e,t,n,i,r){if(i&&i.once)return ee(e,t,n,i,r);if(Array.isArray(t)){for(let s=0;s<t.length;s++)$(e,t[s],n,i,r);return null}return n=le(n),e&&e[F]?e.J(t,n,a(i)?!!i.capture:!!i,r):Z(e,t,n,!1,i,r)}function Z(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");const o=a(r)?!!r.capture:!!r;let l=ae(e);if(l||(e[X]=l=new J(e)),(n=l.add(t,n,i,o,s)).proxy)return n;if(i=function(){function e(n){return t.call(e.src,e.listener,n)}const t=se;return e}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)O||(r=o),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(re(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function ee(e,t,n,i,r){if(Array.isArray(t)){for(let s=0;s<t.length;s++)ee(e,t[s],n,i,r);return null}return n=le(n),e&&e[F]?e.K(t,n,a(i)?!!i.capture:!!i,r):Z(e,t,n,!0,i,r)}function ne(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)ne(e,t[s],n,i,r);else i=a(i)?!!i.capture:!!i,n=le(n),e&&e[F]?(e=e.i,(s=String(t).toString())in e.g&&((n=Q(t=e.g[s],n,i,r))>-1&&(W(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[s],e.h--)))):e&&(e=ae(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Q(t,n,i,r)),(n=e>-1?t[e]:null)&&ie(n))}function ie(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])K(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(re(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=ae(t))?(K(n,e),0==n.h&&(n.src=null,t[X]=null)):W(e)}}}function re(e){return e in Y?Y[e]:Y[e]="on"+e}function se(e,t){if(e.da)e=!0;else{t=new B(t,this);const n=e.listener,i=e.ha||e.src;e.fa&&ie(e),e=n.call(i,t)}return e}function ae(e){return(e=e[X])instanceof J?e:null}var oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function le(e){return"function"===typeof e?e:(e[oe]||(e[oe]=function(t){return e.handleEvent(t)}),e[oe])}function ce(){D.call(this),this.i=new J(this),this.M=this,this.G=null}function ue(e,t){var n,i=e.G;if(i)for(n=[];i;i=i.G)n.push(i);if(e=e.M,i=t.type||t,"string"===typeof t)t=new L(t,e);else if(t instanceof L)t.target=t.target||e;else{var r=t;G(t=new L(i,e),r)}let s,a;if(r=!0,n)for(a=n.length-1;a>=0;a--)s=t.g=n[a],r=de(s,i,!0,t)&&r;if(s=t.g=e,r=de(s,i,!0,t)&&r,r=de(s,i,!1,t)&&r,n)for(a=0;a<n.length;a++)s=t.g=n[a],r=de(s,i,!1,t)&&r}function de(e,t,n,i){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let r=!0;for(let s=0;s<t.length;++s){const a=t[s];if(a&&!a.da&&a.capture==n){const t=a.listener,n=a.ha||a.src;a.fa&&K(e.i,a),r=!1!==t.call(n,i)&&r}}return r&&!i.defaultPrevented}function he(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:s.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,he(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(ce,D),ce.prototype[F]=!0,ce.prototype.removeEventListener=function(e,t,n,i){ne(this,e,t,n,i)},ce.prototype.N=function(){if(ce.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)W(n[e]);delete e.g[t],e.h--}}this.G=null},ce.prototype.J=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)},ce.prototype.K=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};class me extends D{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:he(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pe(e){D.call(this),this.h=e,this.g={}}u(pe,D);var fe=[];function ge(e){V(e.g,function(e,t){this.g.hasOwnProperty(t)&&ie(e)},e),e.g={}}pe.prototype.N=function(){pe.Z.N.call(this),ge(this)},pe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ye=s.JSON.stringify,be=s.JSON.parse,ve=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function xe(){}function we(){}var Se={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){L.call(this,"d")}function Ce(){L.call(this,"c")}u(ke,L),u(Ce,L);var Ne={},Te=null;function je(){return Te=Te||new ce}function Ee(e){L.call(this,Ne.Ia,e)}function Ae(e){const t=je();ue(t,new Ee(t))}function Ie(e,t){L.call(this,Ne.STAT_EVENT,e),this.stat=t}function _e(e){const t=je();ue(t,new Ie(t,e))}function Pe(e,t){L.call(this,Ne.Ja,e),this.size=t}function Re(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function De(){this.g=!0}function Le(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const s=JSON.parse(t);if(s)for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var n=s[e];if(!(n.length<2)){var i=n[1];if(Array.isArray(i)&&!(i.length<1)){var r=i[0];if("noop"!=r&&"stop"!=r&&"close"!=r)for(let e=1;e<i.length;e++)i[e]=""}}}return ye(s)}catch(s){return t}}(e,n)+(i?" "+i:"")})}Ne.Ia="serverreachability",u(Ee,L),Ne.STAT_EVENT="statevent",u(Ie,L),Ne.Ja="timingevent",u(Pe,L),De.prototype.ua=function(){this.g=!1},De.prototype.info=function(){};var Oe,Me={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Be={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Fe(){}function ze(e){return encodeURIComponent(String(e))}function qe(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function We(e,t,n,i){this.j=e,this.i=t,this.l=n,this.S=i||1,this.V=new pe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ve}function Ve(){this.i=null,this.g="",this.h=!1}u(Fe,xe),Fe.prototype.g=function(){return new XMLHttpRequest},Oe=new Fe;var He={},Ue={};function Ge(e,t,n){e.M=1,e.A=yt(ht(t)),e.u=n,e.R=!0,Je(e,null)}function Je(e,t){e.F=Date.now(),Xe(e),e.B=ht(e.A);var n=e.B,i=e.S;Array.isArray(i)||(i=[String(i)]),_t(n.i,"t",i),e.C=0,n=e.j.L,e.h=new Ve,e.g=bn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new me(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,i=e.ba;var r="readystatechange";Array.isArray(r)||(r&&(fe[0]=r.toString()),r=fe);for(let s=0;s<r.length;s++){const e=$(n,r[s],i||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?H(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),Ae(),function(e,t,n,i,r,s){e.info(function(){if(e.g)if(s){var a="",o=s.split("&");for(let e=0;e<o.length;e++){var l=o[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");a=t.length>=2&&"type"==t[1]?a+(e+"=")+l+"&":a+(e+"=redacted&")}}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Ke(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Qe(e,t){var n=e.C,i=t.indexOf("\n",n);return-1==i?Ue:(n=Number(t.substring(n,i)),isNaN(n)?He:(i+=1)+n>t.length?Ue:(t=t.slice(i,i+n),e.C=i+n,t))}function Xe(e){e.T=Date.now()+e.H,Ye(e,e.H)}function Ye(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=Re(l(e.aa,e),t)}function $e(e){e.D&&(s.clearTimeout(e.D),e.D=null)}function Ze(e){0==e.j.I||e.K||mn(e.j,e)}function et(e){$e(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ge(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function tt(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||at(n.h,e)))if(!e.L&&at(n.h,e)&&3==n.I){try{var i=n.Ba.g.parse(t)}catch(u){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;hn(n),tn(n)}cn(n),_e(18)}}else n.xa=r[1],0<n.xa-n.K&&r[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=Re(l(n.Va,n),6e3));st(n.h)<=1&&n.ta&&(n.ta=void 0)}else fn(n,11)}else if((e.L||n.g==e)&&hn(n),!M(t))for(r=n.Ba.g.parse(t),t=0;t<r.length;t++){let l=r[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const r=l[4];null!=r&&(n.za=r,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(i=1.5*u,n.O=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=i.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ot(s,s.h),s.h=null))}if(i.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(i.wa=e,gt(i.J,i.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var a=e;if((i=n).na=yn(i,i.L?i.ba:null,i.W),a.L){lt(i.h,a);var o=a,c=i.O;c&&(o.H=c),o.D&&($e(o),Xe(o)),i.g=a}else ln(i);n.i.length>0&&rn(n)}else"stop"!=l[0]&&"close"!=l[0]||fn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?fn(n,7):en(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}Ae()}catch(u){}}We.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Xt(e)?t.j():this.Y(e)},We.prototype.Y=function(e){try{if(e==this.g)e:{const l=Xt(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Yt(this.g)))){this.K||4!=l||7==c||Ae(),$e(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Ke(e))return e.g.la();const t=Yt(e.g);if(""===t)return"";let n="";const i=t.length,r=4==Xt(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return et(e),Ze(e),"";e.h.i=new s.TextDecoder}for(let s=0;s<i;s++)e.h.h=!0,n+=e.h.i.decode(t[s],{stream:!(r&&s==i-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,i,r,s,a){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var i,r=this.g;if((i=r.g?r.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(i)){var a=i;break t}}a=null}if(!(e=a)){this.o=!1,this.m=3,_e(12),et(this),Ze(this);break e}Le(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tt(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Qe(this,n),t==Ue){4==l&&(this.m=4,_e(14),e=!1),Le(this.i,this.l,null,"[Incomplete Response]");break}if(t==He){this.m=4,_e(15),Le(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Le(this.i,this.l,t,null),tt(this,t)}if(Ke(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,_e(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),un(o),o.P=!0,_e(11))}}else Le(this.i,this.l,n,"[Invalid Chunked Response]"),et(this),Ze(this)}else Le(this.i,this.l,n,null),tt(this,n);4==l&&et(this),this.o&&!this.K&&(4==l?mn(this.j,this):(this.o=!1,Xe(this)))}else(function(e){const t={};e=(e.g&&Xt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<e.length;i++){if(M(e[i]))continue;var n=qe(e[i]);const r=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[r]||[];t[r]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),et(this),Ze(this)}}}catch(te){}},We.prototype.cancel=function(){this.K=!0,et(this)},We.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(Ae(),_e(17)),et(this),this.m=2,Ze(this)):Ye(this,this.T-e)};var nt=class{constructor(e,t){this.g=e,this.map=t}};function it(e){this.l=e||10,s.PerformanceNavigationTiming?e=(e=s.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function rt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function st(e){return e.h?1:e.g?e.g.size:0}function at(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ot(e,t){e.g?e.g.add(t):e.h=t}function lt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ct(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return S(e.i)}it.prototype.cancel=function(){if(this.i=ct(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ut=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dt(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof dt?(this.l=e.l,mt(this,e.j),this.o=e.o,this.g=e.g,pt(this,e.u),this.h=e.h,ft(this,Pt(e.i)),this.m=e.m):e&&(t=String(e).match(ut))?(this.l=!1,mt(this,t[1]||"",!0),this.o=bt(t[2]||""),this.g=bt(t[3]||"",!0),pt(this,t[4]),this.h=bt(t[5]||"",!0),ft(this,t[6]||"",!0),this.m=bt(t[7]||"")):(this.l=!1,this.i=new Tt(null,this.l))}function ht(e){return new dt(e)}function mt(e,t,n){e.j=n?bt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function pt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function ft(e,t,n){t instanceof Tt?(e.i=t,function(e,t){t&&!e.j&&(jt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(Et(this,t),_t(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=vt(t,Ct)),e.i=new Tt(t,e.l))}function gt(e,t,n){e.i.set(t,n)}function yt(e){return gt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function bt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function vt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,xt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function xt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}dt.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(vt(t,wt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(vt(t,wt,!0),"@"),e.push(ze(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(vt(n,"/"==n.charAt(0)?kt:St,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",vt(n,Nt)),e.join("")},dt.prototype.resolve=function(e){const t=ht(this);let n=!!e.j;n?mt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var i=e.h;if(n)pt(t,e.u);else if(n=!!e.h){if("/"!=i.charAt(0))if(this.g&&!this.h)i="/"+i;else{var r=t.h.lastIndexOf("/");-1!=r&&(i=t.h.slice(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");const e=[];for(let t=0;t<r.length;){const n=r[t++];"."==n?i&&t==r.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),i&&t==r.length&&e.push("")):(e.push(n),i=!0)}i=e.join("/")}else i=r}return n?t.h=i:n=""!==e.i.toString(),n?ft(t,Pt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var wt=/[#\/\?@]/g,St=/[#\?:]/g,kt=/[#\?]/g,Ct=/[#\?@]/g,Nt=/#/g;function Tt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function jt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const i=e[n].indexOf("=");let r,s=null;i>=0?(r=e[n].substring(0,i),s=e[n].substring(i+1)):r=e[n],t(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Et(e,t){jt(e),t=Rt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function At(e,t){return jt(e),t=Rt(e,t),e.g.has(t)}function It(e,t){jt(e);let n=[];if("string"===typeof t)At(e,t)&&(n=n.concat(e.g.get(Rt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function _t(e,t,n){Et(e,t),n.length>0&&(e.i=null,e.g.set(Rt(e,t),S(n)),e.h+=n.length)}function Pt(e){const t=new Tt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function Rt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Dt(e,t,n,i,r){try{r&&(r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null),i(n)}catch(s){}}function Lt(){this.g=new ve}function Ot(e){this.i=e.Sb||null,this.h=e.ab||!1}function Mt(e,t){ce.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Bt(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Ft(e){e.readyState=4,e.l=null,e.j=null,e.B=null,zt(e)}function zt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function qt(e){let t="";return V(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Wt(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=qt(n),"string"===typeof e?null!=n&&ze(n):gt(e,t,n))}function Vt(e){ce.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=Tt.prototype).add=function(e,t){jt(this),this.i=null,e=Rt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){jt(this),this.g.forEach(function(n,i){n.forEach(function(n){e.call(t,n,i,this)},this)},this)},e.set=function(e,t){return jt(this),this.i=null,At(this,e=Rt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=It(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let i=0;i<t.length;i++){var n=t[i];const r=ze(n);n=It(this,n);for(let t=0;t<n.length;t++){let i=r;""!==n[t]&&(i+="="+ze(n[t])),e.push(i)}}return this.i=e.join("&")},u(Ot,xe),Ot.prototype.g=function(){return new Mt(this.i,this.h)},u(Mt,ce),(e=Mt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,zt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||s).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Ft(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,zt(this)),this.g&&(this.readyState=3,zt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Bt(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ft(this):zt(this),3==this.readyState&&Bt(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Ft(this))},e.Na=function(e){this.g&&(this.response=e,Ft(this))},e.ga=function(){this.g&&Ft(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Mt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Vt,ce);var Ht=/^https?$/i,Ut=["POST","PUT"];function Gt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Jt(e),Qt(e)}function Jt(e){e.A||(e.A=!0,ue(e,"complete"),ue(e,"error"))}function Kt(e){if(e.h&&"undefined"!=typeof r)if(e.v&&4==Xt(e))setTimeout(e.Ca.bind(e),0);else if(ue(e,"readystatechange"),4==Xt(e)){e.h=!1;try{const r=e.ca();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){let t=String(e.D).match(ut)[1]||null;!t&&s.self&&s.self.location&&(t=s.self.location.protocol.slice(0,-1)),i=!Ht.test(t?t.toLowerCase():"")}n=i}if(n)ue(e,"complete"),ue(e,"success");else{e.o=6;try{var a=Xt(e)>2?e.g.statusText:""}catch(o){a=""}e.l=a+" ["+e.ca()+"]",Jt(e)}}finally{Qt(e)}}}function Qt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const i=e.g;e.g=null,t||ue(e,"ready");try{i.onreadystatechange=null}catch(n){}}}function Xt(e){return e.g?e.g.readyState:0}function Yt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function $t(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Zt(e){this.za=0,this.i=[],this.j=new De,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$t("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$t("baseRetryDelayMs",5e3,e),this.Za=$t("retryDelaySeedMs",1e4,e),this.Ta=$t("forwardChannelMaxRetries",2,e),this.va=$t("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new it(e&&e.concurrentRequestLimit),this.Ba=new Lt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function en(e){if(nn(e),3==e.I){var t=e.V++,n=ht(e.J);if(gt(n,"SID",e.M),gt(n,"RID",t),gt(n,"TYPE","terminate"),an(e,n),(t=new We(e,e.j,t)).M=2,t.A=yt(ht(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.A.toString(),"")}catch(i){}!n&&s.Image&&((new Image).src=t.A,n=!0),n||(t.g=bn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Xe(t)}gn(e)}function tn(e){e.g&&(un(e),e.g.cancel(),e.g=null)}function nn(e){tn(e),e.v&&(s.clearTimeout(e.v),e.v=null),hn(e),e.h.cancel(),e.m&&("number"===typeof e.m&&s.clearTimeout(e.m),e.m=null)}function rn(e){if(!rt(e.h)&&!e.m){e.m=!0;var t=e.Ea;A||P(),I||(A(),I=!0),_.add(t,e),e.D=0}}function sn(e,t){var n;n=t?t.l:e.V++;const i=ht(e.J);gt(i,"SID",e.M),gt(i,"RID",n),gt(i,"AID",e.K),an(e,i),e.u&&e.o&&Wt(i,e.u,e.o),n=new We(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=on(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),ot(e.h,n),Ge(n,i,t)}function an(e,t){e.H&&V(e.H,function(e,n){gt(t,n,e)}),e.l&&V({},function(e,n){gt(t,n,e)})}function on(e,t,n){n=Math.min(e.i.length,n);const i=e.l?l(e.l.Ka,e.l,e):null;e:{var r=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=r[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var s=r[c].g;const n=r[c].map;if((s-=t)<0)t=Math.max(0,r[c].g-100),l=!1;else try{s="req"+s+"_"||0;try{var o=n instanceof Map?n:Object.entries(n);for(const[t,n]of o){let i=n;a(n)&&(i=ye(n)),e.push(s+t+"="+encodeURIComponent(i))}}catch(k){throw e.push(s+"type="+encodeURIComponent("_badmap")),k}}catch(k){i&&i(n)}}if(l){o=e.join("&");break e}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function ln(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;A||P(),I||(A(),I=!0),_.add(t,e),e.A=0}}function cn(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=Re(l(e.Da,e),pn(e,e.A)),e.A++,!0)}function un(e){null!=e.B&&(s.clearTimeout(e.B),e.B=null)}function dn(e){e.g=new We(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=ht(e.na);gt(t,"RID","rpc"),gt(t,"SID",e.M),gt(t,"AID",e.K),gt(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&gt(t,"TO",e.ia),gt(t,"TYPE","xmlhttp"),an(e,t),e.u&&e.o&&Wt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=yt(ht(t)),n.u=null,n.R=!0,Je(n,e)}function hn(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function mn(e,t){var n=null;if(e.g==t){hn(e),un(e),e.g=null;var i=2}else{if(!at(e.h,t))return;n=t.G,lt(e.h,t),i=1}if(0!=e.I)if(t.o)if(1==i){n=t.u?t.u.length:0,t=Date.now()-t.F;var r=e.D;ue(i=je(),new Pe(i,n)),rn(e)}else ln(e);else if(3==(r=t.m)||0==r&&t.X>0||!(1==i&&function(e,t){return!(st(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=Re(l(e.Ea,e,t),pn(e,e.D)),e.D++,!0))}(e,t)||2==i&&cn(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),r){case 1:fn(e,5);break;case 4:fn(e,10);break;case 3:fn(e,6);break;default:fn(e,2)}}function pn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function fn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),i=e.Ua;const t=!i;i=new dt(i||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||mt(i,"https"),yt(i),t?function(e,t){const n=new De;if(s.Image){const i=new Image;i.onload=c(Dt,n,"TestLoadImage: loaded",!0,t,i),i.onerror=c(Dt,n,"TestLoadImage: error",!1,t,i),i.onabort=c(Dt,n,"TestLoadImage: abort",!1,t,i),i.ontimeout=c(Dt,n,"TestLoadImage: timeout",!1,t,i),s.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}(i.toString(),n):function(e,t){new De;const n=new AbortController,i=setTimeout(()=>{n.abort(),Dt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(i),e.ok?Dt(0,0,!0,t):Dt(0,0,!1,t)}).catch(()=>{clearTimeout(i),Dt(0,0,!1,t)})}(i.toString(),n)}else _e(2);e.I=0,e.l&&e.l.pa(t),gn(e),nn(e)}function gn(e){if(e.I=0,e.ja=[],e.l){const t=ct(e.h);0==t.length&&0==e.i.length||(C(e.ja,t),C(e.ja,e.i),e.h.i.length=0,S(e.i),e.i.length=0),e.l.oa()}}function yn(e,t,n){var i=n instanceof dt?ht(n):new dt(n);if(""!=i.g)t&&(i.g=t+"."+i.g),pt(i,i.u);else{var r=s.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;const e=new dt(null);i&&mt(e,i),t&&(e.g=t),r&&pt(e,r),n&&(e.h=n),i=e}return n=e.G,t=e.wa,n&&t&&gt(i,n,t),gt(i,"VER",e.ka),an(e,i),i}function bn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Vt(new Ot({ab:n})):new Vt(e.ma)).Fa(e.L),t}function vn(){}function xn(){}function wn(e,t){ce.call(this),this.g=new Zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!M(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!M(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Cn(this)}function Sn(e){ke.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function kn(){Ce.call(this),this.status=1}function Cn(e){this.g=e}(e=Vt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oe.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Gt(this,a)}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const e of i.keys())n.set(e,i.get(e))}i=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),r=s.FormData&&e instanceof s.FormData,!(Array.prototype.indexOf.call(Ut,t,void 0)>=0)||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(a){Gt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,ue(this,"complete"),ue(this,"abort"),Qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qt(this,!0)),Vt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Kt(this):this.Xa())},e.Xa=function(){Kt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Xt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),be(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Zt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,i){_e(0),this.W=e,this.H=t||{},n&&void 0!==i&&(this.H.OSID=n,this.H.OAID=i),this.F=this.X,this.J=yn(this,null,this.W),rn(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const r=new We(this,this.j,e);let s=this.o;if(this.U&&(s?(s=H(s),G(s,this.U)):s=this.U),null!==this.u||this.R||(r.J=s,s=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var i=this.i[n];if(void 0===(i="__data__"in i.map&&"string"===typeof(i=i.map.__data__)?i.length:void 0))break;if((t+=i)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=on(this,r,t),gt(n=ht(this.J),"RID",e),gt(n,"CVER",22),this.G&&gt(n,"X-HTTP-Session-Id",this.G),an(this,n),s&&(this.R?t="headers="+ze(qt(s))+"&"+t:this.u&&Wt(n,this.u,s)),ot(this.h,r),this.Ra&&gt(n,"TYPE","init"),this.S?(gt(n,"$req",t),gt(n,"SID","null"),r.U=!0,Ge(r,n,null)):Ge(r,n,t),this.I=2}}else 3==this.I&&(e?sn(this,e):0==this.i.length||rt(this.h)||sn(this))},e.Da=function(){if(this.v=null,dn(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=Re(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),tn(this),dn(this))},e.Va=function(){null!=this.C&&(this.C=null,tn(this),cn(this),_e(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=vn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},xn.prototype.g=function(e,t){return new wn(e,t)},u(wn,ce),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){en(this.g)},wn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ye(e),e=n);t.i.push(new nt(t.Ya++,e)),3==t.I&&rn(t)},wn.prototype.N=function(){this.g.l=null,delete this.j,en(this.g),delete this.g,wn.Z.N.call(this)},u(Sn,ke),u(kn,Ce),u(Cn,vn),Cn.prototype.ra=function(){ue(this.g,"a")},Cn.prototype.qa=function(e){ue(this.g,new Sn(e))},Cn.prototype.pa=function(e){ue(this.g,new kn)},Cn.prototype.oa=function(){ue(this.g,"b")},xn.prototype.createWebChannel=xn.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,v=w.createWebChannelTransport=function(){return new xn},b=w.getStatEventTarget=function(){return je()},y=w.Event=Ne,g=w.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Me.NO_ERROR=0,Me.TIMEOUT=8,Me.HTTP_ERROR=6,f=w.ErrorCode=Me,Be.COMPLETE="complete",p=w.EventType=Be,we.EventType=Se,Se.OPEN="a",Se.CLOSE="b",Se.ERROR="c",Se.MESSAGE="d",ce.prototype.listen=ce.prototype.J,m=w.WebChannel=we,w.FetchXmlHttpFactory=Ot,Vt.prototype.listenOnce=Vt.prototype.K,Vt.prototype.getLastError=Vt.prototype.Ha,Vt.prototype.getLastErrorCode=Vt.prototype.ya,Vt.prototype.getStatus=Vt.prototype.ca,Vt.prototype.getResponseJson=Vt.prototype.La,Vt.prototype.getResponseText=Vt.prototype.la,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Fa,h=w.XhrIo=Vt}).apply("undefined"!==typeof x?x:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const S="@firebase/firestore",k="4.9.2";class C{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}C.UNAUTHENTICATED=new C(null),C.GOOGLE_CREDENTIALS=new C("google-credentials-uid"),C.FIRST_PARTY=new C("first-party-uid"),C.MOCK_USER=new C("mock-user");let N="12.3.0";const T=new l.Vy("@firebase/firestore");function j(){return T.logLevel}function E(e){if(T.logLevel<=l.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(_);T.debug("Firestore (".concat(N,"): ").concat(e),...r)}}function A(e){if(T.logLevel<=l.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(_);T.error("Firestore (".concat(N,"): ").concat(e),...r)}}function I(e){if(T.logLevel<=l.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(_);T.warn("Firestore (".concat(N,"): ").concat(e),...r)}}function _(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function P(e,t,n){let i="Unexpected state";"string"==typeof t?i=t:n=t,R(e,i,n)}function R(e,t,n){let i="FIRESTORE (".concat(N,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{i+=" CONTEXT: "+JSON.stringify(n)}catch(e){i+=" CONTEXT: "+n}throw A(i),new Error(i)}function D(e,t,n,i){let r="Unexpected state";"string"==typeof n?r=n:i=n,e||R(t,r,i)}function L(e,t){return e}const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends c.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class B{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class F{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class z{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(C.UNAUTHENTICATED))}shutdown(){}}class q{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class W{constructor(e){this.t=e,this.currentUser=C.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){D(void 0===this.o,42304);let n=this.i;const i=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new B;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new B,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const t=r;e.enqueueRetryable(async()=>{await t.promise,await i(this.currentUser)})},a=e=>{E("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(E("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new B)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(E("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(D("string"==typeof t.accessToken,31837,{l:t}),new F(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return D(null===e||"string"==typeof e,2055,{h:e}),new C(e)}}class V{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=C.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new V(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(C.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class U{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,a.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){D(void 0===this.o,3512);const n=e=>{null!=e.error&&E("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,E("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const i=e=>{E("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>i(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?i(e):E("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new U(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(D("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new U(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function J(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}class K{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=J(40);for(let i=0;i<n.length;++i)t.length<20&&n[i]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[i]%62))}return t}}function Q(e,t){return e<t?-1:e>t?1:0}function X(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const n=e.charAt(i),r=t.charAt(i);if(n!==r)return Z(n)===Z(r)?Q(n,r):Z(n)?1:-1}return Q(e.length,t.length)}const Y=55296,$=57343;function Z(e){const t=e.charCodeAt(0);return t>=Y&&t<=$}function ee(e,t,n){return e.length===t.length&&e.every((e,i)=>n(e,t[i]))}const te="__name__";class ne{constructor(e,t,n){void 0===t?t=0:t>e.length&&P(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&P(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ne.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ne?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const n=ne.compareSegments(e.get(i),t.get(i));if(0!==n)return n}return Q(e.length,t.length)}static compareSegments(e,t){const n=ne.isNumericId(e),i=ne.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?ne.extractNumericId(e).compare(ne.extractNumericId(t)):X(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return i.fromString(e.substring(4,e.length-2))}}class ie extends ne{construct(e,t,n){return new ie(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n){if(r.indexOf("//")>=0)throw new M(O.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));e.push(...r.split("/").filter(e=>e.length>0))}return new ie(e)}static emptyPath(){return new ie([])}}const re=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class se extends ne{construct(e,t,n){return new se(e,t,n)}static isValidIdentifier(e){return re.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),se.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===te}static keyField(){return new se([te])}static fromServerFormat(e){const t=[];let n="",i=0;const r=()=>{if(0===n.length)throw new M(O.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;i<e.length;){const t=e[i];if("\\"===t){if(i+1===e.length)throw new M(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[i+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new M(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,i+=2}else"`"===t?(s=!s,i++):"."!==t||s?(n+=t,i++):(r(),i++)}if(r(),s)throw new M(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new se(t)}static emptyPath(){return new se([])}}class ae{constructor(e){this.path=e}static fromPath(e){return new ae(ie.fromString(e))}static fromName(e){return new ae(ie.fromString(e).popFirst(5))}static empty(){return new ae(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ie.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ie.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new ie(e.slice()))}}function oe(e,t,n){if(!n)throw new M(O.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function le(e){if(!ae.isDocumentKey(e))throw new M(O.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ce(e){if(ae.isDocumentKey(e))throw new M(O.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ue(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function de(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":P(12329,{type:typeof e})}function he(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new M(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=de(e);throw new M(O.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function me(e,t){if(t<=0)throw new M(O.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}function pe(e,t){const n={typeString:e};return t&&(n.value=t),n}function fe(e,t){if(!ue(e))throw new M(O.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const r=t[i].typeString,s="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n="JSON missing required field: '".concat(i,"'");break}const a=e[i];if(r&&typeof a!==r){n="JSON field '".concat(i,"' must be a ").concat(r,".");break}if(void 0!==s&&a!==s.value){n="Expected '".concat(i,"' field to equal '").concat(s.value,"'");break}}if(n)throw new M(O.INVALID_ARGUMENT,n);return!0}const ge=-62135596800,ye=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(e){return be.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ye);return new be(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ge)throw new M(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ye}_compareTo(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fe(e,be._jsonSchema))return new be(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ge;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}be._jsonSchemaVersion="firestore/timestamp/1.0",be._jsonSchema={type:pe("string",be._jsonSchemaVersion),seconds:pe("number"),nanoseconds:pe("number")};class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new be(0,0))}static max(){return new ve(new be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xe=-1;class we{constructor(e,t,n,i){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=i}}we.UNKNOWN_ID=-1;function Se(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=ve.fromTimestamp(1e9===i?new be(n+1,0):new be(n,i));return new Ce(r,ae.empty(),t)}function ke(e){return new Ce(e.readTime,e.key,xe)}class Ce{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ce(ve.min(),ae.empty(),xe)}static max(){return new Ce(ve.max(),ae.empty(),xe)}}function Ne(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ae.comparator(e.documentKey,t.documentKey),0!==n?n:Q(e.largestBatchId,t.largestBatchId))}const Te="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class je{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Ee(e){if(e.code!==O.FAILED_PRECONDITION||e.message!==Te)throw e;E("LocalStore","Unexpectedly lost primary lease")}class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&P(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ae((n,i)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,i)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ae?t:Ae.resolve(t)}catch(e){return Ae.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.reject(t)}static resolve(e){return new Ae((t,n)=>{t(e)})}static reject(e){return new Ae((t,n)=>{n(e)})}static waitFor(e){return new Ae((t,n)=>{let i=0,r=0,s=!1;e.forEach(e=>{++i,e.next(()=>{++r,s&&r===i&&t()},e=>n(e))}),s=!0,r===i&&t()})}static or(e){let t=Ae.resolve(!1);for(const n of e)t=t.next(e=>e?Ae.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,i)=>{n.push(t.call(this,e,i))}),this.waitFor(n)}static mapArray(e,t){return new Ae((n,i)=>{const r=e.length,s=new Array(r);let a=0;for(let o=0;o<r;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===r&&n(s)},e=>i(e))}})}static doWhile(e,t){return new Ae((n,i)=>{const r=()=>{!0===e()?t().next(()=>{r()},i):n()};r()})}}function Ie(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _e(e){return"IndexedDbTransactionError"===e.name}class Pe{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pe.ce=-1;const Re=-1;function De(e){return null==e}function Le(e){return 0===e&&1/e==-1/0}function Oe(e){return"number"==typeof e&&Number.isInteger(e)&&!Le(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Me="\x01";function Be(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ze(t)),t=Fe(e.get(n),t);return ze(t)}function Fe(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const t=e.charAt(r);switch(t){case"\0":n+="\x01\x10";break;case Me:n+="\x01\x11";break;default:n+=t}}return n}function ze(e){return e+Me+"\x01"}const qe="remoteDocuments",We="owner",Ve="mutationQueues",He="mutations";const Ue="documentMutations",Ge="remoteDocumentsV14",Je="remoteDocumentGlobal",Ke="targets",Qe="targetDocuments",Xe="targetGlobal",Ye="collectionParents",$e="clientMetadata",Ze="bundles",et="namedQueries",tt="indexConfiguration",nt="indexState",it="indexEntries",rt="documentOverlays",st="globals",at=[Ve,He,Ue,qe,Ke,We,Xe,Qe,$e,Je,Ye,Ze,et],ot=[Ve,He,Ue,Ge,Ke,We,Xe,Qe,$e,Je,Ye,Ze,et,rt],lt=ot,ct=[...lt,tt,nt,it];function ut(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function dt(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ht(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class mt{constructor(e,t){this.comparator=e,this.root=t||ft.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pt(this.root,e,this.comparator,!1)}getReverseIterator(){return new pt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pt(this.root,e,this.comparator,!0)}}class pt{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:ft.RED,this.left=null!=i?i:ft.EMPTY,this.right=null!=r?r:ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,r){return new ft(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ft.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw P(43730,{key:this.key,value:this.value});if(this.right.isRed())throw P(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw P(27949);return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1,ft.EMPTY=new class{constructor(){this.size=0}get key(){throw P(57766)}get value(){throw P(16141)}get color(){throw P(16727)}get left(){throw P(29726)}get right(){throw P(36894)}copy(e,t,n,i,r){return this}insert(e,t,n){return new ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yt(this.data.getIterator())}getIteratorFrom(e){return new yt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof gt))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gt(this.comparator);return t.data=e,t}}class yt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bt{constructor(e){this.fields=e,e.sort(se.comparator)}static empty(){return new bt([])}unionWith(e){let t=new gt(se.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new bt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ee(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class vt extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new vt("Invalid base64 string: "+e):e}}(e);return new xt(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const wt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function St(e){if(D(!!e,39018),"string"==typeof e){let t=0;const n=wt.exec(e);if(D(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:kt(e.seconds),nanos:kt(e.nanos)}}function kt(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ct(e){return"string"==typeof e?xt.fromBase64String(e):xt.fromUint8Array(e)}const Nt="server_timestamp",Tt="__type__",jt="__previous_value__",Et="__local_write_time__";function At(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Tt])||void 0===t?void 0:t.stringValue)===Nt}function It(e){const t=e.mapValue.fields[jt];return At(t)?It(t):t}function _t(e){const t=St(e.mapValue.fields[Et].timestampValue);return new be(t.seconds,t.nanos)}class Pt{constructor(e,t,n,i,r,s,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const Rt="(default)";class Dt{constructor(e,t){this.projectId=e,this.database=t||Rt}static empty(){return new Dt("","")}get isDefaultDatabase(){return this.database===Rt}isEqual(e){return e instanceof Dt&&e.projectId===this.projectId&&e.database===this.database}}const Lt="__type__",Ot="__max__",Mt={mapValue:{fields:{__type__:{stringValue:Ot}}}},Bt="__vector__",Ft="value";function zt(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?At(e)?4:rn(e)?9007199254740991:tn(e)?10:11:P(28295,{value:e})}function qt(e,t){if(e===t)return!0;const n=zt(e);if(n!==zt(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return _t(e).isEqual(_t(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=St(e.timestampValue),i=St(t.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ct(e.bytesValue).isEqual(Ct(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return kt(e.geoPointValue.latitude)===kt(t.geoPointValue.latitude)&&kt(e.geoPointValue.longitude)===kt(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return kt(e.integerValue)===kt(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=kt(e.doubleValue),i=kt(t.doubleValue);return n===i?Le(n)===Le(i):isNaN(n)&&isNaN(i)}return!1}(e,t);case 9:return ee(e.arrayValue.values||[],t.arrayValue.values||[],qt);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},i=t.mapValue.fields||{};if(ut(n)!==ut(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!qt(n[r],i[r])))return!1;return!0}(e,t);default:return P(52216,{left:e})}}function Wt(e,t){return void 0!==(e.values||[]).find(e=>qt(e,t))}function Vt(e,t){if(e===t)return 0;const n=zt(e),i=zt(t);if(n!==i)return Q(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=kt(e.integerValue||e.doubleValue),i=kt(t.integerValue||t.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(e,t);case 3:return Ht(e.timestampValue,t.timestampValue);case 4:return Ht(_t(e),_t(t));case 5:return X(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ct(e),i=Ct(t);return n.compareTo(i)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),i=t.split("/");for(let r=0;r<n.length&&r<i.length;r++){const e=Q(n[r],i[r]);if(0!==e)return e}return Q(n.length,i.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Q(kt(e.latitude),kt(t.latitude));return 0!==n?n:Q(kt(e.longitude),kt(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ut(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,i,r,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a[Ft])||void 0===n?void 0:n.arrayValue,c=null===(i=o[Ft])||void 0===i?void 0:i.arrayValue,u=Q((null===l||void 0===l||null===(r=l.values)||void 0===r?void 0:r.length)||0,(null===c||void 0===c||null===(s=c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Ut(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Mt.mapValue&&t===Mt.mapValue)return 0;if(e===Mt.mapValue)return 1;if(t===Mt.mapValue)return-1;const n=e.fields||{},i=Object.keys(n),r=t.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let a=0;a<i.length&&a<s.length;++a){const e=X(i[a],s[a]);if(0!==e)return e;const t=Vt(n[i[a]],r[s[a]]);if(0!==t)return t}return Q(i.length,s.length)}(e.mapValue,t.mapValue);default:throw P(23264,{he:n})}}function Ht(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Q(e,t);const n=St(e),i=St(t),r=Q(n.seconds,i.seconds);return 0!==r?r:Q(n.nanos,i.nanos)}function Ut(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const e=Vt(n[r],i[r]);if(e)return e}return Q(n.length,i.length)}function Gt(e){return Jt(e)}function Jt(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=St(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ct(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ae.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const i of e.values||[])n?n=!1:t+=",",t+=Jt(i);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",i=!0;for(const r of t)i?i=!1:n+=",",n+="".concat(r,":").concat(Jt(e.fields[r]));return n+"}"}(e.mapValue):P(61005,{value:e})}function Kt(e){switch(zt(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=It(e);return t?16+Kt(t):16;case 5:return 2*e.stringValue.length;case 6:return Ct(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Kt(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return dt(e.fields,(e,n)=>{t+=e.length+Kt(n)}),t}(e.mapValue);default:throw P(13486,{value:e})}}function Qt(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Xt(e){return!!e&&"integerValue"in e}function Yt(e){return!!e&&"arrayValue"in e}function $t(e){return!!e&&"nullValue"in e}function Zt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function en(e){return!!e&&"mapValue"in e}function tn(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Lt])||void 0===t?void 0:t.stringValue)===Bt}function nn(e){if(e.geoPointValue)return{geoPointValue:(0,s.A)({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:(0,s.A)({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return dt(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=nn(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=nn(e.arrayValue.values[n]);return t}return(0,s.A)({},e)}function rn(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ot}class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!en(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nn(t)}setAll(e){let t=se.emptyPath(),n={},i=[];e.forEach((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,i),n={},i=[],t=r.popLast()}e?n[r.lastSegment()]=nn(e):i.push(r.lastSegment())});const r=this.getFieldsMap(t);this.applyChanges(r,n,i)}delete(e){const t=this.field(e.popLast());en(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];en(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){dt(t,(t,n)=>e[t]=n);for(const i of n)delete e[i]}clone(){return new sn(nn(this.value))}}function an(e){const t=[];return dt(e.fields,(e,n)=>{const i=new se([e]);if(en(n)){const e=an(n.mapValue).fields;if(0===e.length)t.push(i);else for(const n of e)t.push(i.child(n))}else t.push(i)}),new bt(t)}class on{constructor(e,t,n,i,r,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=r,this.data=s,this.documentState=a}static newInvalidDocument(e){return new on(e,0,ve.min(),ve.min(),ve.min(),sn.empty(),0)}static newFoundDocument(e,t,n,i){return new on(e,1,t,ve.min(),n,i,0)}static newNoDocument(e,t){return new on(e,2,t,ve.min(),ve.min(),sn.empty(),0)}static newUnknownDocument(e,t){return new on(e,3,t,ve.min(),ve.min(),sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ve.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ln{constructor(e,t){this.position=e,this.inclusive=t}}function cn(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],a=e.position[r];if(i=s.field.isKeyField()?ae.comparator(ae.fromName(a.referenceValue),n.key):Vt(a,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function un(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!qt(e.position[n],t.position[n]))return!1;return!0}class dn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function hn(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class mn{}class pn extends mn{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Sn(e,t,n):"array-contains"===t?new Tn(e,n):"in"===t?new jn(e,n):"not-in"===t?new En(e,n):"array-contains-any"===t?new An(e,n):new pn(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new kn(e,n):new Cn(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Vt(t,this.value)):null!==t&&zt(this.value)===zt(t)&&this.matchesComparison(Vt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return P(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fn extends mn{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new fn(e,t)}matches(e){return gn(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gn(e){return"and"===e.op}function yn(e){return bn(e)&&gn(e)}function bn(e){for(const t of e.filters)if(t instanceof fn)return!1;return!0}function vn(e){if(e instanceof pn)return e.field.canonicalString()+e.op.toString()+Gt(e.value);if(yn(e))return e.filters.map(e=>vn(e)).join(",");{const t=e.filters.map(e=>vn(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function xn(e,t){return e instanceof pn?function(e,t){return t instanceof pn&&e.op===t.op&&e.field.isEqual(t.field)&&qt(e.value,t.value)}(e,t):e instanceof fn?function(e,t){return t instanceof fn&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,i)=>e&&xn(n,t.filters[i]),!0)}(e,t):void P(19439)}function wn(e){return e instanceof pn?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Gt(e.value))}(e):e instanceof fn?function(e){return e.op.toString()+" {"+e.getFilters().map(wn).join(" ,")+"}"}(e):"Filter"}class Sn extends pn{constructor(e,t,n){super(e,t,n),this.key=ae.fromName(n.referenceValue)}matches(e){const t=ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class kn extends pn{constructor(e,t){super(e,"in",t),this.keys=Nn("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Cn extends pn{constructor(e,t){super(e,"not-in",t),this.keys=Nn("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Nn(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>ae.fromName(e.referenceValue))}class Tn extends pn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yt(t)&&Wt(t.arrayValue,this.value)}}class jn extends pn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wt(this.value.arrayValue,t)}}class En extends pn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Wt(this.value.arrayValue,t)}}class An extends pn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Wt(this.value.arrayValue,e))}}class In{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=a,this.Te=null}}function _n(e){return new In(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Pn(e){const t=L(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>vn(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),De(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Gt(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Gt(e)).join(",")),t.Te=e}return t.Te}function Rn(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!hn(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!xn(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!un(e.startAt,t.startAt)&&un(e.endAt,t.endAt)}function Dn(e){return ae.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Ln{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=a,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function On(e,t,n,i,r,s,a,o){return new Ln(e,t,n,i,r,s,a,o)}function Mn(e){return new Ln(e)}function Bn(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Fn(e){return null!==e.collectionGroup}function zn(e){const t=L(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const r of t.explicitOrderBy)t.Ie.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",i=function(e){let t=new gt(se.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);i.forEach(i=>{e.has(i.canonicalString())||i.isKeyField()||t.Ie.push(new dn(i,n))}),e.has(se.keyField().canonicalString())||t.Ie.push(new dn(se.keyField(),n))}return t.Ie}function qn(e){const t=L(e);return t.Ee||(t.Ee=Wn(t,zn(e))),t.Ee}function Wn(e,t){if("F"===e.limitType)return _n(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new dn(e.field,t)});const n=e.endAt?new ln(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ln(e.startAt.position,e.startAt.inclusive):null;return _n(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Vn(e,t){const n=e.filters.concat([t]);return new Ln(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Hn(e,t,n){return new Ln(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Un(e,t){return Rn(qn(e),qn(t))&&e.limitType===t.limitType}function Gn(e){return"".concat(Pn(qn(e)),"|lt:").concat(e.limitType)}function Jn(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>wn(e)).join(", "),"]")),De(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Gt(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Gt(e)).join(",")),"Target(".concat(t,")")}(qn(e)),"; limitType=").concat(e.limitType,")")}function Kn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ae.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of zn(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const i=cn(e,t,n);return e.inclusive?i<=0:i<0}(e.startAt,zn(e),t))&&!(e.endAt&&!function(e,t,n){const i=cn(e,t,n);return e.inclusive?i>=0:i>0}(e.endAt,zn(e),t))}(e,t)}function Qn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Xn(e){return(t,n)=>{let i=!1;for(const r of zn(e)){const e=Yn(r,t,n);if(0!==e)return e;i=i||r.field.isKeyField()}return 0}}function Yn(e,t,n){const i=e.field.isKeyField()?ae.comparator(t.key,n.key):function(e,t,n){const i=t.data.field(e),r=n.data.field(e);return null!==i&&null!==r?Vt(i,r):P(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return P(19790,{direction:e.dir})}}class $n{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return this.inner[n]=[[e,t]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return 1===n.length?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){dt(this.inner,(t,n)=>{for(const[i,r]of n)e(i,r)})}isEmpty(){return ht(this.inner)}size(){return this.innerSize}}const Zn=new mt(ae.comparator);function ei(){return Zn}const ti=new mt(ae.comparator);function ni(){let e=ti;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n)e=e.insert(r.key,r);return e}function ii(e){let t=ti;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function ri(){return ai()}function si(){return ai()}function ai(){return new $n(e=>e.toString(),(e,t)=>e.isEqual(t))}const oi=new mt(ae.comparator),li=new gt(ae.comparator);function ci(){let e=li;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n)e=e.add(r);return e}const ui=new gt(Q);function di(){return ui}function hi(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Le(t)?"-0":t}}function mi(e){return{integerValue:""+e}}function pi(e,t){return Oe(t)?mi(t):hi(e,t)}class fi{constructor(){this._=void 0}}function gi(e,t,n){return e instanceof vi?function(e,t){const n={fields:{[Tt]:{stringValue:Nt},[Et]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&At(t)&&(t=It(t)),t&&(n.fields[jt]=t),{mapValue:n}}(n,t):e instanceof xi?wi(e,t):e instanceof Si?ki(e,t):function(e,t){const n=bi(e,t),i=Ni(n)+Ni(e.Ae);return Xt(n)&&Xt(e.Ae)?mi(i):hi(e.serializer,i)}(e,t)}function yi(e,t,n){return e instanceof xi?wi(e,t):e instanceof Si?ki(e,t):n}function bi(e,t){return e instanceof Ci?function(e){return Xt(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class vi extends fi{}class xi extends fi{constructor(e){super(),this.elements=e}}function wi(e,t){const n=Ti(t);for(const i of e.elements)n.some(e=>qt(e,i))||n.push(i);return{arrayValue:{values:n}}}class Si extends fi{constructor(e){super(),this.elements=e}}function ki(e,t){let n=Ti(t);for(const i of e.elements)n=n.filter(e=>!qt(e,i));return{arrayValue:{values:n}}}class Ci extends fi{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Ni(e){return kt(e.integerValue||e.doubleValue)}function Ti(e){return Yt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ji{constructor(e,t){this.field=e,this.transform=t}}class Ei{constructor(e,t){this.version=e,this.transformResults=t}}class Ai{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ai}static exists(e){return new Ai(void 0,e)}static updateTime(e){return new Ai(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ii(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class _i{}function Pi(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Wi(e.key,Ai.none()):new Mi(e.key,e.data,Ai.none());{const n=e.data,i=sn.empty();let r=new gt(se.comparator);for(let e of t.fields)if(!r.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?i.delete(e):i.set(e,t),r=r.add(e)}return new Bi(e.key,i,new bt(r.toArray()),Ai.none())}}function Ri(e,t,n){e instanceof Mi?function(e,t,n){const i=e.value.clone(),r=zi(e.fieldTransforms,t,n.transformResults);i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):e instanceof Bi?function(e,t,n){if(!Ii(e.precondition,t))return void t.convertToUnknownDocument(n.version);const i=zi(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(Fi(e)),r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Di(e,t,n,i){return e instanceof Mi?function(e,t,n,i){if(!Ii(e.precondition,t))return n;const r=e.value.clone(),s=qi(e.fieldTransforms,i,t);return r.setAll(s),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null}(e,t,n,i):e instanceof Bi?function(e,t,n,i){if(!Ii(e.precondition,t))return n;const r=qi(e.fieldTransforms,i,t),s=t.data;return s.setAll(Fi(e)),s.setAll(r),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,i):function(e,t,n){return Ii(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Li(e,t){let n=null;for(const i of e.fieldTransforms){const e=t.data.field(i.field),r=bi(i.transform,e||null);null!=r&&(null===n&&(n=sn.empty()),n.set(i.field,r))}return n||null}function Oi(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ee(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof xi&&t instanceof xi||e instanceof Si&&t instanceof Si?ee(e.elements,t.elements,qt):e instanceof Ci&&t instanceof Ci?qt(e.Ae,t.Ae):e instanceof vi&&t instanceof vi}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Mi extends _i{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bi extends _i{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Fi(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function zi(e,t,n){const i=new Map;D(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let r=0;r<n.length;r++){const s=e[r],a=s.transform,o=t.data.field(s.field);i.set(s.field,yi(a,o,n[r]))}return i}function qi(e,t,n){const i=new Map;for(const r of e){const e=r.transform,s=n.data.field(r.field);i.set(r.field,gi(e,s,t))}return i}class Wi extends _i{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vi extends _i{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hi{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const t=this.mutations[i];t.key.isEqual(e.key)&&Ri(t,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Di(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Di(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=si();return this.mutations.forEach(i=>{const r=e.get(i.key),s=r.overlayedDocument;let a=this.applyToLocalView(s,r.mutatedFields);a=t.has(i.key)?null:a;const o=Pi(s,a);null!==o&&n.set(i.key,o),s.isValidDocument()||s.convertToNoDocument(ve.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ci())}isEqual(e){return this.batchId===e.batchId&&ee(this.mutations,e.mutations,(e,t)=>Oi(e,t))&&ee(this.baseMutations,e.baseMutations,(e,t)=>Oi(e,t))}}class Ui{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){D(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=oi;const r=e.mutations;for(let s=0;s<r.length;s++)i=i.insert(r[s].key,n[s].version);return new Ui(e,t,n,i)}}class Gi{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Ji{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ki,Qi;function Xi(e){switch(e){case O.OK:return P(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return P(15467,{code:e})}}function Yi(e){if(void 0===e)return A("GRPC error has no .code"),O.UNKNOWN;switch(e){case Ki.OK:return O.OK;case Ki.CANCELLED:return O.CANCELLED;case Ki.UNKNOWN:return O.UNKNOWN;case Ki.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Ki.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Ki.INTERNAL:return O.INTERNAL;case Ki.UNAVAILABLE:return O.UNAVAILABLE;case Ki.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Ki.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Ki.NOT_FOUND:return O.NOT_FOUND;case Ki.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Ki.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Ki.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Ki.ABORTED:return O.ABORTED;case Ki.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Ki.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Ki.DATA_LOSS:return O.DATA_LOSS;default:return P(39323,{code:e})}}(Qi=Ki||(Ki={}))[Qi.OK=0]="OK",Qi[Qi.CANCELLED=1]="CANCELLED",Qi[Qi.UNKNOWN=2]="UNKNOWN",Qi[Qi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qi[Qi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qi[Qi.NOT_FOUND=5]="NOT_FOUND",Qi[Qi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qi[Qi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qi[Qi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qi[Qi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qi[Qi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qi[Qi.ABORTED=10]="ABORTED",Qi[Qi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qi[Qi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qi[Qi.INTERNAL=13]="INTERNAL",Qi[Qi.UNAVAILABLE=14]="UNAVAILABLE",Qi[Qi.DATA_LOSS=15]="DATA_LOSS";let $i=null;function Zi(){return new TextEncoder}const er=new i([4294967295,4294967295],0);function tr(e){const t=Zi().encode(e),n=new r;return n.update(t),new Uint8Array(n.digest())}function nr(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new i([n,r],0),new i([s,a],0)]}class ir{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new rr("Invalid padding: ".concat(t));if(n<0)throw new rr("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new rr("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new rr("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=i.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(i.fromNumber(n)));return 1===r.compare(er)&&(r=new i([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=tr(e),[n,i]=nr(t);for(let r=0;r<this.hashCount;r++){const e=this.ye(n,i,r);if(!this.we(e))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),s=new ir(r,i,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.ge)return;const t=tr(e),[n,i]=nr(t);for(let r=0;r<this.hashCount;r++){const e=this.ye(n,i,r);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class rr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sr{constructor(e,t,n,i,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,ar.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new sr(ve.min(),i,new mt(Q),ei(),ci())}}class ar{constructor(e,t,n,i,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ar(n,t,ci(),ci(),ci())}}class or{constructor(e,t,n,i){this.be=e,this.removedTargetIds=t,this.key=n,this.De=i}}class lr{constructor(e,t){this.targetId=e,this.Ce=t}}class cr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xt.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class ur{constructor(){this.ve=0,this.Fe=mr(),this.Me=xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ci(),t=ci(),n=ci();return this.Fe.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:P(38017,{changeType:r})}}),new ar(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=mr()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,D(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dr{constructor(e){this.Ge=e,this.ze=new Map,this.je=ei(),this.Je=hr(),this.He=hr(),this.Ye=new mt(Q)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:P(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,i=this.ot(t);if(i){const s=i.target;if(Dn(s))if(0===n){const e=new ae(s.path);this.et(t,e,on.newNoDocument(e,ve.min()))}else D(1===n,20013,{expectedCount:n});else{const i=this._t(t);if(i!==n){var r;const n=this.ut(e),s=n?this.ct(n,e,i):1;if(0!==s){this.it(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(r=$i)||void 0===r||r.lt(function(e,t,n,i,r){var s,a,o,l,c;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===r,hashCount:null!==(s=null===d||void 0===d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(a=null===d||void 0===d||null===(o=d.bits)||void 0===o||null===(o=o.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===i||void 0===i?void 0:i.mightContain(e))&&void 0!==t&&t}}),u}(i,e.Ce,this.Ge.ht(),n,s))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:r=0}=t;let s,a;try{s=Ct(n).toUint8Array()}catch(e){if(e instanceof vt)return I("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new ir(s,i,r)}catch(e){return I(e instanceof rr?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let i=0;return n.forEach(n=>{const r=this.Ge.ht(),s="projects/".concat(r.projectId,"/databases/").concat(r.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.et(t,n,null),i++)}),i}Tt(e){const t=new Map;this.ze.forEach((n,i)=>{const r=this.ot(i);if(r){if(n.current&&Dn(r.target)){const t=new ae(r.target.path);this.It(t).has(i)||this.Et(i,t)||this.et(i,t,on.newNoDocument(t,e))}n.Be&&(t.set(i,n.ke()),n.qe())}});let n=ci();this.He.forEach((e,t)=>{let i=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(i=!1,!1)}),i&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const i=new sr(e,t,this.Ye,this.je,n);return this.je=ei(),this.Je=hr(),this.He=hr(),this.Ye=new mt(Q),i}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ur,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new gt(Q),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new gt(Q),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||E("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ur),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function hr(){return new mt(ae.comparator)}function mr(){return new mt(ae.comparator)}const pr={asc:"ASCENDING",desc:"DESCENDING"},fr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gr={and:"AND",or:"OR"};class yr{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function br(e,t){return e.useProto3Json||De(t)?t:{value:t}}function vr(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function xr(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function wr(e,t){return vr(e,t.toTimestamp())}function Sr(e){return D(!!e,49232),ve.fromTimestamp(function(e){const t=St(e);return new be(t.seconds,t.nanos)}(e))}function kr(e,t){return Cr(e,t).canonicalString()}function Cr(e,t){const n=function(e){return new ie(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Nr(e){const t=ie.fromString(e);return D(Ur(t),10190,{key:t.toString()}),t}function Tr(e,t){return kr(e.databaseId,t.path)}function jr(e,t){const n=Nr(t);if(n.get(1)!==e.databaseId.projectId)throw new M(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new M(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ae(_r(n))}function Er(e,t){return kr(e.databaseId,t)}function Ar(e){const t=Nr(e);return 4===t.length?ie.emptyPath():_r(t)}function Ir(e){return new ie(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _r(e){return D(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Pr(e,t,n){return{name:Tr(e,t),fields:n.value.mapValue.fields}}function Rr(e,t){let n;if(t instanceof Mi)n={update:Pr(e,t.key,t.value)};else if(t instanceof Wi)n={delete:Tr(e,t.key)};else if(t instanceof Bi)n={update:Pr(e,t.key,t.data),updateMask:Hr(t.fieldMask)};else{if(!(t instanceof Vi))return P(16599,{Vt:t.type});n={verify:Tr(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof vi)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof xi)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Si)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ci)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw P(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:wr(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:P(27497)}(e,t.precondition)),n}function Dr(e,t){return{documents:[Er(e,t.path)]}}function Lr(e,t){const n={structuredQuery:{}},i=t.path;let r;null!==t.collectionGroup?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Er(e,r);const s=function(e){if(0!==e.length)return Vr(fn.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:qr(e.field),direction:Br(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=br(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:r}}function Or(e){let t=Ar(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){D(1===i,65062);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Mr(e);return t instanceof fn&&yn(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new dn(Wr(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,De(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ln(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new ln(n,t)}(n.endAt)),On(t,r,a,s,o,"F",l,c)}function Mr(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Wr(e.unaryFilter.field);return pn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Wr(e.unaryFilter.field);return pn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wr(e.unaryFilter.field);return pn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Wr(e.unaryFilter.field);return pn.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return P(61313);default:return P(60726)}}(e):void 0!==e.fieldFilter?function(e){return pn.create(Wr(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return P(58110);default:return P(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return fn.create(e.compositeFilter.filters.map(e=>Mr(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return P(1026)}}(e.compositeFilter.op))}(e):P(30097,{filter:e})}function Br(e){return pr[e]}function Fr(e){return fr[e]}function zr(e){return gr[e]}function qr(e){return{fieldPath:e.canonicalString()}}function Wr(e){return se.fromServerFormat(e.fieldPath)}function Vr(e){return e instanceof pn?function(e){if("=="===e.op){if(Zt(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NAN"}};if($t(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Zt(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NOT_NAN"}};if($t(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qr(e.field),op:Fr(e.op),value:e.value}}}(e):e instanceof fn?function(e){const t=e.getFilters().map(e=>Vr(e));return 1===t.length?t[0]:{compositeFilter:{op:zr(e.op),filters:t}}}(e):P(54877,{filter:e})}function Hr(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ur(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Gr{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ve.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ve.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:xt.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Gr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Jr{constructor(e){this.yt=e}}function Kr(e){const t=Or({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Hn(t,t.limit,"L"):t}class Qr{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(kt(e.integerValue));else if("doubleValue"in e){const n=kt(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Le(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=St(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Ct(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?rn(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):tn(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):P(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const i of Object.keys(n))this.Ot(i,t),this.Ct(n[i],t)}kt(e,t){var n;const i=e.fields||{};this.Ft(t,53);const r=Ft,s=(null===(n=i[r].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(kt(s)),this.Ot(r,t),this.Ct(i[r],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const i of n)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),ae.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Qr.Kt=new Qr;class Xr{constructor(){this.Cn=new Yr}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ae.resolve()}getCollectionParents(e,t){return Ae.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ae.resolve()}deleteFieldIndex(e,t){return Ae.resolve()}deleteAllFieldIndexes(e){return Ae.resolve()}createTargetIndexes(e,t){return Ae.resolve()}getDocumentsMatchingTarget(e,t){return Ae.resolve(null)}getIndexType(e,t){return Ae.resolve(0)}getFieldIndexes(e,t){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,t){return Ae.resolve(Ce.min())}getMinOffsetFromCollectionGroup(e,t){return Ae.resolve(Ce.min())}updateCollectionGroup(e,t,n){return Ae.resolve()}updateIndexEntries(e,t){return Ae.resolve()}}class Yr{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new gt(ie.comparator),r=!i.has(n);return this.index[t]=i.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new gt(ie.comparator)).toArray()}}new Uint8Array(0);const $r={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zr=41943040;class es{static withCacheSize(e){return new es(e,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}es.DEFAULT_COLLECTION_PERCENTILE=10,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,es.DEFAULT=new es(Zr,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),es.DISABLED=new es(-1,0,0);class ts{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ts(0)}static cr(){return new ts(-1)}}const ns="LruGarbageCollector",is=1048576;function rs(e,t){let[n,i]=e,[r,s]=t;const a=Q(n,r);return 0===a?Q(i,s):a}class ss{constructor(e){this.Ir=e,this.buffer=new gt(rs),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();rs(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class as{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){E(ns,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){_e(e)?E(ns,"Ignoring IndexedDB error during garbage collection: ",e):await Ee(e)}await this.Vr(3e5)})}}class os{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Ae.resolve(Pe.ce);const n=new ss(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(E("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve($r)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(E("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),$r):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,i,r,s,a,o,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(E("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),i=this.params.maximumSequenceNumbersToCollect):i=t,s=Date.now(),this.nthSequenceNumber(e,i))).next(i=>(n=i,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(r=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),j()<=l.$b.DEBUG&&E("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-u,"ms\n\tDetermined least recently used ").concat(i," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(r," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-o)+"ms\n"+"Total Duration: ".concat(c-u,"ms")),Ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:e})))}}function ls(e,t){return new os(e,t)}class cs{constructor(){this.changes=new $n(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ae.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class us{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ds{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Di(n.mutation,e,bt.empty(),be.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,ci()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ci();const i=ri();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(e=>{let t=ni();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=ri();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ci()))}populateOverlays(e,t,n){const i=[];return n.forEach(e=>{t.has(e)||i.push(e)}),this.documentOverlayCache.getOverlays(e,i).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,i){let r=ei();const s=ai(),a=ai();return t.forEach((e,t)=>{const a=n.get(t.key);i.has(t.key)&&(void 0===a||a.mutation instanceof Bi)?r=r.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Di(a.mutation,t,a.mutation.getFieldMask(),be.now())):s.set(t.key,bt.empty())}),this.recalculateAndSaveOverlays(e,r).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new us(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=ai();let i=new mt((e,t)=>e-t),r=ci();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const r of e)r.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||bt.empty();a=r.applyToLocalView(s,a),n.set(e,a);const o=(i.get(r.batchId)||ci()).add(e);i=i.insert(r.batchId,o)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const i=a.getNext(),o=i.key,l=i.value,c=si();l.forEach(e=>{if(!r.has(e)){const i=Pi(t.get(e),n.get(e));null!==i&&c.set(e,i),r=r.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Ae.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,i){return function(e){return ae.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Fn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(r=>{const s=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-r.size):Ae.resolve(ri());let a=xe,o=r;return s.next(t=>Ae.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),r.get(t)?Ae.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,r)).next(()=>this.computeViews(e,o,t,ci())).next(e=>({batchId:a,changes:ii(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ae(t)).next(e=>{let t=ni();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const r=t.collectionGroup;let s=ni();return this.indexManager.getCollectionParents(e,r).next(a=>Ae.forEach(a,a=>{const o=function(e,t){return new Ln(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n,i).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r,i))).next(e=>{r.forEach((t,n)=>{const i=n.getKey();null===e.get(i)&&(e=e.insert(i,on.newInvalidDocument(i)))});let n=ni();return e.forEach((e,i)=>{const s=r.get(e);void 0!==s&&Di(s.mutation,i,bt.empty(),be.now()),Kn(t,i)&&(n=n.insert(e,i))}),n})}}class hs{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ae.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Sr(e.createTime)}}(t)),Ae.resolve()}getNamedQuery(e,t){return Ae.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Kr(e.bundledQuery),readTime:Sr(e.readTime)}}(t)),Ae.resolve()}}class ms{constructor(){this.overlays=new mt(ae.comparator),this.qr=new Map}getOverlay(e,t){return Ae.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ri();return Ae.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,i)=>{this.St(e,t,i)}),Ae.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.qr.get(n);return void 0!==i&&(i.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Ae.resolve()}getOverlaysForCollection(e,t,n){const i=ri(),r=t.length+1,s=new ae(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===r&&e.largestBatchId>n&&i.set(e.getKey(),e)}return Ae.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let r=new mt((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=r.get(e.largestBatchId);null===t&&(t=ri(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=ri(),o=r.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=i)););return Ae.resolve(a)}St(e,t,n){const i=this.overlays.get(n.key);if(null!==i){const e=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Gi(t,n));let r=this.qr.get(t);void 0===r&&(r=ci(),this.qr.set(t,r)),this.qr.set(t,r.add(n.key))}}class ps{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return Ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ae.resolve()}}class fs{constructor(){this.Qr=new gt(gs.$r),this.Ur=new gt(gs.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new gs(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new gs(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new ae(new ie([])),n=new gs(t,e),i=new gs(t,e+1),r=[];return this.Ur.forEachInRange([n,i],e=>{this.Gr(e),r.push(e.key)}),r}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ae(new ie([])),n=new gs(t,e),i=new gs(t,e+1);let r=ci();return this.Ur.forEachInRange([n,i],e=>{r=r.add(e.key)}),r}containsKey(e){const t=new gs(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class gs{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ae.comparator(e.key,t.key)||Q(e.Yr,t.Yr)}static Kr(e,t){return Q(e.Yr,t.Yr)||ae.comparator(e.key,t.key)}}class ys{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new gt(gs.$r)}checkEmpty(e){return Ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,i){const r=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Hi(r,t,n,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new gs(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ae.resolve(s)}lookupMutationBatch(e,t){return Ae.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.ei(n),r=i<0?0:i;return Ae.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.mutationQueue.length?Re:this.tr-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new gs(t,0),i=new gs(t,Number.POSITIVE_INFINITY),r=[];return this.Zr.forEachInRange([n,i],e=>{const t=this.Xr(e.Yr);r.push(t)}),Ae.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new gt(Q);return t.forEach(e=>{const t=new gs(e,0),i=new gs(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,i],e=>{n=n.add(e.Yr)})}),Ae.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let r=n;ae.isDocumentKey(r)||(r=r.child(""));const s=new gs(new ae(r),0);let a=new gt(Q);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===i&&(a=a.add(e.Yr)),!0)},s),Ae.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){D(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Ae.forEach(t.mutations,i=>{const r=new gs(i.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new gs(t,0),i=this.Zr.firstAfterOrEqual(n);return Ae.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ae.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class bs{constructor(e){this.ri=e,this.docs=new mt(ae.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),r=i?i.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ae.resolve(n?n.document.mutableCopy():on.newInvalidDocument(t))}getEntries(e,t){let n=ei();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():on.newInvalidDocument(e))}),Ae.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let r=ei();const s=t.path,a=new ae(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Ne(ke(a),n)<=0||(i.has(a.key)||Kn(t,a))&&(r=r.insert(a.key,a.mutableCopy()))}return Ae.resolve(r)}getAllFromCollectionGroup(e,t,n,i){P(9500)}ii(e,t){return Ae.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new vs(this)}getSize(e){return Ae.resolve(this.size)}}class vs extends cs{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),Ae.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class xs{constructor(e){this.persistence=e,this.si=new $n(e=>Pn(e),Rn),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new fs,this.targetCount=0,this.ai=ts.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Ae.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ts(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ae.resolve()}updateTargetData(e,t){return this.Pr(t),Ae.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,t,n){let i=0;const r=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(s),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ae.waitFor(r).next(()=>i)}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Ae.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Ae.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const i=this.persistence.referenceDelegate,r=[];return i&&t.forEach(t=>{r.push(i.markPotentiallyOrphaned(e,t))}),Ae.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ae.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Ae.resolve(n)}containsKey(e,t){return Ae.resolve(this._i.containsKey(t))}}class ws{constructor(e,t){this.ui={},this.overlays={},this.ci=new Pe(0),this.li=!1,this.li=!0,this.hi=new ps,this.referenceDelegate=e(this),this.Pi=new xs(this),this.indexManager=new Xr,this.remoteDocumentCache=function(e){return new bs(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Jr(t),this.Ii=new hs(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ms,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new ys(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){E("MemoryPersistence","Starting transaction:",e);const i=new Ss(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(e=>this.referenceDelegate.di(i).next(()=>e)).toPromise().then(e=>(i.raiseOnCommittedEvent(),e))}Ai(e,t){return Ae.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Ss extends je{constructor(e){super(),this.currentSequenceNumber=e}}class ks{constructor(e){this.persistence=e,this.Ri=new fs,this.Vi=null}static mi(e){return new ks(e)}get fi(){if(this.Vi)return this.Vi;throw P(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Ae.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Ae.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ae.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.fi,n=>{const i=ae.fromPath(n);return this.gi(e,i).next(e=>{e||t.removeEntry(i,ve.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Ae.or([()=>Ae.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Cs{constructor(e,t){this.persistence=e,this.pi=new $n(e=>Be(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=ls(this,t)}static mi(e,t){return new Cs(e,t)}Ei(){}di(e){return Ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Ae.forEach(this.pi,(n,i)=>this.br(e,n,i).next(e=>e?Ae.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.ii(e,i=>this.br(e,i,t).next(e=>{e||(n++,r.removeEntry(i,ve.min()))})).next(()=>r.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ae.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ae.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kt(e.data.value)),t}br(e,t,n){return Ae.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Ae.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ns{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=i}static As(e,t){let n=ci(),i=ci();for(const r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new Ns(e,t.fromCache,n,i)}}class Ts{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class js{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(0,c.nr)()?8:Ie((0,c.ZQ)())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,i){const r={result:null};return this.ys(e,t).next(e=>{r.result=e}).next(()=>{if(!r.result)return this.ws(e,t,i,n).next(e=>{r.result=e})}).next(()=>{if(r.result)return;const n=new Ts;return this.Ss(e,t,n).next(i=>{if(r.result=i,this.Vs)return this.bs(e,t,n,i.size)})}).next(()=>r.result)}bs(e,t,n,i){return n.documentReadCount<this.fs?(j()<=l.$b.DEBUG&&E("QueryEngine","SDK will not create cache indexes for query:",Jn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ae.resolve()):(j()<=l.$b.DEBUG&&E("QueryEngine","Query:",Jn(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(j()<=l.$b.DEBUG&&E("QueryEngine","The SDK decides to create cache indexes for query:",Jn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(t))):Ae.resolve())}ys(e,t){if(Bn(t))return Ae.resolve(null);let n=qn(t);return this.indexManager.getIndexType(e,n).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Hn(t,null,"F"),n=qn(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const r=ci(...i);return this.ps.getDocuments(e,r).next(i=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.Ds(t,i);return this.Cs(t,s,r,n.readTime)?this.ys(e,Hn(t,null,"F")):this.vs(e,s,t,n)}))})))}ws(e,t,n,i){return Bn(t)||i.isEqual(ve.min())?Ae.resolve(null):this.ps.getDocuments(e,n).next(r=>{const s=this.Ds(t,r);return this.Cs(t,s,n,i)?Ae.resolve(null):(j()<=l.$b.DEBUG&&E("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Jn(t)),this.vs(e,s,t,Se(i,xe)).next(e=>e))})}Ds(e,t){let n=new gt(Xn(e));return t.forEach((t,i)=>{Kn(e,i)&&(n=n.add(i))}),n}Cs(e,t,n,i){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ss(e,t,n){return j()<=l.$b.DEBUG&&E("QueryEngine","Using full collection scan to execute query:",Jn(t)),this.ps.getDocumentsMatchingQuery(e,t,Ce.min(),n)}vs(e,t,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Es="LocalStore",As=3e8;class Is{constructor(e,t,n,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new mt(Q),this.xs=new $n(e=>Pn(e),Rn),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ds(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function _s(e,t,n,i){return new Is(e,t,n,i)}async function Ps(e,t){const n=L(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let i;return n.mutationQueue.getAllMutationBatches(e).next(r=>(i=r,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const r=[],s=[];let a=ci();for(const e of i){r.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:r,addedBatchIds:s}))})})}function Rs(e){const t=L(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Ds(e,t,n){let i=ci(),r=ci();return n.forEach(e=>i=i.add(e)),t.getEntries(e,i).next(e=>{let i=ei();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(r=r.add(n)),s.isNoDocument()&&s.version.isEqual(ve.min())?(t.removeEntry(n,s.readTime),i=i.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),i=i.insert(n,s)):E(Es,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{ks:i,qs:r}})}function Ls(e,t){const n=L(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Re),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Os(e,t){const n=L(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let i;return n.Pi.getTargetData(e,t).next(r=>r?(i=r,Ae.resolve(i)):n.Pi.allocateTargetId(e).next(r=>(i=new Gr(t,r,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,i).next(()=>i))))}).then(e=>{const i=n.Ms.get(e.targetId);return(null===i||e.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function Ms(e,t,n){const i=L(e),r=i.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,e=>i.persistence.referenceDelegate.removeTarget(e,r))}catch(e){if(!_e(e))throw e;E(Es,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function Bs(e,t,n){const i=L(e);let r=ve.min(),s=ci();return i.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const i=L(e),r=i.xs.get(n);return void 0!==r?Ae.resolve(i.Ms.get(r)):i.Pi.getTargetData(t,n)}(i,e,qn(t)).next(t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>i.Fs.getDocumentsMatchingQuery(e,t,n?r:ve.min(),n?s:ci())).next(e=>(Fs(i,Qn(t),e),{documents:e,Qs:s})))}function Fs(e,t,n){let i=e.Os.get(t)||ve.min();n.forEach((e,t)=>{t.readTime.compareTo(i)>0&&(i=t.readTime)}),e.Os.set(t,i)}class zs{constructor(){this.activeTargetIds=di()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qs{constructor(){this.Mo=new zs,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new zs,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ws{Oo(e){}shutdown(){}}const Vs="ConnectivityMonitor";class Hs{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){E(Vs,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){E(Vs,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Us=null;function Gs(){return null===Us?Us=268435456+Math.round(2147483648*Math.random()):Us++,"0x"+Us.toString(16)}const Js="RestConnection",Ks={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qs{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(i),this.Wo=this.databaseId.database===Rt?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(i)}Go(e,t,n,i,r){const s=Gs(),a=this.zo(e,t.toUriEncodedString());E(Js,"Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,i,r);const{host:l}=new URL(a),u=(0,c.zJ)(l);return this.Jo(e,a,o,n,u).then(t=>(E(Js,"Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw I(Js,"RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}Ho(e,t,n,i,r,s){return this.Go(e,t,n,i,r)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+N,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Ks[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Xs{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ys="WebChannelConnection";class $s extends Qs{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,i,r){const s=Gs();return new Promise((r,a)=>{const o=new h;o.setWithCredentials(!0),o.listenOnce(p.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case f.NO_ERROR:const n=o.getResponseJson();E(Ys,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(n)),r(n);break;case f.TIMEOUT:E(Ys,"RPC '".concat(e,"' ").concat(s," timed out")),a(new M(O.DEADLINE_EXCEEDED,"Request time out"));break;case f.HTTP_ERROR:const i=o.getStatus();if(E(Ys,"RPC '".concat(e,"' ").concat(s," failed with status:"),i,"response text:",o.getResponseText()),i>0){var t;let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(t)>=0?t:O.UNKNOWN}(n.status);a(new M(e,n.message))}else a(new M(O.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new M(O.UNAVAILABLE,"Connection failed."));break;default:P(9055,{l_:e,streamId:s,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{E(Ys,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(i);E(Ys,"RPC '".concat(e,"' ").concat(s," sending request:"),i),o.send(t,"POST",l,n,15)})}T_(e,t,n){const i=Gs(),r=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=v(),a=b(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=r.join("");E(Ys,"Creating RPC '".concat(e,"' stream ").concat(i,": ").concat(c),o);const u=s.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const p=new Xs({Yo:t=>{h?E(Ys,"Not sending because RPC '".concat(e,"' stream ").concat(i," is closed:"),t):(d||(E(Ys,"Opening RPC '".concat(e,"' stream ").concat(i," transport.")),u.open(),d=!0),E(Ys,"RPC '".concat(e,"' stream ").concat(i," sending:"),t),u.send(t))},Zo:()=>u.close()}),f=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return f(u,m.EventType.OPEN,()=>{h||(E(Ys,"RPC '".concat(e,"' stream ").concat(i," transport opened.")),p.o_())}),f(u,m.EventType.CLOSE,()=>{h||(h=!0,E(Ys,"RPC '".concat(e,"' stream ").concat(i," transport closed")),p.a_(),this.E_(u))}),f(u,m.EventType.ERROR,t=>{h||(h=!0,I(Ys,"RPC '".concat(e,"' stream ").concat(i," transport errored. Name:"),t.name,"Message:",t.message),p.a_(new M(O.UNAVAILABLE,"The operation could not be completed")))}),f(u,m.EventType.MESSAGE,t=>{if(!h){var n;const r=t.data[0];D(!!r,16349);const s=r,a=(null===s||void 0===s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){E(Ys,"RPC '".concat(e,"' stream ").concat(i," received error:"),a);const t=a.status;let n=function(e){const t=Ki[e];if(void 0!==t)return Yi(t)}(t),r=a.message;void 0===n&&(n=O.INTERNAL,r="Unknown error status: "+t+" with message "+a.message),h=!0,p.a_(new M(n,r)),u.close()}else E(Ys,"RPC '".concat(e,"' stream ").concat(i," received:"),r),p.u_(r)}}),f(a,y.STAT_EVENT,t=>{t.stat===g.PROXY?E(Ys,"RPC '".concat(e,"' stream ").concat(i," detected buffering proxy")):t.stat===g.NOPROXY&&E(Ys,"RPC '".concat(e,"' stream ").concat(i," detected no buffering proxy"))}),setTimeout(()=>{p.__()},0),p}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Zs(){return"undefined"!=typeof document?document:null}function ea(e){return new yr(e,!0)}class ta{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=i,this.R_=r,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-n);i>0&&E("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const na="PersistentStream";class ia{constructor(e,t,n,i,r,s,a,o){this.Mi=e,this.S_=n,this.b_=i,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ta(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(A(t.toString()),A("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===O.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,i]=e;this.D_===t&&this.G_(n,i)},t=>{e(()=>{const e=new M(O.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return E(na,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(E(na,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ra extends ia{constructor(e,t,n,i,r,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,s),this.serializer=r}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:P(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(D(void 0===t||"string"==typeof t,58123),xt.fromBase64String(t||"")):(D(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),xt.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?O.UNKNOWN:Yi(e.code);return new M(t,e.message||"")}(a);n=new cr(i,r,s,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=jr(e,i.document.name),s=Sr(i.document.updateTime),a=i.document.createTime?Sr(i.document.createTime):ve.min(),o=new sn({mapValue:{fields:i.document.fields}}),l=on.newFoundDocument(r,s,a,o),c=i.targetIds||[],u=i.removedTargetIds||[];n=new or(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=jr(e,i.document),s=i.readTime?Sr(i.readTime):ve.min(),a=on.newNoDocument(r,s),o=i.removedTargetIds||[];n=new or([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=jr(e,i.document),s=i.removedTargetIds||[];n=new or([],s,r,null)}else{if(!("filter"in t))return P(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:i=0,unchangedNames:r}=e,s=new Ji(i,r),a=e.targetId;n=new lr(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ve.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ve.min():t.readTime?Sr(t.readTime):ve.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Ir(this.serializer),t.addTarget=function(e,t){let n;const i=t.target;if(n=Dn(i)?{documents:Dr(e,i)}:{query:Lr(e,i).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=xr(e,t.resumeToken);const i=br(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(ve.min())>0){n.readTime=vr(e,t.snapshotVersion.toTimestamp());const i=br(e,t.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return P(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Ir(this.serializer),t.removeTarget=e,this.q_(t)}}class sa extends ia{constructor(e,t,n,i,r,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,s),this.serializer=r}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return D(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,D(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){D(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(D(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Sr(e.updateTime):Sr(t);return n.isEqual(ve.min())&&(n=Sr(t)),new Ei(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Sr(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Ir(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Rr(this.serializer,e))};this.q_(t)}}class aa{}class oa extends aa{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new M(O.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[s,a]=r;return this.connection.Go(e,Cr(t,n),i,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new M(O.UNKNOWN,e.toString())})}Ho(e,t,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.Ho(e,Cr(t,n),i,a,o,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new M(O.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class la{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(A(t),this.aa=!1):E("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const ca="RemoteStore";class ua{constructor(e,t,n,i,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=r,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{va(this)&&(E(ca,"Restarting streams for network reachability change."),await async function(e){const t=L(e);t.Ea.add(4),await ha(t),t.Ra.set("Unknown"),t.Ea.delete(4),await da(t)}(this))})}),this.Ra=new la(n,i)}}async function da(e){if(va(e))for(const t of e.da)await t(!0)}async function ha(e){for(const t of e.da)await t(!1)}function ma(e,t){const n=L(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),ba(n)?ya(n):Ba(n).O_()&&fa(n,t))}function pa(e,t){const n=L(e),i=Ba(n);n.Ia.delete(t),i.O_()&&ga(n,t),0===n.Ia.size&&(i.O_()?i.L_():va(n)&&n.Ra.set("Unknown"))}function fa(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ve.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ba(e).Y_(t)}function ga(e,t){e.Va.Ue(t),Ba(e).Z_(t)}function ya(e){e.Va=new dr({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Ba(e).start(),e.Ra.ua()}function ba(e){return va(e)&&!Ba(e).x_()&&e.Ia.size>0}function va(e){return 0===L(e).Ea.size}function xa(e){e.Va=void 0}async function wa(e){e.Ra.set("Online")}async function Sa(e){e.Ia.forEach((t,n)=>{fa(e,t)})}async function ka(e,t){xa(e),ba(e)?(e.Ra.ha(t),ya(e)):e.Ra.set("Unknown")}async function Ca(e,t,n){if(e.Ra.set("Online"),t instanceof cr&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const i of t.targetIds)e.Ia.has(i)&&(await e.remoteSyncer.rejectListen(i,n),e.Ia.delete(i),e.Va.removeTarget(i))}(e,t)}catch(n){E(ca,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Na(e,n)}else if(t instanceof or?e.Va.Ze(t):t instanceof lr?e.Va.st(t):e.Va.tt(t),!n.isEqual(ve.min()))try{const t=await Rs(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=e.Ia.get(i);r&&e.Ia.set(i,r.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const i=e.Ia.get(t);if(!i)return;e.Ia.set(t,i.withResumeToken(xt.EMPTY_BYTE_STRING,i.snapshotVersion)),ga(e,t);const r=new Gr(i.target,t,n,i.sequenceNumber);fa(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){E(ca,"Failed to raise snapshot:",t),await Na(e,t)}}async function Na(e,t,n){if(!_e(t))throw t;e.Ea.add(1),await ha(e),e.Ra.set("Offline"),n||(n=()=>Rs(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{E(ca,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await da(e)})}function Ta(e,t){return t().catch(n=>Na(e,n,t))}async function ja(e){const t=L(e),n=Fa(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Re;for(;Ea(t);)try{const e=await Ls(t.localStore,i);if(null===e){0===t.Ta.length&&n.L_();break}i=e.batchId,Aa(t,e)}catch(e){await Na(t,e)}Ia(t)&&_a(t)}function Ea(e){return va(e)&&e.Ta.length<10}function Aa(e,t){e.Ta.push(t);const n=Fa(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Ia(e){return va(e)&&!Fa(e).x_()&&e.Ta.length>0}function _a(e){Fa(e).start()}async function Pa(e){Fa(e).ra()}async function Ra(e){const t=Fa(e);for(const n of e.Ta)t.ea(n.mutations)}async function Da(e,t,n){const i=e.Ta.shift(),r=Ui.from(i,t,n);await Ta(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await ja(e)}async function La(e,t){t&&Fa(e).X_&&await async function(e,t){if(function(e){return Xi(e)&&e!==O.ABORTED}(t.code)){const n=e.Ta.shift();Fa(e).B_(),await Ta(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await ja(e)}}(e,t),Ia(e)&&_a(e)}async function Oa(e,t){const n=L(e);n.asyncQueue.verifyOperationInProgress(),E(ca,"RemoteStore received new credentials");const i=va(n);n.Ea.add(3),await ha(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await da(n)}async function Ma(e,t){const n=L(e);t?(n.Ea.delete(2),await da(n)):t||(n.Ea.add(2),await ha(n),n.Ra.set("Unknown"))}function Ba(e){return e.ma||(e.ma=function(e,t,n){const i=L(e);return i.sa(),new ra(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{Xo:wa.bind(null,e),t_:Sa.bind(null,e),r_:ka.bind(null,e),H_:Ca.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),ba(e)?ya(e):e.Ra.set("Unknown")):(await e.ma.stop(),xa(e))})),e.ma}function Fa(e){return e.fa||(e.fa=function(e,t,n){const i=L(e);return i.sa(),new sa(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Pa.bind(null,e),r_:La.bind(null,e),ta:Ra.bind(null,e),na:Da.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await ja(e)):(await e.fa.stop(),e.Ta.length>0&&(E(ca,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class za{constructor(e,t,n,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new B,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,r){const s=Date.now()+n,a=new za(e,t,s,i,r);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qa(e,t){if(A("AsyncQueue","".concat(t,": ").concat(e)),_e(e))return new M(O.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Wa{static emptySet(e){return new Wa(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ae.comparator(t.key,n.key):(e,t)=>ae.comparator(e.key,t.key),this.keyedMap=ni(),this.sortedSet=new mt(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wa))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(!e.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Wa;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Va{constructor(){this.ga=new mt(ae.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):P(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Ha{constructor(e,t,n,i,r,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,i,r){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new Ha(e,t,Wa.emptySet(t),s,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Un(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}class Ua{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Ga{constructor(){this.queries=Ja(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=L(e),i=n.queries;n.queries=Ja(),i.forEach((e,n)=>{for(const i of n.Sa)i.onError(t)})}(this,new M(O.ABORTED,"Firestore shutting down"))}}function Ja(){return new $n(e=>Gn(e),Un)}async function Ka(e,t){const n=L(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.ba()&&t.Da()&&(i=2):(s=new Ua,i=t.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(r,!0);break;case 1:s.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(e){const n=qa(e,"Initialization of query '".concat(Jn(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&$a(n)}async function Qa(e,t){const n=L(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const e=s.Sa.indexOf(t);e>=0&&(s.Sa.splice(e,1),0===s.Sa.length?r=t.Da()?0:1:!s.ba()&&t.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Xa(e,t){const n=L(e);let i=!1;for(const r of t){const e=r.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(r)&&(i=!0);t.wa=r}}i&&$a(n)}function Ya(e,t,n){const i=L(e),r=i.queries.get(t);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(t)}function $a(e){e.Ca.forEach(e=>{e.next()})}var Za,eo;(eo=Za||(Za={})).Ma="default",eo.Cache="cache";class to{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ha(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Za.Cache}}class no{constructor(e){this.key=e}}class io{constructor(e){this.key=e}}class ro{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ci(),this.mutatedKeys=ci(),this.eu=Xn(e),this.tu=new Wa(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Va,i=t?t.tu:this.tu;let r=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const o="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((e,t)=>{const c=i.get(e),u=Kn(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let m=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),m=!0):this.su(c,u)||(n.track({type:2,doc:u}),m=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),m=!0):c&&!u&&(n.track({type:1,doc:c}),m=!0,(o||l)&&(a=!0)),m&&(u?(s=s.add(u),r=h?r.add(e):r.delete(e)):(s=s.delete(e),r=r.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{tu:s,iu:n,Cs:a,mutatedKeys:r}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const r=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),i=null!==i&&void 0!==i&&i;const a=t&&!i?this._u():[],o=0===this.Xa.size&&this.current&&!i?1:0,l=o!==this.Za;return this.Za=o,0!==s.length||l?{snapshot:new Ha(this.query,e.tu,r,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Va,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ci(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new io(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new no(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=ci();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ha.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const so="SyncEngine";class ao{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class oo{constructor(e){this.key=e,this.hu=!1}}class lo{constructor(e,t,n,i,r,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new $n(e=>Gn(e),Un),this.Iu=new Map,this.Eu=new Set,this.du=new mt(ae.comparator),this.Au=new Map,this.Ru=new fs,this.Vu={},this.mu=new Map,this.fu=ts.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function co(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=_o(e);let r;const s=i.Tu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await ho(i,t,n,!0),r}async function uo(e,t){const n=_o(e);await ho(n,t,!0,!1)}async function ho(e,t,n,i){const r=await Os(e.localStore,qn(t)),s=r.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return i&&(o=await mo(e,t,s,"current"===a,r.resumeToken)),e.isPrimaryClient&&n&&ma(e.remoteStore,r),o}async function mo(e,t,n,i,r){e.pu=(t,n,i)=>async function(e,t,n,i){let r=t.view.ru(n);r.Cs&&(r=await Bs(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,r)}));const s=i&&i.targetChanges.get(t.targetId),a=i&&null!=i.targetMismatches.get(t.targetId),o=t.view.applyChanges(r,e.isPrimaryClient,s,a);return No(e,t.targetId,o.au),o.snapshot}(e,t,n,i);const s=await Bs(e.localStore,t,!0),a=new ro(t,s.Qs),o=a.ru(s.documents),l=ar.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState,r),c=a.applyChanges(o,e.isPrimaryClient,l);No(e,n,c.au);const u=new ao(t,n,a);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function po(e,t,n){const i=L(e),r=i.Tu.get(t),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter(e=>!Un(e,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Ms(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&pa(i.remoteStore,r.targetId),ko(i,r.targetId)}).catch(Ee)):(ko(i,r.targetId),await Ms(i.localStore,r.targetId,!0))}async function fo(e,t){const n=L(e),i=n.Tu.get(t),r=n.Iu.get(i.targetId);n.isPrimaryClient&&1===r.length&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),pa(n.remoteStore,i.targetId))}async function go(e,t){const n=L(e);try{const e=await function(e,t){const n=L(e),i=t.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const a=[];t.targetChanges.forEach((s,o)=>{const l=r.get(o);if(!l)return;a.push(n.Pi.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(xt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,i)),r=r.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=As||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&a.push(n.Pi.updateTargetData(e,c))});let o=ei(),l=ci();if(t.documentUpdates.forEach(i=>{t.resolvedLimboDocuments.has(i)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,i))}),a.push(Ds(e,s,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!i.isEqual(ve.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,i));a.push(t)}return Ae.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=r,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const i=n.Au.get(t);i&&(D(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?i.hu=!0:e.modifiedDocuments.size>0?D(i.hu,14607):e.removedDocuments.size>0&&(D(i.hu,42227),i.hu=!1))}),await Eo(n,e,t)}catch(e){await Ee(e)}}function yo(e,t,n){const i=L(e);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const e=[];i.Tu.forEach((n,i)=>{const r=i.view.va(t);r.snapshot&&e.push(r.snapshot)}),function(e,t){const n=L(e);n.onlineState=t;let i=!1;n.queries.forEach((e,n)=>{for(const r of n.Sa)r.va(t)&&(i=!0)}),i&&$a(n)}(i.eventManager,t),e.length&&i.Pu.H_(e),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function bo(e,t,n){const i=L(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Au.get(t),s=r&&r.key;if(s){let e=new mt(ae.comparator);e=e.insert(s,on.newNoDocument(s,ve.min()));const n=ci().add(s),r=new sr(ve.min(),new Map,new mt(Q),e,n);await go(i,r),i.du=i.du.remove(s),i.Au.delete(t),jo(i)}else await Ms(i.localStore,t,!1).then(()=>ko(i,t,n)).catch(Ee)}async function vo(e,t){const n=L(e),i=t.batch.batchId;try{const e=await function(e,t){const n=L(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const i=t.batch.keys(),r=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,i){const r=n.batch,s=r.keys();let a=Ae.resolve();return s.forEach(e=>{a=a.next(()=>i.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);D(null!==s,48541),t.version.compareTo(s)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),i.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,r))}(n,e,t,r).next(()=>r.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ci();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,i))})}(n.localStore,t);So(n,i,null),wo(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Eo(n,e)}catch(e){await Ee(e)}}async function xo(e,t,n){const i=L(e);try{const e=await function(e,t){const n=L(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let i;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(D(null!==t,37113),i=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,i)).next(()=>n.localDocuments.getDocuments(e,i))})}(i.localStore,t);So(i,t,n),wo(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Eo(i,e)}catch(n){await Ee(n)}}function wo(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function So(e,t,n){const i=L(e);let r=i.Vu[i.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function ko(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||Co(e,t)})}function Co(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(pa(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),jo(e))}function No(e,t,n){for(const i of n)i instanceof no?(e.Ru.addReference(i.key,t),To(e,i)):i instanceof io?(E(so,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||Co(e,i.key)):P(19791,{wu:i})}function To(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(E(so,"New document in limbo: "+n),e.Eu.add(i),jo(e))}function jo(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new ae(ie.fromString(t)),i=e.fu.next();e.Au.set(i,new oo(n)),e.du=e.du.insert(n,i),ma(e.remoteStore,new Gr(qn(Mn(n.path)),i,"TargetPurposeLimboResolution",Pe.ce))}}async function Eo(e,t,n){const i=L(e),r=[],s=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((e,o)=>{a.push(i.pu(o,t,n).then(e=>{if((e||n)&&i.isPrimaryClient){var t;const r=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;i.sharedClientState.updateQueryState(o.targetId,r?"current":"not-current")}if(e){r.push(e);const t=Ns.As(o.targetId,e);s.push(t)}}))}),await Promise.all(a),i.Pu.H_(r),await async function(e,t){const n=L(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Ae.forEach(t,t=>Ae.forEach(t.Es,i=>n.persistence.referenceDelegate.addReference(e,t.targetId,i)).next(()=>Ae.forEach(t.ds,i=>n.persistence.referenceDelegate.removeReference(e,t.targetId,i)))))}catch(e){if(!_e(e))throw e;E(Es,"Failed to update sequence numbers: "+e)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.Ms.get(e),i=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(i);n.Ms=n.Ms.insert(e,r)}}}(i.localStore,s))}async function Ao(e,t){const n=L(e);if(!n.currentUser.isEqual(t)){E(so,"User change. New user:",t.toKey());const e=await Ps(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new M(O.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Eo(n,e.Ls)}}function Io(e,t){const n=L(e),i=n.Au.get(t);if(i&&i.hu)return ci().add(i.key);{let e=ci();const i=n.Iu.get(t);if(!i)return e;for(const t of i){const i=n.Tu.get(t);e=e.unionWith(i.view.nu)}return e}}function _o(e){const t=L(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=go.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Io.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bo.bind(null,t),t.Pu.H_=Xa.bind(null,t.eventManager),t.Pu.yu=Ya.bind(null,t.eventManager),t}function Po(e){const t=L(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vo.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xo.bind(null,t),t}class Ro{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ea(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return _s(this.persistence,new js,e.initialUser,this.serializer)}Cu(e){return new ws(ks.mi,this.serializer)}Du(e){return new qs}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ro.provider={build:()=>new Ro};class Do extends Ro{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){D(this.persistence.referenceDelegate instanceof Cs,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new as(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?es.withCacheSize(this.cacheSizeBytes):es.DEFAULT;return new ws(e=>Cs.mi(e,t),this.serializer)}}class Lo{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>yo(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ao.bind(null,this.syncEngine),await Ma(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ga}createDatastore(e){const t=ea(e.databaseInfo.databaseId),n=function(e){return new $s(e)}(e.databaseInfo);return function(e,t,n,i){return new oa(e,t,n,i)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,i,r){return new ua(e,t,n,i,r)}(this.localStore,this.datastore,e.asyncQueue,e=>yo(this.syncEngine,e,0),Hs.v()?new Hs:new Ws)}createSyncEngine(e,t){return function(e,t,n,i,r,s,a){const o=new lo(e,t,n,i,r,s);return a&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=L(e);E(ca,"RemoteStore shutting down."),t.Ea.add(5),await ha(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Lo.provider={build:()=>new Lo};class Oo{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):A("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Mo="FirestoreClient";class Bo{constructor(e,t,n,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=C.UNAUTHENTICATED,this.clientId=K.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(n,async e=>{E(Mo,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(E(Mo,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new B;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=qa(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Fo(e,t){e.asyncQueue.verifyOperationInProgress(),E(Mo,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async e=>{i.isEqual(e)||(await Ps(t.localStore,e),i=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function zo(e,t){e.asyncQueue.verifyOperationInProgress();const n=await qo(e);E(Mo,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Oa(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Oa(t.remoteStore,n)),e._onlineComponents=t}async function qo(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){E(Mo,"Using user provided OfflineComponentProvider");try{await Fo(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===O.FAILED_PRECONDITION||e.code===O.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;I("Error using user provided cache. Falling back to memory cache: "+n),await Fo(e,new Ro)}}else E(Mo,"Using default OfflineComponentProvider"),await Fo(e,new Do(void 0));return e._offlineComponents}async function Wo(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(E(Mo,"Using user provided OnlineComponentProvider"),await zo(e,e._uninitializedComponentsProvider._online)):(E(Mo,"Using default OnlineComponentProvider"),await zo(e,new Lo))),e._onlineComponents}function Vo(e){return Wo(e).then(e=>e.syncEngine)}async function Ho(e){const t=await Wo(e),n=t.eventManager;return n.onListen=co.bind(null,t.syncEngine),n.onUnlisten=po.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=uo.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=fo.bind(null,t.syncEngine),n}function Uo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new B;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,i,r){const s=new Oo({next:o=>{s.Nu(),t.enqueueAndForget(()=>Qa(e,a));const l=o.docs.has(n);!l&&o.fromCache?r.reject(new M(O.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&i&&"server"===i.source?r.reject(new M(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(o)},error:e=>r.reject(e)}),a=new to(Mn(n.path),s,{includeMetadataChanges:!0,qa:!0});return Ka(e,a)}(await Ho(e),e.asyncQueue,t,n,i)),i.promise}function Go(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new B;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,i,r){const s=new Oo({next:n=>{s.Nu(),t.enqueueAndForget(()=>Qa(e,a)),n.fromCache&&"server"===i.source?r.reject(new M(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:e=>r.reject(e)}),a=new to(n,s,{includeMetadataChanges:!0,qa:!0});return Ka(e,a)}(await Ho(e),e.asyncQueue,t,n,i)),i.promise}function Jo(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ko=new Map,Qo="firestore.googleapis.com",Xo=!0;class Yo{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new M(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Qo,this.ssl=Xo}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Xo;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Zr;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<is)throw new M(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,i){if(!0===t&&!0===i)throw new M(O.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jo(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new M(O.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new M(O.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new M(O.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $o{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yo({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new M(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yo(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new z;switch(e.type){case"firstParty":return new H(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new M(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ko.get(e);t&&(E("ComponentProvider","Removing Datastore"),Ko.delete(e),t.terminate())}(this),Promise.resolve()}}class Zo{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Zo(this.firestore,e,this._query)}}class el{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new el(this.firestore,e,this._key)}toJSON(){return{type:el._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(fe(t,el._jsonSchema))return new el(e,n||null,new ae(ie.fromString(t.referencePath)))}}el._jsonSchemaVersion="firestore/documentReference/1.0",el._jsonSchema={type:pe("string",el._jsonSchemaVersion),referencePath:pe("string")};class tl extends Zo{constructor(e,t,n){super(e,t,Mn(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new el(this.firestore,null,new ae(e))}withConverter(e){return new tl(this.firestore,e,this._path)}}function nl(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(e=(0,c.Ku)(e),oe("collection","path",t),e instanceof $o){const n=ie.fromString(t,...i);return ce(n),new tl(e,null,n)}{if(!(e instanceof el||e instanceof tl))throw new M(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ie.fromString(t,...i));return ce(n),new tl(e.firestore,null,n)}}function il(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(e=(0,c.Ku)(e),1===arguments.length&&(t=K.newId()),oe("doc","path",t),e instanceof $o){const n=ie.fromString(t,...i);return le(n),new el(e,null,new ae(n))}{if(!(e instanceof el||e instanceof tl))throw new M(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ie.fromString(t,...i));return le(n),new el(e.firestore,e instanceof tl?e.converter:null,new ae(n))}}const rl="AsyncQueue";class sl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ta(this,"async_queue_retry"),this._c=()=>{const e=Zs();e&&E(rl,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Zs();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Zs();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new B;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_e(e))throw e;E(rl,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,A("INTERNAL UNHANDLED ERROR: ",al(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=za.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(i),i}uc(){this.nc&&P(47125,{Pc:al(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function al(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class ol extends $o{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new sl,this._persistenceKey=(null===i||void 0===i?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sl(e),this._firestoreClient=void 0,await e}}}function ll(e,t){const n="object"==typeof e?e:(0,a.Sx)(),i="string"==typeof e?e:t||Rt,r=(0,a.j6)(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const e=(0,c.yU)("firestore");e&&function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=he(e,$o);const r=(0,c.zJ)(t),a=e._getSettings(),o=(0,s.A)((0,s.A)({},a),{},{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);r&&((0,c.gE)("https://".concat(l)),(0,c.P1)("Firestore",!0)),a.host!==Qo&&a.host!==l&&I("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=(0,s.A)((0,s.A)({},a),{},{host:l,ssl:r,emulatorOptions:i});if(!(0,c.bD)(u,o)&&(e._setSettings(u),i.mockUserToken)){let t,n;if("string"==typeof i.mockUserToken)t=i.mockUserToken,n=C.MOCK_USER;else{var d;t=(0,c.Fy)(i.mockUserToken,null===(d=e._app)||void 0===d?void 0:d.options.projectId);const r=i.mockUserToken.sub||i.mockUserToken.user_id;if(!r)throw new M(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new C(r)}e._authCredentials=new q(new F(t,n))}}(r,...e)}return r}function cl(e){if(e._terminated)throw new M(O.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||ul(e),e._firestoreClient}function ul(e){var t,n,i;const r=e._freezeSettings(),s=function(e,t,n,i){return new Pt(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Jo(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||null!==(n=r.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new Bo(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dl(xt.fromBase64String(e))}catch(e){throw new M(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new dl(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:dl._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fe(e,dl._jsonSchema))return dl.fromBase64String(e.bytes)}}dl._jsonSchemaVersion="firestore/bytes/1.0",dl._jsonSchema={type:pe("string",dl._jsonSchemaVersion),bytes:pe("string")};class hl{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let i=0;i<t.length;++i)if(0===t[i].length)throw new M(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new se(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ml{constructor(e){this._methodName=e}}class pl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pl._jsonSchemaVersion}}static fromJSON(e){if(fe(e,pl._jsonSchema))return new pl(e.latitude,e.longitude)}}pl._jsonSchemaVersion="firestore/geoPoint/1.0",pl._jsonSchema={type:pe("string",pl._jsonSchemaVersion),latitude:pe("number"),longitude:pe("number")};class fl{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:fl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fe(e,fl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new fl(e.vectorValues);throw new M(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fl._jsonSchemaVersion="firestore/vectorValue/1.0",fl._jsonSchema={type:pe("string",fl._jsonSchemaVersion),vectorValues:pe("object")};const gl=/^__.*__$/;class yl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Bi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mi(e,this.data,t,this.fieldTransforms)}}class bl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Bi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P(40011,{Ac:e})}}class xl{constructor(e,t,n,i,r,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.Rc(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new xl((0,s.A)((0,s.A)({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fl(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(vl(this.Ac)&&gl.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class wl{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ea(e)}Cc(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new xl({Ac:e,methodName:t,Dc:n,path:se.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sl(e){const t=e._freezeSettings(),n=ea(e._databaseId);return new wl(e._databaseId,!!t.ignoreUndefinedProperties,n)}function kl(e,t,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Cc(s.merge||s.mergeFields?2:0,t,n,r);Ll("Data must be an object, but it was:",a,i);const o=Rl(i,a);let l,c;if(s.merge)l=new bt(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const i of s.mergeFields){const r=Ol(t,i,n);if(!a.contains(r))throw new M(O.INVALID_ARGUMENT,"Field '".concat(r,"' is specified in your field mask but missing from your input data."));zl(e,r)||e.push(r)}l=new bt(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new yl(new sn(o),l,c)}class Cl extends ml{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cl}}function Nl(e,t,n){return new xl({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Tl extends ml{_toFieldTransform(e){return new ji(e.path,new vi)}isEqual(e){return e instanceof Tl}}class jl extends ml{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Nl(this,e,!0),n=this.vc.map(e=>Pl(e,t)),i=new xi(n);return new ji(e.path,i)}isEqual(e){return e instanceof jl&&(0,c.bD)(this.vc,e.vc)}}class El extends ml{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Ci(e.serializer,pi(e.serializer,this.Fc));return new ji(e.path,t)}isEqual(e){return e instanceof El&&this.Fc===e.Fc}}function Al(e,t,n,i){const r=e.Cc(1,t,n);Ll("Data must be an object, but it was:",r,i);const s=[],a=sn.empty();dt(i,(e,i)=>{const o=Bl(t,e,n);i=(0,c.Ku)(i);const l=r.yc(o);if(i instanceof Cl)s.push(o);else{const e=Pl(i,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new bt(s);return new bl(a,o,r.fieldTransforms)}function Il(e,t,n,i,r,s){const a=e.Cc(1,t,n),o=[Ol(t,i,n)],l=[r];if(s.length%2!=0)throw new M(O.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let c=0;c<s.length;c+=2)o.push(Ol(t,s[c])),l.push(s[c+1]);const u=[],d=sn.empty();for(let m=o.length-1;m>=0;--m)if(!zl(u,o[m])){const e=o[m];let t=l[m];t=(0,c.Ku)(t);const n=a.yc(e);if(t instanceof Cl)u.push(e);else{const i=Pl(t,n);null!=i&&(u.push(e),d.set(e,i))}}const h=new bt(u);return new bl(d,h,a.fieldTransforms)}function _l(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Pl(n,e.Cc(i?4:3,t))}function Pl(e,t){if(Dl(e=(0,c.Ku)(e)))return Ll("Unsupported field value:",t,e),Rl(e,t);if(e instanceof ml)return function(e,t){if(!vl(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let i=0;for(const r of e){let e=Pl(r,t.wc(i));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),i++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,c.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return pi(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=be.fromDate(e);return{timestampValue:vr(t.serializer,n)}}if(e instanceof be){const n=new be(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:vr(t.serializer,n)}}if(e instanceof pl)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof dl)return{bytesValue:xr(t.serializer,e._byteString)};if(e instanceof el){const n=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(n))throw t.Sc("Document reference is for database ".concat(i.projectId,"/").concat(i.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:kr(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof fl)return function(e,t){return{mapValue:{fields:{[Lt]:{stringValue:Bt},[Ft]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return hi(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(de(e)))}(e,t)}function Rl(e,t){const n={};return ht(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):dt(e,(e,i)=>{const r=Pl(i,t.mc(e));null!=r&&(n[e]=r)}),{mapValue:{fields:n}}}function Dl(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof be||e instanceof pl||e instanceof dl||e instanceof el||e instanceof ml||e instanceof fl)}function Ll(e,t,n){if(!Dl(n)||!ue(n)){const i=de(n);throw"an object"===i?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function Ol(e,t,n){if((t=(0,c.Ku)(t))instanceof hl)return t._internalPath;if("string"==typeof t)return Bl(e,t);throw Fl("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ml=new RegExp("[~\\*/\\[\\]]");function Bl(e,t,n){if(t.search(Ml)>=0)throw Fl("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new hl(...t.split("."))._internalPath}catch(i){throw Fl("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Fl(e,t,n,i,r){const s=i&&!i.isEmpty(),a=void 0!==r;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(i)),a&&(l+=" in document ".concat(r)),l+=")"),new M(O.INVALID_ARGUMENT,o+e+l)}function zl(e,t){return e.some(e=>e.isEqual(t))}class ql{constructor(e,t,n,i,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new el(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Wl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Wl extends ql{data(){return super.data()}}function Vl(e,t){return"string"==typeof t?Bl(e,t):t instanceof hl?t._internalPath:t._delegate._internalPath}function Hl(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new M(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ul{}class Gl extends Ul{}function Jl(e,t){let n=[];for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];t instanceof Ul&&n.push(t),n=n.concat(r),function(e){const t=e.filter(e=>e instanceof Ql).length,n=e.filter(e=>e instanceof Kl).length;if(t>1||t>0&&n>0)throw new M(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Kl extends Gl{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Kl(e,t,n)}_apply(e){const t=this._parse(e);return nc(e._query,t),new Zo(e.firestore,e.converter,Vn(e._query,t))}_parse(e){const t=Sl(e.firestore),n=function(e,t,n,i,r,s,a){let o;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new M(O.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){tc(a,s);const t=[];for(const n of a)t.push(ec(i,e,n));o={arrayValue:{values:t}}}else o=ec(i,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||tc(a,s),o=_l(n,t,a,"in"===s||"not-in"===s);return pn.create(r,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Ql extends Ul{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ql(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:fn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const i=t.getFlattenedFilters();for(const r of i)nc(n,r),n=Vn(n,r)}(e._query,t),new Zo(e.firestore,e.converter,Vn(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Xl extends Gl{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Xl(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new M(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new M(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dn(t,n)}(e._query,this._field,this._direction);return new Zo(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ln(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Yl(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Vl("orderBy",e);return Xl._create(n,t)}class $l extends Gl{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new $l(e,t,n)}_apply(e){return new Zo(e.firestore,e.converter,Hn(e._query,this._limit,this._limitType))}}function Zl(e){return me("limit",e),$l._create("limit",e,"F")}function ec(e,t,n){if("string"==typeof(n=(0,c.Ku)(n))){if(""===n)throw new M(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fn(t)&&-1!==n.indexOf("/"))throw new M(O.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const i=t.path.child(ie.fromString(n));if(!ae.isDocumentKey(i))throw new M(O.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(i,"' is not because it has an odd number of segments (").concat(i.length,")."));return Qt(e,new ae(i))}if(n instanceof el)return Qt(e,n._key);throw new M(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(de(n),"."))}function tc(e,t){if(!Array.isArray(e)||0===e.length)throw new M(O.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function nc(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new M(O.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new M(O.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class ic{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(zt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ct(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw P(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return dt(e,(e,i)=>{n[e]=this.convertValue(i,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[Ft].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>kt(e.doubleValue));return new fl(n)}convertGeoPoint(e){return new pl(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=It(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(_t(e));default:return null}}convertTimestamp(e){const t=St(e);return new be(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ie.fromString(e);D(Ur(n),9688,{name:e});const i=new Dt(n.get(1),n.get(3)),r=new ae(n.popFirst(5));return i.isEqual(t)||A("Document ".concat(r," contains a document reference within a different database (").concat(i.projectId,"/").concat(i.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),r}}function rc(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class sc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ac extends ql{constructor(e,t,n,i,r,s){super(e,t,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Vl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new M(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ac._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}ac._jsonSchemaVersion="firestore/documentSnapshot/1.0",ac._jsonSchema={type:pe("string",ac._jsonSchemaVersion),bundleSource:pe("string","DocumentSnapshot"),bundleName:pe("string"),bundle:pe("string")};class oc extends ac{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class lc{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new sc(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new oc(this._firestore,this._userDataWriter,n.key,n,new sc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new M(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const i=new oc(e._firestore,e._userDataWriter,n.doc.key,n.doc,new sc(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const i=new oc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new sc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,s=-1;return 0!==t.type&&(r=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:cc(t.type),doc:i,oldIndex:r,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new M(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=K.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],i=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),i.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cc(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P(61501,{type:e})}}function uc(e){e=he(e,el);const t=he(e.firestore,ol);return Uo(cl(t),e._key).then(n=>yc(t,e,n))}lc._jsonSchemaVersion="firestore/querySnapshot/1.0",lc._jsonSchema={type:pe("string",lc._jsonSchemaVersion),bundleSource:pe("string","QuerySnapshot"),bundleName:pe("string"),bundle:pe("string")};class dc extends ic{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new el(this.firestore,null,t)}}function hc(e){e=he(e,Zo);const t=he(e.firestore,ol),n=cl(t),i=new dc(t);return Hl(e._query),Go(n,e._query).then(n=>new lc(t,i,e,n))}function mc(e,t,n){e=he(e,el);const i=he(e.firestore,ol),r=rc(e.converter,t,n);return gc(i,[kl(Sl(i),"setDoc",e._key,r,null!==e.converter,n).toMutation(e._key,Ai.none())])}function pc(e,t,n){e=he(e,el);const i=he(e.firestore,ol),r=Sl(i);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=(0,c.Ku)(t))||t instanceof hl?Il(r,"updateDoc",e._key,t,n,o):Al(r,"updateDoc",e._key,t),gc(i,[s.toMutation(e._key,Ai.exists(!0))])}function fc(e){return gc(he(e.firestore,ol),[new Wi(e._key,Ai.none())])}function gc(e,t){return function(e,t){const n=new B;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const i=Po(e);try{const e=await function(e,t){const n=L(e),i=be.now(),r=t.reduce((e,t)=>e.add(t.key),ci());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=ei(),l=ci();return n.Ns.getEntries(e,r).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(r=>{s=r;const a=[];for(const e of t){const t=Li(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Bi(e.key,t,an(t.value.mapValue),Ai.exists(!0)))}return n.mutationQueue.addMutationBatch(e,i,a,t)}).next(t=>{a=t;const i=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,i)})}).then(()=>({batchId:a.batchId,changes:ii(s)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let i=e.Vu[e.currentUser.toKey()];i||(i=new mt(Q)),i=i.insert(t,n),e.Vu[e.currentUser.toKey()]=i}(i,e.batchId,n),await Eo(i,e.changes),await ja(i.remoteStore)}catch(e){const t=qa(e,"Failed to persist write");n.reject(t)}}(await Vo(e),t,n)),n.promise}(cl(e),t)}function yc(e,t,n){const i=n.docs.get(t._key),r=new dc(e);return new ac(e,r,t._key,i,new sc(n.hasPendingWrites,n.fromCache),t.converter)}function bc(){return new Tl("serverTimestamp")}function vc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jl("arrayUnion",t)}function xc(e){return new El("increment",e)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){N=e}(a.MF),(0,a.om)(new o.uA("firestore",(e,n)=>{let{instanceIdentifier:i,options:r}=n;const a=e.getProvider("app").getImmediate(),o=new ol(new W(e.getProvider("auth-internal")),new G(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new M(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dt(e.options.projectId,t)}(a,i),a);return r=(0,s.A)({useFetchStreams:t},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),(0,a.KO)(S,k,e),(0,a.KO)(S,k,"esm2020")}()},672:(e,t,n)=>{var i=n(43);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(r(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,i=c(n,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):"script"===n&&a.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,i=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:i,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.0"},776:(e,t,n)=>{n.d(t,{cY:()=>f,FA:()=>D,g:()=>R,u:()=>l,Uj:()=>o,Fy:()=>b,tD:()=>W,bD:()=>M,hp:()=>q,T9:()=>m,Tj:()=>d,yU:()=>h,XA:()=>p,mS:()=>c,Ku:()=>U,ZQ:()=>S,sr:()=>T,zJ:()=>g,c1:()=>N,Im:()=>O,lT:()=>E,zW:()=>_,jZ:()=>k,lV:()=>j,nr:()=>A,Ov:()=>I,gE:()=>y,Am:()=>F,I9:()=>z,P1:()=>w,eX:()=>P});var i=n(555);const r=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&i+1<e.length&&56320===(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const t=e[r],s=r+1<e.length,a=s?e[r+1]:0,o=r+2<e.length,l=o?e[r+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),i.push(n[c],n[u],n[d],n[h])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(s>>10)),t[i++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],s=r<e.length?n[e.charAt(r)]:0;++r;const o=r<e.length?n[e.charAt(r)]:64;++r;const l=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==s||null==o||null==l)throw new a;const c=t<<2|s>>4;if(i.push(c),64!==o){const e=s<<4&240|o>>2;if(i.push(e),64!==l){const e=o<<6&192|l;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class a extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o=function(e){return function(e){const t=r(e);return s.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const u=()=>{try{return c().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAILJS_SERVICE_ID:"your_service_id_here",REACT_APP_EMAILJS_TEMPLATE_ID:"your_template_id_here",REACT_APP_EMAILJS_PUBLIC_KEY:"your_public_key_here",REACT_APP_EMAIL_MODE:"demo",REACT_APP_FIREBASE_API_KEY:"AIzaSyDvYAi4EMGSfBTysKVsgIvw-dk26kpa4Us",REACT_APP_FIREBASE_AUTH_DOMAIN:"church-explorer-20e5a.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"church-explorer-20e5a",REACT_APP_FIREBASE_STORAGE_BUCKET:"church-explorer-20e5a.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"359510802923",REACT_APP_FIREBASE_APP_ID:"1:359510802923:web:1c9e7c335f63d8ef3659ae",REACT_APP_AI_API_ENDPOINT:"https://churchexplorer-hlo9hbs7g-scott-mcmurrays-projects.vercel.app/api/ai"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&l(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},d=e=>{var t;return null===(t=u())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},h=e=>{const t=d(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const i=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),i]:[t.substring(0,n),i]},m=()=>{var e;return null===(e=u())||void 0===e?void 0:e.config},p=e=>{var t;return null===(t=u())||void 0===t?void 0:t["_".concat(e)]};class f{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function g(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function y(e){return(await fetch(e,{credentials:"include"})).ok}function b(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=(0,i.A)({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(a)),""].join(".")}const v={};let x=!1;function w(e,t){if("undefined"===typeof window||"undefined"===typeof document||!g(window.location.host)||v[e]===t||v[e]||x)return;function n(e){return"__firebase__banner__".concat(e)}v[e]=t;const i="__firebase__banner",r=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(v))v[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{x=!0,function(){const e=document.getElementById(i);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(i),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}r?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function S(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function k(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(S())}function C(){var e;const t=null===(e=u())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(i){return!1}}function N(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function T(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function j(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function E(){const e=S();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function A(){return!C()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I(){return!C()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function _(){try{return"object"===typeof indexedDB}catch(e){return!1}}function P(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class R extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,R.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,D.prototype.create)}}class D{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),i=this.errors[e],r=i?function(e,t){return e.replace(L,(e,n)=>{const i=t[n];return null!=i?String(i):"<".concat(n,"?>")})}(i,t):"Error",s="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new R(n,s,t)}}const L=/\{\$([^}]+)}/g;function O(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function M(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],s=t[r];if(B(n)&&B(s)){if(!M(n,s))return!1}else if(n!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function B(e){return null!==e&&"object"===typeof e}function F(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function z(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}}),t}function q(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function W(e,t){const n=new V(e,t);return n.subscribe.bind(n)}class V{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=H),void 0===i.error&&(i.error=H),void 0===i.complete&&(i.complete=H);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(e){}}),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H(){}function U(e){return e&&e._delegate?e._delegate:e}},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(e,t,i){var r=null;if(void 0!==i&&(r=""+i),void 0!==t.key&&(r=""+t.key),"key"in t)for(var s in i={},t)"key"!==s&&(i[s]=t[s]);else i=t;return t=i.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:i}}t.Fragment=i,t.jsx=r,t.jsxs=r},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<s(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,a=r>>>1;i<a;){var o=2*(i+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<r&&0>s(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[o]=n,i=o);else{if(!(c<r&&0>s(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,p=!1,f=!1,g=!1,y=!1,b="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function S(e){if(g=!1,w(e),!f)if(null!==i(c))f=!0,C||(C=!0,k());else{var t=i(u);null!==t&&P(S,t.startTime-e)}}var k,C=!1,N=-1,T=5,j=-1;function E(){return!!y||!(t.unstable_now()-j<T)}function A(){if(y=!1,C){var e=t.unstable_now();j=e;var n=!0;try{e:{f=!1,g&&(g=!1,v(N),N=-1),p=!0;var s=m;try{t:{for(w(e),h=i(c);null!==h&&!(h.expirationTime>e&&E());){var a=h.callback;if("function"===typeof a){h.callback=null,m=h.priorityLevel;var o=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===i(c)&&r(c),w(e)}else r(c);h=i(c)}if(null!==h)n=!0;else{var l=i(u);null!==l&&P(S,l.startTime-e),n=!1}}break e}finally{h=null,m=s,p=!1}n=void 0}}finally{n?k():C=!1}}}if("function"===typeof x)k=function(){x(A)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,_=I.port2;I.port1.onmessage=A,k=function(){_.postMessage(null)}}else k=function(){b(A,0)};function P(e,n){N=b(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,r,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===i(c)&&e===i(u)&&(g?(v(N),N=-1):g=!0,P(S,s-a))):(e.sortIndex=o,n(c,e),f||p||(f=!0,C||(C=!0,k()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},965:(e,t,n)=>{n.d(t,{$b:()=>r,Vy:()=>c});const i=[];var r;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(r||(r={}));const s={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},a=r.INFO,o={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),i=o[t];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var r=arguments.length,s=new Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a];console[i]("[".concat(n,"]  ").concat(e.name,":"),...s)};class c{constructor(e){this.name=e,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in r))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...t),this._logHandler(this,r.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...t),this._logHandler(this,r.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,r.INFO,...t),this._logHandler(this,r.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,r.WARN,...t),this._logHandler(this,r.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,r.ERROR,...t),this._logHandler(this,r.ERROR,...t)}}},986:(e,t,n)=>{function i(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}n.d(t,{A:()=>i})}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i=n(43),r=n(391),s=n(986),a=n(555);const o=["sri"],l=["page"],c=["page","matches"],u=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],d=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],h=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var m="popstate";function p(){return w(function(e,t){let{pathname:n="/",search:i="",hash:r=""}=x(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),b("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),i="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");i=-1===n?t:t.slice(0,n)}return i+"#"+("string"===typeof t?t:v(t))},function(e,t){g("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push(".concat(JSON.stringify(t),")"))},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function f(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function g(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function y(e,t){return{usr:e.state,key:e.key,idx:t}}function b(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return(0,a.A)((0,a.A)({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?x(t):t),{},{state:n,key:t&&t.key||i||Math.random().toString(36).substring(2,10)})}function v(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function x(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function w(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,l="POP",c=null,u=d();function d(){return(o.state||{idx:null}).idx}function h(){l="POP";let e=d(),t=null==e?null:e-u;u=e,c&&c({action:l,location:f.location,delta:t})}function p(e){return S(e)}null==u&&(u=0,o.replaceState((0,a.A)((0,a.A)({},o.state),{},{idx:u}),""));let f={get action(){return l},get location(){return e(r,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(m,h),c=e,()=>{r.removeEventListener(m,h),c=null}},createHref:e=>t(r,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let i=b(f.location,e,t);n&&n(i,e),u=d()+1;let a=y(i,u),h=f.createHref(i);try{o.pushState(a,"",h)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;r.location.assign(h)}s&&c&&c({action:l,location:f.location,delta:1})},replace:function(e,t){l="REPLACE";let i=b(f.location,e,t);n&&n(i,e),u=d();let r=y(i,u),a=f.createHref(i);o.replaceState(r,"",a),s&&c&&c({action:l,location:f.location,delta:0})},go:e=>o.go(e)};return f}function S(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),f(n,"No window.location.(origin|href) available to create URL");let i="string"===typeof e?e:v(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}new WeakMap;function k(e,t){return C(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function C(e,t,n,i){let r=F(("string"===typeof t?x(t):t).pathname||"/",n);if(null==r)return null;let s=N(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=B(r);a=L(s[o],e,i)}return a}function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(i)&&a)return;f(l.relativePath.startsWith(i),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(i,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(i.length)}let c=H([i,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(f(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),N(e.children,t,u,c,a)),(null!=e.path||e.index)&&t.push({path:c,score:D(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let i of T(e.path))s(e,t,!0,i);else s(e,t)}),t}function T(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===i.length)return r?[s,""]:[s];let a=T(i.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),r&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var j=/^:[\w-]+$/,E=3,A=2,I=1,_=10,P=-2,R=e=>"*"===e;function D(e,t){let n=e.split("/"),i=n.length;return n.some(R)&&(i+=P),t&&(i+=A),n.filter(e=>!R(e)).reduce((e,t)=>e+(j.test(t)?E:""===t?I:_),i)}function L(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:i}=e,r={},s="/",a=[];for(let o=0;o<i.length;++o){let e=i[o],l=o===i.length-1,c="/"===s?t:t.slice(s.length)||"/",u=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!i[i.length-1].route.index&&(u=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(r,u.params),a.push({params:r,pathname:H([s,u.pathname]),pathnameBase:U(H([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=H([s,u.pathnameBase]))}return a}function O(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=M(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((e,t,n)=>{let{paramName:i,isOptional:r}=t;if("*"===i){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[i]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:a,pattern:e}}function M(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];g("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function B(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return g(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function F(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function z(e,t,n,i){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(i),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function q(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function W(e){let t=q(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function V(e,t,n){let i,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?i=x(e):(i=(0,a.A)({},e),f(!i.pathname||!i.pathname.includes("?"),z("?","pathname","search",i)),f(!i.pathname||!i.pathname.includes("#"),z("#","pathname","hash",i)),f(!i.search||!i.search.includes("#"),z("#","search","hash",i)));let s,o=""===e||""===i.pathname,l=o?"/":i.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:i="",hash:r=""}="string"===typeof e?x(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:G(i),hash:J(r)}}(i,s),u=l&&"/"!==l&&l.endsWith("/"),d=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var H=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",J=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function K(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Q=["POST","PUT","PATCH","DELETE"],X=(new Set(Q),["GET",...Q]);new Set(X),Symbol("ResetLoaderData");var Y=i.createContext(null);Y.displayName="DataRouter";var $=i.createContext(null);$.displayName="DataRouterState";var Z=i.createContext(!1);var ee=i.createContext({isTransitioning:!1});ee.displayName="ViewTransition";var te=i.createContext(new Map);te.displayName="Fetchers";var ne=i.createContext(null);ne.displayName="Await";var ie=i.createContext(null);ie.displayName="Navigation";var re=i.createContext(null);re.displayName="Location";var se=i.createContext({outlet:null,matches:[],isDataRoute:!1});se.displayName="Route";var ae=i.createContext(null);ae.displayName="RouteError";function oe(){return null!=i.useContext(re)}function le(){return f(oe(),"useLocation() may be used only in the context of a <Router> component."),i.useContext(re).location}var ce="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ue(e){i.useContext(ie).static||i.useLayoutEffect(e)}function de(){let{isDataRoute:e}=i.useContext(se);return e?function(){let{router:e}=we("useNavigate"),t=ke("useNavigate"),n=i.useRef(!1);ue(()=>{n.current=!0});let r=i.useCallback(async function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(n.current,ce),n.current&&("number"===typeof i?e.navigate(i):await e.navigate(i,(0,a.A)({fromRouteId:t},r)))},[e,t]);return r}():function(){f(oe(),"useNavigate() may be used only in the context of a <Router> component.");let e=i.useContext(Y),{basename:t,navigator:n}=i.useContext(ie),{matches:r}=i.useContext(se),{pathname:s}=le(),a=JSON.stringify(W(r)),o=i.useRef(!1);ue(()=>{o.current=!0});let l=i.useCallback(function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(g(o.current,ce),!o.current)return;if("number"===typeof i)return void n.go(i);let l=V(i,JSON.parse(a),s,"path"===r.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:H([t,l.pathname])),(r.replace?n.replace:n.push)(l,r.state,r)},[t,n,a,s,e]);return l}()}i.createContext(null);function he(){let{matches:e}=i.useContext(se),t=e[e.length-1];return t?t.params:{}}function me(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=i.useContext(se),{pathname:r}=le(),s=JSON.stringify(W(n));return i.useMemo(()=>V(e,JSON.parse(s),r,"path"===t),[e,s,r,t])}function pe(e,t,n,r,s){f(oe(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=i.useContext(ie),{matches:l}=i.useContext(se),c=l[l.length-1],u=c?c.params:{},d=c?c.pathname:"/",h=c?c.pathnameBase:"/",m=c&&c.route;{let e=m&&m.path||"";Te(d,!m||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,y=le();if(t){var b;let e="string"===typeof t?x(t):t;f("/"===h||(null===(b=e.pathname)||void 0===b?void 0:b.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=y;let v=p.pathname||"/",w=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let S=k(e,{pathname:w});g(m||null!=S,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),g(null==S||void 0!==S[S.length-1].route.element||void 0!==S[S.length-1].route.Component||void 0!==S[S.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let C=ve(S&&S.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:H([h,o.encodeLocation?o.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:H([h,o.encodeLocation?o.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),l,n,r,s);return t&&C?i.createElement(re.Provider,{value:{location:(0,a.A)({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},C):C}function fe(){let e=Ce(),t=K(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=i.createElement(i.Fragment,null,i.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),i.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",i.createElement("code",{style:a},"ErrorBoundary")," or"," ",i.createElement("code",{style:a},"errorElement")," prop on your route.")),i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,o)}var ge=i.createElement(fe,null),ye=class extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?i.createElement(se.Provider,{value:this.props.routeContext},i.createElement(ae.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function be(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(Y);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(se.Provider,{value:t},r)}function ve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let s=e,a=null===n||void 0===n?void 0:n.errors;if(null!=a){let e=s.findIndex(e=>e.route.id&&void 0!==(null===a||void 0===a?void 0:a[e.route.id]));f(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(a).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let o=!1,l=-1;if(n)for(let i=0;i<s.length;i++){let e=s[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=i),e.route.id){let{loaderData:t,errors:i}=n,r=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!i||void 0===i[e.route.id]);if(e.route.lazy||r){o=!0,s=l>=0?s.slice(0,l+1):[s[0]];break}}}return s.reduceRight((e,c,u)=>{let d,h=!1,m=null,p=null;n&&(d=a&&c.route.id?a[c.route.id]:void 0,m=c.route.errorElement||ge,o&&(l<0&&0===u?(Te("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):l===u&&(h=!0,p=c.route.hydrateFallbackElement||null)));let f=t.concat(s.slice(0,u+1)),g=()=>{let t;return t=d?m:h?p:c.route.Component?i.createElement(c.route.Component,null):c.route.element?c.route.element:e,i.createElement(be,{match:c,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(c.route.ErrorBoundary||c.route.errorElement||0===u)?i.createElement(ye,{location:n.location,revalidation:n.revalidation,component:m,error:d,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0},unstable_onError:r}):g()},null)}function xe(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function we(e){let t=i.useContext(Y);return f(t,xe(e)),t}function Se(e){let t=i.useContext($);return f(t,xe(e)),t}function ke(e){let t=function(e){let t=i.useContext(se);return f(t,xe(e)),t}(e),n=t.matches[t.matches.length-1];return f(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ce(){var e;let t=i.useContext(ae),n=Se("useRouteError"),r=ke("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[r]}var Ne={};function Te(e,t,n){t||Ne[e]||(Ne[e]=!0,g(!1,n))}var je={};function Ee(e,t){e||je[t]||(je[t]=!0,console.warn(t))}i.memo(function(e){let{routes:t,future:n,state:i,unstable_onError:r}=e;return pe(t,void 0,i,r,n)});function Ae(e){f(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ie(e){let{basename:t="/",children:n=null,location:r,navigationType:s="POP",navigator:a,static:o=!1}=e;f(!oe(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=i.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);"string"===typeof r&&(r=x(r));let{pathname:u="/",search:d="",hash:h="",state:m=null,key:p="default"}=r,y=i.useMemo(()=>{let e=F(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:m,key:p},navigationType:s}},[l,u,d,h,m,p,s]);return g(null!=y,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==y?null:i.createElement(ie.Provider,{value:c},i.createElement(re.Provider,{children:n,value:y}))}function _e(e){let{children:t,location:n}=e;return pe(Pe(t),n)}i.Component;function Pe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,Pe(e.props.children,s));f(e.type===Ae,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),f(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Pe(e.props.children,s)),n.push(a)}),n}var Re="get",De="application/x-www-form-urlencoded";function Le(e){return null!=e&&"string"===typeof e.tagName}var Oe=null;var Me=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Be(e){return null==e||Me.has(e)?e:(g(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(De,'"')),null)}function Fe(e,t){let n,i,r,s,a;if(Le(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");i=a?F(a,t):null,n=e.getAttribute("method")||Re,r=Be(e.getAttribute("enctype"))||De,s=new FormData(e)}else if(function(e){return Le(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Le(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(i=o?F(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Re,r=Be(e.getAttribute("formenctype"))||Be(a.getAttribute("enctype"))||De,s=new FormData(a,e),!function(){if(null===Oe)try{new FormData(document.createElement("form"),0),Oe=!1}catch(e){Oe=!0}return Oe}()){let{name:t,type:n,value:i}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,i)}}else{if(Le(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Re,i=null,r=De,a=e}var o;return s&&"text/plain"===r&&(a=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function ze(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function qe(e,t,n){let i="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===i.pathname?i.pathname="_root.".concat(n):t&&"/"===F(i.pathname,t)?i.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):i.pathname="".concat(i.pathname.replace(/\/$/,""),".").concat(n),i}async function We(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ve(e){return null!=e&&"string"===typeof e.page}function He(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ue(e,t,n,i,r,s){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var i;return n[t].pathname!==e.pathname||(null===(i=n[t].route.path)||void 0===i?void 0:i.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>a(e,t)||o(e,t)):"data"===s?t.filter((t,s)=>{let l=i.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){var c;let i=t.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof i)return i}return!0}):[]}function Ge(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i=e.map(e=>{let i=t.routes[e.route.id];if(!i)return[];let r=[i.module];return i.clientActionModule&&(r=r.concat(i.clientActionModule)),i.clientLoaderModule&&(r=r.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(r=r.concat(i.hydrateFallbackModule)),i.imports&&(r=r.concat(i.imports)),r}).flat(1),[...new Set(i)];var i}function Je(e,t){let n=new Set,i=new Set(t);return e.reduce((e,r)=>{if(t&&!Ve(r)&&"script"===r.as&&r.href&&i.has(r.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}(r));return n.has(s)||(n.add(s),e.push({key:s,link:r})),e},[])}function Ke(e,t){return"lazy"===e.mode&&!0===t}function Qe(){let e=i.useContext(Y);return ze(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Xe(){let e=i.useContext($);return ze(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ye=i.createContext(void 0);function $e(){let e=i.useContext(Ye);return ze(e,"You must render this element inside a <HydratedRouter> element"),e}function Ze(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function et(e,t,n){if(n&&!rt)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}Ye.displayName="FrameworkContext";function tt(e){let{page:t}=e,n=(0,s.A)(e,l),{router:r}=Qe(),o=i.useMemo(()=>k(r.routes,t,r.basename),[r.routes,t,r.basename]);return o?i.createElement(it,(0,a.A)({page:t,matches:o},n)):null}function nt(e){let{manifest:t,routeModules:n}=$e(),[r,s]=i.useState([]);return i.useEffect(()=>{let i=!1;return async function(e,t,n){return Je((await Promise.all(e.map(async e=>{let i=t.routes[e.route.id];if(i){let e=await We(i,n);return e.links?e.links():[]}return[]}))).flat(1).filter(He).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?(0,a.A)((0,a.A)({},e),{},{rel:"prefetch",as:"style"}):(0,a.A)((0,a.A)({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{i||s(e)}),()=>{i=!0}},[e,t,n]),r}function it(e){let{page:t,matches:n}=e,r=(0,s.A)(e,c),o=le(),{manifest:l,routeModules:u}=$e(),{basename:d}=Qe(),{loaderData:h,matches:m}=Xe(),p=i.useMemo(()=>Ue(t,n,m,l,o,"data"),[t,n,m,l,o]),f=i.useMemo(()=>Ue(t,n,m,l,o,"assets"),[t,n,m,l,o]),g=i.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let e=new Set,i=!1;if(n.forEach(t=>{var n;let r=l.routes[t.route.id];r&&r.hasLoader&&(!p.some(e=>e.route.id===t.route.id)&&t.route.id in h&&null!==(n=u[t.route.id])&&void 0!==n&&n.shouldRevalidate||r.hasClientLoader?i=!0:e.add(t.route.id))}),0===e.size)return[];let r=qe(t,d,"data");return i&&e.size>0&&r.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[r.pathname+r.search]},[d,h,o,l,p,n,t,u]),y=i.useMemo(()=>Ge(f,l),[f,l]),b=nt(f);return i.createElement(i.Fragment,null,g.map(e=>i.createElement("link",(0,a.A)({key:e,rel:"prefetch",as:"fetch",href:e},r))),y.map(e=>i.createElement("link",(0,a.A)({key:e,rel:"modulepreload",href:e},r))),b.map(e=>{let{key:t,link:n}=e;return i.createElement("link",(0,a.A)({key:t,nonce:r.nonce},n))}))}var rt=!1;function st(e){let{manifest:t,serverHandoffString:n,isSpaMode:r,renderMeta:l,routeDiscovery:c,ssr:u}=$e(),{router:d,static:h,staticContext:m}=Qe(),{matches:p}=Xe(),f=i.useContext(Z),g=Ke(c,u);l&&(l.didRenderScripts=!0);let y=et(p,null,r);i.useEffect(()=>{rt=!0},[]);let b=i.useMemo(()=>{var r;if(f)return null;let l=m?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=h?"".concat(null!==(r=t.hmr)&&void 0!==r&&r.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(y.map((e,n)=>{let i="route".concat(n),r=t.routes[e.route.id];ze(r,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:a,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=r,u=[...s?[{module:s,varName:"".concat(i,"_clientAction")}]:[],...a?[{module:a,varName:"".concat(i,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(i,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(i,"_HydrateFallback")}]:[],{module:c,varName:"".concat(i,"_main")}];return 1===u.length?"import * as ".concat(i," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(i," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,i=(0,s.A)(e,o),r=new Set(t.state.matches.map(e=>e.route.id)),l=t.state.location.pathname.split("/").filter(Boolean),c=["/"];for(l.pop();l.length>0;)c.push("/".concat(l.join("/"))),l.pop();c.forEach(e=>{let n=k(t.routes,e,t.basename);n&&n.forEach(e=>r.add(e.route.id))});let u=[...r].reduce((e,t)=>Object.assign(e,{[t]:i.routes[t]}),{});return(0,a.A)((0,a.A)({},i),{},{routes:u,sri:!!n||void 0})}(t,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(y.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return i.createElement(i.Fragment,null,i.createElement("script",(0,a.A)((0,a.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:l},type:void 0})),i.createElement("script",(0,a.A)((0,a.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:c},type:"module",async:!0})))},[]),v=rt||f?[]:(x=t.entry.imports.concat(Ge(y,t,{includeHydrateFallback:!0})),[...new Set(x)]);var x;let w="object"===typeof t.sri?t.sri:{};return Ee(!f,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),rt||f?null:i.createElement(i.Fragment,null,"object"===typeof t.sri?i.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,g?null:i.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:w[t.url],suppressHydrationWarning:!0}),i.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:w[t.entry.module],suppressHydrationWarning:!0}),v.map(t=>i.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:w[t],suppressHydrationWarning:!0})),b)}function at(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}i.Component;function ot(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let r,s=i.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(K(t))return i.createElement(lt,{title:"Unhandled Thrown Response!"},i.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)r=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);r=new Error(e)}return i.createElement(lt,{title:"Application Error!",isOutsideRemixApp:n},i.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),i.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),s)}function lt(e){var t;let{title:n,renderScripts:r,isOutsideRemixApp:s,children:a}=e,{routeModules:o}=$e();return null!==(t=o.root)&&void 0!==t&&t.Layout&&!s?a:i.createElement("html",{lang:"en"},i.createElement("head",null,i.createElement("meta",{charSet:"utf-8"}),i.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),i.createElement("title",null,n)),i.createElement("body",null,i.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,r?i.createElement(st,null):null)))}var ct="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ct&&(window.__reactRouterVersion="7.9.5")}catch(Ar){}function ut(e){let{basename:t,children:n,window:r}=e,s=i.useRef();null==s.current&&(s.current=p({window:r,v5Compat:!0}));let a=s.current,[o,l]=i.useState({action:a.action,location:a.location}),c=i.useCallback(e=>{i.startTransition(()=>l(e))},[l]);return i.useLayoutEffect(()=>a.listen(c),[a,c]),i.createElement(Ie,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a})}var dt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=i.forwardRef(function(e,t){let n,{onClick:r,discover:o="render",prefetch:l="none",relative:c,reloadDocument:d,replace:h,state:m,target:p,to:y,preventScrollReset:b,viewTransition:x}=e,w=(0,s.A)(e,u),{basename:S}=i.useContext(ie),k="string"===typeof y&&dt.test(y),C=!1;if("string"===typeof y&&k&&(n=y,ct))try{let e=new URL(window.location.href),t=y.startsWith("//")?new URL(e.protocol+y):new URL(y),n=F(t.pathname,S);t.origin===e.origin&&null!=n?y=n+t.search+t.hash:C=!0}catch(Ar){g(!1,'<Link to="'.concat(y,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let N=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(oe(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=i.useContext(ie),{hash:s,pathname:a,search:o}=me(e,{relative:t}),l=a;return"/"!==n&&(l="/"===a?n:H([n,a])),r.createHref({pathname:l,search:o,hash:s})}(y,{relative:c}),[T,j,E]=function(e,t){let n=i.useContext(Ye),[r,s]=i.useState(!1),[a,o]=i.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,m=i.useRef(null);i.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return m.current&&e.observe(m.current),()=>{e.disconnect()}}},[e]),i.useEffect(()=>{if(r){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{s(!0)},f=()=>{s(!1),o(!1)};return n?"intent"!==e?[a,m,{}]:[a,m,{onFocus:Ze(l,p),onBlur:Ze(c,f),onMouseEnter:Ze(u,p),onMouseLeave:Ze(d,f),onTouchStart:Ze(h,p)}]:[!1,m,{}]}(l,w),A=function(e){let{target:t,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=de(),c=le(),u=me(e,{relative:a});return i.useCallback(i=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(i,t)){i.preventDefault();let t=void 0!==n?n:v(c)===v(u);l(e,{replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,u,n,r,t,e,s,a,o])}(y,{replace:h,state:m,target:p,preventScrollReset:b,relative:c,viewTransition:x});let I=i.createElement("a",(0,a.A)((0,a.A)((0,a.A)({},w),E),{},{href:n||N,onClick:C||d?r:function(e){r&&r(e),e.defaultPrevented||A(e)},ref:at(t,j),target:p,"data-discover":k||"render"!==o?void 0:"true"}));return T&&!k?i.createElement(i.Fragment,null,I,i.createElement(tt,{page:N})):I});ht.displayName="Link",i.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:o="",end:l=!1,style:c,to:u,viewTransition:h,children:m}=e,p=(0,s.A)(e,d),g=me(u,{relative:p.relative}),y=le(),b=i.useContext($),{navigator:v,basename:x}=i.useContext(ie),w=null!=b&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.useContext(ee);f(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ft("useViewTransitionState"),s=me(e,{relative:t});if(!n.isTransitioning)return!1;let a=F(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=F(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=O(s.pathname,o)||null!=O(s.pathname,a)}(g)&&!0===h,S=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,k=y.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(k=k.toLowerCase(),C=C?C.toLowerCase():null,S=S.toLowerCase()),C&&x&&(C=F(C,x)||C);const N="/"!==S&&S.endsWith("/")?S.length-1:S.length;let T,j=k===S||!l&&k.startsWith(S)&&"/"===k.charAt(N),E=null!=C&&(C===S||!l&&C.startsWith(S)&&"/"===C.charAt(S.length)),A={isActive:j,isPending:E,isTransitioning:w},I=j?n:void 0;T="function"===typeof o?o(A):[o,j?"active":null,E?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let _="function"===typeof c?c(A):c;return i.createElement(ht,(0,a.A)((0,a.A)({},p),{},{"aria-current":I,className:T,ref:t,style:_,to:u,viewTransition:h}),"function"===typeof m?m(A):m)}).displayName="NavLink";var mt=i.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:r,navigate:o,reloadDocument:l,replace:c,state:u,method:d=Re,action:m,onSubmit:p,relative:g,preventScrollReset:y,viewTransition:b}=e,x=(0,s.A)(e,h),w=bt(),S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=i.useContext(ie),r=i.useContext(se);f(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o=(0,a.A)({},me(e||".",{relative:t})),l=le();if(null==e){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:H([n,o.pathname]));return v(o)}(m,{relative:g}),k="get"===d.toLowerCase()?"get":"post",C="string"===typeof m&&dt.test(m);return i.createElement("form",(0,a.A)((0,a.A)({ref:t,method:k,action:S,onSubmit:l?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;w(t||e.currentTarget,{fetcherKey:r,method:n,navigate:o,replace:c,state:u,relative:g,preventScrollReset:y,viewTransition:b})}},x),{},{"data-discover":C||"render"!==n?void 0:"true"}))});function pt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function ft(e){let t=i.useContext(Y);return f(t,pt(e)),t}mt.displayName="Form";var gt=0,yt=()=>"__".concat(String(++gt),"__");function bt(){let{router:e}=ft("useSubmit"),{basename:t}=i.useContext(ie),n=ke("useRouteId");return i.useCallback(async function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:a,encType:o,formData:l,body:c}=Fe(i,t);if(!1===r.navigate){let t=r.fetcherKey||yt();await e.fetch(t,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||a,formEncType:r.encType||o,flushSync:r.flushSync})}else await e.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||a,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}const vt=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},xt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var wt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const St=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],kt=(0,i.forwardRef)((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:u,iconNode:d}=e,h=(0,s.A)(e,St);return(0,i.createElement)("svg",(0,a.A)((0,a.A)((0,a.A)({ref:t},wt),{},{width:r,height:r,stroke:n,strokeWidth:l?24*Number(o)/Number(r):o,className:xt("lucide",c)},!u&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...d.map(e=>{let[t,n]=e;return(0,i.createElement)(t,n)}),...Array.isArray(u)?u:[u]])}),Ct=["className"],Nt=(e,t)=>{const n=(0,i.forwardRef)((n,r)=>{let{className:o}=n,l=(0,s.A)(n,Ct);return(0,i.createElement)(kt,(0,a.A)({ref:r,iconNode:t,className:xt("lucide-".concat((c=vt(e),c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),o)},l));var c});return n.displayName=vt(e),n},Tt=Nt("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),jt=Nt("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Et=Nt("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),At=Nt("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),It=Nt("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),_t=Nt("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var Pt=n(579);const Rt=e=>{let{initialView:t,onNavigate:n}=e;const[r,s]=(0,i.useState)(null),[a,o]=(0,i.useState)(null),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(!1),[h,m]=(0,i.useState)(!1),[p,f]=(0,i.useState)(!1),[g,y]=(0,i.useState)(!1),[b,v]=(0,i.useState)(!1),[x,w]=(0,i.useState)(!1),[S,k]=(0,i.useState)([]),[C,N]=(0,i.useState)(!1),[T,j]=(0,i.useState)(null),E={catholic:{name:"Catholic",year:"33 AD",members:"1.3B",fullName:"Roman Catholic Church",description:"The Catholic Church developed highly centralized papal monarchy, with the pope claiming universal jurisdiction as 'Vicar of Christ.' Catholic ecclesiology emphasizes apostolic succession\u2014authority passed through unbroken chain of bishops from Peter. The West embraced Scholasticism, integrating Aristotelian philosophy with theology, epitomized by Thomas Aquinas's Summa Theologica. Papal authority reached its zenith under Innocent III (1198-1216), though later crises damaged prestige.",beliefs:["Seven Sacraments (defined at Fourth Lateran Council, 1215)","Real Presence in Eucharist (Transubstantiation)","Papal primacy and infallibility (Vatican I, 1870)","Scripture and Tradition as dual sources","Veneration of Mary and saints","Purgatory and prayers for the dead"],color:"#d4af37",timeline:[{year:"325",event:"Council of Nicaea",details:"First ecumenical council condemns Arianism, produces Nicene Creed affirming Christ as 'homoousios' (same substance) with the Father."},{year:"1054",event:"East-West Schism",details:"Cardinal Humbert places excommunication on Hagia Sophia's altar July 16, 1054.",contested:!0,contention:"The schism was almost accidental\u2014Pope Leo IX died April 19, 1054 during negotiations, technically voiding his legates' authority. Humbert excommunicated Patriarch Michael Cerularius anyway. Cerularius responded by excommunicating Humbert and the legates\u2014not the pope or entire Western Church. Contemporary sources suggest ordinary Christians remained largely unaware; the schism only gradually hardened. The Fourth Crusade's brutal sack of Constantinople (1204) made reconciliation impossible\u2014Crusaders pillaged for three days, destroying churches and stealing relics. Orthodox view this as the West's ultimate betrayal."},{year:"1215",event:"Fourth Lateran Council",details:"Formally defines seven sacraments and transubstantiation."},{year:"1517",event:"Protestant Reformation",details:"Luther posts 95 Theses October 31, targeting indulgences sold to fund St. Peter's Basilica.",contested:!0,contention:"By 1517, accumulated corruption created revolutionary conditions: simony (buying church offices), clerical concubinage, rampant indulgence sales, pluralism, and absenteeism. Renaissance popes like Alexander VI (Rodrigo Borgia, 1492-1503) openly acknowledged illegitimate children. The church owned approximately one-third of European land. Catholics argue Luther misunderstood Catholic teaching\u2014the Church always taught salvation by grace, with good works as fruit not cause. Protestants argue the medieval church fundamentally corrupted the gospel, presenting salvation as dependent on human merit and church mediation rather than grace through faith alone. The fundamental debate: Was the Reformation a necessary recovery of biblical truth, or a tragic fracturing of Christian unity over misunderstandings?"},{year:"1545-63",event:"Council of Trent",details:"Counter-Reformation systematically responds to Protestant challenges, affirming justification by faith AND works, Scripture AND tradition, seven sacraments, transubstantiation, purgatory."},{year:"1962-65",event:"Vatican II",details:"Major reforms in liturgy, ecumenism, religious liberty. Decree Unitatis Redintegratio commits Catholics to ecumenism."},{year:"2013",event:"Pope Francis",details:"First Jesuit and Latin American pope, draws from liberation theology concerns."}],keyFigures:["St. Peter","St. Augustine of Hippo","St. Thomas Aquinas","St. Francis of Assisi","Pope Innocent III","Pope John Paul II","Pope Francis"],geography:"In 1900, Europe contained 66% of the world's Christians. By 2020, Sub-Saharan Africa alone contains 31%. Latin America remains Catholic stronghold but declining to Pentecostals.",geographicDistribution:[{region:"Latin America",percentage:"40%",trend:"declining",explanation:"Still plurality but steep decline to Pentecostals\u2014especially in Brazil."},{region:"Europe",percentage:"24%",trend:"declining",explanation:"From 95% Christian (1900) to 76% (2020). Rapid secularization, most affiliated are non-practicing."},{region:"Sub-Saharan Africa",percentage:"17%",trend:"rapid-growth",explanation:"Explosive growth through missions and indigenous clergy. By 2050, Africa projected to have 38% of global Christians."},{region:"Asia-Pacific",percentage:"12%",trend:"growing",explanation:"Strong growth in Philippines (83 million Catholics) and parts of India, Vietnam."},{region:"North America",percentage:"6%",trend:"declining",explanation:"From 97% Christian (1900) to 72% (2020). Declining attendance especially among younger Catholics."},{region:"Middle East/North Africa",percentage:"1%",trend:"stable",explanation:"Small ancient communities holding steady despite persecution and emigration."}],debates:["Protestants contest Catholic institutional continuity claims and reject papal supremacy","Orthodox reject papal supremacy and filioque addition to Creed","Pre-Reformation reformers (Waldensians, Wycliffe, Hus) anticipated Protestant themes","Internal debates over Vatican II interpretation and implementation","Liberation theology's relationship to Marxism debated within Catholicism"],sources:[{title:"Vatican Official",url:"https://www.vatican.va/"},{title:"Catechism",url:"https://www.vatican.va/archive/ENG0015/_INDEX.HTM"}]},orthodox:{name:"Orthodox",year:"1054",members:"220M",fullName:"Eastern Orthodox Church",description:"Eastern Orthodoxy maintained conciliar governance, with Constantinople holding honorary primacy as 'first among equals.' They emphasized mystical theology and theosis (becoming one with God), preserved the original Nicene Creed without filioque, and used vernacular languages in liturgy. Saints Cyril and Methodius created Slavonic alphabets enabling indigenous worship. Missionary expansion reached Bulgaria (864), Serbia (9th century), and Kievan Rus (988).",beliefs:["Seven Ecumenical Councils (325-787) define faith","Rejection of papal supremacy and filioque","Theosis (deification) as salvation goal","Icons as 'windows to divine'","Mystical theology and liturgical continuity","Divine Liturgy unchanged from early church"],color:"#8b5cf6",timeline:[{year:"325-787",event:"Seven Councils",details:"Ecumenical councils define Orthodox faith: Nicaea (325), Constantinople (381), Ephesus (431), Chalcedon (451), Constantinople II (553), Constantinople III (680-681), Nicaea II (787)."},{year:"863-885",event:"Cyril and Methodius",details:"Create Slavonic alphabets, translate Bible and liturgy, enabling vernacular worship\u2014model for Orthodox missionary approach."},{year:"988",event:"Baptism of Rus",details:"Prince Vladimir of Kiev converts, bringing Christianity to Russia. Orthodox Christianity becomes integral to Russian identity."},{year:"1054",event:"Great Schism",details:"Formal split from Rome formalized centuries of drift.",contested:!0,contention:"Historians debate whether 1054 represents the actual break or merely formalized centuries of drift. The division of the Roman Empire in 395 created divergent contexts: Byzantine caesaropapism versus Western papal independence. Greek East and Latin West increasingly struggled to communicate as bilingualism declined. The filioque controversy became definitive\u2014the West added 'and the Son' to the Nicene Creed (Spain 589, officially Rome 1014), teaching the Holy Spirit proceeds from both Father and Son. The East condemned this as unauthorized alteration and theological error. The Orthodox argue Rome gradually departed from conciliar governance, elevating the Pope above councils and introducing unauthorized innovations. Catholics argue they maintained the fullness of apostolic faith while the East rejected legitimate development of doctrine. The mutual excommunications were lifted in 1965, but fundamental ecclesiological disagreements remain."},{year:"1204",event:"Fourth Crusade",details:"Crusaders brutally sack Constantinople for three days, destroying churches, stealing relics, establishing Latin Empire (1204-1261). This violence traumatized Orthodox world\u2014Byzantine historian Nicetas Choniates contrasted Saladin's mercy in Jerusalem with Crusaders' brutality toward fellow Christians. Made reconciliation with West impossible."},{year:"1453",event:"Fall of Constantinople",details:"Ottoman conquest ends Byzantine Empire. Constantinople becomes Istanbul. Orthodox Christianity continues under Ottoman millet system."},{year:"1917",event:"Russian Revolution",details:"Bolsheviks close 98% of churches, execute clergy. Severe persecution continues until 1991. Estimated 100,000+ priests and believers martyred."},{year:"2016",event:"Pan-Orthodox Council",details:"First major council attempt in 1000 years held in Crete.",contested:!0,contention:"The Council of Crete (2016) aimed to be a 'Great and Holy Council' uniting all Orthodox churches, but four major churches (Russian, Georgian, Bulgarian, and Antiochian) boycotted\u2014representing roughly half of world Orthodoxy. Participants argue it validly expressed Orthodox consensus on relations with other Christians and diaspora issues. Critics argue a council without Russia (largest Orthodox church) and other major churches lacks the universality required for conciliar authority. This raises fundamental questions: What makes an Orthodox council truly 'ecumenical' and binding? Can major decisions be made without universal Orthodox participation?"}],keyFigures:["St. John Chrysostom","St. Basil the Great","St. Gregory Palamas","St. Cyril and Methodius"],geography:"Eastern Europe, Russia, Greece, Middle East. Recovering from Soviet persecution.",geographicDistribution:[{region:"Eastern Europe",percentage:"42%",trend:"stable",explanation:"Post-communist recovery complete."},{region:"Russia & Former Soviet",percentage:"35%",trend:"growing",explanation:"Significant recovery after Soviet persecution that killed 100,000+ priests and believers."},{region:"Middle East",percentage:"10%",trend:"declining",explanation:"Emigration due to persecution and war."},{region:"Greece & Balkans",percentage:"8%",trend:"stable",explanation:"Deeply rooted but facing secularization."},{region:"North America",percentage:"3%",trend:"growing",explanation:"Immigration and converts."},{region:"Western Europe",percentage:"2%",trend:"growing",explanation:"Diaspora communities growing."}],debates:["Catholics argue Orthodox lack unity without papal authority binding churches together","Orthodox argue Catholics added unauthorized innovations (filioque, papal supremacy)","Fourth Crusade's sack of Constantinople (1204) remains unhealed wound","2016 Pan-Orthodox Council boycotted by Russian, Georgian, Bulgarian, Antiochian churches","East-West mutual excommunications lifted 1965 but ecclesiological disagreements remain"],sources:[{title:"OCA",url:"https://www.oca.org/"},{title:"Greek Orthodox",url:"https://www.goarch.org/"}]},lutheran:{name:"Lutheran",year:"1517",members:"75M",fullName:"Lutheran Church",description:"Martin Luther posted 95 Theses at Wittenberg Castle Church October 31, 1517, initially intending academic debate about indulgences. The printing press enabled rapid dissemination across Europe. Excommunicated by Pope Leo X and declared outlaw by Emperor Charles V at Diet of Worms (1521), Luther developed comprehensive theological reformation grounded in sola scriptura (Scripture alone), sola fide (justification by faith alone), and sola gratia (salvation by grace alone). By mid-16th century, Lutheranism dominated northern Europe under cuius regio, eius religio (whose realm, his religion).",beliefs:["Justification by faith alone (sola fide)","Scripture as sole authority (sola scriptura)","Two sacraments: Baptism and Eucharist","Real Presence\u2014Christ's body and blood 'in, with, and under' bread and wine","Priesthood of all believers","Salvation by grace alone (sola gratia)"],color:"#3b82f6",timeline:[{year:"1517",event:"95 Theses",details:"Luther posts theses at Wittenberg October 31, targeting indulgences sold to fund St. Peter's Basilica renovation.",contested:!0,contention:"By 1517, accumulated corruption created revolutionary conditions: simony (buying church offices), clerical concubinage, rampant indulgence sales, pluralism, and absenteeism. Renaissance popes like Alexander VI (Rodrigo Borgia, 1492-1503) openly acknowledged illegitimate children. The church owned approximately one-third of European land. Catholics argue Luther misunderstood Catholic teaching on justification\u2014that good works are the fruit, not the cause, of salvation. They claim he overreacted to local abuses (like Johann Tetzel's indulgence preaching 'When a coin in the coffer rings, a soul from purgatory springs') and caused unnecessary division rather than seeking reform within church structures. Protestants argue the medieval church fundamentally corrupted the gospel by presenting salvation as dependent on human merit and church mediation rather than grace through faith alone. Luther saw himself not as a revolutionary but as recovering authentic Pauline and Augustinian theology."},{year:"1521",event:"Diet of Worms",details:"Luther refuses to recant unless proven wrong from Scripture: 'Here I stand, I can do no other.' Declared outlaw by Emperor Charles V."},{year:"1530",event:"Augsburg Confession",details:"Definitive Lutheran statement codifies Lutheran theology, written primarily by Philip Melanchthon."},{year:"1555",event:"Peace of Augsburg",details:"Establishes cuius regio, eius religio\u2014rulers determine their territories' religion. Recognizes only Lutheranism and Catholicism, excluding Calvinism."},{year:"1577",event:"Formula of Concord",details:"Resolves internal Lutheran disputes over original sin, free will, and Lord's Supper."},{year:"1999",event:"Joint Declaration on Justification",details:"Agreement with Catholics that justification by faith and grace doesn't contradict Catholic teaching\u2014major ecumenical breakthrough."}],keyFigures:["Martin Luther","Philip Melanchthon","Johann Sebastian Bach","Dietrich Bonhoeffer"],geography:"Germany, Scandinavia, US Midwest. Growing explosively in Africa.",geographicDistribution:[{region:"Northern Europe",percentage:"35%",trend:"declining",explanation:"Rapid secularization in Scandinavia."},{region:"Sub-Saharan Africa",percentage:"28%",trend:"rapid-growth",explanation:"Explosive growth in Ethiopia, Tanzania."},{region:"North America",percentage:"20%",trend:"declining",explanation:"Both liberal and conservative branches declining."},{region:"Asia-Pacific",percentage:"12%",trend:"growing",explanation:"Strong growth in Indonesia."},{region:"Latin America",percentage:"3%",trend:"stable",explanation:"Small immigrant communities."},{region:"Other",percentage:"2%",trend:"stable",explanation:"Diaspora communities."}],debates:["Catholics argue Luther misunderstood justification theology and overreacted to abuses","Reformed critique Lutheran retention of 'Catholic elements' like real presence","1999 Joint Declaration with Catholics on justification was major ecumenical breakthrough","Internal tensions between confessional Lutherans and more liberal expressions"],sources:[{title:"Book of Concord",url:"https://bookofconcord.org/"},{title:"Lutheran World Federation",url:"https://www.lutheranworld.org/"}]},reformed:{name:"Reformed",year:"1536",members:"75M",fullName:"Reformed/Presbyterian",description:"John Calvin (1509-1564) developed systematic Reformed theology in his Institutes of the Christian Religion (first edition 1536, final 1559). Calvinist theology centered on God's absolute sovereignty, expressed in TULIP: Total depravity, Unconditional election, Limited atonement, Irresistible grace, Perseverance of saints. Predestination\u2014God's predetermined choice of the elect\u2014distinguished Reformed from Lutheran theology. Presbyterian polity features governance by elected elders through sessions, presbyteries, synods, and general assemblies. Reformed worship embraced radical simplicity, rejecting images and ceremony, with preaching central.",beliefs:["Unconditional election and predestination","Total depravity of humanity","Irresistible grace for the elect","Limited atonement (Christ died for elect only)","Covenant theology","Presbyterian polity\u2014governance by elders"],color:"#6366f1",timeline:[{year:"1536",event:"Calvin's Institutes",details:"First edition of Institutes of the Christian Religion published. Final edition 1559 provides systematic Reformed theology."},{year:"1560",event:"Scottish Reformation",details:"John Knox establishes Presbyterian Church of Scotland, creating Reformed stronghold."},{year:"1618-19",event:"Synod of Dort",details:"International Reformed synod affirms TULIP doctrines against Arminianism.",contested:!0,contention:"The Synod of Dort's affirmation of unconditional election and limited atonement sparked debate continuing today. Arminians argue predestination makes God the author of evil, denies human free will, and contradicts biblical statements that God desires all to be saved (1 Timothy 2:4). They claim it makes evangelism meaningless if salvation is already determined and presents God as arbitrarily choosing some for salvation and others for damnation. Reformed theologians respond that unconditional election magnifies God's grace and sovereignty, that human 'free will' is enslaved to sin apart from grace (total depravity), and that God's foreknowledge doesn't violate his desire for all to be saved\u2014his revealed will (general call to all) differs from his decretive will (effectual call to elect). They argue that without unconditional election, salvation would ultimately depend on human choice rather than divine grace. The debate centers on reconciling divine sovereignty with human responsibility, God's love with particular election."},{year:"1643-47",event:"Westminster Assembly",details:"English Parliament convenes assembly producing Westminster Confession, Larger and Shorter Catechisms\u2014definitive Reformed standards still used today."},{year:"1648",event:"Peace of Westphalia",details:"Thirty Years' War ends, finally recognizing Calvinism alongside Catholicism and Lutheranism in Holy Roman Empire."}],keyFigures:["John Calvin","John Knox","Jonathan Edwards"],geography:"Netherlands, Scotland, Korea (Presbyterian powerhouse), United States.",geographicDistribution:[{region:"North America",percentage:"32%",trend:"stable",explanation:"Strong Presbyterian presence."},{region:"East Asia",percentage:"25%",trend:"growing",explanation:"South Korea Presbyterian powerhouse."},{region:"Western Europe",percentage:"18%",trend:"declining",explanation:"Dutch and Scottish churches declining."},{region:"Sub-Saharan Africa",percentage:"15%",trend:"rapid-growth",explanation:"Strong missions work."},{region:"Latin America",percentage:"6%",trend:"growing",explanation:"Middle class appeal."},{region:"Other",percentage:"4%",trend:"stable",explanation:"Heritage communities."}],debates:["Arminians argue predestination makes God arbitrary and denies human free will","Synod of Dort (1618-19) vs Arminian Remonstrants remains central debate","Debates over extent of atonement (limited vs unlimited)","Presbyterian Church (USA) experienced splits over sexuality issues (ECO formed 2012)","Westminster Standards remain authoritative but interpreted differently across traditions"],sources:[{title:"Westminster Confession",url:"https://www.pcaac.org/"},{title:"Calvin's Institutes",url:"https://www.ccel.org/ccel/calvin/institutes"}]},anglican:{name:"Anglican",year:"1534",members:"85M",fullName:"Anglican Communion",description:"The English Reformation's political origins distinguished it from continental movements. Henry VIII's desire to annul his marriage to Catherine of Aragon prompted the 1534 Act of Supremacy establishing the Church of England with the king as supreme head. Thomas Cranmer compiled the Book of Common Prayer (1549, revised 1552, 1662) and 39 Articles (1563, 1571) defining Anglican theology. Anglicanism developed as via media ('middle way') between Protestantism and Catholicism, retaining episcopal governance with bishops claiming apostolic succession while adopting Protestant doctrines. The Elizabethan Settlement (1559) established this comprehensive approach, tolerating a range from High Church (more Catholic) to Low Church (more Protestant).",beliefs:["Via media between Catholic and Protestant","Book of Common Prayer as worship foundation","Episcopal polity with apostolic succession","Scripture-Tradition-Reason (three-legged stool)","'Broad church' flexibility on theology","39 Articles of Religion"],color:"#22c55e",timeline:[{year:"1534",event:"Act of Supremacy",details:"Henry VIII breaks from Rome after Pope refuses marriage annulment.",contested:!0,contention:"Anglican origins are deeply contested. Critics argue it began as political convenience\u2014Henry VIII wanted an annulment the Pope refused, so he created his own church to get his way. This makes Anglicanism's foundation worldly rather than theological, and suggests its claims to apostolic authority are illegitimate. Defenders argue that while Henry's personal motivations were mixed, the English Reformation had genuine theological substance beyond royal politics: rejection of papal supremacy (which many English had long questioned), translation of Scripture into English (enabling lay Bible reading), and reformation of church abuses (simony, clerical corruption, monastic laxity). The Elizabethan Settlement later established a via media (middle way) between Catholic and Protestant theology with theological depth. The question remains: Can a church founded primarily on political expediency legitimately claim authentic apostolic authority, or did the English Reformation represent a legitimate recovery of catholicity without papal oversight?"},{year:"1549",event:"Book of Common Prayer",details:"Thomas Cranmer's prayer book becomes foundation of Anglican worship. Revised 1552, 1662."},{year:"1559",event:"Elizabethan Settlement",details:"Elizabeth I establishes via media, tolerating both High Church and Low Church perspectives within one communion."},{year:"1571",event:"39 Articles",details:"Defined Anglican theology\u2014Protestant in doctrine, Catholic in liturgy and governance."},{year:"2003",event:"Gene Robinson",details:"First openly gay bishop in same-sex relationship consecrated.",contested:!0,contention:"Gene Robinson's consecration created the deepest Anglican crisis since the Reformation. Theological conservatives argue this violates clear biblical teaching (Leviticus 18:22, Romans 1:26-27, 1 Corinthians 6:9) and 2,000 years of Christian consensus, representing capitulation to secular culture rather than faithfulness to Scripture and tradition. They note that all previous Christian interpretation across cultures and centuries condemned homosexual practice. Progressives argue the church has reinterpreted Scripture before (on slavery, women's ordination, usury, divorce) as understanding deepened, and that committed same-sex relationships reflect the biblical call to love, covenant, and fidelity. They claim exclusion causes harm and that the gospel is inclusive. The conflict fractured the Anglican Communion, with African and Asian provinces (representing the majority of world Anglicans) rejecting Western provinces' stances and breaking communion. Conservative parishes formed ACNA (2009). At stake: the authority of Scripture, the nature of marriage, whether traditional sexual ethics are cultural accretions or unchangeable moral teachings, and who interprets Scripture authoritatively."}],keyFigures:["Thomas Cranmer","Richard Hooker","C.S. Lewis","Desmond Tutu"],geography:"UK declining, USA declining. Anglican future is African\u201445% now in Sub-Saharan Africa.",geographicDistribution:[{region:"Sub-Saharan Africa",percentage:"45%",trend:"rapid-growth",explanation:"Anglican future is African."},{region:"United Kingdom",percentage:"22%",trend:"declining",explanation:"Rapid attendance decline."},{region:"North America",percentage:"15%",trend:"declining",explanation:"Sharp decline in membership."},{region:"Asia-Pacific",percentage:"10%",trend:"growing",explanation:"Growing through missions."},{region:"Latin America",percentage:"5%",trend:"growing",explanation:"Middle class appeal."},{region:"Other",percentage:"3%",trend:"stable",explanation:"Diaspora communities."}],debates:["Catholics reject Anglican orders as invalid\u2014no valid apostolic succession","Political origins (Henry VIII's annulment) questioned as legitimate church foundation","Gene Robinson consecration (2003) created deepest crisis since Reformation","African provinces (majority of Anglicans) reject Western progressive stances on sexuality","ACNA formed (2009) after conservative parishes broke communion over LGBT issues"],sources:[{title:"Book of Common Prayer",url:"https://www.churchofengland.org/"},{title:"Anglican Communion",url:"https://www.anglicancommunion.org/"}]},baptist:{name:"Baptist",year:"1609",members:"100M",fullName:"Baptist Churches",description:"Baptists emerged in early 17th century with two streams: General Baptists (Arminian, 1609) teaching Christ died for all, and Particular Baptists (Calvinist, 1630s-40s) teaching Christ died for elect only. Both emphasized believer's baptism by immersion as cardinal distinctive, soul competency (individual accountability before God), congregational polity, and separation of church and state. Roger Williams founded first American Baptist church in Rhode Island (1638). Baptists became America's largest Protestant group through circuit riders, revivals, and frontier missions. The Southern Baptist Convention formed in 1845 over slavery.",beliefs:["Believer's baptism by immersion only","Congregational autonomy (local church independence)","Separation of church and state","Soul competency\u2014individual accountability to God","Priesthood of all believers","Bible as sole authority"],color:"#06b6d4",timeline:[{year:"1609",event:"First Baptist church",details:"John Smyth founds first Baptist church in Amsterdam.",contested:!0,contention:"Baptist origins are hotly disputed. Some trace a 'trail of blood'\u2014an unbroken succession of believer-baptizing churches from the apostles through medieval groups like Waldensians, Paulicians, and Anabaptists\u2014making Baptists the most ancient Christians who never compromised. Most historians reject this, showing these groups differed theologically from Baptists and the documentary evidence is thin. Others trace Baptist origins to English Separatists like John Smyth who, influenced by Dutch Mennonites, adopted believer's baptism around 1609. A third view sees Baptists emerging independently from English Puritanism's emphasis on regenerate church membership, with believer's baptism as logical conclusion. The debate matters for Baptist identity: Are they restorationists recovering the apostolic pattern lost for centuries, or a 17th-century innovation? Do they share Anabaptist radical roots (with pacifism and separation), or represent moderate Reformed Christianity that happens to practice believer's baptism?"},{year:"1638",event:"Roger Williams",details:"Founded first American Baptist church in Providence, Rhode Island. Championed religious liberty and separation of church and state."},{year:"1845",event:"SBC formed",details:"Southern Baptists split from northern Baptists over slavery after northerners refused to appoint slaveholding missionaries.",contested:!0,contention:"The Southern Baptist split over slavery reveals deep tensions about Scripture, ethics, and cultural accommodation. Southern Baptists defended slavery using biblical texts (Ephesians 6:5, Colossians 3:22, Philemon), arguing Northern abolitionists imposed modern sentiments onto Scripture and violated biblical authority. They saw themselves as faithful to what the Bible plainly taught. Northern Baptists argued the gospel's spirit of freedom and equality (Galatians 3:28, 'neither slave nor free') condemned slavery as incompatible with human dignity and Christian love, and that Southern interpretations represented cultural captivity rather than biblical fidelity. They accused Southerners of reading Scripture through economic self-interest. This raises enduring hermeneutical questions: How do Christians distinguish between biblical principles and cultural accommodation? Can Bible-believing Christians using the same hermeneutics reach opposite ethical conclusions? The SBC formally repudiated its pro-slavery origins and apologized in 1995, but the questions about biblical interpretation and cultural captivity remain relevant for contemporary ethical debates."},{year:"1925",event:"Scopes Trial",details:"Baptist fundamentalism gains national attention during Tennessee trial over teaching evolution."},{year:"1979",event:"Conservative Resurgence",details:"SBC fundamentalist takeover begins, lasting through 2000.",contested:!0,contention:"The Southern Baptist Conservative Resurgence (1979-2000) saw organized conservatives systematically gain control of SBC institutions, seminaries, and agencies through coordinated voting campaigns. Conservatives argue the denomination had drifted toward theological liberalism\u2014questioning biblical inerrancy, adopting historical-critical methods that undermined Scripture's authority, and accommodating feminist theology and moral relativism. They saw their efforts as rescuing the SBC from the same liberal decline that hollowed out mainline denominations (Episcopal, Presbyterian, Methodist), making them theologically incoherent and numerically declining. Moderates argue conservatives confused theological diversity with liberalism, imposed narrow interpretations (especially dispensational eschatology and complementarian gender roles) as tests of orthodoxy, conducted ideological purges violating Baptist principles of soul competency and local church autonomy, and turned the SBC into a fundamentalist denomination rather than a broad evangelical body. They claim the takeover elevated politics over theology and pastoral care. The conflict raises questions: What constitutes the boundaries of theological orthodoxy within a denomination? How much diversity can Baptist polity sustain? Did the resurgence save or damage the SBC?"}],keyFigures:["Roger Williams","William Carey","Charles Spurgeon","Billy Graham"],geography:"American South dominant (SBC largest Protestant denomination). Global growth explosive.",geographicDistribution:[{region:"North America",percentage:"42%",trend:"stable",explanation:"SBC dominant but plateauing."},{region:"Sub-Saharan Africa",percentage:"25%",trend:"rapid-growth",explanation:"Explosive indigenous growth."},{region:"Asia-Pacific",percentage:"18%",trend:"growing",explanation:"Strong in India, Myanmar, China."},{region:"Latin America",percentage:"10%",trend:"growing",explanation:"Slower than Pentecostals."},{region:"Europe",percentage:"3%",trend:"stable",explanation:"Small but stable."},{region:"Other",percentage:"2%",trend:"stable",explanation:"Global missions presence."}],debates:["Paedobaptists argue believer's baptism severs children from covenant promises","Disputed origins: 'trail of blood' vs. English Separatist roots vs. Puritan emergence","1845 split over slavery created North-South divide that largely remains","Calvinist (Particular) vs Arminian (General) Baptists have theological tensions","Conservative Resurgence (1979-2000) reshaped SBC, creating ongoing liberal-conservative divide"],sources:[{title:"SBC",url:"https://www.sbc.net/"},{title:"Baptist World Alliance",url:"https://www.baptistworld.org/"}]},methodist:{name:"Methodist",year:"1738",members:"80M",fullName:"Methodist Movement",description:"Methodism originated in the 1730s 'Holy Club' at Oxford with John Wesley, Charles Wesley, and George Whitefield. After John Wesley's Aldersgate experience (1738) where his heart was 'strangely warmed,' he began open-air preaching and developed Arminian theology emphasizing universal grace, free will, and entire sanctification ('Christian perfection')\u2014belief that believers can be perfected in love in this life. Methodism separated from Church of England after Wesley's death (1791) and became America's largest denomination by the 1820s through circuit riders, camp meetings, and strong social reform emphasis (temperance, abolition, poverty relief).",beliefs:["Prevenient grace\u2014God's grace preceding human decision","Arminian soteriology\u2014universal atonement, free will","Entire sanctification or Christian perfection","Social holiness\u2014faith expressing itself through social reform","Wesleyan Quadrilateral: Scripture, Tradition, Reason, Experience","Connectional polity with bishops"],color:"#ef4444",timeline:[{year:"1738",event:"Aldersgate Experience",details:"John Wesley's heart 'strangely warmed' at Aldersgate Street meeting, May 24. Catalyzes Methodist revival."},{year:"1784",event:"Christmas Conference",details:"American Methodists organize as separate church in Baltimore.",contested:!0,contention:"John Wesley ordained Thomas Coke and others for American ministry, claiming authority as a 'scriptural episcopos' (bishop) though he was only an Anglican priest and had never received episcopal consecration. Anglican authorities rejected this as invalid\u2014only bishops can ordain in apostolic succession, and Wesley had no episcopal authority to confer. Wesley argued that in the New Testament, 'presbyter' (priest/elder) and 'episkopos' (bishop/overseer) were originally the same office (citing patristic evidence), and extraordinary circumstances\u2014the American Revolution cutting off Anglican episcopal oversight\u2014justified his emergency actions for the new American church. This raises fundamental questions about apostolic succession and ordained ministry: Is valid ordination only through bishops in historic succession? Can a priest ordain in exceptional circumstances? Did Wesley's ordinations break with Anglican apostolic succession or express a more primitive understanding of ministry? This debate affects Methodist identity: Are they a church with valid sacraments and apostolic succession, or merely a renewal movement within Anglicanism that departed from proper order?"},{year:"1844",event:"North-South split",details:"Methodist Episcopal Church divides over Bishop James O. Andrew owning enslaved people. Creates Northern and Southern branches.",contested:!0,contention:"The Methodist split over slavery revealed whether Christian unity could be maintained across fundamental moral disagreements. Southern Methodists argued for states' rights and claimed the Bible accepted slavery when properly practiced, citing numerous texts. Northern Methodists argued slavery violated Christian principles of human dignity and the gospel's liberating message. Unlike some who claim doctrinal purity and church unity can be maintained despite moral disagreement, the Methodists acknowledged they couldn't stay united\u2014the moral divide was too deep, making shared governance impossible. This poses ongoing ecclesiological questions: What issues justify denominational division? Can churches remain united while disagreeing on fundamental ethics? Should church polity allow regional moral differences, or must there be universal moral standards? The split wasn't healed until 1939 (forming The Methodist Church), and the moral questions about unity and compromise remain relevant today."},{year:"1968",event:"United Methodist Church",details:"Methodist Church merges with Evangelical United Brethren, forming UMC with 11 million members."},{year:"2019",event:"Traditional Plan",details:"Special General Conference\u2014African and conservative delegates pass Traditional Plan maintaining prohibition on same-sex marriage and non-celibate LGBT clergy, defeating more inclusive 'One Church Plan.'",contested:!0,contention:"At a special 2019 General Conference, African and conservative delegates passed the 'Traditional Plan' maintaining Methodist prohibitions on same-sex marriage and non-celibate LGBT clergy (438-384 vote), defeating the 'One Church Plan' that would have allowed regional differences. Progressive Western Methodists argue this represents colonialism in reverse\u2014African churches imposing conservative sexual ethics on the West, despite being funded by Western money and shaped by Western missionaries' theology. They claim biblical inclusion and justice demand LGBT affirmation, and that excluding LGBT persons causes spiritual harm. Conservatives argue progressives are the real colonialists, dismissing African theological agency and voice as mere 'internalized colonialism' when Africans disagree with Western progressive positions. African delegates emphasized their independent reading of Scripture (Romans 1, 1 Corinthians 6), not Western influence, drives their views. They resent being patronized. This conflict raises questions: Do Western progressives genuinely respect African theological voice, or only when Africans agree with them? Can a global denomination maintain unity with such fundamental disagreement? The conflict led to massive denominational fracture: 6,000-7,000 churches (20-25%) disaffiliated 2020-2024, forming Global Methodist Church (2022)."}],keyFigures:["John Wesley","Charles Wesley (6,000+ hymns)","Francis Asbury","Phoebe Palmer"],geography:"USA, UK (both declining), West Africa (growing), Philippines.",geographicDistribution:[{region:"North America",percentage:"35%",trend:"declining",explanation:"UMC facing significant losses\u20146,000-7,000 churches disaffiliated 2020-2024."},{region:"Sub-Saharan Africa",percentage:"28%",trend:"growing",explanation:"Strong West African growth."},{region:"Asia-Pacific",percentage:"20%",trend:"growing",explanation:"Growing in Philippines and Asia."},{region:"United Kingdom",percentage:"12%",trend:"declining",explanation:"British Methodism declining."},{region:"Latin America",percentage:"3%",trend:"stable",explanation:"Small presence."},{region:"Other",percentage:"2%",trend:"stable",explanation:"Diaspora communities."}],debates:["Calvinists critique Arminian theology as giving too much power to human will","1844 North-South split over slavery not healed until 1939","Wesley's ordinations raised questions about apostolic succession and Anglican validity","Global tensions over sexuality\u20142019 Traditional Plan passed, but 6,000-7,000 churches disaffiliated 2020-2024","Entire sanctification doctrine contested by Reformed theologians"],sources:[{title:"UMC",url:"https://www.umc.org/"},{title:"Wesley's Sermons",url:"https://www.umcmission.org/"}]},pentecostal:{name:"Pentecostal",year:"1906",members:"280M",fullName:"Pentecostal Movement",description:"The Azusa Street Revival (1906-1909) in Los Angeles, led by African-American preacher William J. Seymour, featured interracial worship, speaking in tongues as evidence of Holy Spirit baptism, and continuous services running nearly 24/7 for three years with peak attendance of 1,500. By 1907, Pentecostalism had spread to 50+ nations across six continents\u2014Mexico, Canada, Western Europe, Middle East, West Africa, and Asia. By 2020, there were estimated 500+ million Pentecostal and Charismatic believers worldwide, making it the fastest-growing form of Christianity globally. Explosive growth continues in Global South, particularly Africa, Latin America, and Asia.",beliefs:["Spirit baptism evidenced by speaking in tongues","Continuation of all spiritual gifts (prophecy, healing, miracles)","Divine healing through faith and prayer","Premillennial eschatology\u2014Christ's imminent return","Experiential faith and emotional worship","Evangelism and missionary zeal"],color:"#fb923c",timeline:[{year:"1906",event:"Azusa Street Revival",details:"William J. Seymour leads revival at 312 Azusa Street, Los Angeles. Services run continuously nearly 24/7 for three years. Peak attendance 1,500. Features interracial worship, tongues-speaking, healings. Spreads globally within months."},{year:"1907",event:"Global Spread Begins",details:"Within one year of Azusa, Pentecostalism reaches 50+ nations: Mexico, Canada, Western Europe, Middle East, West Africa, Asia. Fastest missionary expansion in Christian history."},{year:"1914",event:"Assemblies of God",details:"Largest Pentecostal denomination formed in Hot Springs, Arkansas. Now 69+ million members globally."},{year:"1960",event:"Charismatic Renewal",details:"Episcopal priest Dennis J. Bennett speaks in tongues April 3, 1960, sparking movement into mainline churches: Lutherans, Presbyterians, Methodists, Anglicans."},{year:"1967",event:"Catholic Charismatic Renewal",details:"'Duquesne Weekend' (February 17-19) launches Catholic Charismatic movement. By 1983, approximately 15 million Catholics in 120 countries participate."},{year:"1994",event:"Toronto Blessing",details:"Controversial revival featuring laughter, animal sounds, spiritual drunkenness.",contested:!0,contention:"The Toronto Blessing at Toronto Airport Vineyard featured controversial manifestations: uncontrollable laughter (sometimes called 'holy laughter'), animal sounds (roaring like lions, barking like dogs), people falling or shaking violently, and claims of spiritual drunkenness. Services could last for hours with people unable to stand or speak coherently. Proponents argued these were genuine Holy Spirit movements breaking through religious formalism and dead tradition, citing biblical precedents: Acts 2's mocking of 'drunk' disciples at Pentecost, Ezekiel's unusual prophetic signs, and accounts of people falling before God's presence in Scripture. They reported lives dramatically transformed, marriages healed, and renewed passion for God and evangelism. Cessationist critics argued spiritual gifts ceased after the apostolic age, making any such manifestations either psychological phenomena, group hysteria, or potentially demonic deception. Even continuationist Pentecostals and Charismatics debated whether these manifestations were genuinely from God's Spirit or fleshly emotionalism that brought reproach on the charismatic movement and distracted from genuine gospel ministry. The controversy raises enduring questions: How do we discern genuine Spirit activity from emotional excess or psychological phenomena? Should corporate worship be orderly (1 Corinthians 14:40) or allow spontaneous, even bizarre, manifestations?"}],keyFigures:["William J. Seymour","Aimee Semple McPherson","Oral Roberts","Dennis J. Bennett (Charismatic)"],geography:"By 2020, 500+ million Pentecostal/Charismatic believers worldwide\u2014fastest-growing form of Christianity. Dominates Global South with explosive growth in Africa, Latin America, and Asia.",geographicDistribution:[{region:"Latin America",percentage:"38%",trend:"rapid-growth",explanation:"Transforming religious landscape\u2014Brazil alone has 42 million Pentecostals. Challenging Catholic dominance."},{region:"Sub-Saharan Africa",percentage:"32%",trend:"rapid-growth",explanation:"Becoming dominant form of African Christianity. Nigeria has 50+ million Pentecostals."},{region:"Asia-Pacific",percentage:"18%",trend:"rapid-growth",explanation:"Strong in Philippines, Indonesia, South Korea. Chinese house churches largely Pentecostal."},{region:"North America",percentage:"8%",trend:"growing",explanation:"Growing primarily in immigrant communities\u2014Latino, African, Asian."},{region:"Europe",percentage:"3%",trend:"growing",explanation:"Immigrant-led churches reversing European secularization in urban areas."},{region:"Other",percentage:"1%",trend:"growing",explanation:"Expanding to every continent with missionary zeal."}],debates:["Cessationists argue spiritual gifts ceased after apostolic age","Continuationists debate: are tongues required evidence of Spirit baptism?","Prosperity gospel concerns\u2014especially in megachurch contexts","Toronto Blessing (1994) created controversy even among Pentecostals","Traditional churches question emphasis on experience over doctrine"],sources:[{title:"Assemblies of God",url:"https://ag.org/"},{title:"Church of God",url:"https://www.churchofgod.org/"}]},restorationist:{name:"Restorationist",year:"1832",members:"5M",fullName:"Stone-Campbell Movement",description:"The Restoration Movement emerged during the Second Great Awakening (1790-1840) on the American frontier, seeking to unify Christians by restoring New Testament church patterns without denominational labels or human creeds ('No creed but Christ, no book but the Bible'). Barton W. Stone's 'Christians' and Alexander Campbell's 'Disciples of Christ' united in 1832. The movement fragmented over instrumental music and theological modernism: non-instrumental Churches of Christ separated (1906), and independent Christian Churches separated from the more liberal Christian Church (Disciples of Christ) (1920s-1971).",beliefs:["Restoration of New Testament pattern","Baptism by immersion for remission of sins","Weekly Lord's Supper (every Sunday)","'No creed but Christ, no book but the Bible'","Congregational autonomy","Believer's baptism essential for salvation"],color:"#0891b2",timeline:[{year:"1801",event:"Cane Ridge Revival",details:"Massive Kentucky revival draws 10,000-25,000 people."},{year:"1832",event:"Stone-Campbell merge",details:"Barton W. Stone's 'Christians' unite with Alexander Campbell's 'Disciples of Christ,' creating unified restoration movement."},{year:"1906",event:"Churches of Christ separate",details:"Split over instrumental music.",contested:!0,contention:"The Churches of Christ separated from Christian Churches over instrumental music in worship, applying the 'regulative principle'\u2014only what Scripture explicitly authorizes is permitted in worship. They argue the New Testament only mentions singing (Ephesians 5:19, Colossians 3:16) and never mentions instruments in Christian worship. Therefore, adding instruments violates the pattern of New Testament worship and constitutes unauthorized innovation. Christian Churches argue this misapplies the principle: Scripture's silence permits rather than prohibits. They point to Old Testament worship (Psalms 150) and argue instruments are aids to singing, not a different kind of worship. The debate centers on hermeneutical questions: Is biblical silence permission or prohibition? Does the New Testament establish a strict pattern for worship, or provide flexible principles? This reflects the Restoration Movement's core tension: seeking to restore New Testament Christianity while interpreting what that requires."}],keyFigures:["Barton W. Stone","Alexander Campbell","Thomas Campbell"],geography:"American South and Midwest dominant. Declining in traditional areas.",geographicDistribution:[{region:"North America",percentage:"72%",trend:"declining",explanation:"Declining in traditional areas."},{region:"Sub-Saharan Africa",percentage:"12%",trend:"growing",explanation:"Missions establishing churches."},{region:"Asia-Pacific",percentage:"8%",trend:"growing",explanation:"Growing missions presence."},{region:"Latin America",percentage:"4%",trend:"stable",explanation:"Small presence."},{region:"Europe",percentage:"2%",trend:"stable",explanation:"Limited."},{region:"Other",percentage:"2%",trend:"stable",explanation:"Scattered."}],debates:["Internal 1906 division over instrumental music\u2014Churches of Christ separated","'No creed but the Bible' is itself a creedal statement\u2014can't escape interpretation","Further divisions: Christian Church (Disciples) vs independent Christian Churches","Hermeneutical question: Is biblical silence prohibition or permission?","Claim to restore NT Christianity contested\u2014which NT pattern to follow?"],sources:[{title:"Churches of Christ",url:"https://www.churchofchrist.org/"}]},holiness:{name:"Holiness",year:"1867",members:"12M",fullName:"Holiness Movement",description:"The Holiness movement emerged from Methodism in late 1800s, emphasizing John Wesley's doctrine of entire sanctification as a second work of grace following conversion. They believed believers could be purified from the sin nature and live in perfect love. This movement set the theological and experiential stage for Pentecostalism\u2014when Pentecostals added tongues as 'initial physical evidence' of Spirit baptism, many holiness adherents embraced it while traditional holiness churches rejected it, causing a major split.",beliefs:["Entire sanctification as second work of grace","Eradication of inborn sin nature possible","Holy living and personal holiness","Arminian soteriology (free will, universal grace)","Wesleyan understanding of perfection","Separation from worldliness"],color:"#c026d3",timeline:[{year:"1867",event:"National Camp Meeting",details:"National Camp Meeting Association for Promotion of Holiness organized, systematizing holiness movement."},{year:"1895",event:"Church of Nazarene",details:"Largest holiness denomination formed through mergers of various holiness groups."},{year:"1906",event:"Pentecostalism emerges",details:"Pentecostalism adds tongues to holiness theology.",contested:!0,contention:"When Pentecostalism emerged at Azusa Street (1906), it claimed to complete holiness teaching by identifying Spirit baptism with tongues-speaking as 'initial physical evidence'\u2014the biblical sign that one had received the baptism of the Holy Spirit. Many holiness adherents embraced this, becoming Pentecostals and forming denominations like Church of God (Cleveland, TN) and Pentecostal Holiness Church. But traditional holiness churches like the Church of the Nazarene firmly rejected this addition, arguing that Spirit baptism is for sanctification and empowerment for service, not necessarily accompanied by tongues. They maintained Wesley's two-stage doctrine: conversion (justification) and entire sanctification are distinct works of grace, but tongues aren't required evidence of either. The debate split the holiness movement permanently: Does Spirit baptism always produce tongues as initial evidence, or can it occur without visible manifestations? Are tongues available to all Spirit-filled believers today, or were they temporary apostolic signs? The Holiness churches that rejected tongues saw Pentecostalism as adding an unbiblical requirement to Spirit baptism; Pentecostals saw it as recovering the full New Testament experience that had been lost."}],keyFigures:["Phoebe Palmer","Phineas Bresee"],geography:"US Midwest and South, Caribbean. Stable in traditional areas.",geographicDistribution:[{region:"North America",percentage:"58%",trend:"stable",explanation:"Stable in traditional areas."},{region:"Caribbean",percentage:"18%",trend:"stable",explanation:"Strong Caribbean presence."},{region:"Sub-Saharan Africa",percentage:"15%",trend:"growing",explanation:"Growing through missions."},{region:"Latin America",percentage:"5%",trend:"growing",explanation:"Modest growth."},{region:"Asia-Pacific",percentage:"3%",trend:"stable",explanation:"Small presence."},{region:"Other",percentage:"1%",trend:"stable",explanation:"Scattered."}],debates:["Reformed theologians reject entire sanctification\u2014argue sin nature remains until death","1906 split when Pentecostals added tongues as evidence of Spirit baptism","Can believers be 'perfected in love' in this life? Wesleyan vs Reformed anthropology","Traditional Holiness churches rejected Pentecostal tongues doctrine"],sources:[{title:"Nazarene",url:"https://nazarene.org/"}]},anabaptist:{name:"Anabaptist",year:"1525",members:"2.1M",fullName:"Anabaptist Tradition",description:"On January 21, 1525, Conrad Grebel baptized George Blaurock in Zurich\u2014the first believer baptism, launching the Anabaptist movement during the Radical Reformation. Anabaptists insisted only adults who confessed faith could be baptized, considering infant baptism invalid. They demanded complete separation of church and state, practiced nonresistance and pacifism, refused oath-taking, and emphasized visible holy community with church discipline. Both Catholics and Protestants brutally persecuted Anabaptists\u2014drowning ('third baptism') was common execution. Thousands died 1525-1660, documented in Martyrs Mirror. Despite persecution, they survived in distinct branches: Swiss Brethren, Mennonites, Hutterites, and Amish.",beliefs:["Believer's baptism only (rejecting infant baptism)","Pacifism and nonresistance","Complete separation of church and state","Simple living and community","Church discipline and excommunication","Voluntary church membership"],color:"#65a30d",timeline:[{year:"1525",event:"First adult baptisms",details:"January 21\u2014Conrad Grebel baptizes George Blaurock in Zurich, launching Anabaptism.",contested:!0,contention:"The Anabaptist practice of believers-only baptism sparked violent opposition from both Catholics and magisterial Reformers (Lutherans, Reformed). The latter argued Anabaptists severed children from covenant promises, fundamentally misunderstood the unity of God's covenant across Old and New Testaments, and created false division in Christian families where parents are baptized members but children are excluded from the covenant community until they can profess faith. Infant baptism, they argued, is the New Testament equivalent of Old Testament circumcision\u2014the sign of covenant inclusion given to children of believers (Colossians 2:11-12). It doesn't save, but marks children as part of the covenant community. Anabaptists responded that New Testament baptism consistently and explicitly follows faith and repentance (Acts 2:38, 8:36-38), that infant baptism lacks any biblical example or command, and that covenant inclusion doesn't require the covenant sign (Abraham believed before receiving circumcision, Romans 4:11). They argued baptism should signify conscious commitment and regeneration, not automatic membership based on birth. The debate centers on covenant theology, the relationship between church and society (Christendom model vs. free church), and whether regeneration precedes or follows baptism. The issue was so divisive that Anabaptists faced execution from both Catholic and Protestant authorities for 'rebaptizing'\u2014considered heresy and sedition."},{year:"1527",event:"Schleitheim Confession",details:"Seven articles define Anabaptist distinctives: believer's baptism, ban (excommunication), Lord's Supper, separation from world, pastors, pacifism, oath refusal."},{year:"1536",event:"Menno Simons",details:"Former Catholic priest Menno Simons (1496-1561) joins Anabaptists, provides theological leadership and organizational stability. Mennonites named after him."},{year:"1525-1660",event:"Martyrdom Era",details:"Both Catholics and Protestants brutally persecute Anabaptists. Drowning\u2014called 'third baptism'\u2014common execution. Thousands die. Martyrs Mirror (1660) documents their testimonies."},{year:"1693",event:"Amish Split",details:"Jacob Ammann leads stricter group separating from Swiss Mennonites over shunning practices and other issues, forming Amish."}],keyFigures:["Conrad Grebel","Menno Simons","Jacob Ammann","Michael Sattler"],geography:"Pennsylvania, Ohio, Indiana (Amish). Global Mennonites growing.",geographicDistribution:[{region:"North America",percentage:"45%",trend:"growing",explanation:"High birth rates among Amish and conservative Mennonites."},{region:"Sub-Saharan Africa",percentage:"25%",trend:"rapid-growth",explanation:"Strong missions work."},{region:"Latin America",percentage:"15%",trend:"growing",explanation:"Growing communities."},{region:"Europe",percentage:"10%",trend:"stable",explanation:"Historic communities."},{region:"Asia-Pacific",percentage:"4%",trend:"growing",explanation:"Missions work."},{region:"Other",percentage:"1%",trend:"stable",explanation:"Scattered."}],debates:["Magisterial Reformers (Lutheran, Reformed) argued Anabaptists severed children from covenant","Both Catholics and Protestants brutally persecuted Anabaptists\u2014thousands executed 1525-1660","Just war theorists critique pacifism as impractical and unbiblical","Covenant theology debate: Is baptism NT equivalent of circumcision?","Internal divisions: Amish (1693), various Mennonite branches over separation strictness"],sources:[{title:"Mennonite Church USA",url:"https://www.mennoniteusa.org/"}]},nondenominational:{name:"Non-Denom",year:"1970s",members:"40M+",fullName:"Non-Denominational Churches",description:"Non-denominational churches exploded from less than 3% of American adults (1972) to 13% of Protestants by 2014, making them the third-largest Christian group after Catholics and Southern Baptists. If considered a single denomination, non-denominationals would be America's largest Protestant group. American megachurches (2,000+ weekly attendance) grew from approximately 350 (1990) to 1,800 (2020), predominantly suburban, evangelical, and nondenominational. They emphasize contemporary worship, local evangelism, and congregational autonomy while avoiding formal denominational affiliation and historic theological disputes.",beliefs:["Bible as sole authority without denominational creeds","Local church autonomy and independence","Evangelical theology (though specifics vary)","Contemporary worship styles","Emphasis on personal relationship with Jesus","Pragmatic approach to ministry"],color:"#94a3b8",timeline:[{year:"1968-74",event:"Jesus Movement",details:"Countercultural revival creates non-denominational template."},{year:"1975",event:"Willow Creek",details:"Bill Hybels pioneers seeker-sensitive model that becomes megachurch blueprint."},{year:"2000s",event:"Megachurch explosion",details:"Multi-site campuses proliferate. Growth from 350 (1990) to 1,800 (2020)."}],keyFigures:["Chuck Smith (Calvary Chapel)","Bill Hybels (Willow Creek)","Rick Warren (Saddleback)"],geography:"Predominantly US suburbs. Increasingly global\u2014megachurches appearing in Asia, Latin America.",geographicDistribution:[{region:"North America",percentage:"65%",trend:"rapid-growth",explanation:"Explosive suburban growth. Now 3rd largest Christian group in US."},{region:"Asia-Pacific",percentage:"15%",trend:"rapid-growth",explanation:"Megachurches in South Korea, Singapore, Philippines."},{region:"Latin America",percentage:"8%",trend:"growing",explanation:"Model spreading rapidly."},{region:"Sub-Saharan Africa",percentage:"7%",trend:"growing",explanation:"Independent evangelicals growing."},{region:"Europe",percentage:"4%",trend:"growing",explanation:"Urban churches growing."},{region:"Other",percentage:"1%",trend:"growing",explanation:"Expanding globally."}],debates:["Traditional denominations argue non-denoms lack accountability structures","Celebrity pastor culture concerns in megachurches","'No denomination' is itself a denomination with implicit theology and practice","Theological drift concerns without confessional standards","Grew from <3% (1972) to 13% of Protestants (2014)\u2014now 3rd largest Christian group in US","Question: Can churches maintain orthodoxy without formal structures and historic creeds?"],sources:[{title:"The Gospel Coalition",url:"https://www.thegospelcoalition.org/"}]}};(0,i.useEffect)(()=>{"bible"===t&&(v(!0),c(!1),d(!1),m(!1),f(!1),y(!1)),"church"===t&&v(!1)},[t]);const A={writing:[{period:"1400-400 BC",books:"Old Testament",details:"Torah/Pentateuch (1400-1200 BC\u2014traditional dating, though scholars debate), Historical books (Joshua-Esther), Prophets (Isaiah-Malachi), Wisdom literature (Job, Psalms, Proverbs, Ecclesiastes, Song of Songs)",note:"Dates are approximate and heavily debated among scholars\u2014traditional vs. critical scholarship"},{period:"50-100 AD",books:"New Testament",details:"Paul's letters (50-65 AD\u2014earliest NT writings), Gospels (Mark ~65-70 AD, Matthew & Luke ~80-85 AD, John ~90-95 AD), Acts, General Epistles (James, Peter, John, Jude), Revelation (~95 AD)",note:"Written in Greek (koine\u2014common Greek), circulated among early churches, copied by hand for centuries"}],canonization:[{year:"~90-100 AD",event:"Council of Jamnia (disputed)",details:"Traditionally thought to be when Jewish rabbis finalized Hebrew Bible canon after Temple destruction (70 AD). Recent scholarship questions whether this council actually occurred as traditionally described.",contested:!0,contention:"The traditional view held that Jewish rabbis met at Jamnia (Yavneh) around 90 AD to officially close the Hebrew Bible canon, establishing the 39 books that later became the Protestant Old Testament. This would explain why Jews and Protestants share the same OT canon while Catholics and Orthodox include additional books. However, modern scholarship increasingly doubts this council occurred as traditionally described\u2014no ancient Jewish sources describe a canon-fixing council at Jamnia. Evidence suggests the Hebrew canon developed gradually through usage and consensus rather than by formal decree, with debates about books like Esther, Ecclesiastes, and Song of Songs continuing into the 2nd century. Some scholars argue 'Jamnia' is essentially a scholarly myth created to provide convenient explanation for Protestant rejection of deuterocanonical books. The question matters theologically: if there was no formal Jewish closure of canon around 90 AD, it weakens the Protestant argument that only books in the 'official Jewish canon' are authoritative Scripture\u2014since there may have been no such official closure."},{year:"~140 AD",event:"Marcion's Canon",details:"Heretic Marcion creates radically truncated canon (Gospel of Luke and 10 Paul letters only, edited), rejecting Old Testament entirely. His heresy spurs orthodox church to define its own authoritative canon in response."},{year:"~170 AD",event:"Muratorian Fragment",details:"Earliest known list of NT books, discovered 1740. Includes 22 of 27 books (missing Hebrews, James, 1-2 Peter), debates some others. Shows canon still developing but core already recognized."},{year:"367 AD",event:"Athanasius' Easter Letter",details:"Bishop Athanasius of Alexandria lists 27 NT books in his 39th Easter Letter\u2014first complete list matching modern Protestant NT canon exactly. Distinguishes canonical from useful but non-canonical books."},{year:"393 AD",event:"Council of Hippo",details:"Regional North African council of bishops affirms biblical canon including deuterocanonical books (Tobit, Judith, Wisdom, Sirach, Baruch, 1-2 Maccabees) as Scripture."},{year:"397 AD",event:"Council of Carthage",details:"Larger regional council reaffirms Hippo's canon with same 73 books.",contested:!0,contention:"Catholics and Orthodox cite Carthage as authoritative because it was ratified by multiple subsequent councils and popes, representing the church's consensus on the full 73-book canon (46 OT + 27 NT). These councils explicitly listed books like Tobit, Judith, Wisdom of Solomon, Sirach (Ecclesiasticus), Baruch, and 1-2 Maccabees as canonical Scripture to be read in churches. Protestants respond that Carthage was only a regional North African council, not an ecumenical (universal) council binding on the whole church, and therefore lacks authority over Christians in other regions. They argue the early church had no universal consensus\u2014Eastern and Western canons differed, and church fathers like Jerome (translator of the Latin Vulgate) explicitly questioned the deuterocanonical books, calling them useful for edification but not for establishing doctrine. Additionally, Protestants note that these councils made errors (including books eventually rejected even by Catholics), proving councils aren't infallible. The fundamental dispute centers on ecclesiology: Can regional councils bind the universal church? Who has authority to determine the biblical canon\u2014the church through councils, or does Scripture's authority precede and transcend church authority?"},{year:"~405 AD",event:"Jerome completes Vulgate",details:"Jerome translates Bible into Latin. Notably, he questioned deuterocanonical books' status, though he included them. Called them 'Apocrypha'\u2014useful but not canonical for doctrine."},{year:"1442 AD",event:"Council of Florence",details:"Ecumenical council formally defines Catholic canon including deuterocanonical books. Attempt to reunify with Eastern churches (ultimately failed)."},{year:"1546 AD",event:"Council of Trent",details:"In response to Protestant Reformation, Catholic Church definitively declares 73-book canon, pronouncing anathema on anyone who rejects it.",contested:!0,contention:"The Council of Trent (1545-1563) definitively declared the deuterocanonical books to be Scripture with equal authority to other books, pronouncing anathema (condemnation) on anyone who rejected them. Catholics argue Trent simply reaffirmed the church's ancient practice\u2014the deuterocanonical books were in the Septuagint (Greek OT) used by Jesus and the apostles, quoted or alluded to in the New Testament (Hebrews 11 references Maccabean martyrs, Wisdom influences NT theology), accepted by church fathers, and affirmed at Hippo (393) and Carthage (397). The church has always recognized these books' authority. Protestants argue Trent made a polemical decision against the Reformation rather than reflecting genuine tradition\u2014the early church widely debated these books' status, Jerome (the great biblical scholar) explicitly rejected them as non-canonical, and the Hebrew Bible (Jesus' Bible as a Jew) excluded them. They claim the Catholic Church added books to defend doctrines like purgatory (2 Maccabees 12:45-46 mentions prayers for the dead) that Protestants rejected on biblical grounds. The timing troubles Protestants: Why did it take 1,500 years for an 'infallible' definition if these books were always recognized Scripture? Shouldn't Scripture's authority be self-evident? The debate reflects deeper questions about church authority, tradition's role, and how the canon was determined\u2014by church decree or by Spirit-led recognition?"},{year:"~1520s",event:"Luther's German Bible",details:"Luther translates Bible into German (NT 1522, OT 1534), placing deuterocanonical books in separate appendix between testaments labeled 'Apocrypha'\u2014'books useful and good to read but not equal to Holy Scripture.'"},{year:"1611 AD",event:"King James Version",details:"Includes Apocrypha between testaments in original 1611 edition. Many later Protestant editions omit it entirely. By 1800s, most Protestant Bibles excluded deuterocanonicals completely."}],canons:[{tradition:"Protestant",books:66,details:"39 OT + 27 NT. Follows Hebrew Bible for OT (no deuterocanonical books).",rationale:"Only books in original Hebrew/Aramaic and accepted by ancient Jews"},{tradition:"Catholic",books:73,details:"46 OT + 27 NT. Includes 7 deuterocanonical books (Tobit, Judith, Wisdom, Sirach, Baruch, 1-2 Maccabees) plus additions to Esther and Daniel.",rationale:"Books in Septuagint (Greek OT) used by early church and cited by Church Fathers"},{tradition:"Orthodox",books:"Varies",details:"Generally includes Catholic canon plus 1 Esdras, Prayer of Manasseh, Psalm 151, 3 Maccabees. Some add 2 Esdras, 4 Maccabees.",rationale:"Follows Septuagint and broader ancient Christian usage"},{tradition:"Ethiopian Orthodox",books:81,details:"Broadest canon, includes Book of Enoch, Jubilees, and other ancient texts.",rationale:"Preserves ancient Ethiopian Christian traditions"}],criteria:[{criterion:"Apostolicity",description:"Written by or connected to apostles"},{criterion:"Orthodoxy",description:"Consistent with recognized Christian teaching"},{criterion:"Catholicity",description:"Widely accepted and used across churches"},{criterion:"Inspiration",description:"Recognized as divinely inspired through use in worship"}]},I={catholic:{serviceName:"Mass (Holy Eucharist)",typicalLength:"45-60 minutes",schedule:"Daily Mass available; Sunday obligation for members",serviceStructure:["Introductory Rites: Procession, Sign of Cross, Penitential Act","Liturgy of the Word: Old Testament, Psalm, New Testament, Gospel, Homily","Liturgy of the Eucharist: Offertory, Eucharistic Prayer, Consecration","Communion Rite: Lord's Prayer, Sign of Peace, Communion","Concluding Rites: Blessing and Dismissal"],musicStyle:"Ranges from traditional Latin chant and organ to contemporary; varies by parish",dressExpectation:"Modest and respectful; business casual to formal common",communionDetails:"Weekly. Only baptized Catholics in state of grace may receive. Others may come forward for blessing (arms crossed)",participation:"Congregation responds in dialogue, sits/stands/kneels at specific times",uniqueElements:["Genuflection (brief kneeling) when entering/leaving pews","Holy water fonts at entrance","Kneeling during consecration","Sign of the Cross used frequently","Statues, icons, and artwork throughout"],firstTimeVisitor:"Arrive early. Sit toward back if unsure about postures. Following along appreciated but not required. You may remain seated during communion."},orthodox:{serviceName:"Divine Liturgy",typicalLength:"90 minutes to 2 hours",schedule:"Sunday morning primary; Saturday evening Vespers common",serviceStructure:["Liturgy of the Word: Antiphons, Little Entrance, Epistle, Gospel","Liturgy of the Faithful: Great Entrance, Creed, Anaphora","Communion: Preparation and Distribution (bread and wine on spoon)","Dismissal: Thanksgiving prayers, Veneration of Cross"],musicStyle:"A cappella chanting - no instruments. Byzantine or Slavonic chant traditions",dressExpectation:"Modest and formal. Women often cover heads (scarves usually provided); men wear suits",communionDetails:"Weekly. Only Orthodox Christians who have fasted may receive. Others observe",participation:"Mostly standing (few pews in traditional churches). Make sign of cross. Venerate icons",uniqueElements:["Iconostasis (icon wall) separating altar from congregation","Extensive incense use throughout","Icons everywhere - kissed upon entering","Priest often behind icon screen during prayers","Antidoron (blessed bread) distributed to all after"],firstTimeVisitor:"Expect to stand most of service. OK to sit if needed. Don't take communion unless Orthodox. Venerate icons when others do. Beautiful but unfamiliar to most Westerners."},anglican:{serviceName:"Holy Eucharist / Holy Communion",typicalLength:"60-75 minutes",schedule:"Sunday morning primary; some offer Wednesday or daily services",serviceStructure:["Gathering: Procession, Opening Hymn, Collect","Word: Old Testament, Psalm, Epistle, Gospel, Sermon","Prayers: Prayers of the People, Confession, Peace","Eucharist: Offertory, Great Thanksgiving, Communion","Sending Forth: Post-communion prayer, Blessing, Dismissal"],musicStyle:"Traditional hymns with organ or piano; some parishes more contemporary. Often very good choirs",dressExpectation:"Business casual to formal. 'Sunday best' still common in traditional parishes",communionDetails:"Weekly in most parishes. Open to baptized Christians. Kneel or stand at altar rail or come forward in line",participation:"Liturgical responses from Book of Common Prayer. Stand for Gospel, kneel for prayers (varies)",uniqueElements:["Book of Common Prayer used extensively","Processions with cross and candles","Vestments (robes) for clergy","May use incense in 'high church' parishes","Balance of Catholic liturgy with Protestant theology"],firstTimeVisitor:"Feels Catholic but more relaxed. Take a bulletin and Book of Common Prayer. Follow along with congregation. All baptized Christians welcome at communion."},lutheran:{serviceName:"Divine Service / Worship Service",typicalLength:"60-75 minutes",schedule:"Sunday morning; some offer Saturday evening or midweek",serviceStructure:["Gathering: Confession/Absolution, Hymn of Praise","Word: Scripture Readings, Sermon","Response: Creed, Prayers, Offering","Sacrament: Communion liturgy, Distribution","Sending: Blessing, Closing Hymn"],musicStyle:"Traditional Lutheran chorales and hymns. Organ music. Some contemporary in less traditional congregations",dressExpectation:"Business casual to smart casual. Less formal than previous generations",communionDetails:"Usually weekly or every other week. Varies by congregation. Believe in Real Presence. Some close communion (members only), others open",participation:"Liturgical with responsive readings. Stand for Gospel. Kneeling for communion common in traditional churches",uniqueElements:["Strong emphasis on preaching and Scripture","Liturgical order similar to Catholic/Anglican but simpler","Rich musical heritage (Bach, chorales)","Confession and Absolution emphasized","Formal but warm atmosphere"],firstTimeVisitor:"Very liturgical yet accessible. Take a bulletin and hymnal. Check if communion is open or closed. Preaching is central - expect 15-20 minute sermon."},reformed:{serviceName:"Worship Service",typicalLength:"60-90 minutes",schedule:"Sunday morning; some offer Sunday evening services",serviceStructure:["Call to Worship and Opening Prayer","Praise: Psalm or Hymn singing","Confession of Sin and Assurance of Pardon","Scripture Reading and Preaching (central focus)","Response: Prayers, Offering, Closing Hymn"],musicStyle:"Traditional: Psalm singing (sometimes a cappella), hymns. Contemporary in some churches. Varies widely",dressExpectation:"Business casual to smart casual. Varies by congregation",communionDetails:"Monthly or quarterly (less frequent). Believe in spiritual presence. Usually open to baptized believers",participation:"Corporate prayer and singing. Attentive listening to sermon. May be less responsive liturgy than Lutheran/Anglican",uniqueElements:["Sermon is center of service (30-45 minutes common)","Strong emphasis on God's sovereignty in worship","Presbyterian governance means elders oversee","Psalm singing in some traditions","Intellectually rigorous preaching"],firstTimeVisitor:"Word-centered service. Come prepared for substantial sermon. Less ritual than liturgical churches. Friendly and welcoming atmosphere."},methodist:{serviceName:"Sunday Worship Service",typicalLength:"60-75 minutes",schedule:"Sunday morning; many offer contemporary and traditional services",serviceStructure:["Gathering: Welcome, Opening Hymns, Prayer","Proclamation: Scripture Readings, Sermon","Response: Offering, Prayers, Hymns","Communion: Monthly or weekly in many congregations","Sending Forth: Closing Hymn, Benediction"],musicStyle:"Wide variety: Traditional hymns (especially Charles Wesley's), contemporary worship, gospel. Often both services offered",dressExpectation:"Casual to business casual. Very relaxed in most congregations",communionDetails:"Monthly common, some weekly. Open table - all who love Christ welcome. Come forward or served in pews",participation:"Responsive readings, corporate prayer, hymn singing. Welcoming and participatory",uniqueElements:["Strong emphasis on social holiness and service","John Wesley's theology influences everything","Open communion - all welcome","Mix of liturgical and free church elements","Connection system - accountability groups"],firstTimeVisitor:"Very welcoming and accessible. Mix of formal and informal. Check if contemporary or traditional service. Expect warmth and emphasis on Christian living."},baptist:{serviceName:"Worship Service",typicalLength:"60-90 minutes",schedule:"Sunday morning and evening common; Wednesday night prayer meeting traditional",serviceStructure:["Welcome and Announcements","Worship: Hymns or Contemporary Praise","Prayer Time","Scripture Reading and Preaching (central)","Invitation/Altar Call: Response time for decisions","Closing"],musicStyle:"Varies widely: Traditional hymns with piano/organ in traditional churches; contemporary worship bands in modern churches; Southern gospel in some",dressExpectation:"Casual to business casual. 'Come as you are' in most churches",communionDetails:"Monthly or quarterly. Symbolic memorial. Open to baptized believers (believer's baptism)",participation:"Congregational singing, responsive 'Amen' during preaching in some traditions, altar calls for decisions",uniqueElements:["Believer's baptism by immersion (baptistery visible in church)","Congregational autonomy - each church independent","Altar calls/invitations common after sermon","No formal liturgy or prayer book","Strong emphasis on evangelism and missions"],firstTimeVisitor:"Informal and friendly. Sermon is central (30-45 min). You may be asked to stand as a visitor. No pressure to respond to altar call. Very accessible."},pentecostal:{serviceName:"Worship Service / Celebration",typicalLength:"90 minutes to 2+ hours (flexible)",schedule:"Sunday morning and evening; often midweek services. Times less rigid",serviceStructure:["Extended Praise and Worship (30-45 minutes)","Manifestations of the Spirit: Tongues, prophecy, healing","Offering and Testimonies","Preaching: Passionate, evangelistic message","Altar Call: Prayer for salvation, healing, Holy Spirit","Ministry Time: Individual prayer"],musicStyle:"Contemporary praise and worship, very energetic. Live band, drums, electric guitars. Upbeat and emotional",dressExpectation:"Ranges from very casual to formal 'Sunday best' depending on congregation. Generally relaxed",communionDetails:"Monthly or less frequent. Open to believers. Secondary to Spirit baptism",participation:"Very active! Raise hands, clap, dance, shout 'Amen', speak in tongues, prophesy. High energy and participation expected",uniqueElements:["Speaking in tongues encouraged","Healing services and prayer for sick","Prophecy and words of knowledge","Laying on of hands for Spirit baptism","Spontaneous, Spirit-led worship (less structured)","Very emotional and experiential"],firstTimeVisitor:"Expect loud, long, and expressive worship. Don't feel pressured to speak in tongues or participate in manifestations. Very welcoming. Prepare for intense, emotional experience. Services often run long."},anabaptist:{serviceName:"Worship Service / Meeting",typicalLength:"60-90 minutes",schedule:"Sunday morning; some have Sunday evening or midweek meetings",serviceStructure:["Gathering and Welcome","Congregational Singing (often a cappella in some traditions)","Prayer","Scripture Reading and Teaching","Testimony or Sharing Time (common in some groups)","Closing Prayer and Dismissal"],musicStyle:"Varies widely: Traditional a cappella four-part harmony in conservative groups; contemporary with instruments in progressive churches; emphasis on congregational participation",dressExpectation:"Very modest - Conservative groups require head coverings for women, plain dress, no jewelry. Progressive Anabaptists more casual but still modest",communionDetails:"Monthly or quarterly. Symbolic memorial. Often preceded by foot washing service. Closed or restricted communion in conservative groups",participation:"Simple and participatory. Emphasis on community. Testimony sharing common. Less formal liturgy",uniqueElements:["Believer's baptism (adult baptism by pouring or immersion)","Foot washing services with communion","Emphasis on pacifism and nonviolence","Simple, plain worship spaces (no crosses or decorations in conservative groups)","Strong community accountability and discipline","Head coverings for women (in conservative groups)"],firstTimeVisitor:"Expect simplicity and modesty. Conservative groups very plain (Amish, Old Order Mennonite) - women cover heads, men wear plain suits. Progressive groups more contemporary. Strong emphasis on community and peace. Very welcoming but culturally distinct."},restorationist:{serviceName:"Worship Assembly / Church Service",typicalLength:"60-75 minutes",schedule:"Sunday morning primary; many have Sunday evening and Wednesday services",serviceStructure:["Opening Prayer","Congregational Singing (a cappella in Churches of Christ)","Lord's Supper (weekly, central to service)","Offering","Scripture Reading and Preaching","Invitation and Closing Prayer"],musicStyle:"Churches of Christ: A cappella only (no instruments). Christian Churches: Often use instruments. Four-part harmony singing. Emphasis on congregational participation",dressExpectation:"Business casual to formal. Generally conservative and modest",communionDetails:"Weekly - every Sunday without exception. Central act of worship. Open to all Christians. Bread and grape juice distributed in pews or by coming forward",participation:"Active congregational singing. Weekly communion participation. Multiple men may lead prayers. Less clergy-centered than other traditions",uniqueElements:["Weekly communion (Lord's Supper) as central act","A cappella singing only (Churches of Christ - no instruments)","Multiple men lead different parts of service","Strong emphasis on New Testament pattern","Baptism by immersion for forgiveness of sins (essential)","No creeds - 'Bible only' approach","Elder-led (no single pastor in many congregations)"],firstTimeVisitor:"Simple, Bible-centered worship. Expect weekly communion (every Sunday). Churches of Christ have no instruments - only singing. Welcoming but theologically specific about baptism and church practices. Communion open to Christians. Preaching is central and Scripture-heavy."},nondenominational:{serviceName:"Worship Service / Sunday Celebration",typicalLength:"60-90 minutes",schedule:"Multiple Sunday services common (contemporary, traditional); midweek small groups",serviceStructure:["Welcome and Announcements","Extended Worship Set (20-30 minutes of contemporary music)","Offering","Sermon / Teaching (practical, application-focused)","Response / Prayer Time","Dismissal"],musicStyle:"Predominantly contemporary worship with full band (drums, guitars, keys). Hillsong/Bethel style common. Professional sound and lighting. Very polished production",dressExpectation:"Casual - jeans and t-shirts common and encouraged. 'Come as you are' philosophy",communionDetails:"Monthly or less frequent. Open to all believers. Often served in seats or stations. Not central focus",participation:"Hands raised during worship common but optional. Casual and relaxed atmosphere. Coffee often available during service",uniqueElements:["Contemporary, seeker-friendly approach","High production value (lights, screens, graphics)","Practical, life-application preaching","Small groups emphasized over Sunday service","Minimal religious symbols or tradition","Often meets in renovated warehouses, schools, or theaters","Very accessible to unchurched visitors"],firstTimeVisitor:"Most accessible for newcomers. Casual dress, contemporary music, relevant teaching. Often feels more like a concert than traditional church. No pressure, very welcoming. Coffee usually available. Expect screens, lights, and modern worship band. Perfect for those unfamiliar with church."}};return(0,Pt.jsxs)("div",{className:"w-full min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100",children:[(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-16 px-4",children:(0,Pt.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Pt.jsx)("h1",{className:"text-4xl md:text-5xl font-black mb-3",children:"bible"===t?"Bible Timeline":"Church Timeline"}),(0,Pt.jsx)("p",{className:"text-lg md:text-xl text-blue-100 max-w-3xl",children:"A modern, coherent look\u2014same rich content and interactions."})]})}),(0,Pt.jsxs)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-8 sm:py-12",children:[(0,Pt.jsx)("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-4 mb-8 shadow",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("button",{onClick:()=>n&&n("explorer"),className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl border-2 border-slate-200 text-slate-700 hover:bg-slate-50 transition","aria-label":"Back to Explore",children:[(0,Pt.jsx)("span",{className:"-ml-1",children:"\u2190"}),(0,Pt.jsx)("span",{children:"Back to Explore"})]}),(0,Pt.jsx)("span",{className:"text-sm font-semibold text-slate-500",children:"bible"===t?"Bible Timeline":"Church Timeline"})]})}),(!t||"church"===t)&&(0,Pt.jsxs)("div",{className:"relative bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-6 sm:p-10 mb-8 sm:mb-16 border-2 border-slate-200",children:[(0,Pt.jsxs)("div",{className:"text-center mb-8 sm:mb-12",children:[(0,Pt.jsx)("h2",{className:"text-3xl sm:text-4xl font-black text-slate-900 mb-2",children:"A Contested History"}),(0,Pt.jsx)("p",{className:"text-sm sm:text-base text-slate-600",children:"Each claims authentic continuity\u2014but define it differently"})]}),(0,Pt.jsxs)("div",{className:"max-w-3xl mx-auto relative",children:[(0,Pt.jsx)("div",{className:"relative mb-8",children:(0,Pt.jsxs)("div",{className:"flex gap-4 items-start",children:[(0,Pt.jsxs)("div",{className:"w-20 text-right pt-4",children:[(0,Pt.jsx)("div",{className:"text-2xl font-bold text-amber-800",children:"33"}),(0,Pt.jsx)("div",{className:"text-xs text-slate-500 font-semibold",children:"AD"})]}),(0,Pt.jsxs)("button",{onClick:()=>c(!0),className:"flex-1 bg-gradient-to-br from-amber-100 to-amber-50 border-2 border-amber-400 rounded-xl p-4 sm:p-5 relative shadow-md hover:shadow-xl transition-all hover:-translate-y-0.5 text-left",children:[(0,Pt.jsx)("div",{className:"absolute -left-2 top-5 w-4 h-4 bg-amber-600 rounded-full border-2 border-white"}),(0,Pt.jsx)("h3",{className:"text-lg sm:text-xl font-serif text-amber-900 mb-1",children:"Apostolic Church"}),(0,Pt.jsx)("p",{className:"text-sm text-amber-800 mb-3",children:"All traditions claim this root\u2014click to see how"}),(0,Pt.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs font-medium",children:[(0,Pt.jsx)("span",{className:"bg-amber-200 text-amber-900 px-2.5 py-1 rounded-lg",children:"Institutional"}),(0,Pt.jsx)("span",{className:"bg-amber-200 text-amber-900 px-2.5 py-1 rounded-lg",children:"Liturgical"}),(0,Pt.jsx)("span",{className:"bg-amber-200 text-amber-900 px-2.5 py-1 rounded-lg",children:"Doctrinal"})]})]})]})}),(0,Pt.jsx)("div",{className:"flex ml-20 mb-8",children:(0,Pt.jsx)("div",{className:"w-1 h-10 bg-gradient-to-b from-amber-400 to-red-300 relative",children:(0,Pt.jsx)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-white text-amber-700 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold border-2 border-amber-400 shadow-sm",children:"?"})})}),(0,Pt.jsx)("div",{className:"relative mb-8",children:(0,Pt.jsxs)("div",{className:"flex gap-4 items-start",children:[(0,Pt.jsx)("div",{className:"w-20 text-right pt-4",children:(0,Pt.jsx)("div",{className:"text-2xl font-bold text-slate-700",children:"1054"})}),(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsxs)("button",{onClick:()=>d(!0),className:"w-full bg-red-50 border-2 border-red-300 rounded-xl p-3 mb-3 relative hover:shadow-lg transition-all hover:-translate-y-0.5 cursor-pointer text-left",children:[(0,Pt.jsx)("div",{className:"absolute -left-2 top-1/2 -translate-y-1/2 w-4 h-4 bg-red-500 rounded-full border-2 border-white animate-pulse"}),(0,Pt.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Pt.jsx)(Tt,{className:"w-4 h-4 text-red-600"}),(0,Pt.jsx)("span",{className:"font-bold text-red-900 text-sm",children:"Great Schism"}),(0,Pt.jsx)("span",{className:"text-xs text-red-700",children:"Real break or formalization?"})]})]}),(0,Pt.jsxs)("div",{className:"grid sm:grid-cols-2 gap-2.5",children:[(0,Pt.jsxs)("div",{className:"relative",children:[(0,Pt.jsxs)("button",{onClick:()=>s("catholic"),className:"w-full p-3 rounded-xl border-2 bg-white hover:shadow-xl transition-all hover:-translate-y-0.5 text-left",style:{borderColor:E.catholic.color},children:[(0,Pt.jsx)("div",{className:"font-serif text-base text-slate-900 mb-0.5",children:"Catholic"}),(0,Pt.jsx)("div",{className:"text-xs text-slate-600",children:"1.3B \u2022 Papal authority"})]}),(0,Pt.jsx)("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-0.5 h-6 bg-gradient-to-b from-amber-400 to-orange-400 sm:block hidden"})]}),(0,Pt.jsxs)("button",{onClick:()=>s("orthodox"),className:"p-3 rounded-xl border-2 bg-white hover:shadow-xl transition-all hover:-translate-y-0.5 text-left",style:{borderColor:E.orthodox.color},children:[(0,Pt.jsx)("div",{className:"font-serif text-base text-slate-900 mb-0.5",children:"Orthodox"}),(0,Pt.jsx)("div",{className:"text-xs text-slate-600",children:"220M \u2022 Conciliar unity"}),(0,Pt.jsx)("div",{className:"text-xs text-slate-400 italic mt-1",children:"Continues separately"})]})]})]})]})}),(0,Pt.jsx)("div",{className:"flex ml-20 mb-8",children:(0,Pt.jsx)("div",{className:"w-1 h-10 bg-gradient-to-b from-amber-400 to-orange-400 relative ml-[calc(50%-2px)] sm:ml-0",children:(0,Pt.jsx)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-orange-50 text-orange-700 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold border-2 border-orange-400 shadow-sm",children:"\u2192"})})}),(0,Pt.jsx)("div",{className:"relative mb-8",children:(0,Pt.jsxs)("div",{className:"flex gap-4 items-start",children:[(0,Pt.jsx)("div",{className:"w-20 text-right pt-4",children:(0,Pt.jsx)("div",{className:"text-2xl font-bold text-slate-700",children:"1517"})}),(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsxs)("button",{onClick:()=>m(!0),className:"w-full bg-orange-50 border-2 border-orange-300 rounded-xl p-3 mb-3 relative hover:shadow-lg transition-all hover:-translate-y-0.5 cursor-pointer text-left",children:[(0,Pt.jsx)("div",{className:"absolute -left-2 top-1/2 -translate-y-1/2 w-4 h-4 bg-orange-500 rounded-full border-2 border-white animate-pulse"}),(0,Pt.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Pt.jsx)(Tt,{className:"w-4 h-4 text-orange-600"}),(0,Pt.jsx)("span",{className:"font-bold text-orange-900 text-sm",children:"Protestant Reformation"}),(0,Pt.jsx)("span",{className:"text-xs text-orange-700",children:"From Catholicism"})]}),(0,Pt.jsx)("p",{className:"text-xs text-orange-800",children:"Luther challenges Catholic practices \u2022 Reformed from within the Western church"})]}),(0,Pt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:["lutheran","reformed","anglican","anabaptist"].map(e=>(0,Pt.jsxs)("button",{onClick:()=>s(e),className:"p-2.5 rounded-lg border-2 bg-white hover:shadow-lg transition-all hover:-translate-y-0.5",style:{borderColor:E[e].color},children:[(0,Pt.jsx)("div",{className:"font-serif text-sm text-slate-900",children:E[e].name}),(0,Pt.jsx)("div",{className:"text-xs text-slate-500",children:E[e].year})]},e))})]})]})}),(0,Pt.jsx)("div",{className:"flex ml-20 mb-8",children:(0,Pt.jsx)("div",{className:"w-1 h-10 bg-gradient-to-b from-orange-300 to-blue-300"})}),(0,Pt.jsx)("div",{className:"relative mb-8",children:(0,Pt.jsxs)("div",{className:"flex gap-4 items-start",children:[(0,Pt.jsxs)("div",{className:"w-20 text-right pt-4",children:[(0,Pt.jsx)("div",{className:"text-base font-bold text-slate-700",children:"1600s\u2013"}),(0,Pt.jsx)("div",{className:"text-base font-bold text-slate-700",children:"1800s"})]}),(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsxs)("button",{onClick:()=>f(!0),className:"w-full bg-blue-50 border-2 border-blue-300 rounded-xl p-3 mb-3 relative hover:shadow-lg transition-all hover:-translate-y-0.5 cursor-pointer text-left",children:[(0,Pt.jsx)("div",{className:"absolute -left-2 top-1/2 -translate-y-1/2 w-4 h-4 bg-blue-500 rounded-full border-2 border-white"}),(0,Pt.jsx)("span",{className:"font-bold text-blue-900 text-sm",children:"Revival & Restoration"}),(0,Pt.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:"After the devastating Thirty Years' War (1618-1648), new movements sought spiritual renewal"})]}),(0,Pt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:["baptist","methodist","restorationist","holiness"].map(e=>(0,Pt.jsxs)("button",{onClick:()=>s(e),className:"p-2.5 rounded-lg border-2 bg-white hover:shadow-lg transition-all hover:-translate-y-0.5",style:{borderColor:E[e].color},children:[(0,Pt.jsx)("div",{className:"font-serif text-sm text-slate-900",children:E[e].name}),(0,Pt.jsx)("div",{className:"text-xs text-slate-500",children:E[e].year})]},e))})]})]})}),(0,Pt.jsx)("div",{className:"flex ml-20 mb-8",children:(0,Pt.jsx)("div",{className:"w-1 h-10 bg-gradient-to-b from-blue-300 to-purple-300"})}),(0,Pt.jsx)("div",{className:"relative mb-6",children:(0,Pt.jsxs)("div",{className:"flex gap-4 items-start",children:[(0,Pt.jsxs)("div",{className:"w-20 text-right pt-4",children:[(0,Pt.jsx)("div",{className:"text-base font-bold text-slate-700",children:"1900s\u2013"}),(0,Pt.jsx)("div",{className:"text-base font-bold text-slate-700",children:"Today"})]}),(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsxs)("button",{onClick:()=>y(!0),className:"w-full bg-purple-50 border-2 border-purple-300 rounded-xl p-3 mb-3 relative hover:shadow-lg transition-all hover:-translate-y-0.5 cursor-pointer text-left",children:[(0,Pt.jsx)("div",{className:"absolute -left-2 top-1/2 -translate-y-1/2 w-4 h-4 bg-purple-500 rounded-full border-2 border-white"}),(0,Pt.jsx)("span",{className:"font-bold text-purple-900 text-sm",children:"Spirit & Post-Denominational"})]}),(0,Pt.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["pentecostal","nondenominational"].map(e=>(0,Pt.jsxs)("button",{onClick:()=>s(e),className:"p-2.5 rounded-lg border-2 bg-white hover:shadow-lg transition-all hover:-translate-y-0.5",style:{borderColor:E[e].color},children:[(0,Pt.jsx)("div",{className:"font-serif text-sm text-slate-900",children:E[e].name}),(0,Pt.jsx)("div",{className:"text-xs text-slate-500",children:E[e].year})]},e))})]})]})}),(0,Pt.jsxs)("div",{className:"mt-10 flex items-center justify-center gap-2 text-sm text-slate-600",children:[(0,Pt.jsx)(Tt,{className:"w-4 h-4"}),(0,Pt.jsx)("span",{children:"Click any tradition to explore their perspective"})]})]})]}),(!t||"bible"===t)&&(0,Pt.jsxs)("div",{className:"relative bg-gradient-to-b from-white to-blue-50 rounded-2xl sm:rounded-3xl shadow-2xl p-6 sm:p-10 mb-8 sm:mb-16 border border-blue-200",children:[(0,Pt.jsxs)("div",{className:"text-center mb-6",children:[(0,Pt.jsx)("div",{className:"inline-block mb-4",children:(0,Pt.jsx)(jt,{className:"w-10 h-10 sm:w-12 sm:h-12 text-blue-700 mx-auto"})}),(0,Pt.jsx)("h2",{className:"text-2xl sm:text-4xl font-serif text-slate-900 mb-2",children:"How the Bible Was Compiled"}),(0,Pt.jsx)("p",{className:"text-sm sm:text-base text-slate-600 mb-4",children:"Understanding biblical canonization helps explain denominational differences"}),(0,Pt.jsx)("button",{onClick:()=>v(!b),className:"bg-blue-600 text-white px-6 py-2.5 rounded-full hover:bg-blue-700 transition-colors text-sm font-medium shadow-md hover:shadow-lg",children:b?"Hide Timeline":"Explore the Process"})]}),b&&(0,Pt.jsxs)("div",{className:"max-w-4xl mx-auto mt-8 space-y-8",children:[(0,Pt.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-blue-100",children:[(0,Pt.jsxs)("h3",{className:"text-xl sm:text-2xl font-serif text-slate-900 mb-4 flex items-center gap-2",children:[(0,Pt.jsx)(Et,{className:"w-5 h-5 text-blue-600"}),"When the Books Were Written"]}),(0,Pt.jsx)("div",{className:"space-y-4",children:A.writing.map((e,t)=>(0,Pt.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4 py-2",children:[(0,Pt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-1",children:[(0,Pt.jsx)("span",{className:"text-lg font-bold text-blue-900",children:e.period}),(0,Pt.jsx)("span",{className:"text-sm font-semibold text-slate-700",children:e.books})]}),(0,Pt.jsx)("p",{className:"text-sm text-slate-600 mb-1",children:e.details}),(0,Pt.jsx)("p",{className:"text-xs text-slate-500 italic",children:e.note})]},t))})]}),(0,Pt.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-blue-100",children:[(0,Pt.jsx)("h3",{className:"text-xl sm:text-2xl font-serif text-slate-900 mb-4",children:"The Canonization Timeline"}),(0,Pt.jsx)("p",{className:"text-sm text-slate-600 mb-6",children:'The process of determining which books were "canonical" (authoritative Scripture) took centuries and involved debate, councils, and regional differences.'}),(0,Pt.jsx)("div",{className:"relative pl-10 border-l-2 border-blue-400 ml-4",children:A.canonization.map((e,t)=>(0,Pt.jsx)("div",{className:"mb-6 relative",children:(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[(0,Pt.jsx)("span",{className:"font-semibold text-slate-900 text-sm",children:e.year}),e.contested&&(0,Pt.jsx)("button",{onClick:t=>{t.stopPropagation(),o(e)},className:"text-xs bg-amber-100 text-amber-800 px-2 py-0.5 rounded-full border border-amber-300 hover:bg-amber-200 transition-colors cursor-pointer",children:"\u26a0\ufe0f Debated"})]}),(0,Pt.jsx)("div",{className:"text-base font-serif text-slate-900 mb-1",children:e.event}),(0,Pt.jsx)("div",{className:"text-sm text-slate-600",children:e.details})]})},t))})]}),(0,Pt.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-xl p-6 shadow-lg border border-blue-200",children:[(0,Pt.jsx)("h3",{className:"text-xl font-serif text-slate-900 mb-4",children:"How Books Were Judged Canonical"}),(0,Pt.jsx)("p",{className:"text-sm text-slate-600 mb-4",children:"Early Christians used several criteria to determine which books belonged in Scripture:"}),(0,Pt.jsx)("div",{className:"grid sm:grid-cols-2 gap-4",children:A.criteria.map((e,t)=>(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[(0,Pt.jsxs)("h4",{className:"font-bold text-slate-900 mb-1 flex items-center gap-2",children:[(0,Pt.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-600"}),e.criterion]}),(0,Pt.jsx)("p",{className:"text-sm text-slate-600",children:e.description})]},t))})]}),(0,Pt.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-blue-100",children:[(0,Pt.jsxs)("h3",{className:"text-xl sm:text-2xl font-serif text-slate-900 mb-4 flex items-center gap-2",children:[(0,Pt.jsx)(Tt,{className:"w-5 h-5 text-amber-600"}),"Why Different Traditions Have Different Bibles"]}),(0,Pt.jsx)("p",{className:"text-sm text-slate-600 mb-6",children:"The Protestant Reformation reignited debates about the Old Testament canon. Here's what each tradition accepts:"}),(0,Pt.jsx)("div",{className:"space-y-4",children:A.canons.map((e,t)=>(0,Pt.jsxs)("div",{className:"border-2 rounded-xl p-4 hover:shadow-md transition-shadow",style:{borderColor:"Protestant"===e.tradition?"#3b82f6":"Catholic"===e.tradition?"#d4af37":"Orthodox"===e.tradition?"#8b5cf6":"#65a30d"},children:[(0,Pt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-2",children:[(0,Pt.jsx)("h4",{className:"font-bold text-lg text-slate-900",children:e.tradition}),(0,Pt.jsxs)("span",{className:"text-2xl font-bold",style:{color:"Protestant"===e.tradition?"#3b82f6":"Catholic"===e.tradition?"#d4af37":"Orthodox"===e.tradition?"#8b5cf6":"#65a30d"},children:[e.books," ","number"===typeof e.books?"books":""]})]}),(0,Pt.jsx)("p",{className:"text-sm text-slate-700 mb-2",children:e.details}),(0,Pt.jsxs)("div",{className:"text-xs text-slate-600 bg-slate-50 px-3 py-2 rounded border-l-2",style:{borderColor:"Protestant"===e.tradition?"#3b82f6":"Catholic"===e.tradition?"#d4af37":"Orthodox"===e.tradition?"#8b5cf6":"#65a30d"},children:[(0,Pt.jsx)("strong",{children:"Rationale:"})," ",e.rationale]})]},t))})]}),(0,Pt.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-6 border-2 border-amber-300",children:[(0,Pt.jsxs)("h3",{className:"text-lg font-serif text-slate-900 mb-3 flex items-center gap-2",children:[(0,Pt.jsx)(Tt,{className:"w-5 h-5 text-amber-700"}),"Why This Matters for Understanding Denominations"]}),(0,Pt.jsxs)("div",{className:"text-sm text-slate-700 space-y-2",children:[(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"Catholics and Orthodox"})," argue that the Church (guided by the Holy Spirit through councils and tradition) determined the canon. The Bible came from the Church."]}),(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"Protestants"})," argue that the Bible's authority is self-evident and precedes church authority. They returned to the Hebrew Bible canon, rejecting books only in Greek."]}),(0,Pt.jsxs)("p",{className:"pt-2 border-t border-amber-200",children:["This disagreement reflects the deeper question: ",(0,Pt.jsx)("em",{children:"Does the Church define Scripture, or does Scripture define the Church?"})," This philosophical difference underlies many denominational divisions."]})]})]})]})]}),(!t||"church"===t)&&(0,Pt.jsxs)(Pt.Fragment,{children:[r&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50 overflow-auto p-2 sm:p-4",onClick:()=>s(null),children:(0,Pt.jsxs)("div",{className:"max-w-5xl mx-auto my-4 sm:my-8 bg-white rounded-xl sm:rounded-2xl shadow-2xl overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,Pt.jsxs)("div",{className:"p-4 sm:p-8 text-white relative",style:{backgroundColor:E[r].color},children:[(0,Pt.jsx)("button",{onClick:()=>s(null),className:"absolute top-2 right-2 sm:top-4 sm:right-4 text-white text-2xl sm:text-3xl font-bold hover:opacity-80 transition-opacity",children:"\xd7"}),(0,Pt.jsx)("h2",{className:"text-2xl sm:text-4xl font-serif mb-2 pr-8",children:E[r].fullName}),(0,Pt.jsxs)("div",{className:"flex gap-2 sm:gap-4 text-xs sm:text-sm opacity-90",children:[(0,Pt.jsxs)("span",{children:["Founded ",E[r].year]}),(0,Pt.jsxs)("span",{children:[E[r].members," members"]})]})]}),(0,Pt.jsxs)("div",{className:"p-4 sm:p-8 max-h-[70vh] overflow-y-auto",children:[(0,Pt.jsx)("p",{className:"text-sm sm:text-base text-slate-700 mb-6",children:E[r].description}),(0,Pt.jsx)("h3",{className:"text-lg sm:text-xl font-serif text-slate-900 mb-3",children:"Core Beliefs"}),(0,Pt.jsx)("ul",{className:"space-y-2 mb-6",children:E[r].beliefs.map((e,t)=>(0,Pt.jsxs)("li",{className:"flex gap-2",children:[(0,Pt.jsx)("div",{className:"w-2 h-2 rounded-full mt-2 flex-shrink-0",style:{backgroundColor:E[r].color}}),(0,Pt.jsx)("span",{className:"text-sm text-slate-700",children:e})]},t))}),(0,Pt.jsx)("h3",{className:"text-lg sm:text-xl font-serif text-slate-900 mb-3",children:"Key Figures"}),(0,Pt.jsx)("ul",{className:"space-y-2 mb-6",children:E[r].keyFigures.map((e,t)=>(0,Pt.jsxs)("li",{className:"flex gap-2",children:[(0,Pt.jsx)("div",{className:"w-2 h-2 rounded-full mt-2 flex-shrink-0",style:{backgroundColor:E[r].color}}),(0,Pt.jsx)("span",{className:"text-sm text-slate-700",children:e})]},t))}),(0,Pt.jsx)("h3",{className:"text-lg sm:text-xl font-serif text-slate-900 mb-2",children:"Geography"}),(0,Pt.jsx)("p",{className:"text-sm text-slate-700 mb-4",children:E[r].geography}),E[r].geographicDistribution&&(0,Pt.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200 mb-6",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Pt.jsx)(At,{className:"w-4 h-4 text-slate-600"}),(0,Pt.jsx)("h4",{className:"text-sm sm:text-base font-semibold text-slate-800",children:"Regional Distribution"})]}),(0,Pt.jsx)("div",{className:"space-y-3",children:E[r].geographicDistribution.map((e,t)=>{const n={"rapid-growth":"bg-emerald-500",growing:"bg-green-500",stable:"bg-blue-500",declining:"bg-orange-500"};return(0,Pt.jsxs)("div",{className:"space-y-1",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between text-xs sm:text-sm",children:[(0,Pt.jsx)("span",{className:"text-slate-700 font-medium",children:e.region}),(0,Pt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pt.jsx)("span",{className:"px-2 py-0.5 rounded text-xs text-white ".concat(n[e.trend]),children:{"rapid-growth":"Rapid Growth",growing:"Growing",stable:"Stable",declining:"Declining"}[e.trend]}),(0,Pt.jsx)("span",{className:"text-slate-600",children:e.percentage})]})]}),(0,Pt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Pt.jsx)("div",{className:"h-2 rounded-full ".concat(n[e.trend]),style:{width:e.percentage}})}),(0,Pt.jsx)("p",{className:"text-xs text-slate-600",children:e.explanation})]},t)})})]}),(0,Pt.jsxs)("div",{className:"bg-amber-50 rounded-xl p-4 border border-amber-200 mb-6",children:[(0,Pt.jsxs)("h3",{className:"text-lg font-serif text-slate-900 mb-3 flex items-center gap-2",children:[(0,Pt.jsx)(Tt,{className:"w-4 h-4 text-amber-600"}),"Points of Debate"]}),(0,Pt.jsx)("ul",{className:"space-y-2",children:E[r].debates.map((e,t)=>(0,Pt.jsxs)("li",{className:"flex gap-2",children:[(0,Pt.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-600 mt-1.5 flex-shrink-0"}),(0,Pt.jsx)("span",{className:"text-sm text-slate-700",children:e})]},t))})]}),(0,Pt.jsx)("h3",{className:"text-xl font-serif text-slate-900 mb-4",children:"Historical Timeline"}),(0,Pt.jsx)("div",{className:"relative pl-6 border-l-2 mb-6",style:{borderColor:E[r].color},children:E[r].timeline.map((e,t)=>(0,Pt.jsxs)("div",{className:"mb-6 relative",children:[(0,Pt.jsx)("div",{className:"absolute -left-7 top-0 w-3 h-3 rounded-full border-2 bg-white",style:{borderColor:E[r].color}}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Pt.jsx)("span",{className:"font-semibold text-slate-900 text-sm",children:e.year}),e.contested&&(0,Pt.jsx)("button",{onClick:t=>{t.stopPropagation(),o(e)},className:"text-xs bg-amber-100 text-amber-800 px-2 py-0.5 rounded-full hover:bg-amber-200 border border-amber-300",children:"\u26a0\ufe0f Contested"})]}),(0,Pt.jsx)("div",{className:"text-base font-serif text-slate-900 mb-1",children:e.event}),(0,Pt.jsx)("div",{className:"text-sm text-slate-600",children:e.details})]})]},t))}),(0,Pt.jsxs)("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200",children:[(0,Pt.jsxs)("h3",{className:"text-lg font-serif text-slate-900 mb-3 flex items-center gap-2",children:[(0,Pt.jsx)(It,{className:"w-4 h-4",style:{color:E[r].color}}),"Resources"]}),(0,Pt.jsx)("div",{className:"space-y-2",children:E[r].sources.map((e,t)=>(0,Pt.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-slate-700 hover:text-slate-900 text-sm group",children:[(0,Pt.jsx)(It,{className:"w-3 h-3 text-slate-400 group-hover:text-slate-600"}),(0,Pt.jsx)("span",{className:"group-hover:underline",children:e.title})]},t))})]})]})]})}),a&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-start sm:items-center justify-center p-2 sm:p-4 z-50 overflow-y-auto",onClick:()=>o(null),children:(0,Pt.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-2xl my-4 flex flex-col max-h-[95vh]",onClick:e=>e.stopPropagation(),children:[(0,Pt.jsx)("div",{className:"p-4 sm:p-6 flex-shrink-0 border-b border-slate-200",children:(0,Pt.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Pt.jsx)(Tt,{className:"w-5 h-5 text-amber-600"}),(0,Pt.jsx)("h3",{className:"text-lg sm:text-xl font-serif text-slate-900",children:"Contested Event"})]}),(0,Pt.jsxs)("div",{className:"text-xs sm:text-sm text-slate-500",children:[a.year," \u2022 ",a.event]})]}),(0,Pt.jsx)("button",{onClick:()=>o(null),className:"text-slate-400 hover:text-slate-600 text-2xl font-bold flex-shrink-0",children:"\xd7"})]})}),(0,Pt.jsxs)("div",{className:"p-4 sm:p-6 overflow-y-auto flex-1",children:[(0,Pt.jsx)("div",{className:"bg-amber-50 border-l-4 border-amber-500 p-3 sm:p-4 rounded",children:(0,Pt.jsx)("p",{className:"text-xs sm:text-sm text-slate-700 leading-relaxed",children:a.contention})}),(0,Pt.jsx)("div",{className:"mt-4 text-xs text-slate-500 italic",children:"This represents ongoing scholarly and theological debate."})]})]})}),l&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 overflow-y-auto",onClick:()=>c(!1),children:(0,Pt.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,Pt.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full shadow-2xl my-8",onClick:e=>e.stopPropagation(),children:[(0,Pt.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-amber-600 to-amber-700 text-white p-6 flex justify-between items-center z-10 rounded-t-2xl",children:[(0,Pt.jsx)("h3",{className:"text-2xl font-serif",children:"The Apostolic Foundation (33-313 AD)"}),(0,Pt.jsx)("button",{onClick:()=>c(!1),className:"text-white hover:text-amber-200 transition-colors text-3xl font-bold",children:"\xd7"})]}),(0,Pt.jsxs)("div",{className:"p-6 max-h-[70vh] overflow-y-auto space-y-6",children:[(0,Pt.jsx)("p",{className:"text-slate-700 leading-relaxed",children:"Christianity emerged from an apocalyptic Jewish messianic sect following Jesus's crucifixion around 33 CE. The Jerusalem church under James the Just, Peter, and John initially maintained Jewish observances while believing Jesus's resurrection signaled imminent end times."}),(0,Pt.jsxs)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded",children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-2",children:"Paul's Transformation"}),(0,Pt.jsxs)("p",{className:"text-slate-700 text-sm leading-relaxed",children:[(0,Pt.jsx)("strong",{children:"Paul of Tarsus fundamentally transformed this movement by opening it to Gentiles."})," The Council of Jerusalem (c. 50 CE) determined that non-Jewish converts need not follow Mosaic law\u2014a decision that enabled Christianity to transcend its ethnic origins and become a universal religion."]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:"Apostolic Succession"}),(0,Pt.jsx)("p",{className:"text-slate-700 text-sm leading-relaxed mb-3",children:"By the second century, a three-fold ministry emerged: bishops (episkopos), presbyters, and deacons. The Apostolic Fathers\u2014Clement of Rome, Ignatius of Antioch, Polycarp\u2014established the doctrine of apostolic succession to ensure legitimate authority."}),(0,Pt.jsx)("p",{className:"text-slate-700 text-sm italic",children:'Ignatius of Antioch advocated that "all are to respect the deacons as Jesus Christ and the bishop as a copy of the Father."'})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:"Seven Ecumenical Councils"}),(0,Pt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Pt.jsxs)("div",{className:"bg-slate-50 p-3 rounded",children:[(0,Pt.jsx)("strong",{children:"Nicaea (325):"}),' Condemned Arianism, affirmed Christ as "homoousios" (same substance) with the Father']}),(0,Pt.jsxs)("div",{className:"bg-slate-50 p-3 rounded",children:[(0,Pt.jsx)("strong",{children:"Constantinople (381):"})," Affirmed the Holy Spirit's divinity"]}),(0,Pt.jsxs)("div",{className:"bg-slate-50 p-3 rounded",children:[(0,Pt.jsx)("strong",{children:"Ephesus (431):"})," Proclaimed Mary as Theotokos (God-bearer)"]}),(0,Pt.jsxs)("div",{className:"bg-slate-50 p-3 rounded",children:[(0,Pt.jsx)("strong",{children:"Chalcedon (451):"})," Defined Christ as having two natures\u2014fully divine and fully human"]})]})]}),(0,Pt.jsxs)("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:"How Traditions Define Apostolic Continuity"}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsxs)("div",{className:"border-l-4 border-amber-600 pl-3",children:[(0,Pt.jsx)("strong",{className:"text-amber-900",children:"Catholic:"}),(0,Pt.jsx)("p",{className:"text-slate-700 text-sm mt-1",children:"Institutional succession through papal primacy and unbroken chain of bishops from Peter"})]}),(0,Pt.jsxs)("div",{className:"border-l-4 border-purple-600 pl-3",children:[(0,Pt.jsx)("strong",{className:"text-purple-900",children:"Orthodox:"}),(0,Pt.jsx)("p",{className:"text-slate-700 text-sm mt-1",children:"Liturgical and conciliar continuity, preserving ancient worship unchanged"})]}),(0,Pt.jsxs)("div",{className:"border-l-4 border-blue-600 pl-3",children:[(0,Pt.jsx)("strong",{className:"text-blue-900",children:"Protestant:"}),(0,Pt.jsx)("p",{className:"text-slate-700 text-sm mt-1",children:"Doctrinal continuity\u2014recovering authentic biblical teaching obscured by medieval accretions"})]})]})]})]})]})})}),u&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 overflow-y-auto",onClick:()=>d(!1),children:(0,Pt.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,Pt.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full shadow-2xl my-8",onClick:e=>e.stopPropagation(),children:[(0,Pt.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-red-600 to-red-700 text-white p-6 flex justify-between items-center z-10 rounded-t-2xl",children:[(0,Pt.jsx)("h3",{className:"text-2xl font-serif",children:"The Great Schism of 1054"}),(0,Pt.jsx)("button",{onClick:()=>d(!1),className:"text-white hover:text-red-200 transition-colors text-3xl font-bold",children:"\xd7"})]}),(0,Pt.jsxs)("div",{className:"p-6 max-h-[70vh] overflow-y-auto space-y-6",children:[(0,Pt.jsx)("p",{className:"text-slate-700 leading-relaxed",children:"Political, linguistic, and theological tensions accumulated for centuries before the formal rupture. The division of the Roman Empire in 395 created divergent contexts: Byzantine caesaropapism versus Western papal independence."}),(0,Pt.jsxs)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:[(0,Pt.jsx)("h4",{className:"font-bold text-red-900 mb-2",children:"The Events of July 1054"}),(0,Pt.jsx)("p",{className:"text-slate-700 text-sm leading-relaxed",children:"The schism was almost accidental. Pope Leo IX died April 19, 1054 during negotiations, technically voiding his legates' authority. Nevertheless, Cardinal Humbert placed a bull of excommunication on Hagia Sophia's altar July 16, 1054. Patriarch Michael Cerularius responded by excommunicating Humbert and the legates\u2014not the pope or entire Western Church. Contemporary sources suggest ordinary Christians remained largely unaware; the schism only gradually hardened."})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:"The Filioque Controversy"}),(0,Pt.jsx)("p",{className:"text-slate-700 text-sm leading-relaxed",children:'The Western Church added "and the Son" (filioque) to the Nicene Creed\u2014first in Spain (589), officially adopted in Rome (1014)\u2014teaching that the Holy Spirit proceeds from both Father and Son. The East condemned this as unauthorized alteration of conciliar decree and theological error.'})]}),(0,Pt.jsxs)("div",{className:"bg-slate-100 rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-2",children:"The Fourth Crusade (1204): Point of No Return"}),(0,Pt.jsxs)("p",{className:"text-slate-700 text-sm leading-relaxed",children:[(0,Pt.jsx)("strong",{children:"The Fourth Crusade's sack of Constantinople in 1204 made reconciliation impossible."})," Crusaders brutally pillaged the city for three days, destroying churches, stealing relics, and establishing a Latin Empire (1204-1261). Byzantine historian Nicetas Choniates contrasted Saladin's mercy in Jerusalem with Crusaders' brutality toward fellow Christians. The Orthodox still view this as the West's ultimate betrayal."]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:"Competing Perspectives"}),(0,Pt.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Pt.jsxs)("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200",children:[(0,Pt.jsx)("h5",{className:"font-bold text-amber-900 mb-2",children:"Catholic View"}),(0,Pt.jsxs)("ul",{className:"text-sm text-slate-700 space-y-1",children:[(0,Pt.jsx)("li",{children:"\u2022 Papal primacy divinely instituted (Matthew 16:18)"}),(0,Pt.jsx)("li",{children:"\u2022 Filioque was legitimate theological clarification"}),(0,Pt.jsx)("li",{children:"\u2022 Rome maintained fullness of apostolic faith"}),(0,Pt.jsx)("li",{children:"\u2022 East rejected legitimate development of doctrine"})]})]}),(0,Pt.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[(0,Pt.jsx)("h5",{className:"font-bold text-purple-900 mb-2",children:"Orthodox View"}),(0,Pt.jsxs)("ul",{className:"text-sm text-slate-700 space-y-1",children:[(0,Pt.jsx)("li",{children:"\u2022 Rome elevated Pope above ecumenical councils"}),(0,Pt.jsx)("li",{children:"\u2022 Filioque added without conciliar approval"}),(0,Pt.jsx)("li",{children:"\u2022 Unilateral Western change to ecumenical statement"}),(0,Pt.jsx)("li",{children:"\u2022 Rome gradually departed from conciliar governance"})]})]})]})]}),(0,Pt.jsx)("p",{className:"text-sm text-slate-500 italic",children:"The mutual excommunications were lifted in 1965, but fundamental ecclesiological disagreements remain."})]})]})})}),h&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 overflow-y-auto",onClick:()=>m(!1),children:(0,Pt.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,Pt.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full shadow-2xl my-8",onClick:e=>e.stopPropagation(),children:[(0,Pt.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-orange-600 to-orange-700 text-white p-6 flex justify-between items-center z-10 rounded-t-2xl",children:[(0,Pt.jsx)("h3",{className:"text-2xl font-serif",children:"The Protestant Reformation (1517)"}),(0,Pt.jsx)("button",{onClick:()=>m(!1),className:"text-white hover:text-orange-200 transition-colors text-3xl font-bold",children:"\xd7"})]}),(0,Pt.jsxs)("div",{className:"p-6 max-h-[70vh] overflow-y-auto space-y-6",children:[(0,Pt.jsxs)("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 rounded",children:[(0,Pt.jsx)("h4",{className:"font-bold text-orange-900 mb-2",children:"October 31, 1517"}),(0,Pt.jsx)("p",{className:"text-slate-700 text-sm leading-relaxed",children:"Martin Luther posted his 95 Theses at Wittenberg Castle Church, initially intending academic debate about indulgences. The printing press enabled rapid dissemination across Europe. Excommunicated by Pope Leo X and declared outlaw by Emperor Charles V at the Diet of Worms (1521), Luther developed comprehensive theological reformation."})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:"Revolutionary Conditions by 1517"}),(0,Pt.jsxs)("div",{className:"bg-slate-100 rounded-lg p-4 space-y-2 text-sm",children:[(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"Simony:"})," Buying and selling church offices was rampant"]}),(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"Clerical corruption:"})," Concubinage, pluralism (holding multiple offices), absenteeism"]}),(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"Indulgence sales:"}),' Johann Tetzel famously preached "When a coin in the coffer rings, a soul from purgatory springs"']}),(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"Papal excess:"})," Renaissance popes like Alexander VI (Rodrigo Borgia, 1492-1503) openly acknowledged illegitimate children"]}),(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"Church wealth:"})," The church owned approximately one-third of European land"]})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:"The Five Solas"}),(0,Pt.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,Pt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[(0,Pt.jsx)("strong",{className:"text-blue-900",children:"Sola Scriptura"}),(0,Pt.jsx)("p",{className:"text-sm text-slate-700 mt-1",children:"Scripture alone as authority"})]}),(0,Pt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[(0,Pt.jsx)("strong",{className:"text-blue-900",children:"Sola Fide"}),(0,Pt.jsx)("p",{className:"text-sm text-slate-700 mt-1",children:"Justification by faith alone"})]}),(0,Pt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[(0,Pt.jsx)("strong",{className:"text-blue-900",children:"Sola Gratia"}),(0,Pt.jsx)("p",{className:"text-sm text-slate-700 mt-1",children:"Salvation by grace alone"})]}),(0,Pt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[(0,Pt.jsx)("strong",{className:"text-blue-900",children:"Solus Christus"}),(0,Pt.jsx)("p",{className:"text-sm text-slate-700 mt-1",children:"Christ alone as mediator"})]}),(0,Pt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200 md:col-span-2",children:[(0,Pt.jsx)("strong",{className:"text-blue-900",children:"Soli Deo Gloria"}),(0,Pt.jsx)("p",{className:"text-sm text-slate-700 mt-1",children:"Glory to God alone"})]})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:"The Catholic Counter-Reformation"}),(0,Pt.jsx)("p",{className:"text-slate-700 text-sm leading-relaxed",children:"The Council of Trent (1545-1563) systematically responded to Protestant challenges: affirming justification by faith AND works, Scripture AND tradition as authoritative, seven sacraments, transubstantiation, purgatory, and veneration of saints. The Jesuits, founded by Ignatius of Loyola in 1540, became Catholicism's shock troops\u2014establishing schools, conducting global missions, and taking special vows of obedience to the pope."})]}),(0,Pt.jsxs)("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-300",children:[(0,Pt.jsx)("p",{className:"text-slate-700 text-sm font-medium mb-2",children:"Was the Reformation..."}),(0,Pt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{className:"text-green-700",children:"Protestants:"})," A necessary recovery of biblical truth, rescuing the gospel from medieval corruption"]}),(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{className:"text-amber-700",children:"Catholics:"})," A tragic fracturing of Christian unity over misunderstandings and overreactions to local abuses"]})]})]})]})]})})}),p&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 overflow-y-auto",onClick:()=>f(!1),children:(0,Pt.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,Pt.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full shadow-2xl my-8",onClick:e=>e.stopPropagation(),children:[(0,Pt.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 flex justify-between items-center z-10 rounded-t-2xl",children:[(0,Pt.jsx)("h3",{className:"text-2xl font-serif",children:"Revival & Restoration (1600s-1800s)"}),(0,Pt.jsx)("button",{onClick:()=>f(!1),className:"text-white hover:text-blue-200 transition-colors text-3xl font-bold",children:"\xd7"})]}),(0,Pt.jsxs)("div",{className:"p-6 max-h-[70vh] overflow-y-auto space-y-6",children:[(0,Pt.jsx)("p",{className:"text-slate-700 leading-relaxed",children:"After the devastating Thirty Years' War (1618-1648)\u2014which killed 20-40% of the German population\u2014new movements sought spiritual renewal and practical Christianity beyond doctrinal warfare."}),(0,Pt.jsxs)("div",{className:"bg-cyan-50 border-l-4 border-cyan-500 p-4 rounded",children:[(0,Pt.jsx)("h4",{className:"font-bold text-cyan-900 mb-2",children:"Baptist Movement (1609)"}),(0,Pt.jsx)("p",{className:"text-slate-700 text-sm mb-3 leading-relaxed",children:"Baptists emerged with two streams: General Baptists (Arminian, 1609) teaching Christ died for all, and Particular Baptists (Calvinist, 1630s-1640s) teaching Christ died for the elect only. Both emphasized believer's baptism by immersion, soul competency, and separation of church and state."}),(0,Pt.jsxs)("p",{className:"text-slate-700 text-sm",children:[(0,Pt.jsx)("strong",{children:"Roger Williams"})," founded the first American Baptist church in Rhode Island (1638), championing religious liberty. The Southern Baptist Convention formed in 1845 over slavery\u2014a split that largely remains today."]})]}),(0,Pt.jsxs)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:[(0,Pt.jsx)("h4",{className:"font-bold text-red-900 mb-2",children:"Methodist Revival (1738)"}),(0,Pt.jsxs)("p",{className:"text-slate-700 text-sm mb-3 leading-relaxed",children:['After John Wesley\'s Aldersgate experience (1738) where his heart was "strangely warmed," he began open-air preaching and developed Arminian theology emphasizing universal grace, free will, and ',(0,Pt.jsx)("strong",{children:"entire sanctification"}),"\u2014the belief that believers can be perfected in love in this life."]}),(0,Pt.jsx)("p",{className:"text-slate-700 text-sm",children:"Methodism became America's largest denomination by the 1820s through circuit riders, camp meetings, and strong emphasis on social reform (temperance, abolition, poverty relief). Charles Wesley wrote over 6,000 hymns that shaped Protestant worship."})]}),(0,Pt.jsxs)("div",{className:"bg-slate-100 rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:"The Slavery Schisms (1840s)"}),(0,Pt.jsx)("p",{className:"text-slate-700 text-sm mb-2",children:"American denominations split over slavery in the 1840s-1860s, creating divisions that largely remain:"}),(0,Pt.jsxs)("ul",{className:"text-sm text-slate-700 space-y-2",children:[(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("strong",{children:"Methodist Episcopal Church:"})," Divided in 1844 over Bishop James O. Andrew owning enslaved people"]}),(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("strong",{children:"Southern Baptist Convention:"})," Formed in 1845 after splitting from northern Baptists over missionary appointments"]}),(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("strong",{children:"Presbyterian Church:"})," Also split in 1861"]})]}),(0,Pt.jsx)("p",{className:"text-slate-700 text-sm mt-3 italic",children:"These splits revealed deep tensions about Scripture, ethics, and cultural accommodation that remain relevant for contemporary debates."})]})]})]})})}),g&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 overflow-y-auto",onClick:()=>y(!1),children:(0,Pt.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,Pt.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full shadow-2xl my-8",onClick:e=>e.stopPropagation(),children:[(0,Pt.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-purple-700 text-white p-6 flex justify-between items-center z-10 rounded-t-2xl",children:[(0,Pt.jsx)("h3",{className:"text-2xl font-serif",children:"Global Christianity & Modern Movements"}),(0,Pt.jsx)("button",{onClick:()=>y(!1),className:"text-white hover:text-purple-200 transition-colors text-3xl font-bold",children:"\xd7"})]}),(0,Pt.jsxs)("div",{className:"p-6 max-h-[70vh] overflow-y-auto space-y-6",children:[(0,Pt.jsxs)("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 rounded",children:[(0,Pt.jsx)("h4",{className:"font-bold text-orange-900 mb-2",children:"The Pentecostal Explosion (1906)"}),(0,Pt.jsx)("p",{className:"text-slate-700 text-sm mb-3 leading-relaxed",children:"The Azusa Street Revival (1906-1909) in Los Angeles, led by African-American preacher William J. Seymour, featured interracial worship, speaking in tongues as evidence of Holy Spirit baptism, and continuous services running nearly 24/7 for three years."}),(0,Pt.jsx)("p",{className:"text-slate-700 text-sm font-bold",children:"By 1907, Pentecostalism had spread to 50+ nations across six continents\u2014the fastest missionary expansion in Christian history. By 2020: 500+ million Pentecostal and Charismatic believers worldwide."})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:"The Geographic Revolution"}),(0,Pt.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Pt.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[(0,Pt.jsx)("h5",{className:"font-bold text-green-900 mb-2",children:"Africa's Transformation"}),(0,Pt.jsxs)("p",{className:"text-sm text-slate-700 mb-2",children:["From less than 10 million Christians (9% of population) in 1900 to ",(0,Pt.jsx)("strong",{children:"697 million (62%)"})," by 2020. The DRC shifted from 1% Christian (1900) to 95% (2020)."]}),(0,Pt.jsx)("p",{className:"text-sm text-slate-700 font-medium",children:"By 2050, Africa projected to contain 38% of global Christians\u20141.25 billion people."})]}),(0,Pt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[(0,Pt.jsx)("h5",{className:"font-bold text-blue-900 mb-2",children:"Europe's Decline"}),(0,Pt.jsx)("p",{className:"text-sm text-slate-700 mb-2",children:"From 95% Christian (1900) to 76% (2020), declining at -0.54% annually. Most affiliated Europeans are non-practicing."}),(0,Pt.jsx)("p",{className:"text-sm text-slate-700",children:"North America similarly declined from 97% Christian (1900) to 72% (2020)."})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-slate-100 rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-2",children:"Non-Denominational Explosion"}),(0,Pt.jsx)("p",{className:"text-slate-700 text-sm mb-3 leading-relaxed",children:"Non-denominational churches exploded from less than 3% of American adults (1972) to 13% of Protestants by 2014, making them the third-largest Christian group after Catholics and Southern Baptists."}),(0,Pt.jsx)("p",{className:"text-slate-700 text-sm",children:"American megachurches (2,000+ weekly attendance) grew from approximately 350 (1990) to 1,800 (2020), predominantly suburban, evangelical, and nondenominational."})]}),(0,Pt.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[(0,Pt.jsx)("h4",{className:"font-bold text-purple-900 mb-2",children:"21st Century Realignments"}),(0,Pt.jsx)("p",{className:"text-slate-700 text-sm mb-3",children:"LGBTQ+ inclusion has driven massive denominational realignment, eerily paralleling 19th-century slavery splits:"}),(0,Pt.jsxs)("ul",{className:"text-sm text-slate-700 space-y-2",children:[(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("strong",{children:"United Methodist Church:"})," 6,000-7,000 churches (20-25%) disaffiliated 2020-2024, forming Global Methodist Church (2022)"]}),(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("strong",{children:"Episcopal Church:"})," Gene Robinson consecrated as first openly gay bishop (2003), leading to Anglican Church in North America (2009)"]}),(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("strong",{children:"Presbyterian Church (USA):"})," ECO: A Covenant Order of Evangelical Presbyterians formed (2012)"]})]})]}),(0,Pt.jsxs)("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-lg p-4 border-2 border-amber-300",children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-2",children:"The Future Trajectory"}),(0,Pt.jsx)("p",{className:"text-slate-700 text-sm leading-relaxed",children:"Christianity will be predominantly African, Asian, and Latin American by mid-century, with radically different cultural expressions than the European Christianity that dominated for 1,500 years. Pentecostal and Charismatic forms will likely continue expanding. The next chapters of Christianity's story will be written in Lagos, Manila, and S\xe3o Paulo rather than Rome, Geneva, or Canterbury."})]})]})]})})}),x&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 overflow-y-auto",onClick:()=>w(!1),children:(0,Pt.jsx)("div",{className:"min-h-screen md:flex md:items-center md:justify-center md:p-4",children:(0,Pt.jsxs)("div",{className:"bg-white md:rounded-2xl max-w-7xl w-full shadow-2xl md:my-8 min-h-screen md:min-h-0",onClick:e=>e.stopPropagation(),children:[(0,Pt.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white p-4 md:p-6 flex justify-between items-center z-10 md:rounded-t-2xl",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h3",{className:"text-xl md:text-2xl font-serif mb-1",children:"Compare Denominations"}),(0,Pt.jsx)("p",{className:"text-xs md:text-sm text-indigo-100",children:"Select 2-3 denominations to compare side-by-side"})]}),(0,Pt.jsx)("button",{onClick:()=>{w(!1),k([])},className:"text-white hover:text-indigo-200 transition-colors text-3xl font-bold",children:"\xd7"})]}),(0,Pt.jsxs)("div",{className:"p-4 md:p-6 md:max-h-[75vh] overflow-y-auto",children:[S.length<3&&(0,Pt.jsxs)("div",{className:"mb-6",children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:0===S.length?"Select denominations to compare:":"Select ".concat(3-S.length," more:")}),(0,Pt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:Object.keys(E).filter(e=>!S.includes(e)).map(e=>(0,Pt.jsxs)("button",{onClick:()=>k([...S,e]),className:"p-3 rounded-lg border-2 bg-white hover:shadow-lg transition-all hover:-translate-y-0.5 text-left",style:{borderColor:E[e].color},children:[(0,Pt.jsx)("div",{className:"font-serif text-sm text-slate-900",children:E[e].name}),(0,Pt.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:E[e].year})]},e))})]}),S.length>=2&&(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,Pt.jsx)("span",{className:"font-bold text-slate-900",children:"Comparing:"}),S.map(e=>(0,Pt.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full border-2",style:{borderColor:E[e].color,backgroundColor:"".concat(E[e].color,"20")},children:[(0,Pt.jsx)("span",{className:"font-medium text-slate-900",children:E[e].name}),(0,Pt.jsx)("button",{onClick:()=>k(S.filter(t=>t!==e)),className:"text-slate-500 hover:text-slate-700 font-bold",children:"\xd7"})]},e)),S.length<3&&(0,Pt.jsx)("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"+ Add another"})]}),(0,Pt.jsxs)("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 rounded-xl p-4 border border-slate-200",children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-4 text-lg",children:"Basic Information"}),(0,Pt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===S.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:S.map(e=>(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-4 border-2",style:{borderColor:E[e].color},children:[(0,Pt.jsx)("h5",{className:"font-bold text-lg mb-2",style:{color:E[e].color},children:E[e].fullName}),(0,Pt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("strong",{children:"Founded:"})," ",E[e].year]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("strong",{children:"Members:"})," ",E[e].members]})]})]},e))})]}),(0,Pt.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-5 border-2 border-green-400 shadow-sm",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Pt.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,Pt.jsx)("span",{className:"text-white text-lg font-bold",children:"\u2713"})}),(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 text-lg",children:"What We Share: Common Christian Beliefs"})]}),(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Pt.jsx)("p",{className:"text-sm text-slate-600 italic mb-4",children:"Despite our differences, all Christians confess these foundational truths together:"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-3",children:[(0,Pt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-semibold text-slate-900",children:"Trinity:"}),(0,Pt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"One God in three persons (Father, Son, Holy Spirit)"})]})]}),(0,Pt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-semibold text-slate-900",children:"Jesus Christ:"}),(0,Pt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Fully God and fully human, born of Virgin Mary"})]})]}),(0,Pt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-semibold text-slate-900",children:"Salvation:"}),(0,Pt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Through Jesus Christ's death and resurrection"})]})]}),(0,Pt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-semibold text-slate-900",children:"Resurrection:"}),(0,Pt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Christ physically rose from the dead"})]})]}),(0,Pt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-semibold text-slate-900",children:"Second Coming:"}),(0,Pt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Christ will return in glory to judge the living and the dead"})]})]}),(0,Pt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-semibold text-slate-900",children:"Scripture:"}),(0,Pt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"The Bible is God's inspired Word"})]})]}),(0,Pt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-semibold text-slate-900",children:"Baptism:"}),(0,Pt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Essential sacrament of Christian initiation"})]})]}),(0,Pt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-semibold text-slate-900",children:"Communion:"}),(0,Pt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Remembering and encountering Christ's sacrifice"})]})]})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-200",children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-4 text-lg",children:"Belief Comparison by Topic"}),(0,Pt.jsx)("p",{className:"text-sm text-slate-600 mb-4 italic",children:"Here's how these traditions understand key aspects of Christian faith:"}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Pt.jsx)("h5",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wide border-b-2 border-blue-200 pb-2",children:"\ud83d\udcd6 Scripture & Authority"}),(0,Pt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===S.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:S.map(e=>{let t="";return t="catholic"===e?"Scripture and Sacred Tradition through Church Magisterium":"orthodox"===e?"Scripture interpreted through Tradition and Seven Ecumenical Councils":"anglican"===e?"Scripture, Tradition, and Reason (three-legged stool)":"methodist"===e?"Scripture primary, supported by Tradition, Reason, Experience (Wesleyan Quadrilateral)":"lutheran"===e||"reformed"===e||"baptist"===e?"Sola Scriptura - Scripture alone as final authority":"pentecostal"===e?"Scripture as inspired, inerrant Word of God":"Scripture-centered (approaches vary)",(0,Pt.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 border-l-4",style:{borderColor:E[e].color},children:[(0,Pt.jsx)("div",{className:"font-semibold text-sm mb-2",style:{color:E[e].color},children:E[e].name}),(0,Pt.jsx)("div",{className:"text-sm text-slate-700",children:t})]},e)})}),(0,Pt.jsx)("div",{className:"mt-3 bg-green-50 border-l-4 border-green-500 rounded p-3",children:(0,Pt.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold",children:"\u2713 Agreement:"})," All affirm the Bible as God's inspired Word; differences lie in the role of tradition and church authority in interpretation"]})})]}),(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Pt.jsx)("h5",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wide border-b-2 border-blue-200 pb-2",children:"\u2728 Salvation & Grace"}),(0,Pt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===S.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:S.map(e=>{let t="";return t="catholic"===e?"Grace through faith and works cooperating; sacraments as channels of grace":"orthodox"===e?"Theosis (becoming one with God) through grace; synergy of divine and human will":"anglican"===e?"Salvation by grace through faith; works as evidence of living faith":"lutheran"===e?"Sola Fide - justification by faith alone through grace alone":"reformed"===e?"Total depravity; unconditional election; salvation entirely by grace (TULIP)":"methodist"===e?"Prevenient grace enables response; salvation by grace through faith (Arminian)":"baptist"===e?"Salvation by grace through faith alone; believer makes conscious decision":"pentecostal"===e?"Salvation by grace through faith; emphasis on personal conversion experience":"Salvation through Christ (various emphases)",(0,Pt.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 border-l-4",style:{borderColor:E[e].color},children:[(0,Pt.jsx)("div",{className:"font-semibold text-sm mb-2",style:{color:E[e].color},children:E[e].name}),(0,Pt.jsx)("div",{className:"text-sm text-slate-700",children:t})]},e)})}),(0,Pt.jsx)("div",{className:"mt-3 bg-green-50 border-l-4 border-green-500 rounded p-3",children:(0,Pt.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold",children:"\u2713 Agreement:"})," All affirm salvation is ultimately by God's grace through Christ, not by human merit alone; differences lie in how faith and works relate"]})})]}),(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Pt.jsx)("h5",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wide border-b-2 border-blue-200 pb-2",children:"\ud83c\udf5e Sacraments/Ordinances"}),(0,Pt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===S.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:S.map(e=>{let t="";return t="catholic"===e?"Seven sacraments; Real Presence (Transubstantiation) in Eucharist":"orthodox"===e?"Seven holy mysteries; Real Presence in Divine Liturgy":"anglican"===e?"Two sacraments ordained by Christ (Baptism, Eucharist) + five sacramental rites":"lutheran"===e?"Two sacraments (Baptism, Communion); Real Presence (Sacramental Union)":"reformed"===e?"Two sacraments as signs and seals; spiritual presence in Communion":"methodist"===e?"Two sacraments as means of grace; open table for Communion":"baptist"===e?"Two ordinances (symbolic): Believer's baptism by immersion, Lord's Supper":"pentecostal"===e?"Two ordinances (symbolic); emphasis on baptism in Holy Spirit with tongues":"Baptism and Communion observed (approaches vary)",(0,Pt.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 border-l-4",style:{borderColor:E[e].color},children:[(0,Pt.jsx)("div",{className:"font-semibold text-sm mb-2",style:{color:E[e].color},children:E[e].name}),(0,Pt.jsx)("div",{className:"text-sm text-slate-700",children:t})]},e)})}),(0,Pt.jsx)("div",{className:"mt-3 bg-green-50 border-l-4 border-green-500 rounded p-3",children:(0,Pt.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold",children:"\u2713 Agreement:"})," All practice Baptism and Communion/Eucharist as central acts commanded by Christ; differences lie in number, nature, and understanding"]})})]}),(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Pt.jsx)("h5",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wide border-b-2 border-blue-200 pb-2",children:"\u26ea Church Governance"}),(0,Pt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===S.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:S.map(e=>{let t="";return t="catholic"===e?"Papal monarchy: Pope as successor of Peter, bishops in apostolic succession":"orthodox"===e?"Conciliar: Patriarchs and bishops in apostolic succession, no single head":"anglican"===e?"Episcopal: Bishops, priests, deacons; autonomous provinces in communion":"lutheran"===e?"Varies: Episcopal (bishops) or congregational structure by region":"reformed"===e?"Presbyterian: Elders govern through councils and presbyteries":"methodist"===e?"Connexional: Bishops provide oversight; connected conferences":"baptist"===e?"Congregational: Each local church is fully autonomous and self-governing":"pentecostal"===e?"Varies widely: From episcopal to congregational structures":"Various structures (local autonomy common)",(0,Pt.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 border-l-4",style:{borderColor:E[e].color},children:[(0,Pt.jsx)("div",{className:"font-semibold text-sm mb-2",style:{color:E[e].color},children:E[e].name}),(0,Pt.jsx)("div",{className:"text-sm text-slate-700",children:t})]},e)})}),(()=>{const e=S.filter(e=>["catholic","orthodox","anglican","methodist"].includes(e)).length>=2,t=S.filter(e=>["baptist","pentecostal","nondenominational"].includes(e)).length>=2;return e?(0,Pt.jsx)("div",{className:"mt-3 bg-green-50 border-l-4 border-green-500 rounded p-3",children:(0,Pt.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold",children:"\u2713 Agreement:"})," Episcopal traditions share belief in apostolic succession through bishops"]})}):t?(0,Pt.jsx)("div",{className:"mt-3 bg-green-50 border-l-4 border-green-500 rounded p-3",children:(0,Pt.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold",children:"\u2713 Agreement:"})," Congregational traditions share emphasis on local church autonomy"]})}):null})()]})]})]}),(0,Pt.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-slate-200",children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-4 text-lg",children:"Geographic Distribution (2025)"}),(0,Pt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===S.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:S.map(e=>(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h5",{className:"font-bold mb-3",style:{color:E[e].color},children:E[e].name}),(0,Pt.jsx)("div",{className:"space-y-2",children:E[e].geographicDistribution.slice(0,4).map((t,n)=>(0,Pt.jsxs)("div",{className:"text-sm",children:[(0,Pt.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,Pt.jsx)("span",{className:"text-slate-700 text-xs",children:t.region}),(0,Pt.jsx)("span",{className:"font-semibold text-xs",children:t.percentage})]}),(0,Pt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,Pt.jsx)("div",{className:"h-1.5 rounded-full",style:{width:t.percentage,backgroundColor:E[e].color}})})]},n))})]},e))})]}),(0,Pt.jsxs)("div",{className:"bg-amber-50 rounded-xl p-4 border border-amber-200",children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-4 text-lg",children:"Points of Debate & Distinctives"}),(0,Pt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===S.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:S.map(e=>(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h5",{className:"font-bold mb-2",style:{color:E[e].color},children:E[e].name}),(0,Pt.jsx)("ul",{className:"space-y-1.5",children:E[e].debates.slice(0,4).map((e,t)=>(0,Pt.jsxs)("li",{className:"flex gap-2 text-sm",children:[(0,Pt.jsx)("div",{className:"w-1 h-1 rounded-full bg-amber-600 mt-1.5 flex-shrink-0"}),(0,Pt.jsx)("span",{className:"text-slate-700",children:e})]},t))})]},e))})]}),(0,Pt.jsxs)("div",{className:"flex justify-center gap-3 pt-4",children:[(0,Pt.jsx)("button",{onClick:()=>k([]),className:"px-6 py-2 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-lg font-medium transition-colors",children:"Clear Selection"}),(0,Pt.jsx)("button",{onClick:()=>{w(!1),k([])},className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:"Done"})]})]}),1===S.length&&(0,Pt.jsxs)("div",{className:"text-center py-12 text-slate-500",children:[(0,Pt.jsx)("p",{className:"mb-2",children:"Select at least one more denomination to begin comparison"}),(0,Pt.jsx)("p",{className:"text-sm",children:"You can compare up to 3 denominations at once"})]}),0===S.length&&(0,Pt.jsxs)("div",{className:"text-center py-12 text-slate-500",children:[(0,Pt.jsx)(_t,{className:"w-16 h-16 mx-auto mb-4 text-slate-300"}),(0,Pt.jsx)("p",{className:"text-lg font-medium mb-2",children:"Compare Denominations Side-by-Side"}),(0,Pt.jsx)("p",{className:"text-sm",children:"Select 2-3 denominations above to see detailed comparisons of their beliefs, governance, and geographic presence"})]})]})]})})}),C&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 overflow-y-auto",onClick:()=>{N(!1),j(null)},children:(0,Pt.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,Pt.jsxs)("div",{className:"bg-white rounded-2xl max-w-6xl w-full shadow-2xl my-8",onClick:e=>e.stopPropagation(),children:[(0,Pt.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-emerald-600 to-teal-600 text-white p-6 flex justify-between items-center z-10 rounded-t-2xl",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h2",{className:"text-2xl font-serif mb-1",children:"Worship Experiences"}),(0,Pt.jsx)("p",{className:"text-sm text-emerald-100",children:"What does Sunday morning look like in each tradition?"})]}),(0,Pt.jsx)("button",{onClick:()=>{N(!1),j(null)},className:"text-white hover:text-emerald-200 transition-colors text-3xl font-bold",children:"\xd7"})]}),(0,Pt.jsxs)("div",{className:"p-6 max-h-[75vh] overflow-y-auto",children:[!T&&(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"text-slate-600 mb-6",children:"Select a denomination to explore what their worship services are like:"}),(0,Pt.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.keys(I).map(e=>(0,Pt.jsxs)("button",{onClick:()=>j(e),className:"p-4 rounded-xl border-2 hover:shadow-lg transition-all hover:-translate-y-1",style:{borderColor:E[e].color},children:[(0,Pt.jsx)("div",{className:"font-serif text-lg mb-1",style:{color:E[e].color},children:E[e].name}),(0,Pt.jsx)("div",{className:"text-sm text-slate-600",children:E[e].members})]},e))})]}),T&&I[T]&&(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("button",{onClick:()=>j(null),className:"mb-4 text-emerald-600 hover:text-emerald-700 flex items-center gap-2 font-medium",children:"\u2190 Back to all denominations"}),(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"border-l-4 pl-4",style:{borderColor:E[T].color},children:[(0,Pt.jsx)("h3",{className:"text-2xl font-serif mb-1",style:{color:E[T].color},children:E[T].name}),(0,Pt.jsx)("p",{className:"text-lg text-slate-700 font-medium",children:I[T].serviceName}),(0,Pt.jsxs)("div",{className:"flex flex-wrap gap-4 mt-2 text-sm text-slate-600",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-semibold",children:"Length:"})," ",I[T].typicalLength]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-semibold",children:"Schedule:"})," ",I[T].schedule]})]})]}),(0,Pt.jsxs)("div",{className:"bg-emerald-50 border-2 border-emerald-300 rounded-xl p-4",children:[(0,Pt.jsxs)("h4",{className:"font-bold text-emerald-900 mb-2 flex items-center gap-2",children:[(0,Pt.jsx)("span",{className:"text-xl",children:"\ud83d\udc4b"})," First Time Visitor Tips"]}),(0,Pt.jsx)("p",{className:"text-sm text-emerald-900",children:I[T].firstTimeVisitor})]}),(0,Pt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,Pt.jsxs)("div",{className:"bg-slate-50 rounded-xl p-4",children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wide border-b pb-2",children:"\ud83d\udccb Service Structure"}),(0,Pt.jsx)("ol",{className:"space-y-2",children:I[T].serviceStructure.map((e,t)=>(0,Pt.jsxs)("li",{className:"flex gap-3 text-sm",children:[(0,Pt.jsxs)("span",{className:"font-bold text-slate-400 flex-shrink-0",children:[t+1,"."]}),(0,Pt.jsx)("span",{className:"text-slate-700",children:e})]},t))})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{className:"bg-slate-50 rounded-xl p-4",children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-2 text-sm uppercase tracking-wide",children:"\ud83c\udfb5 Music Style"}),(0,Pt.jsx)("p",{className:"text-sm text-slate-700",children:I[T].musicStyle})]}),(0,Pt.jsxs)("div",{className:"bg-slate-50 rounded-xl p-4",children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-2 text-sm uppercase tracking-wide",children:"\ud83d\udc54 Dress Expectation"}),(0,Pt.jsx)("p",{className:"text-sm text-slate-700",children:I[T].dressExpectation})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[(0,Pt.jsxs)("h4",{className:"font-bold text-blue-900 mb-2 flex items-center gap-2",children:[(0,Pt.jsx)("span",{className:"text-xl",children:"\ud83c\udf5e"})," Communion / Eucharist"]}),(0,Pt.jsx)("p",{className:"text-sm text-blue-900 mb-2",children:I[T].communionDetails}),(0,Pt.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Pt.jsx)("span",{className:"font-semibold",children:"Participation:"})," ",I[T].participation]})]}),(0,Pt.jsxs)("div",{className:"bg-amber-50 rounded-xl p-4 border border-amber-200",children:[(0,Pt.jsxs)("h4",{className:"font-bold text-amber-900 mb-3 flex items-center gap-2",children:[(0,Pt.jsx)("span",{className:"text-xl",children:"\u2728"})," Unique Elements"]}),(0,Pt.jsx)("ul",{className:"space-y-2",children:I[T].uniqueElements.map((e,t)=>(0,Pt.jsxs)("li",{className:"flex gap-2 text-sm",children:[(0,Pt.jsx)("span",{className:"text-amber-600 flex-shrink-0",children:"\u2022"}),(0,Pt.jsx)("span",{className:"text-amber-900",children:e})]},t))})]})]})]})]})]})})})]})]})]})},Dt=Nt("scroll",[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]),Lt=Nt("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ot=Nt("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),Mt=Nt("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Bt=Nt("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),Ft=Nt("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),zt=Nt("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),qt=Nt("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Wt=Nt("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Vt=Nt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ht=Nt("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ut=e=>{if(!e)return e;return e.split(/(\*\*[^*]+\*\*)/g).map((e,t)=>e.startsWith("**")&&e.endsWith("**")?(0,Pt.jsx)("strong",{children:e.slice(2,-2)},t):e)},Gt=e=>{let{card:t,cardIndex:n,isAcknowledged:i,onAcknowledge:r}=e;return(0,Pt.jsxs)("div",{className:"p-10",children:[(0,Pt.jsx)("h2",{className:"text-4xl font-black text-gray-900 mb-3",children:t.title}),t.subtitle&&(0,Pt.jsx)("p",{className:"text-xl text-purple-600 font-semibold mb-8",children:Ut(t.subtitle)}),(0,Pt.jsx)("div",{className:"prose prose-lg max-w-none",children:t.content.map((e,t)=>(0,Pt.jsx)("p",{className:"text-gray-700 text-lg leading-relaxed mb-5",children:Ut(e)},t))}),t.highlight&&(0,Pt.jsx)("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-purple-50 border-l-4 border-purple-500 p-5 rounded-xl",children:(0,Pt.jsx)("p",{className:"text-purple-900 font-semibold text-lg",children:Ut(t.highlight)})}),t.requireAcknowledgment&&!i&&(0,Pt.jsx)("div",{className:"mt-8 text-center",children:(0,Pt.jsx)("button",{onClick:r,className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl font-bold hover:from-blue-600 hover:to-purple-700 transition shadow-lg",children:"Got it! \u2713"})})]})},Jt=e=>{let{card:t,cardIndex:n,answer:r,showFeedback:s,onAnswer:a}=e;const[o,l]=(0,i.useState)(r);return(0,Pt.jsxs)("div",{className:"p-10",children:[(0,Pt.jsx)("h3",{className:"text-3xl font-black text-gray-900 mb-2",children:"Knowledge Check"}),(0,Pt.jsx)("p",{className:"text-gray-600 text-lg mb-8",children:"Test your understanding of what you just learned!"}),(0,Pt.jsxs)("div",{className:"mb-8",children:[(0,Pt.jsx)("p",{className:"text-xl font-bold text-gray-800 mb-6",children:Ut(t.question)}),(0,Pt.jsx)("div",{className:"space-y-3",children:t.options.map((e,i)=>{const r=o===i,c=i===t.correctAnswer;let u="w-full text-left p-5 rounded-xl border-2 transition font-medium text-gray-800 shadow-sm ";return u+=s?c?"border-green-500 bg-green-50 text-green-900":r&&!c?"border-red-500 bg-red-50 text-red-900":"border-gray-200 bg-gray-50":r?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 hover:border-purple-300 hover:bg-purple-50 hover:shadow-md",(0,Pt.jsxs)("button",{onClick:()=>!s&&(e=>{l(e);const i=e===t.correctAnswer;a(n,e,i)})(i),disabled:s,className:u,children:[(0,Pt.jsxs)("span",{className:"font-bold mr-3 text-gray-600",children:[String.fromCharCode(65+i),"."]}),Ut(e)]},i)})})]}),s&&(0,Pt.jsxs)("div",{className:"p-5 rounded-xl border-l-4 ".concat(o===t.correctAnswer?"bg-green-50 border-green-500":"bg-blue-50 border-blue-500"),children:[(0,Pt.jsx)("p",{className:"font-bold text-lg mb-2",children:o===t.correctAnswer?"\u2713 Correct! +10 XP":"Explanation:"}),(0,Pt.jsx)("p",{className:"text-gray-800 text-lg leading-relaxed",children:Ut(t.explanation)})]})]})},Kt=e=>{let{card:t,cardIndex:n,onComplete:r}=e;const[s,o]=(0,i.useState)({}),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)(!1),[h,m]=(0,i.useState)(null),p=(0,i.useMemo)(()=>{const e=t.pairs.map(e=>e.definition);for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e},[t.pairs]);return(0,Pt.jsxs)("div",{className:"p-10",children:[(0,Pt.jsx)("h3",{className:"text-3xl font-black text-gray-900 mb-2",children:"Match the Terms"}),(0,Pt.jsx)("p",{className:"text-gray-600 text-lg mb-8",children:"Click a term, then click its matching definition!"}),(0,Pt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsx)("h4",{className:"font-bold text-gray-800 text-lg mb-4",children:"Terms"}),t.pairs.map((e,t)=>{const n=h&&h.term===e.term;return(0,Pt.jsx)("button",{onClick:()=>{return t=e.term,void(u||s[t]||c(t));var t},disabled:s[e.term]||u,className:"w-full text-left p-5 rounded-xl border-2 transition font-medium shadow-sm ".concat(n?"border-red-500 bg-red-50 text-red-900 shake":l===e.term?"border-purple-500 bg-purple-50 shadow-md":s[e.term]?"border-green-500 bg-green-50 text-green-900":"border-gray-200 hover:border-purple-300 hover:bg-purple-50 hover:shadow-md"),children:(0,Pt.jsx)("span",{className:"font-semibold",children:e.term})},t)})]}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsx)("h4",{className:"font-bold text-gray-800 text-lg mb-4",children:"Definitions"}),p.map((e,n)=>{const i=h&&h.definition===e,p=Object.values(s).includes(e);return(0,Pt.jsx)("button",{onClick:()=>(e=>{if(u||!l||Object.values(s).includes(e))return;const n=t.pairs.find(e=>e.term===l);if(n&&n.definition===e){const n=(0,a.A)((0,a.A)({},s),{},{[l]:e});o(n),c(null),m(null),Object.keys(n).length===t.pairs.length&&(d(!0),r())}else m({term:l,definition:e}),setTimeout(()=>{m(null),c(null)},1500)})(e),disabled:p||u,className:"w-full text-left p-5 rounded-xl border-2 transition font-medium shadow-sm ".concat(i?"border-red-500 bg-red-50 text-red-900 shake":p?"border-green-500 bg-green-50 text-green-900":"border-gray-200 hover:border-blue-300 hover:bg-blue-50 hover:shadow-md"),children:(0,Pt.jsx)("span",{className:"text-base",children:e})},n)})]})]}),h&&(0,Pt.jsx)("div",{className:"mt-6 p-4 bg-red-50 border-l-4 border-red-500 rounded-xl",children:(0,Pt.jsx)("p",{className:"text-red-800 font-bold",children:"\u274c Not quite! Try again."})}),u&&(0,Pt.jsx)("div",{className:"mt-8 p-5 bg-green-50 border-l-4 border-green-500 rounded-xl",children:(0,Pt.jsx)("p",{className:"text-green-800 font-bold text-lg",children:"\ud83c\udf89 Perfect! All matched correctly! +10 XP"})})]})},Qt=e=>{let{card:t,cardIndex:n,answer:r,showFeedback:s,onAnswer:a}=e;const[o,l]=(0,i.useState)(r||"");return(0,Pt.jsxs)("div",{className:"p-10",children:[(0,Pt.jsx)("h3",{className:"text-3xl font-black text-gray-900 mb-2",children:"Fill in the Blank"}),(0,Pt.jsx)("p",{className:"text-gray-600 text-lg mb-8",children:"Complete the sentence with the correct term."}),(0,Pt.jsxs)("div",{className:"mb-8",children:[(0,Pt.jsx)("p",{className:"text-xl font-semibold text-gray-800 mb-6",children:Ut(t.prompt)}),(0,Pt.jsx)("input",{type:"text",value:o,onChange:e=>l(e.target.value),disabled:s,placeholder:"Type your answer...",className:"w-full p-5 text-lg border-2 border-gray-300 rounded-xl focus:border-purple-500 focus:outline-none disabled:bg-gray-100 shadow-sm transition"}),!s&&(0,Pt.jsx)("button",{onClick:()=>{const e=o.trim().toLowerCase()===t.correctAnswer.toLowerCase();a(n,o,e)},disabled:!o.trim(),className:"mt-6 px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl font-bold hover:from-blue-600 hover:to-purple-700 transition shadow-lg hover:shadow-xl disabled:from-gray-300 disabled:to-gray-300 disabled:shadow-none",children:"Check Answer"})]}),s&&(0,Pt.jsxs)("div",{className:"p-5 rounded-xl border-l-4 ".concat(o.trim().toLowerCase()===t.correctAnswer.toLowerCase()?"bg-green-50 border-green-500":"bg-blue-50 border-blue-500"),children:[(0,Pt.jsx)("p",{className:"font-bold text-lg mb-2",children:o.trim().toLowerCase()===t.correctAnswer.toLowerCase()?"\u2713 Correct! +10 XP":"The answer is: ".concat(t.correctAnswer)}),(0,Pt.jsx)("p",{className:"text-gray-800 text-lg leading-relaxed",children:Ut(t.explanation)})]})]})},Xt=e=>{let{card:t}=e;const[n,r]=(0,i.useState)(""),[s,a]=(0,i.useState)(!1);return(0,Pt.jsxs)("div",{className:"p-10",children:[(0,Pt.jsx)("h3",{className:"text-3xl font-black text-gray-900 mb-2",children:"\ud83d\udcad Pause & Reflect"}),(0,Pt.jsx)("p",{className:"text-gray-600 text-lg mb-8",children:"Take a moment to think about what you've learned."}),(0,Pt.jsxs)("div",{className:"mb-8",children:[(0,Pt.jsx)("p",{className:"text-xl font-bold text-gray-800 mb-6",children:Ut(t.question)}),(0,Pt.jsxs)("div",{className:"bg-purple-50 border-2 border-purple-200 rounded-xl p-6 mb-6",children:[(0,Pt.jsxs)("p",{className:"text-purple-900 text-sm mb-4",children:[(0,Pt.jsx)("span",{className:"font-bold",children:"\ud83d\udca1 This is just for you\u2014"})," there's no right or wrong answer. Reflecting helps you remember and apply what you've learned."]}),(0,Pt.jsx)("textarea",{value:n,onChange:e=>r(e.target.value),placeholder:"Share your thoughts here (optional)...",className:"w-full p-4 border-2 border-purple-300 rounded-lg focus:border-purple-500 focus:outline-none resize-none",rows:4})]}),t.prompts&&(0,Pt.jsxs)("div",{className:"bg-blue-50 border-l-4 border-blue-500 rounded-xl p-5 mb-6",children:[(0,Pt.jsx)("p",{className:"text-blue-900 font-bold mb-3",children:"\ud83d\udcac Think about:"}),(0,Pt.jsx)("ul",{className:"space-y-2",children:t.prompts.map((e,t)=>(0,Pt.jsxs)("li",{className:"text-blue-800 text-base",children:["\u2022 ",e]},t))})]}),!s&&(0,Pt.jsx)("button",{onClick:()=>a(!0),className:"w-full px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl font-bold hover:from-blue-600 hover:to-purple-700 transition shadow-lg",children:"Continue \u2192"})]})]})},Yt=e=>{let{card:t,xp:n,onComplete:r}=e;const[s,a]=(0,i.useState)(!1);return(0,Pt.jsx)("div",{className:"p-10 text-center",children:s?(0,Pt.jsxs)("div",{className:"animate-bounce py-10",children:[(0,Pt.jsx)(Mt,{className:"w-36 h-36 text-green-500 mx-auto mb-6"}),(0,Pt.jsx)("h2",{className:"text-5xl font-black text-green-600",children:"Lesson Complete!"})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"mb-8",children:[(0,Pt.jsx)(Ot,{className:"w-28 h-28 text-yellow-500 mx-auto mb-6"}),(0,Pt.jsx)("h2",{className:"text-4xl font-black text-gray-900 mb-4",children:t.title}),(0,Pt.jsx)("p",{className:"text-xl text-gray-600 leading-relaxed",children:t.message})]}),t.keyTakeaways&&(0,Pt.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-8 mb-8 border-2 border-blue-200 shadow-lg text-left max-w-2xl mx-auto",children:[(0,Pt.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-4 text-center",children:"\ud83c\udfaf Key Takeaways"}),(0,Pt.jsx)("ul",{className:"space-y-3",children:t.keyTakeaways.map((e,t)=>(0,Pt.jsxs)("li",{className:"flex items-start gap-3",children:[(0,Pt.jsx)("span",{className:"text-blue-600 font-bold text-xl mt-0.5",children:"\u2022"}),(0,Pt.jsx)("span",{className:"text-gray-700 text-lg leading-relaxed",children:e})]},t))})]}),(0,Pt.jsxs)("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 rounded-2xl p-8 mb-8 border-2 border-yellow-200 shadow-lg",children:[(0,Pt.jsx)("p",{className:"text-2xl font-bold text-gray-800 mb-3",children:"Total XP Earned"}),(0,Pt.jsx)("p",{className:"text-6xl font-black text-yellow-600",children:n})]}),t.badge&&(0,Pt.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 rounded-2xl p-8 mb-8 border-2 border-purple-200 shadow-lg",children:[(0,Pt.jsx)("p",{className:"text-xl font-bold text-gray-800 mb-3",children:"Badge Unlocked!"}),(0,Pt.jsx)("p",{className:"text-5xl mb-3",children:t.badge.icon}),(0,Pt.jsx)("p",{className:"text-2xl font-black text-purple-700",children:t.badge.name}),(0,Pt.jsx)("p",{className:"text-base text-gray-600 mt-2",children:t.badge.description})]}),(0,Pt.jsx)("button",{onClick:()=>{a(!0),r()},className:"px-10 py-5 bg-gradient-to-r from-blue-500 to-purple-600 text-white text-xl rounded-2xl font-black hover:from-blue-600 hover:to-purple-700 transition shadow-xl hover:shadow-2xl",children:"Complete Lesson! \ud83c\udf89"})]})})},$t=e=>{let{lessonData:t,onComplete:n,onExit:r}=e;const[s,o]=(0,i.useState)(0),[l,c]=(0,i.useState)(0),[u,d]=(0,i.useState)({}),[h,m]=(0,i.useState)({}),[p,f]=(0,i.useState)(new Set),[g,y]=(0,i.useState)(new Set),b=t.cards.length,v=(s+1)/b*100;(0,i.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[s]);const x=(e,t,n)=>{d(n=>(0,a.A)((0,a.A)({},n),{},{[e]:t})),m(t=>(0,a.A)((0,a.A)({},t),{},{[e]:!0})),n&&!p.has(e)&&c(e=>e+10)},w=t.cards[s];return(0,Pt.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-20",children:[(0,Pt.jsx)("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10 shadow-sm",children:(0,Pt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Pt.jsxs)("button",{onClick:r,className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 transition font-medium",children:[(0,Pt.jsx)(Vt,{className:"w-5 h-5"}),(0,Pt.jsx)("span",{className:"hidden sm:inline",children:"Exit"})]}),(0,Pt.jsx)("div",{className:"flex items-center gap-3",children:(0,Pt.jsxs)("div",{className:"flex items-center gap-2 bg-gradient-to-r from-yellow-400 to-yellow-500 px-4 py-2 rounded-2xl shadow-md",children:[(0,Pt.jsx)(Ft,{className:"w-5 h-5 text-white fill-white"}),(0,Pt.jsx)("span",{className:"font-bold text-white text-lg",children:l})]})})]}),(0,Pt.jsx)("div",{className:"relative",children:(0,Pt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-4 rounded-full transition-all duration-500 shadow-lg",style:{width:"".concat(v,"%")}})})}),(0,Pt.jsxs)("div",{className:"text-center mt-2 text-sm font-semibold text-gray-600",children:[s+1," / ",b]})]})}),(0,Pt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,Pt.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden min-h-[500px]",children:["content"===w.type&&(0,Pt.jsx)(Gt,{card:w,cardIndex:s,isAcknowledged:g.has(s),onAcknowledge:()=>y(e=>new Set([...e,s]))}),"quiz"===w.type&&(0,Pt.jsx)(Jt,{card:w,cardIndex:s,answer:u[s],showFeedback:h[s],onAnswer:x}),"matching"===w.type&&(0,Pt.jsx)(Kt,{card:w,cardIndex:s,onComplete:()=>x(s,"completed",!0)}),"fillblank"===w.type&&(0,Pt.jsx)(Qt,{card:w,cardIndex:s,answer:u[s],showFeedback:h[s],onAnswer:x}),"reflection"===w.type&&(0,Pt.jsx)(Xt,{card:w}),"completion"===w.type&&(0,Pt.jsx)(Yt,{card:w,xp:l,onComplete:()=>{c(e=>e+50),setTimeout(()=>{n(l+50)},1500)}})]}),(0,Pt.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,Pt.jsxs)("button",{onClick:()=>{s>0&&o(s-1)},disabled:0===s,className:"flex items-center gap-2 px-6 py-4 rounded-2xl font-bold transition text-lg ".concat(0===s?"bg-gray-100 text-gray-300 cursor-not-allowed":"bg-white text-gray-700 border-2 border-gray-300 hover:border-blue-500 hover:text-blue-600 shadow-md hover:shadow-lg"),children:[(0,Pt.jsx)(Ht,{className:"w-5 h-5"}),"Back"]}),s<b-1?(0,Pt.jsxs)("button",{onClick:()=>{s<b-1&&(f(e=>new Set([...e,s])),o(s+1))},className:"flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-2xl font-bold hover:from-blue-600 hover:to-purple-700 transition shadow-lg hover:shadow-xl text-lg",children:["Continue",(0,Pt.jsx)(Wt,{className:"w-5 h-5"})]}):null]})]})]})},Zt=[1,3,7,14],en={0:{icon:"\ud83c\udf31",label:"Learning",color:"text-yellow-600"},1:{icon:"\ud83c\udf3f",label:"Practicing",color:"text-green-500"},2:{icon:"\ud83c\udf33",label:"Growing",color:"text-green-600"},3:{icon:"\ud83c\udfc6",label:"Proficient",color:"text-blue-600"},4:{icon:"\u2b50",label:"Mastered",color:"text-purple-600"}},tn=(e,t)=>"".concat(e,"-").concat(t),nn=(e,t)=>{const n=tn(e,t),i=(new Date).toISOString(),r=rn();if(r[n])return;const s=Zt.map((e,t)=>{const n=new Date;return n.setDate(n.getDate()+e),{dueDate:n.toISOString(),completed:!1,completedDate:null,interval:e,reviewNumber:t+1}});r[n]={path:e,lessonNumber:t,completedDate:i,reviews:s,masteryLevel:0},localStorage.setItem("reviewSchedule",JSON.stringify(r))},rn=()=>{const e=localStorage.getItem("reviewSchedule");return e?JSON.parse(e):{}},sn=()=>{const e=rn(),t=new Date;t.setHours(0,0,0,0);const n=[];return Object.entries(e).forEach(e=>{let[i,r]=e;const s=r.reviews.find(e=>!e.completed);if(s){const e=new Date(s.dueDate);e.setHours(0,0,0,0),e<=t&&n.push({lessonKey:i,path:r.path,lessonNumber:r.lessonNumber,reviewNumber:s.reviewNumber,dueDate:s.dueDate,masteryLevel:r.masteryLevel,isOverdue:e<t})}}),n.sort((e,t)=>new Date(e.dueDate)-new Date(t.dueDate))},an=e=>{if(!e)return e;return e.split(/(\*\*[^*]+\*\*)/g).map((e,t)=>e.startsWith("**")&&e.endsWith("**")?(0,Pt.jsx)("strong",{children:e.slice(2,-2)},t):e)},on=e=>{let{card:t,questionIndex:n,answer:r,showFeedback:s,onAnswer:a}=e;const[o,l]=(0,i.useState)(r);return(0,Pt.jsxs)("div",{className:"p-10",children:[(0,Pt.jsx)("h3",{className:"text-3xl font-black text-gray-900 mb-2",children:"\ud83d\udcd6 Review Question"}),(0,Pt.jsx)("p",{className:"text-gray-600 text-lg mb-8",children:"Test your retention of this topic."}),(0,Pt.jsxs)("div",{className:"mb-8",children:[(0,Pt.jsx)("p",{className:"text-xl font-bold text-gray-800 mb-6",children:an(t.question)}),(0,Pt.jsx)("div",{className:"space-y-3",children:t.options.map((e,i)=>{const r=o===i,c=i===t.correctAnswer;let u="w-full text-left p-5 rounded-xl border-2 transition font-medium text-gray-800 shadow-sm ";return u+=s?c?"border-green-500 bg-green-50 text-green-900":r&&!c?"border-red-500 bg-red-50 text-red-900":"border-gray-200 bg-gray-50":r?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 hover:border-purple-300 hover:bg-purple-50 hover:shadow-md",(0,Pt.jsxs)("button",{onClick:()=>!s&&(e=>{l(e);const i=e===t.correctAnswer;a(n,e,i)})(i),disabled:s,className:u,children:[(0,Pt.jsxs)("span",{className:"font-bold mr-3 text-gray-600",children:[String.fromCharCode(65+i),"."]}),an(e)]},i)})})]}),s&&(0,Pt.jsxs)("div",{className:"p-5 rounded-xl border-l-4 ".concat(o===t.correctAnswer?"bg-green-50 border-green-500":"bg-blue-50 border-blue-500"),children:[(0,Pt.jsx)("p",{className:"font-bold text-lg mb-2",children:o===t.correctAnswer?"\u2713 Correct! +5 XP":"Not quite!"}),(0,Pt.jsx)("p",{className:"text-gray-800 text-lg leading-relaxed",children:an(t.explanation)})]})]})},ln=e=>{let{card:t,questionIndex:n,answer:r,showFeedback:s,onAnswer:a}=e;const[o,l]=(0,i.useState)(r||"");return(0,Pt.jsxs)("div",{className:"p-10",children:[(0,Pt.jsx)("h3",{className:"text-3xl font-black text-gray-900 mb-2",children:"\ud83d\udcd6 Fill in the Blank"}),(0,Pt.jsx)("p",{className:"text-gray-600 text-lg mb-8",children:"Complete the sentence with the correct term."}),(0,Pt.jsxs)("div",{className:"mb-8",children:[(0,Pt.jsx)("p",{className:"text-xl font-semibold text-gray-800 mb-6",children:an(t.prompt)}),(0,Pt.jsx)("input",{type:"text",value:o,onChange:e=>l(e.target.value),disabled:s,placeholder:"Type your answer...",className:"w-full p-5 text-lg border-2 border-gray-300 rounded-xl focus:border-purple-500 focus:outline-none disabled:bg-gray-100 shadow-sm transition"}),!s&&(0,Pt.jsx)("button",{onClick:()=>{const e=o.trim().toLowerCase()===t.correctAnswer.toLowerCase();a(n,o,e)},disabled:!o.trim(),className:"mt-6 px-8 py-4 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-xl font-bold hover:from-purple-600 hover:to-pink-700 transition shadow-lg hover:shadow-xl disabled:from-gray-300 disabled:to-gray-300 disabled:shadow-none",children:"Check Answer"})]}),s&&(0,Pt.jsxs)("div",{className:"p-5 rounded-xl border-l-4 ".concat(o.trim().toLowerCase()===t.correctAnswer.toLowerCase()?"bg-green-50 border-green-500":"bg-blue-50 border-blue-500"),children:[(0,Pt.jsx)("p",{className:"font-bold text-lg mb-2",children:o.trim().toLowerCase()===t.correctAnswer.toLowerCase()?"\u2713 Correct! +5 XP":"The answer is: ".concat(t.correctAnswer)}),(0,Pt.jsx)("p",{className:"text-gray-800 text-lg leading-relaxed",children:an(t.explanation)})]})]})},cn=e=>{let{lessonData:t,path:n,lessonNumber:r,onComplete:s,onExit:o}=e;const[l,c]=(0,i.useState)(0),[u,d]=(0,i.useState)({}),[h,m]=(0,i.useState)({}),[p,f]=(0,i.useState)(0),[g,y]=(0,i.useState)(!1),b=i.useMemo(()=>{const e=t.cards.filter(e=>"quiz"===e.type||"fillblank"===e.type),n=[...e];for(let t=n.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[n[t],n[e]]=[n[e],n[t]]}return n.slice(0,Math.min(5,n.length))},[t]),v=b.length,x=(l+1)/v*100;(0,i.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[l]);const w=(e,t,n)=>{d(n=>(0,a.A)((0,a.A)({},n),{},{[e]:t})),m(t=>(0,a.A)((0,a.A)({},t),{},{[e]:!0})),n&&!h[e]&&f(e=>e+1)},S=()=>{s(5*p)},k=b[l];if(g){const e=Math.round(p/v*100),t=5*p;return(0,Pt.jsx)("div",{className:"min-h-screen bg-gray-50 pb-20",children:(0,Pt.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,Pt.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden p-10 text-center",children:[(0,Pt.jsx)(Bt,{className:"w-28 h-28 text-yellow-500 mx-auto mb-6"}),(0,Pt.jsx)("h2",{className:"text-4xl font-black text-gray-900 mb-4",children:"Review Complete! \ud83c\udf89"}),(0,Pt.jsx)("p",{className:"text-xl text-gray-600 mb-8",children:"Great work reinforcing your knowledge!"}),(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-6 sm:p-8 mb-8 border-2 border-blue-200 shadow-lg",children:(0,Pt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 sm:gap-6",children:[(0,Pt.jsxs)("div",{className:"text-center sm:text-left",children:[(0,Pt.jsx)("p",{className:"text-gray-600 text-sm mb-2",children:"Score"}),(0,Pt.jsxs)("p",{className:"text-2xl sm:text-4xl font-black text-blue-600",children:[e,"%"]})]}),(0,Pt.jsxs)("div",{className:"text-center sm:text-left",children:[(0,Pt.jsx)("p",{className:"text-gray-600 text-sm mb-2",children:"Correct"}),(0,Pt.jsxs)("p",{className:"text-2xl sm:text-4xl font-black text-green-600",children:[p,"/",v]})]}),(0,Pt.jsxs)("div",{className:"text-center sm:text-left",children:[(0,Pt.jsx)("p",{className:"text-gray-600 text-sm mb-2",children:"XP Earned"}),(0,Pt.jsxs)("p",{className:"text-2xl sm:text-4xl font-black text-yellow-600",children:["+",t]})]})]})}),e>=80?(0,Pt.jsx)("p",{className:"text-lg text-green-700 mb-6",children:"\u2b50 Excellent! You've mastered this material."}):e>=60?(0,Pt.jsx)("p",{className:"text-lg text-blue-700 mb-6",children:"\ud83c\udf3f Good work! Keep reviewing to strengthen your understanding."}):(0,Pt.jsx)("p",{className:"text-lg text-yellow-700 mb-6",children:"\ud83c\udf31 Consider reviewing this lesson again to improve retention."}),(0,Pt.jsx)("button",{onClick:S,className:"px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-2xl font-bold hover:from-blue-600 hover:to-purple-700 transition shadow-lg text-lg",children:"Continue"})]})})})}return(0,Pt.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-20",children:[(0,Pt.jsx)("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10 shadow-sm",children:(0,Pt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Pt.jsxs)("button",{onClick:o,className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 transition font-medium",children:[(0,Pt.jsx)(Vt,{className:"w-5 h-5"}),(0,Pt.jsx)("span",{className:"hidden sm:inline",children:"Exit"})]}),(0,Pt.jsx)("div",{className:"flex items-center gap-3",children:(0,Pt.jsxs)("div",{className:"flex items-center gap-2 bg-gradient-to-r from-purple-400 to-purple-500 px-4 py-2 rounded-2xl shadow-md",children:[(0,Pt.jsx)(Ft,{className:"w-5 h-5 text-white fill-white"}),(0,Pt.jsxs)("span",{className:"font-bold text-white text-lg",children:[5*p," XP"]})]})})]}),(0,Pt.jsx)("div",{className:"relative",children:(0,Pt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-600 h-4 rounded-full transition-all duration-500 shadow-lg",style:{width:"".concat(x,"%")}})})}),(0,Pt.jsxs)("div",{className:"text-center mt-2 text-sm font-semibold text-gray-600",children:["Question ",l+1," / ",v]})]})}),(0,Pt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,Pt.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden min-h-[500px]",children:["quiz"===k.type&&(0,Pt.jsx)(on,{card:k,questionIndex:l,answer:u[l],showFeedback:h[l],onAnswer:w}),"fillblank"===k.type&&(0,Pt.jsx)(ln,{card:k,questionIndex:l,answer:u[l],showFeedback:h[l],onAnswer:w})]}),(0,Pt.jsx)("div",{className:"flex justify-end mt-8",children:h[l]&&(0,Pt.jsxs)("button",{onClick:()=>{if(l<v-1)c(l+1);else{const e=Math.round(p/v*100);((e,t,n)=>{const i=tn(e,t),r=rn();if(!r[i])return;const s=r[i],a=s.reviews.find(e=>!e.completed);if(a){a.completed=!0,a.completedDate=(new Date).toISOString(),a.score=n;const e=s.reviews.filter(e=>e.completed).length;s.masteryLevel=e,localStorage.setItem("reviewSchedule",JSON.stringify(r))}})(n,r,e),y(!0)}},className:"flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-2xl font-bold hover:from-purple-600 hover:to-pink-700 transition shadow-lg hover:shadow-xl text-lg",children:[l<v-1?"Next Question":"Finish Review",(0,Pt.jsx)(Wt,{className:"w-5 h-5"})]})})]})]})},un={id:1,title:"The Beginning: Early Christianity",subtitle:"How it all started (33-313 AD)",duration:"8 min",cards:[{type:"content",title:"Welcome to Church History",subtitle:"\u23f1\ufe0f About 8 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand how Christianity began after Jesus's resurrection and grew from a small Jewish sect into the Roman Empire's official religion.","Welcome to your journey through church history. This lesson explores how Christianity began and grew in its first few centuries.","We'll discover how Jesus's disciples became the apostles, how Christianity spread across the Roman Empire despite persecution, and how early Christians established the foundations of faith we still follow today.","If you're new to this topic, we'll start with the basics and build from there."],highlight:"\ud83d\udcad Curious: What do you already know about early Christianity?",requireAcknowledgment:!0},{type:"content",title:"The Apostolic Age (33-100 AD)",content:["After Jesus's resurrection and ascension, his disciples (now called apostles) began spreading his teachings.","The Day of Pentecost (Acts 2) marked the birth of the church, where the Holy Spirit empowered the apostles to preach boldly. Peter emerged as a key leader in Jerusalem.",'Meanwhile, Paul (formerly Saul, a persecutor of Christians) became the "apostle to the Gentiles" after his dramatic conversion. His missionary journeys throughout the Roman Empire established churches in major cities like Corinth, Ephesus, and Rome.',"The apostles wrote letters (epistles) to these churches, many of which became books of the New Testament."]},{type:"quiz",question:"What event marked the birth of the Christian church?",options:["The resurrection of Jesus","The Day of Pentecost","The Council of Nicaea","Paul's conversion"],correctAnswer:1,explanation:"The Day of Pentecost (Acts 2) is considered the birthday of the church, when the Holy Spirit came upon the apostles and Peter preached his first sermon, resulting in 3,000 new believers."},{type:"quiz",question:'Who was known as the "apostle to the Gentiles"?',options:["Peter","John","Paul","James"],correctAnswer:2,explanation:"Paul (formerly Saul) became known as the apostle to the Gentiles after his conversion. He went on extensive missionary journeys throughout the Roman Empire, establishing churches and writing many New Testament letters."},{type:"content",title:"Persecution and Growth (100-313 AD)",content:["Christianity was illegal in the Roman Empire and faced periodic persecution. Romans viewed Christians with suspicion because they refused to worship the emperor or Roman gods.","Despite this, Christianity grew rapidly among slaves, women, and the urban poor. Christians met secretly in homes and catacombs.","Martyrs like Polycarp and Perpetua inspired others through their faithful deaths. By 300 AD, an estimated 10% of the Roman Empire was Christian."],highlight:"\ud83d\udca1 Key Insight: Persecution didn't stop Christianity - it actually helped it grow as people were inspired by believers' courage."},{type:"content",title:"The Ecumenical Councils",content:["As Christianity grew, disagreements arose about core beliefs. The Council of Nicaea (325 AD) was convened by Emperor Constantine to address the Arian controversy.","The debate: Was Jesus fully God or a created being?",'The council produced the **Nicene Creed**, affirming Jesus as "true God from true God, begotten not made."',"Later councils clarified the nature of the Trinity, the person of Christ (fully God and fully human), and which books belonged in the Bible."]},{type:"quiz",question:"What was the main issue addressed at the Council of Nicaea in 325 AD?",options:["Which books belong in the Bible","Whether Christians should worship on Saturday or Sunday","Whether Jesus was fully God or a created being","How to organize church leadership"],correctAnswer:2,explanation:'The Council of Nicaea addressed the Arian controversy, which questioned whether Jesus was fully God or a created being. The council affirmed that Jesus is "true God from true God, begotten not made," establishing the doctrine of Christ\'s full divinity.'},{type:"matching",title:"Match the Historical Events",pairs:[{term:"Day of Pentecost",definition:"Birth of the Christian church"},{term:"Paul's journeys",definition:"Spread Christianity across Roman Empire"},{term:"Council of Nicaea",definition:"Affirmed Jesus is fully God (325 AD)"},{term:"Edict of Milan",definition:"Legalized Christianity (313 AD)"}]},{type:"content",title:"From Persecution to Power",content:["Everything changed in **313 AD** when Emperor Constantine legalized Christianity with the Edict of Milan.","By 380 AD, Christianity became the official religion of the Roman Empire under Emperor Theodosius.","This shift brought both blessings and challenges. Churches could worship openly and own property, but the faith also became intertwined with political power.","Some Christians fled to the desert to become monks, seeking a purer faith away from worldly influence."]},{type:"quiz",question:"When did Christianity become legal in the Roman Empire?",options:["33 AD","313 AD","380 AD","476 AD"],correctAnswer:1,explanation:"In 313 AD, Emperor Constantine issued the Edict of Milan, which legalized Christianity and ended persecution. This was a major turning point that allowed Christians to worship openly."},{type:"fillblank",prompt:"In _______ AD, Christianity became the official religion of the Roman Empire.",correctAnswer:"380",explanation:"In 380 AD, Emperor Theodosius made Christianity the official religion of the Roman Empire, completing the transformation from a persecuted minority to the dominant faith."},{type:"quiz",question:"Why did some Christians become desert monks in the 4th century?",options:["They were fleeing persecution","They wanted to find gold in the desert","They sought a purer faith away from the church's new political power","They were spreading Christianity to nomadic tribes"],correctAnswer:2,explanation:"When Christianity became the official religion of Rome in 380 AD, some Christians felt the faith had become too worldly and politically entangled. They fled to the desert to live as monks, seeking a simpler, purer spiritual life focused on prayer and devotion."},{type:"content",title:"Connecting to Today",content:["The early church established patterns that still shape Christianity:","\u2022 The **apostolic succession** claimed by Catholic and Orthodox churches","\u2022 The **creeds** (like the Nicene Creed) we still recite","\u2022 The **New Testament** books chosen by early church councils","\u2022 The tradition of **martyrdom** as ultimate witness to faith","When you recite the Apostles' Creed or Nicene Creed, you're speaking words that unite you with Christians across 2,000 years."],highlight:"\ud83d\udcad Reflection: What surprises you most about how Christianity began?"},{type:"completion",title:"Lesson Complete!",message:"You've learned about the birth and early growth of Christianity from the Day of Pentecost to becoming the Roman Empire's official religion. Great work!",keyTakeaways:["Christianity began at Pentecost (33 AD) and spread rapidly despite severe persecution","Paul's missionary journeys established churches across the Roman Empire","Constantine's Edict of Milan (313 AD) ended persecution and made Christianity legal, eventually becoming the empire's official religion"],badge:{icon:"\ud83c\udfdb\ufe0f",name:"Early Church Explorer",description:"Completed The Beginning: Early Christianity"}}]},dn={id:2,title:"The Great Divide: East vs West",subtitle:"Understanding the 1054 split",duration:"7 min",cards:[{type:"content",title:"Welcome to Lesson 2!",subtitle:"\u23f1\ufe0f About 7 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand the causes and consequences of the 1054 split between Eastern Orthodox and Western Catholic Christianity.","This lesson explores one of Christianity's most significant moments: when the church split into Eastern (Orthodox) and Western (Catholic) branches.","This wasn't a sudden break but rather centuries of growing differences in culture, language, and theology.","By the end, you'll understand why the church divided and how Orthodox and Catholic traditions differ today."],highlight:"\ud83d\udcad Wonder: Have you noticed differences between Catholic and Orthodox churches?",requireAcknowledgment:!0},{type:"content",title:"Two Worlds Drifting Apart",content:["When the Roman Empire split into East and West in **395 AD**, it created two distinct Christian cultures.","The **Western church** (centered in Rome) used Latin and was influenced by Roman legal thinking.","The **Eastern church** (centered in Constantinople) used Greek and was influenced by Greek philosophy.","As Germanic tribes overran the West and new Islamic empires rose in the East, the two halves of Christianity had increasingly different experiences."]},{type:"quiz",question:"When did the Roman Empire split into East and West, creating two distinct Christian cultures?",options:["313 AD","395 AD","1054 AD","1517 AD"],correctAnswer:1,explanation:"The Roman Empire officially split into Eastern and Western halves in 395 AD. This political division eventually led to cultural and theological differences between Eastern and Western Christianity."},{type:"content",title:"The Filioque Controversy",content:['The breaking point came over a single Latin word: **"filioque"** - meaning "and the Son."','The Nicene Creed originally said the Holy Spirit proceeds "from the Father." Western churches added "and the Son" (filioque) without consulting the East.',"To Eastern Christians, this wasn't just about grammar - it changed the doctrine of the Trinity and violated the principle that only ecumenical councils could modify creeds.","The West argued the addition clarified orthodox belief and had been used for centuries."],highlight:"\ud83d\udca1 This seemingly technical debate represented a fundamental disagreement about church authority."},{type:"quiz",question:'What does the Latin word "filioque" mean?',options:["From the Father","And the Son","Holy Spirit","One God"],correctAnswer:1,explanation:'"Filioque" means "and the Son." This was added to the Nicene Creed by Western churches to say the Holy Spirit proceeds from the Father "and the Son," which became a major point of contention with the East.'},{type:"content",title:"The 1054 Split",content:["In 1054, tensions exploded. Pope Leo IX sent Cardinal Humbert to Constantinople to assert papal authority.","Patriarch Michael Cerularius of Constantinople refused to acknowledge the Pope's supremacy.","On **July 16, 1054**, Humbert stormed into the Hagia Sophia during worship and slammed a bull of excommunication on the altar, condemning Cerularius.","The Patriarch responded by excommunicating the papal legates. The Great Schism had begun.","Crusaders sacking Constantinople in 1204 deepened the wound, making reconciliation even more difficult."]},{type:"quiz",question:"What happened on July 16, 1054, that symbolized the Great Schism?",options:["The Pope died","Cardinal Humbert excommunicated Patriarch Cerularius","Constantinople was conquered","A new creed was written"],correctAnswer:1,explanation:"On July 16, 1054, Cardinal Humbert entered the Hagia Sophia and placed a bull of excommunication against Patriarch Michael Cerularius on the altar. The Patriarch responded with his own excommunication, marking the formal beginning of the Great Schism."},{type:"matching",title:"Match the Key Figures",pairs:[{term:"Filioque",definition:'Latin phrase meaning "and the Son"'},{term:"Patriarch Cerularius",definition:"Eastern Orthodox leader excommunicated in 1054"},{term:"Cardinal Humbert",definition:"Papal representative who placed excommunication on altar"},{term:"Hagia Sophia",definition:"Great cathedral in Constantinople where split occurred"}]},{type:"content",title:"Different Paths Forward",content:["After 1054, Eastern Orthodoxy and Roman Catholicism developed separately.","**Orthodox structure:** Multiple patriarchs with no single earthly head of the church (conciliar leadership).","**Catholic structure:** Centralized power in the papacy.","**Orthodox theology:** Emphasized mysticism, theosis (becoming one with God), and continuity with the early church.","**Catholic theology:** Developed systematic scholasticism, particularly through Thomas Aquinas."]},{type:"quiz",question:"How is church leadership structured differently in Orthodoxy versus Catholicism?",options:["Orthodox have a Pope, Catholics have patriarchs","Both have identical structures","Orthodox have multiple patriarchs with no single earthly head, Catholics have papal centralization","Orthodox churches have no leaders"],correctAnswer:2,explanation:"Eastern Orthodoxy maintains a conciliar structure with multiple patriarchs (Constantinople, Moscow, Alexandria, etc.) and no single earthly head of the church. Roman Catholicism centralizes authority in the Pope as the head of the worldwide church."},{type:"fillblank",prompt:"In _______ AD, Catholic Crusaders sacked Constantinople, deepening the rift between East and West.",correctAnswer:"1204",explanation:"In 1204, Catholic Crusaders on the Fourth Crusade sacked Constantinople, pillaging the Orthodox capital and desecrating churches. This betrayal deepened hostility between East and West."},{type:"content",title:"Understanding Today",content:["Despite their split, Eastern Orthodox and Roman Catholic churches share much in common:","\u2713 Both affirm the ancient creeds","\u2713 Both practice seven sacraments","\u2713 Both claim apostolic succession","\u2713 Both honor Mary and the saints","The main differences lie in church governance (papal vs. conciliar), some theological nuances (like the filioque), and worship styles."],highlight:"\ud83d\udcad Reflection: Can you think of examples where language and cultural differences led to divisions?"},{type:"completion",title:"Well Done!",message:"You've learned about the Great Schism of 1054 and how Eastern Orthodox and Western Catholic Christianity developed differently. You understand the historical, cultural, and theological factors behind this split.",keyTakeaways:["The 1054 Great Schism split Christianity into Eastern (Orthodox) and Western (Catholic) branches","Key differences included the Filioque controversy, papal authority, and worship practices","Cultural and linguistic differences (Greek East vs. Latin West) contributed to the growing divide"],badge:{icon:"\u26ea",name:"Schism Scholar",description:"Completed The Great Divide: East vs West"}}]},hn={id:3,title:"The Reformation: A Revolution in Faith",subtitle:"Martin Luther and the Protestant movement",duration:"9 min",cards:[{type:"content",title:"Welcome to Lesson 3!",subtitle:"\u23f1\ufe0f About 9 minutes",content:['**Learning Objective:** By the end of this lesson, you will understand how Martin Luther sparked the Protestant Reformation and what the "Five Solas" mean.',"This lesson covers one of history's most dramatic religious movements.","In 1517, a German monk named Martin Luther challenged the Catholic Church's practices and sparked a revolution that would reshape Christianity forever.","You'll discover why it happened, what changed, and how the Protestant Reformation split Western Christianity permanently."],highlight:"\ud83d\udcad Think: What would it take to challenge a powerful institution like the medieval Church?",requireAcknowledgment:!0},{type:"content",title:"The Spark: Indulgences",content:["In 1517, Pope Leo X needed money to rebuild St. Peter's Basilica in Rome. He authorized the sale of **indulgences** - certificates that supposedly reduced time in purgatory.",'Johann Tetzel, a monk selling indulgences in Germany, allegedly used the slogan: "As soon as a coin in the coffer rings, a soul from purgatory springs!"',"Martin Luther, a professor and monk in Wittenberg, was outraged. On **October 31, 1517**, he posted 95 Theses (academic arguments) on the church door.","He argued that salvation couldn't be bought - it was a free gift from God received through faith."]},{type:"quiz",question:"What were indulgences that Martin Luther opposed?",options:["Certificates to skip church services","Payments to reduce time in purgatory","Tickets to visit holy sites","Donations for new church buildings only"],correctAnswer:1,explanation:"Indulgences were certificates sold by the Catholic Church that supposedly reduced time in purgatory for the buyer or deceased loved ones. Luther opposed them as a corruption that made salvation something that could be purchased."},{type:"content",title:"The Five Solas",content:['Luther\'s theology coalesced into five Latin slogans called the "Five Solas":',"1. **Sola Scriptura** (Scripture Alone) - the Bible, not church tradition, is the final authority","2. **Sola Fide** (Faith Alone) - we're saved by trusting Christ, not by good works","3. **Sola Gratia** (Grace Alone) - salvation is entirely God's unmerited gift","4. **Solus Christus** (Christ Alone) - Jesus is the only mediator, no need for saints or priests","5. **Soli Deo Gloria** (Glory to God Alone) - all praise goes to God, not the church"],highlight:"\ud83d\udca1 These principles became the foundation for all Protestant theology."},{type:"quiz",question:'What does "Sola Scriptura" mean?',options:["Faith Alone","Grace Alone","Scripture Alone","Christ Alone"],correctAnswer:2,explanation:'"Sola Scriptura" means "Scripture Alone," teaching that the Bible - not church tradition or papal decrees - is the final authority for Christian faith and practice.'},{type:"content",title:"Luther's Stand at Worms",content:["In 1521, Luther was summoned to the Diet of Worms (an imperial assembly) to recant his teachings.","When asked to renounce his writings, Luther famously replied:",'"Unless I am convinced by Scripture and plain reason, I cannot and will not recant. **Here I stand, I can do no other. God help me. Amen.**"',"He was declared an outlaw and heretic, but German princes protected him.","While hiding in Wartburg Castle, Luther translated the New Testament into German, making the Bible accessible to ordinary people."]},{type:"quiz",question:'Where did Luther famously say "Here I stand, I can do no other"?',options:["At the church door in Wittenberg","At the Diet of Worms","In Wartburg Castle","At the Vatican"],correctAnswer:1,explanation:"Luther made this famous statement at the Diet of Worms in 1521 when he was ordered to recant his teachings. He refused to renounce his beliefs unless convinced by Scripture and reason."},{type:"matching",title:"Match the Reformers",pairs:[{term:"Martin Luther",definition:"Posted 95 Theses, translated Bible to German"},{term:"Johann Tetzel",definition:"Sold indulgences with catchy slogans"},{term:"John Calvin",definition:"Developed systematic theology emphasizing predestination"},{term:"Ulrich Zwingli",definition:"Led reform in Zurich, Switzerland"}]},{type:"quiz",question:"What did Luther translate while hiding in Wartburg Castle?",options:["The Catholic Mass into German","Ancient Greek philosophy","The New Testament into German","The Pope's letters"],correctAnswer:2,explanation:"While in hiding at Wartburg Castle, Luther translated the New Testament from Greek into German, making the Bible accessible to ordinary German-speaking people for the first time."},{type:"content",title:"The Spread of Reform",content:["Luther wasn't alone. Ulrich Zwingli led reform in Zurich, Switzerland. John Calvin in Geneva developed a more systematic Protestant theology.","Calvin emphasized God's sovereignty and **predestination** (the doctrine that God has already chosen who will be saved).","Calvin's ideas spread to Scotland (Presbyterianism), the Netherlands (Dutch Reformed), France (Huguenots), and eventually America.","The Reformation fractured Western Christianity permanently. By 1555, the Peace of Augsburg established that each prince would decide whether his territory would be Catholic or Lutheran."]},{type:"fillblank",prompt:"Martin Luther posted his 95 Theses on October 31, _______.",correctAnswer:"1517",explanation:"October 31, 1517, is the date Luther posted his 95 Theses challenging indulgences - the traditional start of the Protestant Reformation."},{type:"quiz",question:"Who developed the systematic Protestant theology emphasizing predestination?",options:["Martin Luther","Ulrich Zwingli","John Calvin","Henry VIII"],correctAnswer:2,explanation:"John Calvin, working in Geneva, developed a more systematic Protestant theology that emphasized God's sovereignty and predestination. His ideas became the foundation for Reformed and Presbyterian churches."},{type:"content",title:"The Reformation Today",content:["The Reformation's impact is still felt:","\u2713 Protestant denominations emphasize **Scripture alone** as authority","\u2713 The concept of the **priesthood of all believers** - every Christian can approach God directly","\u2713 **Vernacular Bibles** - Scripture in everyday languages","\u2713 Emphasis on **personal faith** rather than ritual alone"],highlight:"\ud83d\udcad Reflection: Why do you think Luther's message resonated with so many people?"},{type:"completion",title:"Reformation Complete!",message:"You've learned about Martin Luther, the 95 Theses, the Five Solas, and how the Protestant Reformation permanently changed Christianity. Excellent work!",keyTakeaways:["Martin Luther's 95 Theses (1517) challenged indulgences and sparked the Protestant Reformation","The Five Solas (Scripture Alone, Faith Alone, Grace Alone, Christ Alone, Glory to God Alone) became Protestant theology's foundation","The Reformation split Western Christianity into Catholic and Protestant branches"],badge:{icon:"\ud83d\udcdc",name:"Reformation Scholar",description:"Completed The Reformation Explosion"}}]},mn={id:4,title:"The Middle Way: Anglicans & Methodists",subtitle:"Finding balance between Catholic and Protestant",duration:"8 min",cards:[{type:"content",title:"Welcome to Lesson 4!",subtitle:"\u23f1\ufe0f About 8 minutes",content:['**Learning Objective:** By the end of this lesson, you will understand how Anglicanism and Methodism emerged as "middle way" traditions between Catholicism and Protestantism.',"Not all reformers wanted to completely break from Catholic tradition.",'This lesson explores two traditions that tried to find a "middle way" - keeping some Catholic practices while embracing Protestant theology.',"You'll learn about the English Reformation under Henry VIII and the Methodist revival led by John Wesley."],highlight:'\ud83d\udcad Consider: Can you find a "middle way" between opposing views?',requireAcknowledgment:!0},{type:"content",title:"Henry VIII and the English Reformation",content:["The English Reformation began for political, not theological reasons.","King Henry VIII wanted to annul his marriage to Catherine of Aragon (who hadn't given him a male heir), but Pope Clement VII refused.","So Henry broke from Rome in **1534**, declaring himself Supreme Head of the Church of England.","Initially, Henry remained theologically Catholic - he just rejected papal authority. The church became more Protestant under his successors."]},{type:"quiz",question:"Why did the English Reformation begin under Henry VIII?",options:["He wanted to reform church theology","He wanted to annul his marriage but the Pope refused","He was converting to Protestantism","He wanted to spread the gospel to England"],correctAnswer:1,explanation:"Henry VIII broke from Rome primarily because Pope Clement VII refused to annul his marriage to Catherine of Aragon. The English Reformation began for political/personal reasons, not theological ones."},{type:"content",title:"The Anglican Via Media",content:['Anglicanism is sometimes called "reformed Catholicism." It retained:',"\u2713 Bishops in apostolic succession","\u2713 Liturgical worship (the Book of Common Prayer)","\u2713 Beautiful church architecture","But adopted Protestant theology:","\u2713 Scripture as supreme authority","\u2713 Justification by faith","\u2713 Only two sacraments (Baptism and Eucharist)",'The Anglican "three-legged stool" balances Scripture, Tradition, and Reason.'],highlight:'\ud83d\udca1 "Via media" means "middle way" - a balance between Catholic and Protestant'},{type:"quiz",question:'What does the Anglican "via media" mean?',options:["Mass in Latin","The middle way between Catholic and Protestant","The path to heaven","Weekly communion"],correctAnswer:1,explanation:'"Via media" means "middle way" - Anglicanism\'s attempt to balance Catholic structure and ritual with Protestant theology.'},{type:"quiz",question:"What are the three sources of authority in Anglican theology?",options:["Pope, Bishops, Priests","Faith, Hope, Love","Scripture, Tradition, Reason","Prayer, Fasting, Almsgiving"],correctAnswer:2,explanation:'Anglicanism balances three sources of authority in its "three-legged stool": Scripture (the Bible), Tradition (church history and practice), and Reason (rational thought and experience).'},{type:"matching",title:"Match the English Reformation Figures",pairs:[{term:"Henry VIII",definition:"Broke from Rome to annul his marriage"},{term:"Elizabeth I",definition:"Established the Elizabethan Settlement"},{term:"Thomas Cranmer",definition:"Created the Book of Common Prayer"},{term:"Mary I",definition:'Tried to restore Catholicism, earned "Bloody Mary" nickname'}]},{type:"content",title:"John Wesley and Methodist Revival",content:['John Wesley (1703-1791), an Anglican priest, experienced a spiritual awakening in 1738 when his heart was "strangely warmed" at a meeting on Aldersgate Street, London.',"He began preaching about personal conversion, holiness, and social reform.","When Anglican churches closed their doors to him, Wesley took his message outdoors, preaching to coal miners and the poor.","Wesley emphasized: God's grace enables everyone to respond, personal holiness should follow justification, and faith without works is dead."]},{type:"quiz",question:"Where did John Wesley have his spiritual awakening in 1738?",options:["Oxford University","Aldersgate Street, London","Georgia, America","Canterbury Cathedral"],correctAnswer:1,explanation:'Wesley\'s heart was "strangely warmed" at a meeting on Aldersgate Street in London in 1738. This experience led to his evangelical awakening and the Methodist movement.'},{type:"content",title:"Social Holiness",content:['Wesley famously said, "There is no holiness but social holiness."',"Methodists pioneered social reform:","\u2022 Opposing slavery","\u2022 Improving prison conditions","\u2022 Educating the poor","\u2022 Caring for widows and orphans","This emphasis on both personal piety and social justice became Methodist DNA.","In America, Methodism exploded during the Second Great Awakening, becoming the largest Protestant denomination."]},{type:"quiz",question:'What did Wesley mean by "social holiness"?',options:["Christians should avoid society","Holiness includes serving the poor and reforming society","Church services should be social events","Only monks can be truly holy"],correctAnswer:1,explanation:'Wesley taught "there is no holiness but social holiness" - meaning genuine Christian faith must express itself in serving others and working for social reform, not just personal piety.'},{type:"fillblank",prompt:"Henry VIII broke from Rome in _______, declaring himself Supreme Head of the Church of England.",correctAnswer:"1534",explanation:"In 1534, Henry VIII passed the Act of Supremacy, declaring himself Supreme Head of the Church of England and breaking from papal authority."},{type:"content",title:"Their Legacy Today",content:['**Anglicans** maintain formal liturgy while allowing theological diversity - "High Church" looks Catholic, "Low Church" looks Protestant.',"**Methodists** continue emphasizing personal transformation and social action - they built universities (Duke, Emory, Northwestern) and countless social service organizations.","Both traditions show you can be reformed without abandoning all tradition, and you can be liturgical without being rigid."],highlight:"\ud83d\udcad Reflection: What are the advantages of trying to blend Catholic and Protestant elements?"},{type:"completion",title:"Middle Way Mastered!",message:"You've learned about the Anglican via media and Methodist social holiness - two traditions that sought balance between Catholic tradition and Protestant reform.",keyTakeaways:['Anglicanism began with Henry VIII\'s break from Rome (1534) for political reasons, developing into a "via media" between Catholic and Protestant',"John Wesley founded Methodism emphasizing personal holiness, small group accountability, and social justice","Both traditions show you can blend Catholic liturgical elements with Protestant theology"],badge:{icon:"\ud83d\udd4a\ufe0f",name:"Middle Way Explorer",description:"Completed Anglicans & Methodists"}}]},pn={id:5,title:"Believer's Baptism: Baptists & Anabaptists",subtitle:"Radical reformation and religious freedom",duration:"7 min",cards:[{type:"content",title:"Welcome to Lesson 5",subtitle:"\u23f1\ufe0f About 7 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand believer's baptism, Anabaptist principles, and how these radical reformers shaped religious freedom.","Some reformers believed Luther and others didn't go far enough in their reforms.","This lesson explores traditions that took more radical stances on baptism, church-state separation, and religious freedom.","These groups were often persecuted, but their ideas eventually shaped modern concepts of religious liberty."],highlight:"\ud83d\udcad Question: Should church and state be completely separate?",requireAcknowledgment:!0},{type:"content",title:"The Radical Reformation: Anabaptists",content:["While Luther and Calvin reformed the church, a more radical group emerged in Switzerland in the 1520s.",'Called **"Anabaptists"** (re-baptizers) by their opponents, they rejected infant baptism. Only believers who consciously chose to follow Christ should be baptized.',"Anabaptists believed the church should be a voluntary community of committed believers, separate from the state.","They refused to swear oaths, serve in the military, or hold government office.","Both Catholics and Protestants saw this as dangerous. Thousands of Anabaptists were martyred - ironically, many were drowned in mockery of their baptism practices."]},{type:"quiz",question:'What does "Anabaptist" literally mean?',options:["Against baptism","Re-baptizer","Water believers","True baptism"],correctAnswer:1,explanation:'"Anabaptist" means "re-baptizer." This name was given by their opponents because Anabaptists baptized adults who had already been baptized as infants, which others saw as rebaptism.'},{type:"content",title:"Baptist Origins and Growth",content:["Baptists emerged independently in England in the early 1600s.","John Smyth, an Anglican priest turned Separatist, baptized himself and then his congregation in Amsterdam in 1609, forming the first Baptist church.","Baptists emphasized:","1. Believer's baptism by immersion","2. **Soul competency** - each person can read Scripture for themselves","3. Priesthood of all believers","4. Congregational autonomy - each church governs itself","5. Religious liberty for ALL"]},{type:"quiz",question:'What is "soul competency" in Baptist theology?',options:["Only educated people can be saved","Each person can read and understand Scripture for themselves","Souls must compete for salvation","Priests must interpret the Bible for laypeople"],correctAnswer:1,explanation:"Soul competency is the Baptist belief that each individual can read, understand, and apply Scripture for themselves without needing a priest or church hierarchy to interpret it for them."},{type:"content",title:"Church-State Separation",content:["Both Anabaptists and Baptists pioneered the radical idea that church and state should be completely separate.","In their era, this was revolutionary. Most believed society needed one official religion.","But Baptists argued that faith coerced isn't genuine faith.",'Thomas Helwys wrote to King James I: "The king is a mortal man, and not God, therefore hath no power over immortal souls."',"This bold statement landed Helwys in prison, where he died. Yet Baptist ideas influenced the American founders."],highlight:'\ud83d\udca1 The "wall of separation" between church and state reflected Baptist theology'},{type:"quiz",question:"Who founded Rhode Island as a haven for religious freedom?",options:["John Smyth","Menno Simons","Roger Williams","Thomas Helwys"],correctAnswer:2,explanation:"Roger Williams, a Baptist minister, founded Rhode Island in 1636 as a colony based on religious freedom after being expelled from Massachusetts for his radical views on liberty of conscience."},{type:"matching",title:"Match the Terms",pairs:[{term:"Anabaptist",definition:"Re-baptizers who rejected infant baptism"},{term:"Soul Competency",definition:"Each person can understand Scripture for themselves"},{term:"Mennonites",definition:"Anabaptist group following Menno Simons"},{term:"Roger Williams",definition:"Founded Rhode Island for religious freedom"}]},{type:"quiz",question:"How did many Anabaptists die during persecution?",options:["Burning at the stake","Drowning (in mockery of their baptism practices)","Beheading","Exile to distant lands"],correctAnswer:1,explanation:"Many Anabaptists were drowned by both Catholic and Protestant authorities, ironically mocking their emphasis on baptism by immersion. Thousands were martyred in the 1500s."},{type:"content",title:"Baptist Diversity & Anabaptist Community",content:["**Today's Baptists** are remarkably diverse:","\u2022 Southern Baptists emphasize evangelism","\u2022 American Baptists are more moderate","\u2022 Black Baptist churches have been centers of civil rights activism","**Anabaptist communities** like the Amish, Mennonites, and Hutterites maintain distinctive lifestyles:","\u2022 Distinctive dress","\u2022 Resist modern technology (especially Amish)","\u2022 Practice pacifism","\u2022 Emphasize community discipline"]},{type:"quiz",question:"Which modern groups descended from the Anabaptist movement?",options:["Presbyterians and Methodists","Amish, Mennonites, and Hutterites","Lutherans and Anglicans","Pentecostals and Charismatics"],correctAnswer:1,explanation:"The Amish, Mennonites, and Hutterites all descended from the Anabaptist movement. They maintain distinctive communities emphasizing pacifism, simple living, and separation from mainstream society."},{type:"fillblank",prompt:"John Smyth baptized himself and formed the first Baptist church in _______ in 1609.",correctAnswer:"Amsterdam",explanation:"John Smyth baptized himself and his congregation in Amsterdam in 1609, forming the first recognizably Baptist church."},{type:"content",title:"Their Legacy",content:["Both Anabaptists and Baptists contributed crucial ideas we now take for granted:","\u2713 Voluntary church membership","\u2713 Separation of church and state","\u2713 Religious freedom for all","\u2713 Individual interpretation of Scripture","The First Amendment's guarantee of religious freedom owes much to Baptist advocacy."],highlight:"\ud83d\udcad Reflection: Why do you think baptism became such a divisive issue?"},{type:"completion",title:"Radical Reformation Complete!",message:"You've learned about Anabaptists and Baptists, their commitment to believer's baptism, and their pioneering role in establishing religious freedom!",keyTakeaways:["Anabaptists rejected infant baptism, insisting only believers who can make a conscious choice should be baptized","Baptists championed separation of church and state and voluntary church membership",'These "radical" reformers laid groundwork for modern religious freedom despite facing persecution'],badge:{icon:"\ud83d\udca7",name:"Freedom Fighter",description:"Completed Believer's Baptism lesson"}}]},fn={id:6,title:"The Spirit Moves: Pentecostals & Holiness",subtitle:"Revival, spiritual gifts, and transformation",duration:"8 min",cards:[{type:"content",title:"Welcome to Lesson 6",subtitle:"\u23f1\ufe0f About 8 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand the Holiness movement's emphasis on sanctification and Pentecostalism's focus on spiritual gifts.","In the late 1800s and early 1900s, powerful revival movements swept across America and beyond.","These movements emphasized emotional worship, spiritual gifts, and complete personal transformation.","You'll learn about the Holiness movement and the rapid growth of Pentecostalism."],highlight:"\ud83d\udcad Reflect: What role do emotions play in your worship?",requireAcknowledgment:!0},{type:"content",title:"The Holiness Movement",content:["The Holiness movement emerged in the mid-1800s, mainly within Methodism.",'They emphasized Wesley\'s teaching about **"entire sanctification"** or "Christian perfection."','Holiness preachers taught that after conversion, believers could experience a "second work of grace" - a moment when God completely cleansed them from the inclination to sin.',"Camp meetings featured fervent preaching, emotional testimonies, and altar calls.","Women found leadership opportunities often denied in other traditions. Phoebe Palmer became a leading Holiness evangelist in the 1850s."]},{type:"quiz",question:'What is "entire sanctification" in Holiness theology?',options:["Being baptized as an infant","A second work of grace that completely cleanses from the inclination to sin","Becoming a church member","Reading the entire Bible"],correctAnswer:1,explanation:'Entire sanctification is the Holiness teaching that after conversion, believers can experience a "second work of grace" where God completely cleanses them from the inclination to sin, enabling them to live in holiness.'},{type:"content",title:"Azusa Street: Pentecostalism is Born",content:["On **April 9, 1906**, at a humble mission on Azusa Street in Los Angeles, something unprecedented happened.","Under William J. Seymour, an African American Holiness preacher and son of freed slaves, believers began **speaking in tongues** - utterances in languages they'd never learned.",'Seymour taught this was evidence of "baptism in the Holy Spirit," a third experience after conversion and sanctification.',"The Azusa Street Revival ran for three years, with services sometimes lasting all day.",'Remarkably for segregated America, the revival was racially integrated. Seymour\'s vision: "The color line was washed away by the blood."']},{type:"quiz",question:"Where and when did the famous Azusa Street Revival take place?",options:["New York City, 1890","Los Angeles, 1906","Chicago, 1920","Atlanta, 1915"],correctAnswer:1,explanation:"The Azusa Street Revival began on April 9, 1906, in Los Angeles at a humble mission led by William J. Seymour. It ran for three years and launched global Pentecostalism."},{type:"quiz",question:"Who led the Azusa Street Revival?",options:["Billy Graham","Charles Finney","William J. Seymour","John Wesley"],correctAnswer:2,explanation:"William J. Seymour, an African American Holiness preacher and son of freed slaves, led the Azusa Street Revival. His leadership was remarkable in segregated America, and he advocated for racial integration."},{type:"content",title:"Pentecostal Beliefs and Practices",content:["Pentecostals affirm standard Christian doctrine but add distinctive emphases:","1. **Baptism in the Holy Spirit** as a separate experience from conversion, evidenced by speaking in tongues","2. All spiritual gifts listed in 1 Corinthians 12 are available today - prophecy, healing, miracles, tongues, interpretation","3. **Divine healing** is part of the atonement","4. Expectation of Jesus's imminent return","Worship is spontaneous, emotional, and participatory - with raised hands, dancing, shouting, and prophecies shared during services."]},{type:"quiz",question:"What do Pentecostals believe is the initial evidence of baptism in the Holy Spirit?",options:["Prophesying","Healing the sick","Speaking in tongues","Feeling peaceful"],correctAnswer:2,explanation:"Pentecostals believe that speaking in tongues (glossolalia) - utterances in languages unknown to the speaker - is the initial physical evidence of being baptized in the Holy Spirit."},{type:"matching",title:"Match the Key Terms",pairs:[{term:"Entire Sanctification",definition:"Second work of grace cleansing from sin"},{term:"Speaking in Tongues",definition:"Evidence of baptism in the Holy Spirit"},{term:"Azusa Street",definition:"Los Angeles revival that birthed Pentecostalism"},{term:"William J. Seymour",definition:"African American leader of Azusa Street Revival"}]},{type:"content",title:"Global Pentecostal Explosion",content:["Pentecostalism became Christianity's fastest-growing movement.","Starting from nothing in 1900, Pentecostals and Charismatics now number **over 600 million worldwide** - about a quarter of all Christians.","Growth has been spectacular in Latin America, sub-Saharan Africa, and Asia.","\u2022 In Brazil, Pentecostals grow by 15,000 per day","\u2022 South Korea's Yoido Full Gospel Church has over 800,000 members","Why such growth? Pentecostalism offers direct personal experience of God's power, healing, deliverance, hope for the poor, and opportunities for lay leadership."],highlight:"\ud83d\udca1 In the Global South, Pentecostalism represents a major portion of Christianity."},{type:"quiz",question:"Approximately how many Pentecostals and Charismatics are there worldwide today?",options:["10 million","100 million","Over 600 million","1 billion"],correctAnswer:2,explanation:"Pentecostals and Charismatics now number over 600 million worldwide - about a quarter of all Christians - making Pentecostalism one of the fastest-growing religious movements in history."},{type:"fillblank",prompt:"The Azusa Street Revival began on April 9, _______.",correctAnswer:"1906",explanation:"The Azusa Street Revival began on April 9, 1906, marking the birth of modern Pentecostalism."},{type:"content",title:"Understanding Today",content:["**Holiness churches** (Church of the Nazarene, Church of God Anderson) emphasize personal holiness and simple living.","**Pentecostal churches** (Assemblies of God, Church of God in Christ) emphasize spiritual gifts and energetic worship.","Both movements show that Christianity can be experiential and emotional, not just intellectual.","They've made Christianity accessible to the poor and marginalized worldwide."],highlight:"\ud83d\udcad Reflection: Why do you think Pentecostalism appeals to so many people worldwide?"},{type:"completion",title:"Spirit-Filled Success!",message:"You've learned about the Holiness movement's emphasis on sanctification and Pentecostalism's explosive growth through spiritual gifts and experiential worship!",keyTakeaways:['The Holiness movement emphasized "entire sanctification" - complete transformation and holy living',"Pentecostalism began at Azusa Street Revival (1906) emphasizing speaking in tongues and spiritual gifts","Pentecostalism has grown to over 600 million members worldwide, making it one of Christianity's fastest-growing movements"],badge:{icon:"\ud83d\udd25",name:"Revival Scholar",description:"Completed The Spirit Moves lesson"}}]},gn={id:7,title:"Back to Basics: Restorationists & Non-Denominational",subtitle:"Simplifying and reimagining church",duration:"7 min",cards:[{type:"content",title:"Welcome to Lesson 7!",subtitle:"\u23f1\ufe0f About 7 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand the Restoration Movement's goal to return to New Testament Christianity and the rise of non-denominational churches.","Some Christians asked: What if we went back to the New Testament and started over?",'They rejected all traditions and creeds, seeking to restore "simple, biblical Christianity."',"You'll learn about the Restoration Movement and today's non-denominational churches!"],highlight:'\ud83d\udcad Question: Is it possible to have "just the Bible" without traditions?',requireAcknowledgment:!0},{type:"content",title:"The Restoration Movement",content:["In early 1800s America, several preachers independently called Christians to abandon all denominations.",'Thomas Campbell declared: **"Where the Scriptures speak, we speak; where the Scriptures are silent, we are silent."**','His son Alexander Campbell and Barton Stone led thousands to reject creeds and restore "New Testament Christianity."','They refused names like "Baptist" or "Methodist," calling themselves simply "Christians" or "Disciples."','Their motto: **"Christians only, not the only Christians."**']},{type:"quiz",question:"What was Thomas Campbell's famous motto?",options:['"Grace alone, faith alone"','"Where the Scriptures speak, we speak; where they are silent, we are silent"','"The Bible says it, I believe it"','"No creed but Christ"'],correctAnswer:1,explanation:"Thomas Campbell's motto \"Where the Scriptures speak, we speak; where the Scriptures are silent, we are silent\" captured the Restoration Movement's commitment to follow only what the Bible explicitly teaches."},{type:"content",title:"Stone-Campbell Movement Beliefs",content:["The Restoration Movement, also called the Stone-Campbell Movement, emphasized:","1. **No creeds** - the Bible alone as authority","2. **Autonomy of local churches** - no centralized denominational control","3. **Believer's baptism by immersion** for the forgiveness of sins","4. **Weekly communion** on the Lord's Day","5. Return to simple worship - singing, prayer, preaching, communion",'They believed denominations divided Christians and violated Jesus\'s prayer "that they may be one" (John 17:21).']},{type:"quiz",question:"How often do Restoration Movement churches typically observe communion?",options:["Once a year","Monthly","Weekly","Only at Easter"],correctAnswer:2,explanation:"Restoration Movement churches practice weekly communion on the Lord's Day (Sunday), believing this follows the New Testament pattern seen in Acts 20:7."},{type:"content",title:"The Movement Divides",content:['Ironically, the "unity movement" itself eventually divided into three main groups:',"**Churches of Christ** - Conservative, often oppose instrumental music in worship, emphasize baptism for salvation","**Christian Church (Disciples of Christ)** - Liberal, mainline denomination, practice infant baptism and open communion","**Christian Churches/Churches of Christ** - Middle ground, evangelical, use instruments, autonomous congregations","Together they number about 5 million in North America."]},{type:"quiz",question:"Which Restoration Movement group is known for opposing instrumental music?",options:["Disciples of Christ","Christian Churches","Churches of Christ","All Restoration churches oppose instruments"],correctAnswer:2,explanation:"Churches of Christ are the conservative wing of the Restoration Movement and typically oppose instrumental music in worship, believing only a cappella singing follows the New Testament pattern."},{type:"matching",title:"Match the Key Terms",pairs:[{term:"Restoration Movement",definition:'Sought to restore "New Testament Christianity"'},{term:"No Creed but Christ",definition:"Restorationist rejection of written creeds"},{term:"Churches of Christ",definition:"Conservative group opposing instrumental music"},{term:"Stone-Campbell",definition:"Leaders who founded the Restoration Movement"}]},{type:"content",title:"The Rise of Non-Denominational Churches",content:["Since the 1970s, thousands of **non-denominational churches** have formed.",'They share the Restorationist impulse: reject denominational labels and traditions, follow "just the Bible."',"Often these are **megachurches** - large congregations with 2,000+ members.","They feature contemporary worship bands, casual atmosphere, practical teaching, extensive programs.","Famous examples: Willow Creek (Chicago), Saddleback (California), North Point (Atlanta).","Critics worry about lack of accountability and theological depth. Supporters celebrate freedom and relevance."],highlight:"\ud83d\udca1 About 1 in 5 American evangelicals now attend non-denominational churches."},{type:"quiz",question:"What defines a megachurch?",options:["A church with a large building","A church with 2,000+ members","A church on television","A church with multiple locations"],correctAnswer:1,explanation:"A megachurch is typically defined as a church with 2,000 or more weekly attendees. These large congregations often feature contemporary worship and extensive programming."},{type:"content",title:"Contemporary Worship Revolution",content:["Non-denominational churches pioneered **contemporary worship** - a huge shift in how many Christians worship:","\u2022 Worship bands with drums, guitars, keyboards instead of organs","\u2022 Projection screens instead of hymnals","\u2022 Casual dress, coffee in the sanctuary","\u2022 Song lyrics focus on personal experience of God",'\u2022 Services designed to be "seeker-friendly"',"This style has now spread to many denominational churches too."]},{type:"quiz",question:"What characterizes contemporary worship services?",options:["Traditional hymns sung from hymnals","Pipe organs and robed choirs","Worship bands with guitars and drums, projection screens","Complete silence and meditation"],correctAnswer:2,explanation:"Contemporary worship features worship bands with modern instruments (guitars, drums, keyboards), projection screens for lyrics, and a more casual, participatory atmosphere."},{type:"fillblank",prompt:"Thomas Campbell and Barton _______ led the Restoration Movement.",correctAnswer:"Stone",explanation:"Barton Stone, along with Thomas and Alexander Campbell, were the primary leaders of the Restoration Movement, which is also known as the Stone-Campbell Movement."},{type:"content",title:"Understanding Today",content:['The impulse to "get back to basics" appears throughout church history.',"Restorationists believe they can recreate first-century Christianity by following the Bible alone.","Critics argue we can never fully escape our own cultural context and need tradition to interpret Scripture.","Non-denominational churches offer freedom and relevance but may lack historical wisdom and accountability.","The debate continues: Should we preserve tradition or start fresh in each generation?"],highlight:"\ud83d\udcad Reflection: What are the advantages and disadvantages of having no denominational connection?"},{type:"completion",title:"Restoration Completed!",message:"You've learned about the Restoration Movement's quest to return to New Testament Christianity and the rise of contemporary non-denominational churches!",keyTakeaways:['Restorationists (Churches of Christ, Disciples of Christ) sought to restore "simple New Testament Christianity" by rejecting all creeds and traditions',"Non-denominational churches emphasize local autonomy, contemporary worship, and practical preaching","Contemporary worship (worship bands, projection screens, casual atmosphere) has become mainstream across many traditions"],badge:{icon:"\ud83d\udcd6",name:"Restoration Expert",description:"Completed Back to Basics lesson"}}]},yn={id:8,title:"Your Journey: Understanding & Choosing",subtitle:"Finding your church home",duration:"9 min",cards:[{type:"content",title:"Welcome to the Final Lesson!",subtitle:"\u23f1\ufe0f About 9 minutes",content:["**Learning Objective:** By the end of this lesson, you will be able to identify what Christians share, understand denominational differences, and know how to find a church home.","You've journeyed through 2,000 years of church history!","Now it's time to think about YOUR place in this ongoing story.","This lesson helps you understand what different churches share, what divides them, and how to find a church home."],highlight:"\ud83d\udcad Reflect: What questions do you have about finding a church?",requireAcknowledgment:!0},{type:"content",title:"What All Christians Share",content:["Despite our divisions, all Christians affirm core beliefs from the **Apostles' Creed**:","\u2022 **One God** in three persons - Father, Son, and Holy Spirit","\u2022 **Jesus Christ** is fully God and fully human","\u2022 Jesus was **born of the Virgin Mary**, died on the cross, and rose from the dead","\u2022 Salvation comes through **Jesus alone**","\u2022 The **Bible** is God's inspired word","\u2022 Jesus will **return** to judge the living and the dead","These essentials unite Christians across all denominations!"],highlight:'\ud83d\udca1 "In essentials unity, in non-essentials liberty, in all things charity"'},{type:"quiz",question:"Which statement would ALL Christians affirm?",options:["Baptism should be by immersion only","Jesus Christ is fully God and fully human","We must worship on Saturday","Only adults should be baptized"],correctAnswer:1,explanation:"All Christians across denominations affirm that Jesus Christ is both fully God and fully human. Baptism practices, worship days, and other details vary, but Christ's divine and human nature is essential to Christian faith."},{type:"content",title:"The Major Dividing Lines",content:["Christians disagree on important secondary issues:","**1. Church Authority:** Does authority rest in the Pope, bishops, local churches, or individual believers?","**2. Salvation:** Do we contribute to salvation through good works, or is it entirely God's grace?","**3. Sacraments:** Are baptism and communion symbolic or do they convey actual grace?","**4. Baptism:** Should we baptize infants or only believing adults? Immersion or sprinkling?","**5. Worship Style:** Should worship be liturgical and formal, or spontaneous and contemporary?","Understanding these issues helps you recognize different traditions."]},{type:"quiz",question:'What is a "sacrament" or "ordinance"?',options:["A church law or rule","A sacred act like baptism or communion","A worship song","A type of prayer"],correctAnswer:1,explanation:"A sacrament (Catholic/Orthodox) or ordinance (Protestant) is a sacred act instituted by Jesus, like baptism and communion. Churches disagree on whether these acts convey grace or are symbolic remembrances."},{type:"matching",title:"Match Church Traditions",pairs:[{term:"Catholic",definition:"Pope as head, seven sacraments, apostolic succession"},{term:"Orthodox",definition:"Icons, liturgy, national churches, mystical theology"},{term:"Protestant",definition:"Scripture alone, faith alone, priesthood of believers"},{term:"Pentecostal",definition:"Spiritual gifts, speaking in tongues, experiential worship"}]},{type:"content",title:"Visiting Churches Respectfully",content:["As you explore different churches, remember:","**Catholic/Orthodox Mass:** Stand, sit, and kneel when others do. Non-Catholics/non-Orthodox should not take communion.",'**Liturgical Protestant:** Follow along in the bulletin. Communion policies vary - some are "open" (all welcome), others "closed."',"**Evangelical/Pentecostal:** Expect contemporary music, casual dress, hands raised in worship. Altar calls may happen.","**Traditional Protestant:** Hymns from hymnals, formal liturgy, robed ministers.","Always be respectful, participate where appropriate, and ask questions after the service!"],highlight:"\ud83d\udcad Tip: Visit 3-4 times before judging - every church has off days!"},{type:"quiz",question:"When visiting a Catholic or Orthodox church, what should non-members NOT do?",options:["Stand when others stand","Take communion","Sing along with hymns","Pray during the service"],correctAnswer:1,explanation:"Non-Catholics should not take communion at Catholic Mass, and non-Orthodox should not take communion in Orthodox churches. These traditions reserve communion for baptized, confirmed members in good standing."},{type:"content",title:"Questions to Ask When Choosing",content:["Finding a church home? Ask yourself:","1. **Biblical Teaching:** Does the church teach the Bible faithfully and clearly?","2. **Authentic Community:** Will I find genuine relationships and support?","3. **Worship Style:** Does the worship help me connect with God?","4. **Mission & Service:** Is the church serving the community and sharing the gospel?","5. **Doctrine:** Do I agree with their core beliefs on baptism, communion, salvation?","6. **Opportunities:** Can I use my gifts and grow spiritually?","No church is perfect - look for a church family where you can both give and receive."]},{type:"quiz",question:"What is the most important factor when choosing a church?",options:["The music style you prefer","How close it is to your house","Whether they teach the Bible faithfully","How big the congregation is"],correctAnswer:2,explanation:"While personal preferences matter, the most important factor is whether the church teaches the Bible faithfully. Other factors like community, worship style, and mission are also important but should be evaluated alongside sound biblical teaching."},{type:"fillblank",prompt:'The phrase "In essentials unity, in non-essentials _______, in all things charity" guides Christian relationships.',correctAnswer:"liberty",explanation:'The famous saying "In essentials unity, in non-essentials liberty, in all things charity" reminds Christians to unite on core doctrines, allow freedom on secondary issues, and treat everyone with love.'},{type:"content",title:"Denominations Are a Family",content:["Think of denominations like siblings in a family:","\u2022 We share the same Father and the same foundational faith","\u2022 We emphasize different aspects of our shared heritage","\u2022 We sometimes argue, but we're still family","\u2022 Our diversity can be a strength, not just a weakness","Different traditions preserve different treasures:","\u2022 Catholics: Historical continuity and sacramental depth","\u2022 Orthodox: Mystical beauty and ancient liturgy","\u2022 Lutherans: Grace-centered theology","\u2022 Reformed: God's sovereignty and Scripture","\u2022 Baptists: Religious liberty and believer's baptism","\u2022 Pentecostals: Experiential faith and Spirit-empowerment"],highlight:"\ud83d\udca1 You can appreciate all traditions while finding your home in one!"},{type:"content",title:"You Are Part of This Story",content:["Church history didn't end - YOU are part of it!","The decisions you make, the church you join, the faith you live - all of it continues the story that began at Pentecost.","Will you preserve ancient traditions or pioneer new expressions of faith?","Will you build bridges between divided Christians?","Will you share the gospel in your generation?","The 21st century chapter of church history is being written right now. **You're writing it.**"],highlight:"\ud83c\udf1f Your faith journey matters to God and to His church!"},{type:"quiz",question:"What makes you part of church history?",options:["Only if you become a pastor or missionary","Only if you do something famous","Your faith and life contribute to the ongoing story of God's church","You have to be part of a specific denomination"],correctAnswer:2,explanation:"Every believer is part of church history! Your faith journey, the church you join, and how you live out your faith all contribute to the ongoing story of God's people. You don't need to be famous or hold an official position."},{type:"completion",title:"Congratulations, Church History Scholar!",message:"You've completed the entire Church History journey! From Pentecost to today, you now understand the rich, complex story of Christianity. May this knowledge help you find your place in God's ongoing story!",keyTakeaways:["All Christians share core beliefs (Trinity, Jesus as Savior, Bible's authority, resurrection)","Denominational differences are often about secondary issues - we can disagree charitably while maintaining unity on essentials","You are part of church history! Your faith journey contributes to the ongoing story of God's people"],badge:{icon:"\ud83c\udf93",name:"Church History Graduate",description:"Completed the entire Church History study guide!"}}]};var bn=n(144),vn=n(667),xn=n(662);const wn=async e=>{try{const t=await(0,vn.x7)((0,vn.H9)(xn.db,"users",e));return t.exists()?{success:!0,profile:t.data()}:{success:!1,error:"User profile not found"}}catch(t){return console.error("Get user profile error:",t),{success:!1,error:t.message}}},Sn=()=>xn.j.currentUser;let kn=[];const Cn="userProfile",Nn="churchHistoryProgress",Tn="churchHistoryTotalXP",jn="bibleHistoryProgress",En="bibleHistoryTotalXP",An="apologeticsProgress",In="apologeticsTotalXP";function _n(){try{const e=localStorage.getItem(Cn);return e?JSON.parse(e):null}catch(e){return null}}function Pn(e){const t=_n()||{},n=(0,a.A)((0,a.A)((0,a.A)({},t),e),{},{updatedAt:(new Date).toISOString()});return localStorage.setItem(Cn,JSON.stringify(n)),n}function Rn(e){try{const t=localStorage.getItem(e);return t?JSON.parse(t):[]}catch(t){return[]}}function Dn(e){const t=localStorage.getItem(e);return t?parseInt(t):0}function Ln(e){if("bible"===e){return{completedCount:Rn(jn).length,total:8,xp:Dn(En)}}if("church"===e){return{completedCount:Rn(Nn).length,total:8,xp:Dn(Tn)}}if("apologetics"===e){return{completedCount:Rn(An).length,total:8,xp:Dn(In)}}return{completedCount:0,total:0,xp:0}}function On(){const e=Ln("bible"),t=Ln("church"),n=Ln("apologetics"),i=e.completedCount+t.completedCount+n.completedCount,r=e.total+t.total+n.total,s=e.xp+t.xp+n.xp;return{percentage:r?Math.round(i/r*100):0,xp:s,paths:{bible:e,church:t,apologetics:n}}}function Mn(){return Dn(En)+Dn(Tn)+Dn(In)}async function Bn(){try{const e=Sn();if(e){const t=Mn();await(async(e,t)=>{try{const n=(0,vn.H9)(xn.db,"users",e);return await(0,vn.mZ)(n,{totalXP:t,lastUpdated:(new Date).toISOString()}),{success:!0}}catch(n){return console.error("Update XP error:",n),{success:!1,error:n.message}}})(e.uid,t)}}catch(e){console.error("Failed to sync XP to Firebase:",e)}}async function Fn(e,t){const i="bible"===e?En:"church"===e?Tn:In;localStorage.setItem(i,t.toString()),await Bn(),await async function(e){try{if(!Sn())return;const t={bible:"bible",church:"church",apologetics:"apologetics"}[e];if(!t)return;const i="bible"===e?En:"church"===e?Tn:In,r=Rn("bible"===e?jn:"church"===e?Nn:An),s=Dn(i),{completeCourseLesson:a}=await Promise.resolve().then(n.bind(n,54));console.log("Synced ".concat(t," progress to Firestore: ").concat(r.length," lessons, ").concat(s," XP"))}catch(t){console.error("Failed to sync course progress to Firestore:",t)}}(e)}async function zn(e,t){const n=Dn("bible"===e?En:"church"===e?Tn:In)+t;return await Fn(e,n),kn.forEach(e=>e()),n}function qn(e){const t=new Set(Rn("bible"===e?jn:"church"===e?Nn:An));for(let n=1;n<=8;n++)if(!t.has(n))return n;return null}function Wn(e){return"bible"===e?{title:"Bible History",accent:"blue",view:"bible-history"}:"church"===e?{title:"Church History",accent:"amber",view:"study-guide"}:"apologetics"===e?{title:"Apologetics",accent:"indigo",view:"apologetics"}:{title:"Learn",accent:"gray",view:"learn"}}function Vn(){["userProfile","churchHistoryProgress","churchHistoryTotalXP","churchHistoryQuizResults","bibleHistoryProgress","bibleHistoryTotalXP","bibleHistoryQuizResults","apologeticsProgress","apologeticsTotalXP","dailyChallengeCompletion","dailyChallengeStreak","reviewMode","reviewSchedule","hasSeenSignUpPrompt","firstAchievementTime"].forEach(e=>{localStorage.removeItem(e)})}var Hn=n(54);const Un=e=>{let{onNavigate:t,onGoBack:n}=e;const[r,s]=(0,i.useState)(null),[o,l]=(0,i.useState)([]),[c,u]=(0,i.useState)({}),[d,h]=(0,i.useState)({}),[m,p]=(0,i.useState)(null),[f,g]=(0,i.useState)(null);(0,i.useEffect)(()=>{const e=localStorage.getItem("reviewMode");if(e){const t=JSON.parse(e);"church"===t.path&&(g(t),localStorage.removeItem("reviewMode"))}},[]),(0,i.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),(0,i.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);(0,i.useEffect)(()=>{const e=localStorage.getItem("churchHistoryProgress");if(e)try{l(JSON.parse(e))}catch(t){}},[]);const y=e=>{if(!o.includes(e)){const t=[...o,e];l(t),localStorage.setItem("churchHistoryProgress",JSON.stringify(t))}},b=async(e,t)=>{if(y(e),nn("church",e),t){await zn("church",t);const n=Sn();n&&await(0,Hn.completeCourseLesson)(n.uid,"church",e,t)}p(null),window.scrollTo({top:0,behavior:"smooth"})},v=()=>{p(null),window.scrollTo({top:0,behavior:"smooth"})},x=[{lesson:1,title:"The Beginning: Early Christianity",subtitle:"How it all started",introduction:"Welcome to your journey through church history! This week, we'll explore how Christianity began and grew in its first few centuries. Don't worry if you're new to this - we'll start with the basics and build from there."},{lesson:2,title:"The Great Divide: East vs. West",subtitle:"Understanding the 1054 split",introduction:"This lesson explores one of Christianity's most significant moments: when the church split into Eastern (Orthodox) and Western (Catholic) branches. This wasn't a sudden break but rather centuries of growing differences in culture, language, and theology."},{lesson:3,title:"The Reformation: A Revolution in Faith",subtitle:"Martin Luther and the Protestant movement",introduction:"Get ready for one of history's most dramatic religious movements! In 1517, a German monk named Martin Luther challenged the Catholic Church's practices and sparked a revolution that would reshape Christianity forever. This lesson explores why it happened and what changed."},{lesson:4,title:"The Middle Way: Anglicans & Methodists",subtitle:"Finding balance between Catholic and Protestant",introduction:"Not all reformers wanted to completely break from Catholic tradition. This lesson explores two traditions that tried to find a 'middle way' - keeping some Catholic practices while embracing Protestant theology. We'll also learn about John Wesley and the Methodist revival."},{lesson:5,title:"Believer's Baptism: Baptists & Anabaptists",subtitle:"Radical reformation and religious freedom",introduction:"Some reformers thought Luther and others didn't go far enough. This lesson explores traditions that took more radical stances on baptism, church-state separation, and religious freedom. These groups were often persecuted but their ideas eventually shaped modern concepts of religious liberty."},{lesson:6,title:"The Spirit Moves: Pentecostals & Holiness Churches",subtitle:"Revival, spiritual gifts, and personal transformation",introduction:"In the late 1800s and early 1900s, powerful revival movements swept across America and beyond, emphasizing emotional worship, spiritual gifts, and complete transformation. This lesson explores two related but distinct movements that dramatically changed Christianity's landscape."},{lesson:7,title:"Back to Basics: Restorationists & Non-Denominational Churches",subtitle:"Simplifying Christianity in the modern era",introduction:"Some Christians look at denominational divisions and say, 'Let's just get back to what the Bible says!' This lesson explores movements that seek to restore 'simple' New Testament Christianity and modern churches that reject denominational labels altogether."},{lesson:8,title:"Your Journey: Understanding & Choosing",subtitle:"Putting it all together",introduction:"Congratulations on completing seven lessons of church history! This final lesson is about synthesis - understanding how all these traditions relate to each other and thinking about your own spiritual journey. There's no 'right' denomination, but understanding the options helps you make informed choices."}],w={completed:o.length,total:x.length,percentage:Math.round(o.length/x.length*100),badges:o.length,masteryLevel:((e,t)=>{const n=e/t*100;return 0===n?"Beginner":n<38?"Novice":n<63?"Scholar":n<88?"Expert":"Master"})(o.length,x.length),xp:(()=>{const e=localStorage.getItem("churchHistoryTotalXP");return e?parseInt(e):0})(),maxXP:800};if(f){const e={1:un,2:dn,3:hn,4:mn,5:pn,6:fn,7:gn,8:yn}[f.lessonNumber];if(e)return(0,Pt.jsx)(cn,{lessonData:e,path:"church",lessonNumber:f.lessonNumber,onComplete:async e=>{await zn("church",e),g(null),window.scrollTo({top:0,behavior:"smooth"})},onExit:()=>{g(null),window.scrollTo({top:0,behavior:"smooth"})}})}return 1===m?(0,Pt.jsx)($t,{lessonData:un,onComplete:e=>b(1,e),onExit:v}):2===m?(0,Pt.jsx)($t,{lessonData:dn,onComplete:e=>b(2,e),onExit:v}):3===m?(0,Pt.jsx)($t,{lessonData:hn,onComplete:e=>b(3,e),onExit:v}):4===m?(0,Pt.jsx)($t,{lessonData:mn,onComplete:e=>b(4,e),onExit:v}):5===m?(0,Pt.jsx)($t,{lessonData:pn,onComplete:e=>b(5,e),onExit:v}):6===m?(0,Pt.jsx)($t,{lessonData:fn,onComplete:e=>b(6,e),onExit:v}):7===m?(0,Pt.jsx)($t,{lessonData:gn,onComplete:e=>b(7,e),onExit:v}):8===m?(0,Pt.jsx)($t,{lessonData:yn,onComplete:e=>b(8,e),onExit:v}):(0,Pt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-orange-50",children:[(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-amber-600 to-orange-600 text-white py-16 px-4",children:(0,Pt.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,Pt.jsx)(Dt,{className:"w-12 h-12 mr-3"}),(0,Pt.jsx)("h1",{className:"text-4xl md:text-5xl font-bold",children:"Church History Study Guide"})]}),(0,Pt.jsx)("p",{className:"text-xl md:text-2xl text-amber-100 mb-6",children:"An 8-Lesson Journey from Early Christianity to Modern Churches"}),(0,Pt.jsx)("p",{className:"text-lg text-amber-50 max-w-2xl mx-auto",children:"Discover how the Christian church grew, split, and evolved over 2,000 years. Track your progress as you learn."})]})}),(0,Pt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,Pt.jsxs)("button",{onClick:()=>n?n():t("paths"),className:"inline-flex items-center gap-2 px-4 py-2 mb-6 rounded-xl border-2 border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition",children:[(0,Pt.jsx)(Lt,{className:"w-4 h-4"}),(0,Pt.jsx)("span",{children:"Back"})]}),(0,Pt.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-12 border-2 border-amber-100",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)(Ot,{className:"w-8 h-8 text-amber-600 mr-3"}),(0,Pt.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Your Progress"})]}),(0,Pt.jsxs)("span",{className:"text-3xl md:text-4xl font-bold text-amber-600",children:[w.percentage,"%"]})]}),(0,Pt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-6",children:(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 h-4 rounded-full transition-all duration-500",style:{width:"".concat(w.percentage,"%")}})}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Pt.jsxs)("div",{className:"bg-amber-50 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 text-amber-700 mb-1",children:[(0,Pt.jsx)(Mt,{className:"w-5 h-5"}),(0,Pt.jsx)("span",{className:"font-semibold",children:"Completed"})]}),(0,Pt.jsxs)("p",{className:"text-2xl font-bold text-amber-900",children:[w.completed,"/",w.total]})]}),(0,Pt.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 text-purple-700 mb-1",children:[(0,Pt.jsx)(Bt,{className:"w-5 h-5"}),(0,Pt.jsx)("span",{className:"font-semibold",children:"Badges Earned"})]}),(0,Pt.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:w.badges})]}),(0,Pt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 text-blue-700 mb-1",children:[(0,Pt.jsx)(Ot,{className:"w-5 h-5"}),(0,Pt.jsx)("span",{className:"font-semibold",children:"Mastery Level"})]}),(0,Pt.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:w.masteryLevel})]}),(0,Pt.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 text-green-700 mb-1",children:[(0,Pt.jsx)(Ft,{className:"w-5 h-5"}),(0,Pt.jsx)("span",{className:"font-semibold",children:"Total XP"})]}),(0,Pt.jsxs)("p",{className:"text-2xl font-bold text-green-900",children:[w.xp,"/",w.maxXP]})]})]})]}),(0,Pt.jsxs)("div",{className:"mb-12",children:[(0,Pt.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Pt.jsx)(Et,{className:"w-8 h-8 text-orange-600 mr-3"}),(0,Pt.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"8-Lesson Curriculum"})]}),(0,Pt.jsx)("p",{className:"text-gray-700 mb-8 text-lg",children:"Click any lesson below to explore the content. Each lesson builds on the previous one, taking you from the early church through major schisms and reformations to today's denominations and worship styles."}),(0,Pt.jsx)("div",{className:"space-y-4",children:x.map(e=>{const n=r===e.lesson,l=o.includes(e.lesson),m=d[e.lesson],f=e.lesson>=1&&e.lesson<=8,g=e.lesson>1&&!o.includes(e.lesson-1);return(0,Pt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border-2 transition-all ".concat(l?"border-green-400":g?"border-gray-300 opacity-60":"border-gray-200"),children:[(0,Pt.jsx)("button",{onClick:()=>{g||(f?p(e.lesson):s(n?null:e.lesson))},disabled:g,className:"w-full p-6 transition ".concat(g?"cursor-not-allowed":"hover:bg-gray-50 cursor-pointer"),children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Pt.jsx)("div",{className:"w-12 h-12 min-w-[3rem] rounded-full flex items-center justify-center text-xl font-bold flex-shrink-0 ".concat(l?"bg-green-100 text-green-700":g?"bg-gray-200 text-gray-400":"bg-amber-100 text-amber-700"),children:l?(0,Pt.jsx)(Mt,{className:"w-6 h-6"}):e.lesson}),(0,Pt.jsxs)("div",{className:"text-left",children:[(0,Pt.jsx)("h3",{className:"text-xl font-bold ".concat(g?"text-gray-400":"text-gray-800"),children:e.title}),(0,Pt.jsx)("p",{className:"".concat(g?"text-gray-400":"text-gray-600"),children:e.subtitle})]})]}),g?(0,Pt.jsx)("div",{className:"flex items-center justify-center",children:(0,Pt.jsx)(zt,{className:"w-6 h-6 text-gray-400 flex-shrink-0"})}):l?(0,Pt.jsx)("span",{className:"text-sm font-bold text-green-600 bg-green-100 px-4 py-2 rounded-full",children:"Complete"}):f?(0,Pt.jsx)("span",{className:"text-sm font-bold text-purple-600 bg-purple-100 px-4 py-2 rounded-full",children:"Start"}):n?(0,Pt.jsx)(qt,{className:"w-6 h-6"}):(0,Pt.jsx)(Wt,{className:"w-6 h-6"})]})}),!f&&n&&(0,Pt.jsxs)("div",{className:"px-6 pb-6 border-t-2 border-gray-100 pt-6",children:[(0,Pt.jsxs)("div",{className:"mb-6",children:[(0,Pt.jsx)("h4",{className:"font-semibold text-gray-800 mb-2 text-lg",children:"Introduction"}),(0,Pt.jsx)("p",{className:"text-gray-700 leading-relaxed",children:e.introduction})]}),(0,Pt.jsxs)("div",{className:"mb-6",children:[(0,Pt.jsx)("h4",{className:"font-semibold text-gray-800 mb-3 text-lg",children:"Key Topics This Lesson"}),(0,Pt.jsx)("ul",{className:"space-y-2",children:e.keyTopics.map((e,t)=>(0,Pt.jsxs)("li",{className:"flex items-start",children:[(0,Pt.jsx)("div",{className:"w-2 h-2 bg-amber-500 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,Pt.jsx)("span",{className:"text-gray-700",children:e})]},t))})]}),(0,Pt.jsxs)("div",{className:"mb-6 bg-amber-50 rounded-lg p-4 border-l-4 border-amber-500",children:[(0,Pt.jsx)("h4",{className:"font-semibold text-gray-800 mb-2 text-lg",children:"Simple Explanation"}),(0,Pt.jsx)("p",{className:"text-gray-700 leading-relaxed",children:e.beginnerExplanation})]}),e.detailedContent&&(0,Pt.jsxs)("div",{className:"mb-6",children:[(0,Pt.jsx)("h4",{className:"font-semibold text-gray-800 mb-4 text-lg",children:"In-Depth Study"}),(0,Pt.jsx)("div",{className:"space-y-4",children:e.detailedContent.map((e,t)=>{return(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-4 border-2 border-gray-200",children:[(0,Pt.jsx)("h5",{className:"font-bold text-gray-900 mb-2",children:e.heading}),(0,Pt.jsx)("p",{className:"text-gray-700 leading-relaxed",children:(n=e.text,n.split(/(\(\d+\)\s|\d+\.\s)/).map((e,t)=>{const n=e.split(/(\*\*[^*]+\*\*)/g).map((e,n)=>e.startsWith("**")&&e.endsWith("**")?(0,Pt.jsx)("strong",{children:e.slice(2,-2)},"b-".concat(t,"-").concat(n)):e);return t>0&&/(\(\d+\)\s|\d+\.\s)/.test(e)?(0,Pt.jsxs)(i.Fragment,{children:[(0,Pt.jsx)("br",{}),(0,Pt.jsx)("br",{}),n]},"p-".concat(t)):(0,Pt.jsx)(i.Fragment,{children:n},"p-".concat(t))}))})]},t);var n})})]}),(0,Pt.jsxs)("div",{className:"mb-6",children:[(0,Pt.jsx)("h4",{className:"font-semibold text-gray-800 mb-3 text-lg",children:"Questions to Consider"}),(0,Pt.jsx)("ul",{className:"space-y-2",children:e.reflectionQuestions.map((e,t)=>(0,Pt.jsxs)("li",{className:"flex items-start",children:[(0,Pt.jsxs)("span",{className:"text-orange-600 font-bold mr-3 flex-shrink-0",children:[t+1,"."]}),(0,Pt.jsx)("span",{className:"text-gray-700 italic",children:e})]},t))})]}),(0,Pt.jsxs)("div",{className:"mb-6 bg-orange-50 rounded-lg p-4 border-l-4 border-orange-500",children:[(0,Pt.jsx)("h4",{className:"font-semibold text-gray-800 mb-2 text-lg",children:"This Lesson's Practice"}),(0,Pt.jsx)("p",{className:"text-gray-700 leading-relaxed",children:e.practicalApplication})]}),(0,Pt.jsxs)("div",{className:"mb-6",children:[(0,Pt.jsx)("h4",{className:"font-semibold text-gray-800 mb-3 text-lg",children:"Explore in the App"}),(0,Pt.jsx)("div",{className:"flex flex-wrap gap-2",children:e.appLinks.map((e,n)=>(0,Pt.jsx)("button",{onClick:()=>(e=>{e.includes("Bible Timeline")||e.includes("Denomination")?(t("explorer"),window.scrollTo({top:0,behavior:"smooth"})):e.includes("Church History Guide")&&(t("study-guide"),window.scrollTo({top:0,behavior:"smooth"}))})(e),className:"inline-block bg-gradient-to-r from-amber-100 to-orange-100 text-amber-800 px-4 py-2 rounded-full text-sm font-medium border border-amber-200 hover:from-amber-200 hover:to-orange-200 hover:shadow-md transition cursor-pointer",children:e},n))})]}),e.quiz&&(0,Pt.jsxs)("div",{className:"mb-6 bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-6 border-2 border-amber-200",children:[(0,Pt.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Pt.jsx)("div",{className:"bg-amber-500 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold mr-3",children:"?"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("h4",{className:"font-bold text-gray-900 text-lg",children:["Lesson ",e.lesson," Quiz"]}),(0,Pt.jsx)("p",{className:"text-sm text-gray-600",children:"Test your understanding with 5 questions"})]})]}),m?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("div",{className:"space-y-6",children:e.quiz.map((t,n)=>{const i=c["".concat(e.lesson,"-").concat(n)],r=i===t.correctAnswer;return(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[(0,Pt.jsxs)("p",{className:"font-semibold text-gray-900 mb-3",children:[n+1,". ",t.question]}),(0,Pt.jsx)("div",{className:"space-y-2",children:t.options.map((e,n)=>{const s=i===n;let a="w-full text-left p-3 rounded-lg border-2 cursor-default ";return a+=n===t.correctAnswer?"border-green-500 bg-green-50":s&&!r?"border-red-500 bg-red-50":"border-gray-200 bg-gray-50",(0,Pt.jsxs)("div",{className:a,children:[(0,Pt.jsxs)("span",{className:"font-medium text-gray-700 mr-2",children:[String.fromCharCode(65+n),"."]}),e]},n)})}),(0,Pt.jsxs)("div",{className:"mt-3 p-3 rounded-lg ".concat(r?"bg-green-100 border-l-4 border-green-500":"bg-blue-100 border-l-4 border-blue-500"),children:[(0,Pt.jsx)("p",{className:"text-sm font-semibold text-gray-900 mb-1",children:r?"\u2713 Correct!":"Explanation:"}),(0,Pt.jsx)("p",{className:"text-sm text-gray-800",children:t.explanation})]})]},n)})}),(0,Pt.jsxs)("div",{className:"mt-6 p-4 bg-white rounded-lg border-2 border-amber-300",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Pt.jsx)("span",{className:"text-lg font-bold text-gray-800",children:"Your Score:"}),(0,Pt.jsxs)("span",{className:"text-2xl font-bold text-amber-600",children:[m.score," / ",m.total]})]}),m.score>=.7*m.total?(0,Pt.jsxs)("p",{className:"text-green-700 font-semibold flex items-center",children:[(0,Pt.jsx)(Mt,{className:"w-5 h-5 mr-2"}),"Great job! You passed this lesson! \u2713"]}):(0,Pt.jsx)("p",{className:"text-orange-700",children:"Review the material and try again (need 70% to pass)"})]}),(0,Pt.jsx)("div",{className:"mt-6",children:(0,Pt.jsx)("button",{onClick:()=>{h(t=>{const n=(0,a.A)({},t);return delete n[e.lesson],n}),u(t=>{const n=(0,a.A)({},t);return e.quiz.forEach((t,i)=>{delete n["".concat(e.lesson,"-").concat(i)]}),n})},className:"w-full bg-gray-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-gray-700 transition shadow-md hover:shadow-lg",children:"Retake Quiz"})})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("div",{className:"space-y-6",children:e.quiz.map((t,n)=>{const i=c["".concat(e.lesson,"-").concat(n)];return(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[(0,Pt.jsxs)("p",{className:"font-semibold text-gray-900 mb-3",children:[n+1,". ",t.question]}),(0,Pt.jsx)("div",{className:"space-y-2",children:t.options.map((t,r)=>{const s=i===r;return(0,Pt.jsxs)("button",{onClick:()=>{return t=e.lesson,i=n,s=r,void u(e=>(0,a.A)((0,a.A)({},e),{},{["".concat(t,"-").concat(i)]:s}));var t,i,s},className:"w-full text-left p-3 rounded-lg border-2 transition ".concat(s?"border-amber-500 bg-amber-50":"border-gray-200 hover:border-amber-300 hover:bg-gray-50"),children:[(0,Pt.jsxs)("span",{className:"font-medium text-gray-700 mr-2",children:[String.fromCharCode(65+r),"."]}),t]},r)})})]},n)})}),(0,Pt.jsx)("div",{className:"mt-6",children:(0,Pt.jsx)("button",{onClick:()=>((e,t)=>{let n=0;t.forEach((t,i)=>{c["".concat(e,"-").concat(i)]===t.correctAnswer&&n++});const i={score:n,total:t.length};h(t=>(0,a.A)((0,a.A)({},t),{},{[e]:i}));const r=localStorage.getItem("churchHistoryQuizResults"),s=r?JSON.parse(r):{};s[e]=i,localStorage.setItem("churchHistoryQuizResults",JSON.stringify(s)),n>=.7*t.length&&y(e)})(e.lesson,e.quiz),className:"w-full bg-amber-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-amber-700 transition shadow-md hover:shadow-lg",children:"Submit Quiz"})})]})]}),!l&&(0,Pt.jsx)("button",{onClick:()=>y(e.lesson),className:"mt-6 w-full bg-green-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-green-700 transition",children:"Mark as Complete"})]})]},e.lesson)})})]})]})]})},Gn={id:1,title:"From Mouth to Manuscript",subtitle:"How oral tradition became written text",duration:"6 min",cards:[{type:"content",title:"From Mouth to Manuscript",subtitle:"\u23f1\ufe0f About 6 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand how oral traditions became the written Scriptures we read today.","Long before the printing press, before paper, even before parchment was common, the stories that would become the Bible were passed down by word of mouth.","Imagine sitting around a campfire as an elder recounts the story of Moses parting the Red Sea, or Jesus feeding the 5,000. These weren't just stories\u2014they were sacred memories, carefully preserved and passed from generation to generation."],highlight:"\ud83d\udcad Quick reflection: Have you ever memorized a Bible verse or passage? Think about how you did it as we explore ancient memorization techniques.",requireAcknowledgment:!0},{type:"content",title:"The Power of Oral Tradition",content:['In the ancient Near East, oral tradition wasn\'t like the "telephone game" we played as children. It was a carefully practiced discipline.',"Professional memorizers and storytellers trained for years to preserve sacred texts with remarkable accuracy. Jewish rabbis could recite the entire Torah from memory.","Early Christian communities passed down Jesus's teachings orally for decades before they were written down. This oral period wasn't a weakness\u2014it was a feature of ancient culture where memorization was prized."],highlight:"\ud83d\udca1 Fun Fact: Professional memorizers could recall thousands of lines with 99%+ accuracy."},{type:"quiz",question:"Why was oral tradition considered reliable in ancient cultures?",options:["People had better memories than we do today","Professional memorizers trained for years to preserve texts accurately","There were no other options available","Stories were shorter and easier to remember"],correctAnswer:1,explanation:"Ancient cultures trained professional memorizers who could accurately preserve and transmit sacred texts. This wasn't casual storytelling\u2014it was a skilled profession with rigorous standards."},{type:"content",title:"Ancient Writing Materials",subtitle:"From Stone to Skin",content:["The earliest biblical texts were written on materials that seem foreign to us today.","\ud83d\udcdc **Papyrus**: Made from Egyptian reeds, lighter and cheaper but fragile\u2014it crumbled in damp climates.","\ud83e\udea8 **Stone tablets**: Durable but heavy (like the Ten Commandments!).","\ud83d\udcd6 **Parchment**: Treated animal skin, expensive but lasted longer. This became the preferred material.",'Around the 2nd-4th centuries AD, Christians pioneered the "codex" format (pages bound together like a modern book) instead of scrolls.'],highlight:"The codex format was revolutionary \u2014 you could flip directly to John's Gospel instead of unrolling through Matthew, Mark, and Luke first."},{type:"matching",title:"Match the Writing Material",pairs:[{term:"Papyrus",definition:"Made from Egyptian reeds, cheap but fragile"},{term:"Parchment",definition:"Treated animal skin, expensive but durable"},{term:"Codex",definition:"Pages bound together like a modern book"},{term:"Scroll",definition:"Long sheet rolled up, had to unroll to read"}]},{type:"content",title:"The Scribes: Ancient Copy Machines",content:["Before photocopiers and printing presses, every Bible had to be copied by hand\u2014letter by letter, word by word.","\u270d\ufe0f **Jewish scribes (sopherim)** followed strict rules:","\u2022 They counted every letter to ensure accuracy","\u2022 They washed before writing God's name","\u2022 They destroyed any manuscript with errors","\ud83d\udcdd **Christian scribes** were similarly careful but not always as strict. They worked in scriptoriums (writing rooms), often copying from dictation.",'This meticulous work is why we have variants in manuscripts\u2014a scribe might mishear a word, skip a line accidentally, or even "correct" what seemed like an error.']},{type:"fillblank",prompt:"Before printing presses, every Bible had to be copied by hand by professional ________.",correctAnswer:"scribes",explanation:"Scribes were the professionals who painstakingly copied biblical manuscripts by hand, following strict rules to maintain accuracy."},{type:"content",title:"Why Copying Errors Matter (and Don't)",content:['It sounds alarming: "There are thousands of variants in Bible manuscripts!" But context matters.',"\u2705 **Most variants are minor**:","\u2022 Spelling differences","\u2022 Word order changes",'\u2022 Missing articles like "the"',"\ud83d\udd0d **Scholars can usually determine the original wording** by comparing manuscripts.","\ud83d\udccc **The major variants** (like the ending of Mark or the woman caught in adultery in John 8) are clearly marked in modern Bibles.","\u2728 **No core Christian doctrine depends on a disputed text.**"],highlight:"\ud83d\udcaa Strength, not weakness: The abundance of manuscripts actually makes it easier to reconstruct the original."},{type:"quiz",question:"What is true about the abundance of biblical manuscripts?",options:["It makes it harder to know what the original said","It shows the text is unreliable","It actually helps scholars reconstruct the original text more accurately","It proves there were many different versions of the Bible"],correctAnswer:2,explanation:"Having thousands of manuscripts is a strength, not a weakness. The more copies we have, the easier it is to compare them and determine the original wording. The Bible has far more manuscript evidence than any other ancient text."},{type:"reflection",question:"How does learning about the Bible's journey from oral tradition to manuscript change your view of Scripture?",prompts:["What surprised you most about how the Bible was preserved?","How does knowing about manuscript variants affect your confidence in the Bible?",'What would you tell someone who says "the Bible has been changed over time"?']},{type:"completion",title:"Lesson Complete! \ud83c\udf89",message:'You\'ve mastered "From Mouth to Manuscript"! You now understand how the Bible transitioned from oral tradition to written text.',keyTakeaways:["Oral tradition was highly reliable\u2014professional memorizers preserved texts with 99%+ accuracy","Biblical manuscripts were copied on papyrus, parchment, and eventually the revolutionary codex format","Manuscript variants exist, but most are minor and don't affect any core Christian doctrine"],badge:{icon:"\ud83d\udcdc",name:"Scroll Scholar",description:"Completed Lesson 1: From Mouth to Manuscript"}}]},Jn={id:2,title:"The Manuscript Detective Story",subtitle:"Recovering the original text from thousands of copies",duration:"7 min",cards:[{type:"content",title:"Welcome, Detective!",subtitle:"\u23f1\ufe0f About 7 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand how scholars reconstruct the original biblical text from thousands of ancient manuscript copies.","Imagine you're a detective, but instead of solving crimes, you're solving a textual mystery: What did the original biblical authors actually write?","We don't have Paul's original letter to the Romans or Matthew's first draft of his Gospel. What we have are copies of copies of copies\u2014thousands of them.","Welcome to the fascinating world of **textual criticism**, where scholars piece together the original text like assembling a jigsaw puzzle."],highlight:"\ufffd Quick thought: How confident can we be in the Bible if we don't have the originals?",requireAcknowledgment:!0},{type:"content",title:"The Mystery: Where Are the Originals?",content:["Here's a surprising fact: Not a single original biblical manuscript exists today. Why?","\ud83d\udcdc **Papyrus and parchment decay over time**, especially in humid climates.","\ud83d\ude4f Once a manuscript became worn from use, it was **reverently buried or destroyed** (to prevent misuse of God's name) and replaced with a fresh copy.","The earliest New Testament fragment we have (John 18:31-33) dates to around **125 AD**\u2014just 30-40 years after John wrote his Gospel.","\ud83c\udfc6 That's incredibly close compared to other ancient texts. Most classical works have 1,000+ year gaps between composition and earliest copies."]},{type:"quiz",question:"Why don't we have any original biblical manuscripts today?",options:["They were all destroyed in early Christian persecutions","Ancient writing materials decayed over time, and worn copies were replaced","The Catholic Church deliberately destroyed them","They were lost during the fall of Rome"],correctAnswer:1,explanation:"Papyrus and parchment naturally decay, especially in humid climates. Worn manuscripts were reverently replaced with fresh copies. This was normal practice for ancient texts."},{type:"content",title:"Textual Criticism: The Science of Recovery",content:['Textual criticism sounds destructive, but **"criticism" here means "careful evaluation"**, not "finding fault."',"Scholars compare thousands of manuscripts to determine the most likely original wording.","\ud83d\udd2c **The Method**:","1. Collect all manuscript evidence","2. Identify where manuscripts differ","3. Apply principles to determine which reading is original","\ud83d\udccf **Key Principles**:","\u2022 **Prefer the harder reading** (scribes tended to simplify difficulties)","\u2022 **Prefer the shorter reading** (scribes added explanations)","\u2022 **Prefer the reading that explains the others** (the variant that best explains how other variants arose is likely original)"],highlight:"\ud83d\udca1 It's like solving a puzzle where you have all the pieces, but some pieces are slightly different!"},{type:"content",title:"Manuscript Families: Three Main Lines",content:['Manuscripts cluster into "families" based on shared characteristics\u2014like genetic family trees.',"\ud83c\udfdb\ufe0f **Alexandrian text** (Egypt, 2nd-4th centuries): Generally shorter and considered more accurate. Egypt's dry climate preserved early manuscripts beautifully.","\ud83c\udf0d **Western text** (North Africa, Europe, 3rd-9th centuries): Has more paraphrasing and explanatory additions.","\u26ea **Byzantine text** (Constantinople, 5th-15th centuries): Represents the majority of manuscripts and became the basis for the King James Version.","Modern translations like NIV and ESV primarily follow **Alexandrian texts** while noting significant Byzantine variants."]},{type:"matching",title:"Match the Manuscript Family",pairs:[{term:"Alexandrian",definition:"Egypt, generally shorter and more accurate"},{term:"Western",definition:"North Africa/Europe, more paraphrasing"},{term:"Byzantine",definition:"Constantinople, basis for King James Version"},{term:"Textual Criticism",definition:"Careful evaluation to determine original text"}]},{type:"content",title:"Dead Sea Scrolls: Game-Changing Discovery",content:["In **1947**, a Bedouin shepherd threw a rock into a cave near Qumran and heard pottery shatter. Inside were jars containing scrolls over **2,000 years old**!","\ud83c\udfaf **Why This Matters**:","Before this, our earliest complete Hebrew Old Testament dated to **1008 AD**. The Dead Sea Scrolls pushed that back to **200 BC** for some books.","\u2728 **The Shocking Result**:","The text had been preserved with **remarkable accuracy**. Isaiah scrolls from 125 BC match medieval manuscripts almost perfectly.","\ud83d\ude4c This discovery silenced critics who claimed the Old Testament had been corrupted over centuries."],highlight:"\ud83c\udfc6 The Dead Sea Scrolls proved the Bible was copied with incredible accuracy for over 1,000 years."},{type:"fillblank",prompt:"The ________ ________ Scrolls, discovered in 1947, are the oldest biblical manuscripts ever found.",correctAnswer:"Dead Sea",explanation:"The Dead Sea Scrolls, discovered in caves near Qumran in 1947, date back to around 200 BC - 100 AD and confirmed the remarkable accuracy of biblical text transmission."},{type:"content",title:"Understanding Your Bible's Footnotes",content:['Ever see notes like **"Some manuscripts add..."** or **"The earliest manuscripts do not include..."**? These show where ancient manuscripts differ.','\ud83d\udcd6 **Example**: Mark 16:9-20 (the "longer ending" with snake handling and poison drinking) is absent from the earliest and best manuscripts.',"\ud83d\udcdd **Another Example**: John 7:53-8:11 (woman caught in adultery) is beautiful and true to Jesus's character, but it's probably not originally part of John's Gospel.","Modern Bibles include these passages but bracket them with notes.","\u2728 This isn't hiding anything\u2014**it's being honest about the textual evidence**."],highlight:"\ud83d\udcaa Transparency increases trust. Modern Bibles show you where scholars have questions."},{type:"quiz",question:"What was significant about the Dead Sea Scrolls discovery?",options:["They contained lost books of the Bible","They proved the Old Testament had been corrupted over time","They pushed our manuscript evidence back 1,000 years and confirmed textual accuracy","They revealed that Jesus was married"],correctAnswer:2,explanation:"The Dead Sea Scrolls (dated around 200 BC - 100 AD) are about 1,000 years older than previously known Hebrew manuscripts. Remarkably, they match later manuscripts almost perfectly, confirming careful preservation."},{type:"completion",title:"Case Closed! \ud83c\udf89",message:'You\'ve solved "The Manuscript Detective Story"! You now understand how scholars reconstruct the original biblical text from thousands of ancient copies.',keyTakeaways:["We don't have original biblical manuscripts, but we have thousands of early copies","Textual criticism compares manuscripts to reconstruct the original text with >99% accuracy","The Bible has better manuscript evidence than any other ancient document"],badge:{icon:"\ud83d\udd0d",name:"Manuscript Detective",description:"Completed Lesson 2: The Manuscript Detective Story"}}]},Kn={id:3,title:"Lost in Translation?",subtitle:"From Hebrew and Greek to your language",duration:"8 min",cards:[{type:"content",title:"Lost in Translation?",subtitle:"\u23f1\ufe0f About 8 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand how the Bible was translated from Hebrew and Greek into English and why different versions exist.",'Have you ever played the game "telephone," where a message gets whispered from person to person and becomes hilariously garbled by the end?',"Translation can feel like that\u2014but biblical translation is far more careful.","Every time the Bible moves from one language to another, translators face a fundamental tension: Do you translate **word-for-word** (formal equivalence) or **thought-for-thought** (dynamic equivalence)?","Let's explore this fascinating journey from ancient languages to English!"],highlight:"\ud83d\udcad Think about it: Have you noticed differences between Bible versions? Wonder why?",requireAcknowledgment:!0},{type:"content",title:"The Septuagint: Judaism's Greek Bible",content:["Around **250 BC**, Jewish scholars in Alexandria, Egypt translated the Hebrew Scriptures into Greek (called the **Septuagint** or **LXX**).","\ud83e\udd14 **Why?** Many Jews in the diaspora spoke Greek, not Hebrew.","\u2b50 **Why This Matters**:","1\ufe0f\u20e3 It's the version most quoted in the New Testament","2\ufe0f\u20e3 It included books (Tobit, Wisdom, Maccabees) that weren't in the Hebrew canon\u2014fueling later debates about the Apocrypha","3\ufe0f\u20e3 It shows how Jews understood their Scriptures before Christianity emerged","When you see Old Testament quotes in the New Testament that don't quite match your Old Testament, it's often because NT authors quoted the Septuagint!"]},{type:"quiz",question:"What was significant about the Septuagint?",options:["It was the first Bible ever written","It translated Hebrew Scriptures to Greek and included books that became the Apocrypha","It was written by Jesus's disciples","It proved the Old Testament was corrupted"],correctAnswer:1,explanation:"The Septuagint (LXX), created around 250 BC, translated Hebrew Scriptures into Greek for diaspora Jews. It included additional books (Deuterocanonical/Apocrypha) and became the version most quoted in the New Testament."},{type:"content",title:"Jerome's Vulgate: The Latin Standard",content:["By the **4th century**, Latin had replaced Greek as the common language of the Western Roman Empire.","Pope Damasus commissioned **Jerome**\u2014a brilliant but cranky scholar\u2014to create a definitive Latin Bible.","\ud83d\udd25 **Jerome did something radical**: Instead of translating from the Greek Septuagint (which most Christians used), he went back to the **Hebrew originals**!","This controversial choice meant his **Vulgate** sometimes differed from the Greek Old Testament.","\ud83d\udcda For over **1,000 years** (400-1500s AD), the Vulgate was THE Bible for Western Christianity.","The Protestant Reformation challenged its authority, but it remained the Catholic Church's official version until the 20th century."],highlight:'\ud83d\udca1 Fun Fact: Jerome was so grumpy that he once wrote, "I would rather face a lion than deal with critics!"'},{type:"content",title:"Translation Philosophy: The Spectrum",content:["Every translation sits on a spectrum between two approaches:","\ud83d\udccf **Formal Equivalence (word-for-word)**:","\u2022 Translates each word as literally as possible","\u2022 Examples: NASB, ESV, KJV","\u2022 \u2705 Great for study; maintains original ambiguities","\u2022 \u274c Can sound wooden; Hebrew idioms don't always make sense in English","\ud83d\udcad **Dynamic Equivalence (thought-for-thought)**:","\u2022 Translates the meaning of phrases, not individual words","\u2022 Examples: NIV, NLT, GNT","\u2022 \u2705 Readable, captures the author's intent","\u2022 \u274c More translator interpretation; some nuance lost","\ud83c\udfa8 **Paraphrase**: Rewrites in contemporary language (Example: The Message)","\u2022 \u2705 Highly readable, fresh perspective","\u2022 \u274c Even more interpretation, less precise"]},{type:"matching",title:"Match the Translation Type",pairs:[{term:"Formal Equivalence",definition:"Word-for-word (ESV, NASB, KJV)"},{term:"Dynamic Equivalence",definition:"Thought-for-thought (NIV, NLT)"},{term:"Paraphrase",definition:"Rewritten in contemporary language (The Message)"},{term:"Septuagint",definition:"Greek translation of Hebrew Scriptures (250 BC)"}]},{type:"content",title:"Why English Bibles Differ",content:["Open five English Bibles to the same verse, and you might see five different wordings. Why?","1\ufe0f\u20e3 **Source texts differ**: KJV used later Byzantine manuscripts; modern versions use earlier Alexandrian texts","2\ufe0f\u20e3 **Translation philosophy**: ESV is formal; NIV is dynamic",'3\ufe0f\u20e3 **English changes**: KJV\'s "thee/thou" sounded normal in 1611 but archaic today',"4\ufe0f\u20e3 **Theological tradition**: Some translations lean toward specific traditions",'5\ufe0f\u20e3 **Committee decisions**: Translation involves judgment calls\u2014should "sarx" be "flesh" or "sinful nature"? Both are defensible!'],highlight:"\ud83d\udcaa This diversity is a strength! Comparing translations helps you see interpretive options."},{type:"fillblank",prompt:"Jerome created the Latin ________, which became the Catholic Church's official Bible for over 1,000 years.",correctAnswer:"Vulgate",explanation:'Jerome\'s Vulgate (from Latin "vulgata" meaning "common") was the Latin translation that dominated Western Christianity from around 400 AD to the 1500s.'},{type:"content",title:"Choosing Your Translation",content:['There\'s no single "best" translation\u2014it depends on your purpose!',"\ud83d\udcda **For word study and deep analysis**: ESV, NASB (formal equivalence)","\ud83d\ude4f **For devotional reading**: NIV, NLT (dynamic equivalence)","\u2728 **For literary beauty**: KJV, NRSV","\ud83c\udfa8 **For fresh perspective**: The Message (paraphrase)","\ud83e\udd1d **For accuracy across traditions**: NRSV, CEB (ecumenical committees)","Many scholars recommend reading **multiple translations**. Use a formal one for study, a dynamic one for reading through books quickly, and a paraphrase for seeing familiar texts with fresh eyes."],highlight:"\ud83d\udca1 Pro Tip: Compare translations to see where they differ\u2014those differences highlight interpretive questions!"},{type:"quiz",question:"For deep Bible word study, which type of translation is generally recommended?",options:["Paraphrase like The Message","Dynamic equivalence like NIV","Formal equivalence like ESV or NASB","Any translation works equally well"],correctAnswer:2,explanation:"Formal equivalence translations (word-for-word like ESV, NASB) preserve the original language structure and are best for detailed study, even though they may sound less natural in English."},{type:"completion",title:"Translation Master! \ud83c\udf89",message:'You\'ve completed "Lost in Translation"! You now understand how the Bible was translated from Hebrew and Greek to English, and why different versions exist.',keyTakeaways:["The Bible was originally written in Hebrew (OT) and Greek (NT), requiring careful translation","Translation involves choosing between word-for-word (formal) and thought-for-thought (dynamic) approaches","Different Bible versions serve different purposes\u2014study Bibles vs. readable versions"],badge:{icon:"\ud83c\udf10",name:"Translation Scholar",description:"Completed Lesson 3: Lost in Translation?"}}]},Qn={id:4,title:"The English Bible's Dramatic History",subtitle:"Martyrs, kings, and the fight to read Scripture in English",duration:"9 min",cards:[{type:"content",title:"A Dangerous Book",subtitle:"\u23f1\ufe0f About 9 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand the dramatic story of how courageous people fought to bring the Bible into English.","It's hard to imagine today, but for centuries, owning an English Bible could get you **killed**.","The story of the English Bible is filled with smugglers, secret printings, political intrigue, and martyrs who believed ordinary people deserved to read God's Word in their own language.","From illegal translations whispered in secret to a king's authorized version that shaped the English language itself, this is a story of **courage, controversy, and cultural transformation**."],highlight:"\ud83d\udcad Imagine: What would you risk to read the Bible in your own language?",requireAcknowledgment:!0},{type:"content",title:"John Wycliffe: The Morning Star",content:['In the **1380s**, John Wycliffe and his followers (derisively called "Lollards") produced the first complete English Bible.',"\ud83d\udeab **This was revolutionary and illegal.** The Catholic Church insisted Scripture should remain in Latin, interpreted by clergy.","Wycliffe believed every Christian should read the Bible directly. His followers hand-copied manuscripts and secretly distributed them.","\ud83d\udc80 When Wycliffe died (1384), his enemies **dug up his bones, burned them, and threw the ashes in a river**.","\ud83d\udca1 But his ideas couldn't be killed\u2014they flowed through Europe like those ashes, influencing Jan Hus, Martin Luther, and ultimately the Reformation!"],highlight:'\u26a1 "The Morning Star of the Reformation" - Wycliffe\'s ideas sparked change across Europe'},{type:"quiz",question:"What was illegal about Wycliffe's Bible?",options:["It was translated from Greek instead of Latin","It translated the Bible into English without Church authorization","It removed books from the Bible","It added Wycliffe's own writings"],correctAnswer:1,explanation:"In the 1380s, translating the Bible into English (or any vernacular language) without Church permission was illegal. The Church insisted Scripture remain in Latin, controlled and interpreted by clergy."},{type:"content",title:'William Tyndale: "If God Spare My Life..."',content:['William Tyndale made a famous vow to a clergyman: **"If God spare my life, ere many years I will cause a boy that driveth the plough shall know more of the Scripture than thou dost!"**',"Unable to get permission in England, Tyndale fled to Europe. Using Erasmus's Greek New Testament (1516), he produced an English translation **directly from Greek**\u2014a first!","\ud83d\udce6 He smuggled printed copies into England (1526) hidden in **bales of cloth and wine barrels**.","\ud83d\udd25 Church authorities burned the Bibles publicly.",'\ud83d\udc80 In **1536**, Tyndale was betrayed, strangled, and burned at the stake. His last words: **"Lord, open the King of England\'s eyes!"**',"\u2728 Within a year, King Henry VIII authorized an English Bible. **83% of the KJV New Testament comes directly from Tyndale's work**."]},{type:"matching",title:"Match the Translator",pairs:[{term:"John Wycliffe",definition:"First complete English Bible (1380s), illegal translation"},{term:"William Tyndale",definition:"Translated from Greek, martyred in 1536"},{term:"King James I",definition:"Authorized the 1611 Bible translation"},{term:"Erasmus",definition:"Created Greek New Testament (1516) used by Tyndale"}]},{type:"content",title:"The King James Version: Politics and Poetry",content:["In **1604**, King James I authorized a new Bible translation. Why?","The **Geneva Bible** (1560)\u2014England's popular version\u2014had marginal notes that **questioned royal authority**. James wanted a translation without anti-monarchy notes!","\ud83d\udcda He assembled **47 scholars**, divided into six committees, working from Hebrew, Greek, and Aramaic.","\u2728 Their instructions: **majestic, dignified language** suitable for public reading; no controversial notes.","The **1611 King James Version** succeeded brilliantly\u2014its phrases entered the English language:",'\u2022 "Thee/thy"','\u2022 "Go the extra mile"','\u2022 "The powers that be"',"It dominated for **350 years**."],highlight:"\ud83d\udca1 The KJV shaped English literature and culture more than any other book except Shakespeare"},{type:"fillblank",prompt:'William Tyndale was martyred in 1536, but his last words were: "Lord, open the ________ of England\'s eyes!"',correctAnswer:"King",explanation:"Tyndale's dying prayer was \"Lord, open the King of England's eyes!\" Remarkably, within a year, King Henry VIII authorized an English Bible, fulfilling Tyndale's prayer."},{type:"content",title:"The Modern Translation Explosion",content:["Why so many modern translations? Several factors:","1\ufe0f\u20e3 **Earlier manuscripts discovered** (Dead Sea Scrolls, Alexandrian texts)","2\ufe0f\u20e3 **English language evolution** (KJV English sounds archaic)","3\ufe0f\u20e3 **Translation philosophy debates** (formal vs. dynamic)","4\ufe0f\u20e3 **Denominational preferences**","5\ufe0f\u20e3 **Target audiences** (study, devotional, children, etc.)","\ud83d\udcd6 **Major modern translations**:","\u2022 **NIV (1978)**: Dynamic, evangelical, best-selling","\u2022 **NASB (1971)**: Very literal","\u2022 **ESV (2001)**: Formal, evangelical","\u2022 **NLT (1996)**: Thought-for-thought, highly readable","\u2022 **NRSV (1989)**: Scholarly, ecumenical"]},{type:"quiz",question:"What percentage of the KJV New Testament comes from Tyndale's translation?",options:["About 25%","About 50%","About 83%","None - they were completely different"],correctAnswer:2,explanation:"Approximately 83% of the KJV New Testament comes directly from Tyndale's translation. His work was so excellent that later translators largely preserved his wording."},{type:"completion",title:"History Hero! \ud83c\udf89",message:"You've completed \"The English Bible's Dramatic History\"! You now understand the courage and sacrifice behind the Bible you can freely read today.",keyTakeaways:["Translating the Bible into English was once illegal and cost many people their lives","William Tyndale's translation (1520s) forms the foundation of modern English Bibles","The King James Version (1611) became the dominant English Bible for 400 years"],badge:{icon:"\ud83d\udcd6",name:"Bible History Scholar",description:"Completed Lesson 4: The English Bible's Dramatic History"}}]},Xn={id:5,title:"The Books That Almost Made It",subtitle:"Understanding the Apocrypha and 'lost gospels'",duration:"10 min",cards:[{type:"content",title:"The Missing Books Mystery",subtitle:"\u23f1\ufe0f About 10 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand what the Apocrypha is, why Catholic and Protestant Bibles differ, and how the biblical canon was formed.","Walk into a Catholic bookstore and count the books in their Bible: **73**. Walk into a Protestant bookstore: **66 books**.",'What happened to those 7 books? And what about the "Gospel of Thomas" or "Gospel of Judas" that make headlines every few years?',"Welcome to the fascinating world of texts that were popular, influential, or nearly canonical\u2014but ultimately didn't make the cut for most Christian Bibles.","Get ready to uncover why some books made it in... and others didn't!"],highlight:"\ud83d\udcad Ever wondered: Why do Catholic and Protestant Bibles have different books?",requireAcknowledgment:!0},{type:"content",title:"The Apocrypha: What Are These Books?",content:['The **Apocrypha** (Greek: "hidden things") or **Deuterocanonical** (second canon) books include:',"\ud83d\udcda **Tobit** - Story of faith and an angel","\u2694\ufe0f **Judith** - Brave woman saves her people","\ud83e\udd89 **Wisdom of Solomon** - Philosophical wisdom literature","\ud83d\udcd6 **Sirach (Ecclesiasticus)** - Practical life wisdom","\ud83d\udcdc **Baruch** - Prophecy attributed to Jeremiah's scribe","\ud83d\udee1\ufe0f **1-2 Maccabees** - Jewish resistance to Greek oppression","\u2795 **Additions to Esther and Daniel**","These books were in the Greek Septuagint but not in the Hebrew Bible. That's where the debate begins!"]},{type:"quiz",question:"What are the Deuterocanonical books?",options:["Books written after the New Testament","Books in the Septuagint but not the Hebrew Bible, accepted by Catholics but not Protestants","Books that were lost and recently discovered","The Gnostic gospels"],correctAnswer:1,explanation:"Deuterocanonical books (Tobit, Judith, Wisdom, etc.) were in the Greek Septuagint but not the Hebrew canon. Catholics and Orthodox accept them as Scripture; Protestants do not, though they may include them for historical reading."},{type:"content",title:"Catholic vs. Protestant: The Great Divide",content:["Why do Catholics and Protestants disagree on these books?","\u271d\ufe0f **Catholic/Orthodox view**: These books ARE Scripture.","\u2022 Used by the early church","\u2022 Quoted by church fathers","\u2022 Affirmed at councils (Hippo 393 AD, Carthage 397 AD, Trent 1546 AD)","\u26ea **Protestant view**: Useful for history and devotion but NOT Scripture.","\u2022 Not in the Hebrew canon","\u2022 Not quoted as Scripture in the New Testament","\u2022 Contain theological ideas Protestants reject (prayers for the dead, purgatory implications)",'The Reformers said: **"Good to read, but not equal to Scripture."**'],highlight:'\ud83d\udca1 This isn\'t about one side being "right" and the other "wrong"\u2014it\'s about different criteria for what counts as Scripture'},{type:"matching",title:"Match the Apocrypha Book",pairs:[{term:"Tobit",definition:"Story of faith featuring an angel"},{term:"Wisdom of Solomon",definition:"Philosophical wisdom literature"},{term:"1-2 Maccabees",definition:"Jewish resistance to Greek oppression"},{term:"Sirach",definition:"Practical life wisdom (Ecclesiasticus)"}]},{type:"content",title:"So Close, Yet So Far",content:["Several early Christian texts were beloved and **nearly** canonical:","\ud83d\udc11 **Shepherd of Hermas** (2nd century): Apocalyptic visions and moral teachings. Included in some early Bibles! Why rejected? Too late to be apostolic.","\u2709\ufe0f **1 Clement** (c. 96 AD): Letter from Rome to Corinth. Wise counsel, but lacked apostolic authority.","\ud83d\udcd8 **Didache** (1st-2nd century): Early church manual on baptism, Eucharist, church order. Practical but not inspired.","\ud83d\udcdd **Epistle of Barnabas** (2nd century): Allegorical interpretation of the Old Testament. Interesting but speculative.","These books show us early Christianity's diversity and piety but lacked the apostolic authority or universal acceptance to become Scripture."],highlight:"\ud83d\udcab These books are valuable for understanding early Christian thought, even if not canonical!"},{type:"fillblank",prompt:"Protestant Reformers rejected the Apocrypha as Scripture because these books weren't in the ________ canon.",correctAnswer:"Hebrew",explanation:"Protestants noted that the Apocryphal books weren't in the Hebrew Bible (the Old Testament used by Jesus and the apostles), which was a key reason for not including them as Scripture."},{type:"content",title:"The Gnostic Gospels: A Different Religion",content:['In **1945**, Egyptian farmers found a jar near Nag Hammadi containing 52 texts, including "gospels" attributed to Thomas, Philip, and Mary.','\u274c These weren\'t "lost gospels suppressed by the church"\u2014they were **Gnostic texts** (2nd-3rd centuries), representing a different religion!',"\ud83d\udd2e **Gnosticism taught**:","\u2022 Secret knowledge (gnosis) brings salvation","\u2022 The material world is evil, created by a lesser god","\u2022 Jesus didn't have a real body (Docetism)","\u2022 Salvation is escaping the body, not bodily resurrection","\ud83d\udeab **Why they were rejected**:","1. Written 100-200 years after Jesus by Gnostics, not apostles","2. Contradicted apostolic teaching","3. Focused on secret sayings, not Jesus's life, death, and resurrection","4. No manuscript evidence from the 1st century"]},{type:"quiz",question:"Why were the Nag Hammadi gospels (like Gospel of Thomas) rejected?",options:["They were written too recently to be authentic","They were written 100-200 years after Jesus, taught Gnostic theology, and contradicted apostolic teaching","The church was afraid of their message","They were poorly written"],correctAnswer:1,explanation:'The Nag Hammadi texts were written in the 2nd-3rd centuries (long after the apostles), reflect Gnostic theology (which contradicts Christianity), and lack apostolic authority. They weren\'t "suppressed"\u2014they were simply not apostolic.'},{type:"content",title:'Debunking "Lost Gospel" Sensationalism',content:['Every few years, media headlines scream: **"Lost Gospel Discovered!"** or **"Ancient Text Challenges Christianity!"**',"Let's be clear: **No serious scholar claims these texts should be in the Bible.**","\ud83d\udcf0 **Gospel of Judas** (National Geographic 2006): Gnostic text (3rd century) portraying Judas as hero. Centuries late, Gnostic perspective.",'\ud83d\udcf0 **"Secret Gospel of Mark"**: Claimed 1958, likely a modern forgery.','\ud83d\udcf0 **"Jesus\'s Wife" papyrus** (2012): Tiny fragment, now widely considered a modern fake.',"The sensationalism sells books and gets clicks, but the scholarship is clear: **We have the right books in the New Testament.**","These later texts help us understand competing versions of Christianity that died out, but they don't represent apostolic Christianity."],highlight:"\ud83d\udd0d Media hype \u2260 Scholarly consensus. Always check what actual scholars say!"},{type:"content",title:"Why Canon Boundaries Matter",content:["Having a defined canon isn't about being narrow-minded\u2014it's about having a stable foundation.",'Imagine if every generation could add new "gospels" based on new "revelations." Christianity would fracture endlessly!',"\ud83d\udccb **The canon criteria**:","1\ufe0f\u20e3 **Apostolicity**: Written by or connected to apostles","2\ufe0f\u20e3 **Orthodoxy**: Consistent with apostolic teaching","3\ufe0f\u20e3 **Antiquity**: From the first century","4\ufe0f\u20e3 **Usage**: Widely used in churches","5\ufe0f\u20e3 **Inspiration**: Recognized as bearing divine authority","Books like Thomas, Shepherd of Hermas, or the Apocrypha might be edifying, but they don't meet all these criteria.","\ud83c\udfdb\ufe0f The canon gives us a foundation to stand on\u2014a measuring stick for faith and practice."]},{type:"matching",title:"Match the Canon Criterion",pairs:[{term:"Apostolicity",definition:"Written by or connected to apostles"},{term:"Orthodoxy",definition:"Consistent with apostolic teaching"},{term:"Antiquity",definition:"From the first century"},{term:"Usage",definition:"Widely used in early churches"}]},{type:"quiz",question:"What criteria did the early church use to determine which books were canonical?",options:["Popularity among modern readers","Which books the Emperor preferred","Apostolicity, orthodoxy, antiquity, widespread usage, and recognized inspiration","Only books that were easy to understand"],correctAnswer:2,explanation:"The canon wasn't arbitrary. Books needed to be: written by/connected to apostles, consistent with apostolic teaching, from the first century, widely used in churches, and recognized as divinely inspired."},{type:"completion",title:"Canon Expert! \ud83c\udf89",message:'You\'ve completed "The Books That Almost Made It"! You now understand the Apocrypha, the Gnostic gospels, and how the biblical canon was formed.',keyTakeaways:["Catholic Bibles include 7 additional books (Apocrypha) that Protestants consider non-canonical",'"Lost gospels" (Gospel of Thomas, Judas) were Gnostic texts written later, not apostolic',"The biblical canon was determined by apostolicity, orthodoxy, antiquity, and widespread church usage"],badge:{icon:"\ud83d\udcda",name:"Canon Scholar",description:"Completed Lesson 5: The Books That Almost Made It"}}]},Yn={id:6,title:"How Christians Read the Bible Over Time",subtitle:"From allegory to literal: changing interpretation methods",duration:"11 min",cards:[{type:"content",title:"One Bible, Many Readings",subtitle:"\u23f1\ufe0f About 11 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand how Christians have interpreted the Bible differently throughout history and why denominations disagree today.","Open your Bible to Genesis 3, where Eve eats the forbidden fruit.","Is this a literal historical event? An allegory about human free will? A mythological story teaching theological truth?","\ud83e\udd14 How you answer depends partly on **when and where you lived**.","Christians across history have read the same Bible but interpreted it very differently.",'Understanding these interpretation methods helps explain why denominations today disagree on the "plain meaning" of Scripture\u2014and why your great-grandparents might have read passages differently than you do.'],highlight:"\ud83d\udcad Consider: Have you ever heard two people interpret the same Bible verse differently?",requireAcknowledgment:!0},{type:"content",title:"Origen: Allegory Everywhere!",content:["In the 3rd century, **Origen of Alexandria** pioneered allegorical interpretation.","Influenced by Greek philosophy, he believed Scripture had **three senses** (like humans have body, soul, and spirit):","\ud83d\udcd6 **Literal** - The plain events","\ud83d\udcad **Moral** - Ethical lessons","\u2728 **Spiritual** - Deeper mystical meanings","\ud83c\udf0a **Example**: The crossing of the Red Sea wasn't just historical\u2014it symbolized baptism, deliverance from sin, and the soul's journey to God!","\ud83d\udc95 Origen interpreted Song of Solomon entirely as allegory about Christ and the church\u2014not a romantic love poem at all.","\u26a0\ufe0f Critics said he was more interested in Plato than in what the biblical authors actually meant."],highlight:"\ud83d\udca1 This approach solved problems (embarrassing Old Testament stories) but risked reading meanings into the text that weren't there"},{type:"quiz",question:"What was Origen's main interpretive approach?",options:["Strict literal interpretation only","Historical-critical method","Allegorical interpretation finding spiritual meanings beyond the literal","Ignoring the Old Testament"],correctAnswer:2,explanation:"Origen pioneered allegorical interpretation, believing Scripture had literal, moral, and spiritual senses. He found deeper symbolic meanings throughout the Bible, especially in problematic or poetic texts."},{type:"content",title:"Medieval Four-Fold Sense: Layers of Meaning",content:["Medieval theologians developed a **four-fold interpretive method**, summarized in a Latin couplet:",'"The letter teaches events, allegory what you believe, moral what you do, anagogy where you\'re going"','\ud83c\udfdb\ufe0f **Example using "Jerusalem"**:',"1\ufe0f\u20e3 **Literal**: Historical city in Israel","2\ufe0f\u20e3 **Allegorical**: The Church","3\ufe0f\u20e3 **Moral**: The human soul","4\ufe0f\u20e3 **Anagogical**: Heaven","This method found multiple valid meanings in every text. It made Scripture endlessly rich but also dangerously subjective.","\u2753 How do you know which allegorical reading is correct?","The system worked because Church tradition and authority guided interpretation. But it set the stage for Reformation debates."]},{type:"matching",title:"Match the Medieval Sense",pairs:[{term:"Literal",definition:"What happened (historical events)"},{term:"Allegorical",definition:"What to believe (theological meaning)"},{term:"Moral",definition:"What to do (ethical application)"},{term:"Anagogical",definition:"Where you're going (heavenly destiny)"}]},{type:"content",title:'The Reformation: The "Plain Sense" Revolution',content:["\u26a1 Martin Luther and other Reformers rejected allegorical excess.",'Luther said: **"The Holy Spirit is the plainest writer and speaker in heaven and earth, and therefore His words cannot have more than one, and that the very simplest, sense, which we call the literal, ordinary, natural sense."**',"\ud83d\udccb **The Reformers insisted**:","1\ufe0f\u20e3 **Grammatical-historical method**: Understand words in their historical context and original languages","2\ufe0f\u20e3 **Scripture interprets Scripture**: Compare clear passages with unclear ones","3\ufe0f\u20e3 **Priesthood of all believers**: You don't need Church authority to interpret\u2014the Holy Spirit guides individual readers","\u2705 This democratized Bible reading...",'\u274c But also fragmented Christianity. Without Church authority, who decides what\'s "plain"?','It\'s why Protestantism has so many denominations\u2014disagreements over what Scripture "plainly" teaches!']},{type:"fillblank",prompt:"The Reformers emphasized the ________ sense of Scripture, rejecting excessive allegorical interpretation.",correctAnswer:"plain",explanation:'The Reformers championed the "plain sense" or literal-grammatical-historical interpretation of Scripture, insisting that God\'s Word is clear and accessible to ordinary believers, not requiring layers of allegorical interpretation.'},{type:"content",title:"Modern Historical-Critical Scholarship",content:["Starting in the 18th-19th centuries, scholars applied historical methods to the Bible like any ancient text:","\ud83d\udcdd **Source criticism**: Who wrote this? When? What sources did they use? (e.g., the Documentary Hypothesis for the Torah)","\ud83d\udcd6 **Form criticism**: What genre is this? (History, poetry, parable, apocalyptic)","\u2702\ufe0f **Redaction criticism**: How did editors shape the final text?","\ud83d\udd0d **Textual criticism**: What did the original manuscripts say?","\u2705 These methods yielded insights (understanding ancient Near Eastern context, recognizing literary genres)","\u26a0\ufe0f But also controversies (questioning Mosaic authorship of the Pentateuch, debating Gospel historicity)","Conservative scholars use these tools while maintaining high views of biblical authority; liberal scholars sometimes conclude the Bible is purely human literature.","The tools themselves are neutral; the conclusions depend on presuppositions about Scripture's nature."]},{type:"quiz",question:"What is historical-critical scholarship?",options:["Criticizing the Bible's historical claims","Applying historical methods to understand authorship, context, sources, and genre","Proving the Bible is historically false","Only reading the historical books of the Bible"],correctAnswer:1,explanation:"Historical-critical method applies historical and literary analysis to Scripture: examining authorship, dating, sources, genres, and historical context. It's a tool that can be used with various views of biblical authority."},{type:"content",title:"Why Denominations Read the Same Bible Differently",content:['Here\'s why Christians disagree on "what the Bible clearly says":','1\ufe0f\u20e3 **Interpretive tradition**: Catholics read through Church tradition; Protestants through "Scripture alone" (though they have traditions too)',"2\ufe0f\u20e3 **Theological framework**: Calvinists and Arminians both cite Scripture but reach different conclusions on predestination","3\ufe0f\u20e3 **Genre recognition**: Is Genesis 1 scientific? Poetic? Theological? Your answer affects interpretation",'4\ufe0f\u20e3 **Cultural context**: Does 1 Timothy 2:12 ("I do not permit a woman to teach") apply universally or to a specific situation?',"5\ufe0f\u20e3 **Role of reason/experience**: How much weight do you give to science, personal experience, or Church tradition alongside Scripture?",'These aren\'t "some Christians ignore the Bible" vs. "we follow it." **All are trying to faithfully interpret Scripture**\u2014they just bring different tools and assumptions.'],highlight:"\ud83d\udca1 Understanding WHY Christians disagree helps us have more charitable conversations!"},{type:"matching",title:"Match the Interpretive Approach",pairs:[{term:"Allegorical",definition:"Finding hidden spiritual meanings (Origen)"},{term:"Four-Fold Sense",definition:"Medieval: literal, allegorical, moral, anagogical"},{term:"Plain Sense",definition:"Reformation: grammatical-historical reading"},{term:"Historical-Critical",definition:"Modern: analyzing sources, genre, context"}]},{type:"quiz",question:"Why do denominations interpret the same Bible verse differently?",options:["Some denominations ignore parts of the Bible","Different interpretive traditions, theological frameworks, genre recognition, and cultural contexts","Only Catholics interpret correctly","The Bible is too unclear to interpret"],correctAnswer:1,explanation:"Christians disagree not because some ignore Scripture but because they bring different interpretive traditions, theological frameworks, understandings of genre and context, and views on the role of reason and experience. All are trying to interpret faithfully."},{type:"completion",title:"Interpretation Master! \ud83c\udf89",message:'You\'ve completed "How Christians Read the Bible Over Time"! You now understand how biblical interpretation has evolved and why Christians disagree on what Scripture means.',keyTakeaways:["Biblical interpretation has evolved from allegorical (early church) to literal (Reformation) to critical (modern)",'The medieval "four-fold sense" saw literal, allegorical, moral, and anagogical meanings in every text',"Christians today disagree because of different interpretive traditions, not because some ignore Scripture"],badge:{icon:"\ud83d\udcd6",name:"Hermeneutics Scholar",description:"Completed Lesson 6: How Christians Read the Bible Over Time"}}]},$n={id:7,title:"Archaeology & the Bible",subtitle:"How discoveries confirm, challenge, and illuminate Scripture",duration:"9 min",cards:[{type:"content",title:"Digging Into the Past",subtitle:"\u23f1\ufe0f About 9 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand how archaeological discoveries have confirmed, challenged, and illuminated biblical accounts.","In **1947**, a shepherd threw a rock into a cave and **changed biblical scholarship forever**.","In **1868**, a missionary found a stone that mentioned King David's dynasty\u2014confirming a biblical king skeptics doubted existed.",'Archaeology doesn\'t "prove" the Bible in a simplistic way, but it provides an astonishing amount of confirmation for biblical people, places, and events.',"It also raises questions and challenges traditional interpretations.","Let's explore how **digging in the dirt illuminates the book we hold in our hands**!"],highlight:"\ud83d\udcad Curiosity check: What archaeological find would most strengthen your faith?",requireAcknowledgment:!0},{type:"content",title:"Dead Sea Scrolls: A Game-Changing Discovery",content:["Before **1947**, critics claimed the Old Testament had been corrupted over centuries of copying.","Our oldest complete Hebrew Bible was the Leningrad Codex (**1008 AD**)\u2014over 1,000 years after the last OT book was written.","\ud83d\udc11 Then came Qumran. Bedouin shepherds discovered caves containing hundreds of scrolls, including complete or partial copies of **every OT book except Esther**.","\ud83d\udcc5 **Dates**: 200 BC - 100 AD","\ud83d\udcdc The Isaiah scroll from Cave 1 (125 BC) is **1,000 years older** than any previously known manuscript.","\u2705 **Result?** Word-for-word match with medieval manuscripts, with only minor spelling variations!","This discovery silenced claims of textual corruption and confirmed the careful preservation of Scripture.","We also learned about Second Temple Judaism\u2014the religious world Jesus grew up in."],highlight:"\ud83c\udfc6 The Dead Sea Scrolls pushed manuscript evidence back 1,000 years and proved incredible textual accuracy!"},{type:"quiz",question:"What was the major significance of the Dead Sea Scrolls?",options:["They contained new books of the Bible","They proved the Old Testament had been corrupted","They pushed manuscript evidence back 1,000 years and confirmed textual accuracy","They revealed Jesus was married"],correctAnswer:2,explanation:"The Dead Sea Scrolls (200 BC - 100 AD) are about 1,000 years older than previously known Hebrew manuscripts. They match later texts almost perfectly, confirming careful textual preservation over centuries."},{type:"content",title:"Nag Hammadi: Understanding Early Heresies",content:["In **1945**, Egyptian farmers near Nag Hammadi found a jar containing **52 texts** (4th century copies of 2nd-3rd century originals).","These included Gnostic gospels (Thomas, Philip, Mary, Truth).",'\ud83d\udcf0 Sensational media claimed these were "suppressed gospels."',"\u2705 **Reality**: These texts confirm what church fathers said about Gnostic beliefs:","\u2022 Secret knowledge for salvation","\u2022 Material world as evil","\u2022 Denial of Jesus's physical resurrection","They're valuable for understanding **why early Christians rejected Gnosticism**, but they don't challenge the New Testament canon.","No serious scholar argues they're apostolic.","They show Christianity wasn't monolithic\u2014there were competing visions, and orthodox Christianity won not by suppression but by better reflecting apostolic teaching and Jesus's actual life and mission."]},{type:"matching",title:"Match the Archaeological Discovery",pairs:[{term:"Dead Sea Scrolls",definition:"1947 discovery, confirmed OT textual accuracy"},{term:"Nag Hammadi",definition:"1945 discovery, Gnostic texts from 2nd-3rd centuries"},{term:"Tel Dan Stele",definition:'1993 discovery, mentions "House of David"'},{term:"Pool of Siloam",definition:"2004 discovery, where Jesus healed blind man"}]},{type:"content",title:"Archaeological Confirmations: The Hits",content:["Archaeology has confirmed numerous biblical details critics once doubted:","\ud83c\udfdb\ufe0f **Hittites**: Once thought legendary, now extensively documented","\ud83d\udca7 **Pool of Siloam**: Where Jesus healed the blind man (John 9)\u2014discovered in 2004","\ud83d\udc68 **Pontius Pilate**: Inscription found in 1961 confirms his existence and title",'\ud83d\udc51 **House of David**: Tel Dan Stele (1993) mentions "House of David," confirming David as historical figure',"\ud83c\udff0 **Assyrian and Babylonian kings**: Sennacherib, Nebuchadnezzar, etc.\u2014all confirmed","\u271d\ufe0f **Crucifixion evidence**: Heel bone with nail from 1st century proves crucifixion methods matching Gospel descriptions","\ud83c\udfd8\ufe0f **Capernaum**: Peter's house excavated, matches Gospel descriptions","These don't \"prove\" theological claims, but they confirm the Bible's historical reliability in details skeptics once mocked."]},{type:"fillblank",prompt:'The Tel Dan Stele, discovered in 1993, mentions the "House of ________," confirming his historical existence.',correctAnswer:"David",explanation:'The Tel Dan Stele is a stone inscription that mentions the "House of David," providing archaeological evidence that King David was a real historical figure, not just a legend.'},{type:"content",title:"Archaeological Challenges: The Complications",content:["Archaeology also raises questions:","\ud83c\udfdc\ufe0f **The Exodus**: No direct evidence for 2+ million Israelites wandering 40 years in Sinai. Some scholars suggest smaller numbers; others see theological history rather than documentary history.","\ud83e\uddf1 **Jericho's walls**: Joshua's conquest (c. 1400 BC) doesn't match archaeological evidence for Jericho's destruction. Possible explanations: dating debates, theological narrative vs. strict history.","\ud83c\udfd8\ufe0f **Nazareth**: Limited 1st century evidence (though recent finds confirm small village).","\u2694\ufe0f **Conquest vs. settlement**: Archaeological evidence suggests gradual settlement rather than sudden military conquest.",'These don\'t "disprove" the Bible but challenge simplistic readings.',"They remind us: **The Bible is ancient literature with complex relationships to history, not a modern documentary.**"],highlight:"\ud83d\udca1 Archaeological questions don't destroy faith\u2014they invite us to read the Bible more carefully and thoughtfully"},{type:"quiz",question:"What is the relationship between archaeology and biblical faith?",options:["Archaeology proves every biblical claim","Archaeology disproves the Bible","Archaeology confirms historical contexts and details but doesn't prove theological claims","Archaeology is irrelevant to faith"],correctAnswer:2,explanation:"Archaeology confirms the Bible's historical grounding\u2014real people, places, and events\u2014but doesn't \"prove\" theological claims like resurrection or miracles. It shows the Bible emerged from real history, not mythology, which strengthens (but doesn't replace) faith."},{type:"content",title:"Recent Discoveries and Ongoing Work",content:["Biblical archaeology continues with exciting finds:","\ud83d\udcdc **P52 (John Rylands Papyrus)**: Earliest NT fragment (John 18, c. 125 AD)","\ud83d\udcd6 **P46 (Chester Beatty Papyrus)**: Paul's letters, c. 200 AD","\ud83d\udcd5 **Codex Sinaiticus** (1844): 4th century complete NT, discovered in monastery","\u26a0\ufe0f **Museum of the Bible controversies**: Fake Dead Sea Scroll fragments exposed (2018)\u2014reminder to verify provenance","\ud83c\udfdb\ufe0f **Tel Gezer inscription**: Confirms biblical place names","\ud83c\udff0 **Khirbet Qeiyafa**: Possible site of biblical Shaaraim","\ud83d\udcbb **Digital technology**: Multispectral imaging reveals text on burnt scrolls","Archaeology won't answer every question\u2014much ancient evidence is lost to time.","But it consistently shows **the Bible emerged from real historical contexts, featuring real people and places**."]},{type:"matching",title:"Match the Evidence Type",pairs:[{term:"Confirmations",definition:"Pool of Siloam, Pontius Pilate inscription"},{term:"Challenges",definition:"Exodus evidence, Jericho conquest timing"},{term:"Manuscripts",definition:"Dead Sea Scrolls, P52 papyrus"},{term:"Gnostic Texts",definition:"Nag Hammadi library (2nd-3rd century)"}]},{type:"quiz",question:"Which biblical figure's existence was confirmed by the Tel Dan Stele?",options:["Moses","Abraham","King David","Jesus"],correctAnswer:2,explanation:'The Tel Dan Stele (1993 discovery) mentions the "House of David," confirming David as a historical figure. This was significant because some scholars had questioned David\'s existence.'},{type:"completion",title:"Archaeology Expert! \ud83c\udf89",message:'You\'ve completed "Archaeology & the Bible"! You now understand how archaeological discoveries confirm, challenge, and illuminate Scripture.',keyTakeaways:["The Dead Sea Scrolls (1947) showed the Old Testament was transmitted with remarkable accuracy","Archaeology has confirmed many biblical people and places (David, Pontius Pilate, Pool of Siloam)","Some archaeological evidence challenges traditional timelines (Exodus, Jericho) requiring nuanced interpretation"],badge:{icon:"\ud83c\udffa",name:"Biblical Archaeologist",description:"Completed Lesson 7: Archaeology & the Bible"}}]},Zn={id:8,title:"Your Bible's Backstory",subtitle:"Practical skills for informed Bible reading",duration:"10 min",cards:[{type:"content",title:"Your Journey Complete!",subtitle:"\u23f1\ufe0f About 10 minutes",content:["**Learning Objective:** By the end of this lesson, you will have practical skills for informed Bible reading, including choosing translations, understanding footnotes, and using study resources.","You've journeyed through **2,000+ years** of biblical history:","\u2705 From oral tradition to manuscript copying","\u2705 From Latin Vulgate to English translations","\u2705 From disputed canons to archaeological discoveries","Now it's time to bring it all together with **practical skills**.","This final lesson equips you to read your Bible with informed confidence:","\u2022 Understanding footnotes","\u2022 Choosing translations wisely","\u2022 Recognizing textual issues","\u2022 Selecting study resources that fit your needs","**You're about to become a much more informed Bible reader!**"],highlight:"\ud83d\udcad Reflect: How has learning the Bible's backstory changed how you read Scripture?",requireAcknowledgment:!0},{type:"content",title:"Decoding Manuscript Footnotes",content:["Open your Bible to almost any page and you'll see small letters (a, b, c) with footnotes at the bottom.","These aren't distractions\u2014they're **windows into textual history**!","\ud83d\udcdd **Common footnote types**:",'\ud83d\udccc **"Some manuscripts read..."**: Indicates a variant reading in ancient manuscripts. Example: Romans 8:28 might note different word order. Usually minor.','\ud83d\udccc **"The earliest manuscripts do not include..."**: Signals significant textual questions. Example: Mark 16:9-20.','\ud83d\udccc **"Or..."**: Alternative translations of the same Greek/Hebrew word. Example: "justify" or "declare righteous."','\ud83d\udccc **"Greek: ..."**: Shows the original language when English doesn\'t capture nuance.',"These footnotes don't mean your Bible is unreliable\u2014they mean **translators are being honest** about uncertainty and giving you full information.","\ud83d\udcaa Embrace them! They show scholarly integrity."]},{type:"quiz",question:'What does a footnote saying "Some manuscripts read..." indicate?',options:["The Bible is unreliable","There is a minor variation between ancient manuscripts","You should stop reading that version","The translators made a mistake"],correctAnswer:1,explanation:"This footnote indicates a minor variation between ancient manuscript families. It shows transparency and honesty\u2014translators are giving you full information about textual evidence. Most variants are insignificant spelling or word order differences."},{type:"content",title:"Know Your Translation's Approach",content:["Every Bible includes an introduction or preface explaining the translation philosophy. **Read it!**","\ud83d\udd0d **Look for**:","\ud83d\udcda **Source texts**: Nestle-Aland/UBS for NT? Biblia Hebraica for OT?","\u2696\ufe0f **Translation philosophy**: Formal (word-for-word) or dynamic (thought-for-thought)?","\ud83d\udc65 **Committee composition**: Denominational? Ecumenical? Conservative? Liberal?","\ud83c\udfaf **Target audience**: Scholars? New believers? Children?","\u271d\ufe0f **Example - ESV**: Uses NA28 Greek text, formal equivalence, evangelical committee, aims for word-for-word accuracy.","\ud83d\udcd6 **Example - NIV**: Uses eclectic Greek text, dynamic equivalence, evangelical committee, prioritizes clarity and readability.","\ud83c\udf93 **Example - NRSV**: Ecumenical committee, formal equivalence, gender-inclusive language, scholarly.","Knowing your translation's approach helps you understand its strengths and limitations!"]},{type:"matching",title:"Match the Translation Feature",pairs:[{term:"Source Texts",definition:"The original language manuscripts used (NA28, etc.)"},{term:"Translation Philosophy",definition:"Formal equivalence vs. dynamic equivalence"},{term:"Committee Composition",definition:"Who translated it (denominational, ecumenical, etc.)"},{term:"Target Audience",definition:"Who it's designed for (scholars, new believers, etc.)"}]},{type:"content",title:"Brackets, Italics, and Textual Markers",content:["Your Bible uses typography to signal textual issues:","\ud83d\udccc **Brackets [text]**: Indicates significant textual uncertainty.","\u2022 **John 7:53-8:11** (woman caught in adultery) is bracketed in most modern Bibles because it's absent from earliest manuscripts. The story is likely historical tradition but wasn't originally in John's Gospel.","\u2022 **Mark 16:9-20** (longer ending with snake-handling) similarly bracketed.","\ud83d\udccc **Double brackets [[text]]**: Even more uncertain.","\ud83d\udccc **Italics** (in KJV): Added words for English readability not in the original.","\ud83d\udccc **Paragraph headings**: Added by publishers, not in the original text. Don't treat them as Scripture.","\ud83d\udccc **Red letters** (Jesus's words): Helpful but interpretive\u2014sometimes debated what counts as Jesus's words.","Understanding these markers helps you read critically and recognize where uncertainty exists."],highlight:"\ud83d\udca1 These markers aren't hiding anything\u2014they're showing you exactly where scholars have questions!"},{type:"fillblank",prompt:"In modern Bibles, text enclosed in ________ indicates significant textual uncertainty, like John 7:53-8:11.",correctAnswer:"brackets",explanation:"Brackets [ ] in modern Bibles indicate passages with significant textual uncertainty\u2014they're not found in the earliest or best manuscripts but are included because they're part of church tradition and may be historically authentic."},{type:"content",title:"Choosing a Study Bible",content:["Study Bibles add notes, maps, articles, and cross-references. But not all study Bibles are alike!","\ud83d\udd2c **For deep word study**: ESV Study Bible, NASB Study Bible\u2014formal translations with detailed notes","\u2696\ufe0f **For balanced evangelical perspective**: NIV Study Bible, CSB Study Bible\u2014readable with solid scholarship","\ud83c\udf93 **For ecumenical/academic**: NRSV Oxford Annotated, HarperCollins Study Bible\u2014multiple viewpoints, scholarly","\u271d\ufe0f **For Catholic readers**: Catholic Study Bible, Ignatius Catholic Study Bible\u2014includes Deuterocanonical books, Catholic tradition","\ud83d\ude4f **For devotional use**: Life Application Study Bible, NLT Study Bible\u2014practical application focus","\ud83c\udfdb\ufe0f **For historical/cultural context**: IVP Bible Background Commentary, Zondervan Illustrated Bible Backgrounds","\ud83d\udea9 **Red flags**: Study Bibles pushing fringe interpretations, claiming exclusive correctness, or ignoring mainstream scholarship"]},{type:"quiz",question:"For devotional reading and practical application, which type of study Bible is best?",options:["NRSV Oxford Annotated (academic)","ESV Study Bible (deep word study)","Life Application Study Bible (practical application)","Catholic Study Bible (Catholic tradition)"],correctAnswer:2,explanation:"For devotional use and practical application, study Bibles like the Life Application Study Bible or NLT Study Bible are designed to help you apply Scripture to daily life, rather than focusing on technical scholarly details."},{type:"content",title:"Becoming a Confident Bible Reader",content:["You now have the tools to read Scripture with informed confidence! \ud83c\udf89","\ud83d\udccb **Practical habits**:","1\ufe0f\u20e3 **Compare translations**: Check 2-3 translations for important passages. Differences often reveal interpretive choices.","2\ufe0f\u20e3 **Read footnotes**: Don't skip them! They provide crucial context.","3\ufe0f\u20e3 **Use study helps wisely**: Commentaries and study Bibles are helpful but not infallible.","4\ufe0f\u20e3 **Understand genre**: Read poetry as poetry, apocalyptic as apocalyptic, history as ancient history.","5\ufe0f\u20e3 **Learn some Greek/Hebrew**: Even basic knowledge helps (free resources: Mounce's Greek, Pratico's Hebrew).","6\ufe0f\u20e3 **Join a Bible study**: Community guards against individualistic misinterpretation.","7\ufe0f\u20e3 **Pray for illumination**: The Holy Spirit guides understanding (1 Cor 2:10-14)."],highlight:"\ud83d\udcaa You don't need to be a scholar to read the Bible faithfully\u2014but a little knowledge goes a long way!"},{type:"matching",title:"Match the Reading Strategy",pairs:[{term:"Compare Translations",definition:"Check 2-3 versions to see interpretive choices"},{term:"Read Footnotes",definition:"Don't skip them\u2014they provide crucial context"},{term:"Understand Genre",definition:"Read poetry as poetry, history as history"},{term:"Join a Bible Study",definition:"Community guards against misinterpretation"}]},{type:"quiz",question:"What is the best practice for becoming a confident Bible reader?",options:["Only read one translation and never question it","Ignore footnotes because they just confuse things","Memorize Greek and Hebrew before reading","Compare translations, read footnotes, understand genre, and use study helps wisely"],correctAnswer:3,explanation:"Confident Bible reading involves comparing translations, reading footnotes, understanding literary genres, using study resources wisely, and combining scholarship with prayer. It doesn't require expertise, just curiosity and willingness to learn."},{type:"completion",title:"Congratulations! \ud83c\udf89\ud83c\udf8a",message:"You've completed ALL 8 lessons of the Bible History Study Guide! You're now an informed, confident Bible reader equipped to understand Scripture's rich backstory. Share what you've learned with others!",keyTakeaways:["Manuscript footnotes reveal textual variants\u2014don't skip them!","Different Bible translations serve different purposes (study vs. readability)","Informed Bible reading combines good study tools, genre awareness, and prayerful dependence on the Spirit"],badge:{icon:"\ud83c\udfc6",name:"Bible History Master",description:"Completed ALL 8 Lessons: From Mouth to Manuscript to Modern Reader"}}]},ei=e=>{let{onNavigate:t,onGoBack:n}=e;const[r,s]=(0,i.useState)(null),[o,l]=(0,i.useState)([]),[c,u]=(0,i.useState)({}),[d,h]=(0,i.useState)({}),[m,p]=(0,i.useState)(null),[f,g]=(0,i.useState)(null);(0,i.useEffect)(()=>{const e=localStorage.getItem("reviewMode");if(e){const t=JSON.parse(e);"bible"===t.path&&(g(t),localStorage.removeItem("reviewMode"))}},[]),(0,i.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);(0,i.useEffect)(()=>{const e=localStorage.getItem("bibleHistoryProgress");e&&l(JSON.parse(e))},[]);const y=e=>{if(!o.includes(e)){const t=[...o,e];l(t),localStorage.setItem("bibleHistoryProgress",JSON.stringify(t))}},b=async(e,t)=>{if(y(e),nn("bible",e),t){await zn("bible",t);const n=Sn();n&&await(0,Hn.completeCourseLesson)(n.uid,"bible",e,t)}p(null),window.scrollTo({top:0,behavior:"smooth"})},v=()=>{p(null),window.scrollTo({top:0,behavior:"smooth"})},x=[{lesson:1,title:"From Mouth to Manuscript",subtitle:"How oral tradition became written text",introduction:"Long before the printing press, before paper, even before parchment was common, the stories that would become the Bible were passed down by word of mouth. Imagine sitting around a campfire as an elder recounts the story of Moses parting the Red Sea, or Jesus feeding the 5,000. These weren't just stories\u2014they were sacred memories, carefully preserved and passed from generation to generation.",keyTopics:["How oral tradition worked in ancient cultures","Ancient writing materials: papyrus, parchment, and the shift from scroll to codex","The role of scribes in preserving Scripture","Why we have copying variations in manuscripts","The transition from spoken word to written text"],detailedContent:[{heading:"The Oral Tradition Foundation",text:"In the ancient Near East, oral tradition was not like the 'telephone game' we played as children. Professional memorizers and storytellers trained for years to preserve sacred texts with remarkable accuracy. Jewish rabbis could recite the entire Torah from memory. Early Christian communities passed down Jesus's teachings orally for decades before they were written down. This oral period wasn't a weakness\u2014it was a feature of ancient culture where memorization was prized and communities gathered regularly to hear and repeat these sacred stories."},{heading:"Writing Materials: From Stone to Skin",text:"The earliest biblical texts were written on materials that seem foreign to us today. Stone tablets (like the Ten Commandments) were durable but heavy. Papyrus, made from Egyptian reeds, was lighter and cheaper but fragile\u2014it crumbled in damp climates. Parchment (treated animal skin) was expensive but lasted longer. Around the 2nd-4th centuries AD, Christians pioneered the 'codex' format (pages bound together like a modern book) instead of scrolls. This was revolutionary\u2014you could flip directly to John's Gospel instead of unrolling through Matthew, Mark, and Luke first!"},{heading:"The Scribes: Ancient Copy Machines",text:"Before photocopiers and printing presses, every Bible had to be copied by hand. Jewish scribes (sopherim) followed strict rules: they counted every letter, washed before writing God's name, and destroyed any manuscript with errors. Christian scribes were similarly careful but not always as strict. They worked in scriptoriums (writing rooms), often copying from dictation. This is why we have variants in manuscripts\u2014a scribe might mishear a word, skip a line accidentally, or even 'correct' what seemed like an error in their source manuscript."},{heading:"Why Copying Errors Matter (and Don't)",text:"It sounds alarming: 'There are thousands of variants in Bible manuscripts!' But context matters. Most variants are minor: spelling differences, word order changes, or missing articles ('the'). Scholars can usually determine the original wording by comparing manuscripts. The major variants (like the ending of Mark or the woman caught in adultery in John 8) are clearly marked in modern Bibles. No core Christian doctrine depends on a disputed text. The abundance of manuscripts is actually a strength\u2014we have more biblical manuscripts than any other ancient text, making it easier to reconstruct the original."}],beginnerExplanation:"Think of the Bible's journey like this: Imagine your great-grandparents telling you a family story, which you memorize and tell your kids. Eventually, someone writes it down in a letter. That letter gets copied by hand dozens of times over centuries. Some copies have small differences\u2014a misspelled name, a missing word\u2014but the core story remains the same. That's basically what happened with the Bible, except with thousands of professional scribes working to preserve these sacred texts as accurately as possible.",reflectionQuestions:["How does knowing the Bible was first an oral tradition change how you think about its reliability?","What surprises you most about how scribes copied manuscripts?","If you had to memorize and pass down a sacred story, what techniques would help you?","How do you think the shift from scrolls to codex format affected how Christians read and studied Scripture?"],practicalApplication:"Next time you read your Bible, look for the footnotes that say 'some manuscripts say...' or 'the earliest manuscripts do not include...' These notes show textual variants. Pick one and research why scholars debate it. You'll gain appreciation for the careful work of both ancient scribes and modern textual critics.",appLinks:["Bible Timeline","Church History Guide (Lesson 1)"],quiz:[{question:"Why was oral tradition considered reliable in ancient cultures?",options:["People had better memories than we do today","Professional memorizers trained for years to preserve texts accurately","There were no other options available","Stories were shorter and easier to remember"],correctAnswer:1,explanation:"Ancient cultures trained professional memorizers who could accurately preserve and transmit sacred texts. This wasn't casual storytelling\u2014it was a skilled profession with rigorous standards."},{question:"What was the main advantage of the codex format over scrolls?",options:["Codices were cheaper to produce","Codices were more durable","You could quickly access any part of the text without unrolling","Codices held more text"],correctAnswer:2,explanation:"The codex format (bound pages like a modern book) allowed readers to flip directly to any section. With a scroll, you had to unroll through all the preceding text, making cross-referencing nearly impossible."},{question:"Which writing material was most commonly used for New Testament manuscripts?",options:["Stone tablets","Papyrus and parchment","Clay tablets","Wood panels"],correctAnswer:1,explanation:"Papyrus (in dry climates like Egypt) and parchment (treated animal skin) were the primary materials for New Testament manuscripts. Papyrus was cheaper; parchment was more durable."},{question:"Why do we have thousands of variants in biblical manuscripts?",options:["Scribes intentionally changed the text to fit their theology","The original texts were unclear","Hand-copying over centuries naturally produced minor differences","Different communities had different versions of the stories"],correctAnswer:2,explanation:"Most variants are unintentional: spelling differences, skipped lines, word order changes. Hand-copying over centuries naturally produces minor variations. The vast majority don't affect meaning, and comparing manuscripts helps scholars identify the original text."},{question:"What is true about the abundance of biblical manuscripts?",options:["It makes it harder to know what the original said","It shows the text is unreliable","It actually helps scholars reconstruct the original text more accurately","It proves there were many different versions of the Bible"],correctAnswer:2,explanation:"Having thousands of manuscripts is a strength, not a weakness. The more copies we have, the easier it is to compare them and determine the original wording. The Bible has far more manuscript evidence than any other ancient text."}]},{lesson:2,title:"The Manuscript Detective Story",subtitle:"Recovering the original text from thousands of copies",introduction:"Imagine you're a detective, but instead of solving crimes, you're solving a textual mystery: What did the original biblical authors actually write? We don't have Paul's original letter to the Romans or Matthew's first draft of his Gospel. What we have are copies of copies of copies\u2014thousands of them. Welcome to the fascinating world of textual criticism, where scholars piece together the original text like assembling a jigsaw puzzle.",keyTopics:["What is textual criticism and why it matters","Why we don't have the original manuscripts (autographs)","Major manuscript families: Alexandrian, Byzantine, and Western","The Dead Sea Scrolls discovery and its massive impact","How to understand footnotes in your Bible"],detailedContent:[{heading:"The Mystery: Where Are the Originals?",text:"Not a single original biblical manuscript exists today. Why? Papyrus and parchment decay over time, especially in humid climates. Plus, once a manuscript became worn from use, it was reverently buried or destroyed (to prevent misuse of God's name) and replaced with a fresh copy. The earliest New Testament fragment we have (John 18:31-33) dates to around 125 AD\u2014just 30-40 years after John wrote his Gospel. That's incredibly close compared to other ancient texts. Most classical works have 1,000+ year gaps between composition and earliest copies."},{heading:"Textual Criticism: The Science of Recovery",text:"Textual criticism sounds destructive, but 'criticism' here means 'careful evaluation.' Scholars compare thousands of manuscripts to determine the most likely original wording. The method: (1) Collect all manuscript evidence, (2) Identify where manuscripts differ, (3) Apply principles to determine which reading is original. Key principles include: 'prefer the harder reading' (scribes tended to simplify difficulties), 'prefer the shorter reading' (scribes added explanations), and 'prefer the reading that explains the others' (the variant that best explains how other variants arose is likely original)."},{heading:"Manuscript Families: The Three Main Lines",text:"Manuscripts cluster into 'families' based on shared characteristics\u2014like genetic family trees. The **Alexandrian text** (Egypt, 2nd-4th centuries) is generally shorter and considered more accurate due to Egypt's dry climate preserving early manuscripts. The **Western text** (North Africa, Europe, 3rd-9th centuries) has more paraphrasing and explanatory additions. The **Byzantine text** (Constantinople, 5th-15th centuries) represents the majority of manuscripts and became the basis for the King James Version. Modern translations like NIV and ESV primarily follow Alexandrian texts while noting significant Byzantine variants."},{heading:"Dead Sea Scrolls: A Game-Changing Discovery",text:"In 1947, a Bedouin shepherd threw a rock into a cave near Qumran and heard pottery shatter. Inside were jars containing scrolls over 2,000 years old\u2014the oldest biblical manuscripts ever found. Before this, our earliest complete Hebrew Old Testament dated to 1008 AD. The Dead Sea Scrolls pushed that back to 200 BC for some books. The shocking result? The text had been preserved with remarkable accuracy. Isaiah scrolls from 125 BC match medieval manuscripts almost perfectly. This discovery silenced critics who claimed the Old Testament had been corrupted over centuries."},{heading:"Understanding Your Bible's Footnotes",text:"Ever see notes like 'Some manuscripts add...' or 'The earliest manuscripts do not include...'? These show where ancient manuscripts differ. Example: Mark 16:9-20 (the 'longer ending' with snake handling and poison drinking) is absent from the earliest and best manuscripts\u2014most scholars believe Mark originally ended at 16:8. John 7:53-8:11 (woman caught in adultery) is beautiful and true to Jesus's character, but it's probably not originally part of John's Gospel. Modern Bibles include these passages but bracket them with notes. This isn't hiding anything\u2014it's being honest about the textual evidence."}],beginnerExplanation:"Imagine you wrote a letter to your best friend in 1950, and they copied it by hand and sent copies to 10 other friends. Those friends made copies, and so on. By 2025, there are 5,000 handwritten copies floating around, but your original is long gone. Now someone wants to know exactly what you wrote. They'd collect all 5,000 copies, notice where they differ (maybe someone misheard a word, or 'corrected' your grammar), and by comparing all the copies, they could reconstruct your original letter with high confidence. That's textual criticism. And the Bible has way more manuscript copies than any other ancient text, making reconstruction easier, not harder.",reflectionQuestions:["How does knowing we don't have originals affect your confidence in the Bible?","What surprises you about the Dead Sea Scrolls discovery?","Why do you think modern Bibles include disputed passages like the longer ending of Mark?","How might understanding textual criticism help you when someone claims 'the Bible has been changed over time'?"],practicalApplication:"Open your Bible to Mark 16:9-20 or John 7:53-8:11. Read the footnotes explaining the textual issues. Then look up a few different translations (NIV, ESV, NASB, KJV) to see how they handle these passages. Notice that modern translations don't hide the issues\u2014they're transparent about them. This honesty should increase, not decrease, your trust in biblical scholarship.",appLinks:["Bible Timeline (Canonization)","Church History Guide (Lesson 2)"],quiz:[{question:"Why don't we have any original biblical manuscripts?",options:["They were all destroyed in early Christian persecutions","Ancient writing materials decayed over time, and worn copies were replaced","The Catholic Church deliberately destroyed them","They were lost during the fall of Rome"],correctAnswer:1,explanation:"Papyrus and parchment naturally decay, especially in humid climates. Worn manuscripts were reverently replaced with fresh copies. This was normal practice for ancient texts."},{question:"What is textual criticism?",options:["The practice of criticizing the Bible's teachings","Finding errors in biblical manuscripts","The careful comparison of manuscripts to determine the original wording","Translating ancient languages into English"],correctAnswer:2,explanation:"'Criticism' here means 'careful evaluation,' not 'finding fault.' Textual critics compare thousands of manuscripts to reconstruct the most likely original text."},{question:"Which manuscript family is generally considered most reliable for the New Testament?",options:["Byzantine (used by King James Version)","Alexandrian (Egypt, 2nd-4th centuries)","Western (North Africa and Europe)","They are all equally reliable"],correctAnswer:1,explanation:"The Alexandrian text type is generally shorter and considered more accurate because Egypt's dry climate preserved very early manuscripts. Modern translations like NIV and ESV primarily follow Alexandrian texts."},{question:"What was significant about the Dead Sea Scrolls discovery?",options:["They contained lost books of the Bible","They proved the Old Testament had been corrupted over time","They pushed our manuscript evidence back 1,000 years and confirmed textual accuracy","They revealed that Jesus was married"],correctAnswer:2,explanation:"The Dead Sea Scrolls (dated around 200 BC - 100 AD) are about 1,000 years older than previously known Hebrew manuscripts. Remarkably, they match later manuscripts almost perfectly, confirming careful preservation."},{question:"When your Bible has a footnote saying 'some manuscripts omit this verse,' what does that mean?",options:["The verse is definitely not authentic","Translators are unsure how to translate it","Ancient manuscripts differ at this point, and scholars want you to know","This verse was added by the Catholic Church"],correctAnswer:2,explanation:"These footnotes show textual variants\u2014places where ancient manuscripts differ. Modern Bibles are transparent about these differences, letting readers know where uncertainty exists. It's a sign of scholarly honesty."}]},{lesson:3,title:"Lost in Translation?",subtitle:"From Hebrew and Greek to your language",introduction:"Have you ever played the game 'telephone,' where a message gets whispered from person to person and becomes hilariously garbled by the end? Translation can feel like that\u2014but biblical translation is far more careful. Every time the Bible moves from one language to another, translators face a fundamental tension: Do you translate word-for-word (formal equivalence) or thought-for-thought (dynamic equivalence)? Let's explore this journey from ancient languages to English.",keyTopics:["The Septuagint: Why Greek translation mattered for canon debates","Jerome's Latin Vulgate and its thousand-year dominance","Translation philosophies: formal vs. dynamic equivalence","Why different English Bibles say different things","Choosing the right Bible translation for your needs"],detailedContent:[{heading:"The Septuagint: Judaism's Greek Bible",text:"Around 250 BC, Jewish scholars in Alexandria, Egypt translated the Hebrew Scriptures into Greek (called the Septuagint or LXX). Why? Many Jews in the diaspora spoke Greek, not Hebrew. This translation became massively important: (1) It's the version most quoted in the New Testament, (2) It included books (like Tobit, Wisdom, Maccabees) that weren't in the Hebrew canon, fueling later debates about the Apocrypha, and (3) It shows how Jews understood their own Scriptures before Christianity emerged. When you see Old Testament quotes in the New Testament that don't quite match your Old Testament, it's often because the NT authors quoted the Septuagint."},{heading:"Jerome's Vulgate: The Latin Standard",text:"By the 4th century, Latin had replaced Greek as the common language of the Western Roman Empire. Pope Damasus commissioned Jerome\u2014a brilliant but cranky scholar\u2014to create a definitive Latin Bible. Jerome did something radical: instead of translating the Old Testament from the Greek Septuagint (which most Christians used), he went back to the Hebrew originals. This controversial choice meant his Vulgate sometimes differed from the Greek Old Testament. For over 1,000 years (400-1500s AD), the Vulgate was *the* Bible for Western Christianity. The Protestant Reformation challenged its authority, but it remained the Catholic Church's official version until the 20th century."},{heading:"Translation Philosophy: The Spectrum",text:"Every translation sits on a spectrum. **Formal equivalence** (word-for-word): Translates each word as literally as possible, preserving original word order and structure. Examples: NASB, ESV, KJV. Pros: Great for study; maintains original ambiguities. Cons: Can sound wooden; Hebrew idioms don't always make sense in English. **Dynamic equivalence** (thought-for-thought): Translates the meaning of phrases, not individual words. Examples: NIV, NLT, GNT. Pros: Readable, captures the author's intent. Cons: Translator interpretation involved; some nuance lost. **Paraphrase**: Rewrites in contemporary language. Example: The Message. Pros: Highly readable, fresh perspective. Cons: More interpretation, less precise."},{heading:"Why English Bibles Differ",text:"Open five English Bibles to the same verse, and you might see five different wordings. Why? (1) **Source texts differ**: KJV used later Byzantine manuscripts; modern versions use earlier Alexandrian texts. (2) **Translation philosophy**: ESV is formal; NIV is dynamic. (3) **English changes**: KJV's 'thee/thou' sounded normal in 1611 but archaic today. (4) **Theological tradition**: Some translations lean toward specific traditions (Catholic, Protestant, evangelical). (5) **Committee decisions**: Translation involves judgment calls\u2014should 'sarx' be 'flesh' or 'sinful nature'? Both are defensible."},{heading:"Choosing Your Translation",text:"There's no single 'best' translation\u2014it depends on your purpose. **For word study and deep analysis**: ESV, NASB (formal equivalence). **For devotional reading**: NIV, NLT (dynamic equivalence). **For literary beauty**: KJV, NRSV. **For fresh perspective**: The Message (paraphrase). **For accuracy across traditions**: NRSV, CEB (ecumenical committees). Many scholars recommend reading multiple translations. Use a formal one for study, a dynamic one for reading through books quickly, and a paraphrase for seeing familiar texts with fresh eyes. Compare translations to see where they differ\u2014those differences often highlight interpretive questions worth exploring."}],beginnerExplanation:"Imagine translating a joke from Spanish to English. You could translate word-by-word: 'What gives you the cold one?' (confusing). Or meaning-for-meaning: 'What do you want to drink?' (clear but loses the literal words). Bible translation faces this same choice. Some Bibles stay close to the original words (ESV, NASB); others focus on clear meaning (NIV, NLT). Neither is 'wrong'\u2014they serve different purposes. It's like having both a textbook and a novel about the same topic.",reflectionQuestions:["Why do you think the Septuagint's inclusion of extra books led to Protestant/Catholic canon differences?","How does knowing about translation philosophies change how you read footnotes in your Bible?","What translation(s) do you currently use? Where does it fall on the formal-dynamic spectrum?","Can a translation be 'too literal' or 'too free'? Where would you draw the line?"],practicalApplication:"Pick a familiar passage (like John 3:16 or Psalm 23) and read it in four different translations: ESV (formal), NIV (dynamic), NLT (more dynamic), and The Message (paraphrase). Notice what's the same and what differs. Do the differences change the meaning, or just the wording? This exercise will help you understand what your translation is doing and why multiple translations are valuable.",appLinks:["Bible Timeline (Writing Periods)","Denomination Comparison (Protestant/Catholic Bibles)"],quiz:[{question:"What was significant about the Septuagint?",options:["It was the first Bible ever written","It translated Hebrew Scriptures to Greek and included books that became the Apocrypha","It was written by Jesus's disciples","It proved the Old Testament was corrupted"],correctAnswer:1,explanation:"The Septuagint (LXX), created around 250 BC, translated Hebrew Scriptures into Greek for diaspora Jews. It included additional books (Deuterocanonical/Apocrypha) and became the version most quoted in the New Testament."},{question:"What was controversial about Jerome's Vulgate?",options:["He translated it into Latin instead of Greek","He translated the Old Testament from Hebrew instead of the Greek Septuagint","He removed books from the Bible","He added his own commentary"],correctAnswer:1,explanation:"Jerome controversially went back to the Hebrew originals for the Old Testament rather than translating from the Greek Septuagint that most Christians used. This sometimes produced different readings."},{question:"Which translation philosophy stays closest to the original word order?",options:["Paraphrase (The Message)","Dynamic equivalence (NIV, NLT)","Formal equivalence (ESV, NASB)","They all do equally"],correctAnswer:2,explanation:"Formal equivalence (word-for-word) translations like ESV and NASB try to preserve the original word order and structure as much as possible, even if it sounds less natural in English."},{question:"Why might the same verse differ between the KJV and modern translations?",options:["Modern translators are less faithful to the original","The KJV deliberately changed verses","They use different source manuscripts and translation philosophies","English language hasn't changed since 1611"],correctAnswer:2,explanation:"The KJV used later Byzantine manuscripts; modern translations use earlier Alexandrian texts. They also have different translation philosophies and use contemporary English rather than 17th-century language."},{question:"For deep Bible word study, which type of translation is generally recommended?",options:["Paraphrase like The Message","Dynamic equivalence like NIV","Formal equivalence like ESV or NASB","Any translation works equally well"],correctAnswer:2,explanation:"For detailed word study, formal equivalence translations (ESV, NASB) are preferred because they stay closer to the original wording and preserve nuances. Dynamic translations prioritize readability over literalness."}]},{lesson:4,title:"The English Bible's Dramatic History",subtitle:"Martyrs, kings, and the fight to read Scripture in English",introduction:"It's hard to imagine today, but for centuries, owning an English Bible could get you killed. The story of the English Bible is filled with smugglers, secret printings, political intrigue, and martyrs who believed ordinary people deserved to read God's Word in their own language. From illegal translations whispered in secret to a king's authorized version that shaped the English language itself, this is a story of courage, controversy, and cultural transformation.",keyTopics:["Wycliffe's illegal 'Lollard' Bible (1380s)","Tyndale's martyrdom and lasting influence","The King James Version's political context (1611)","The explosion of modern English translations","Why different denominations prefer certain translations"],detailedContent:[{heading:"John Wycliffe: The Morning Star of the Reformation",text:"In the 1380s, John Wycliffe and his followers (derisively called 'Lollards') produced the first complete English Bible\u2014translated from the Latin Vulgate, not original languages. This was revolutionary and illegal. The Catholic Church insisted Scripture should remain in Latin, interpreted by clergy. Why? Partly control, but also legitimate concern: without training, people might misinterpret Scripture. Wycliffe believed every Christian should read the Bible directly. His followers hand-copied manuscripts and secretly distributed them. When Wycliffe died (1384), his enemies dug up his bones, burned them, and threw the ashes in a river. But his ideas couldn't be killed\u2014they flowed through Europe like those ashes, influencing Jan Hus, Martin Luther, and ultimately the Reformation."},{heading:"William Tyndale: 'If God Spare My Life...'",text:"William Tyndale made a famous vow: 'If God spare my life, ere many years I will cause a boy that driveth the plough shall know more of the Scripture than thou dost' (speaking to a clergyman). Unable to get permission in England, Tyndale fled to Europe. Using Erasmus's Greek New Testament (1516), he produced an English translation directly from Greek\u2014a first. He smuggled printed copies into England (1526) hidden in bales of cloth and wine barrels. Church authorities burned the Bibles publicly. In 1536, Tyndale was betrayed, strangled, and burned at the stake. His last words: 'Lord, open the King of England's eyes!' Within a year, King Henry VIII authorized an English Bible. Tyndale's translation became the foundation\u201483% of the KJV New Testament comes directly from his work."},{heading:"The King James Version: Politics and Poetry",text:"In 1604, King James I authorized a new Bible translation. Why? The Geneva Bible (1560)\u2014England's popular version\u2014had marginal notes that questioned royal authority. James wanted a translation without anti-monarchy notes. He assembled 47 scholars, divided into six committees, working from Hebrew, Greek, and Aramaic. Their instructions: majestic, dignified language suitable for public reading; no controversial notes. The 1611 King James Version succeeded brilliantly\u2014its phrases entered the English language ('Thee/thy,' 'Go the extra mile,' 'The powers that be'). It dominated for 350 years. However, it has limitations: (1) Based on later manuscripts, (2) English language has changed ('prevent' meant 'go before,' not 'stop'), (3) Some passages reflect outdated manuscript evidence."},{heading:"The Modern Translation Explosion",text:"Why so many modern translations? Several factors: (1) **Earlier manuscripts discovered** (Dead Sea Scrolls, Alexandrian texts), (2) **English language evolution** (KJV English sounds archaic), (3) **Translation philosophy debates** (formal vs. dynamic), (4) **Denominational preferences**, (5) **Target audiences** (study, devotional, children, etc.). Major modern translations: **RSV (1952)**: Modernized KJV language. **NASB (1971)**: Very literal. **NIV (1978)**: Dynamic, evangelical, best-selling modern version. **NRSV (1989)**: Scholarly, ecumenical, gender-inclusive language. **ESV (2001)**: Formal, evangelical, growing popularity. **NLT (1996/2004)**: Thought-for-thought, highly readable. **CSB (2017)**: Balance between formal and dynamic."},{heading:"Denominational Translation Preferences",text:"Different Christian traditions gravitate toward certain translations, often for theological or historical reasons. **Catholics**: New American Bible (NAB), New Jerusalem Bible\u2014include Deuterocanonical books, approved by bishops. **Mainline Protestants**: NRSV\u2014ecumenical, scholarly, gender-inclusive. **Evangelicals**: NIV, ESV\u2014balance readability with accuracy, conservative translation choices. **Traditional/KJV-only churches**: Believe only the KJV is reliable (though this is a minority view). **Orthodox**: Orthodox Study Bible\u2014uses Septuagint-based OT. These preferences aren't rigid\u2014many Christians use multiple translations. But understanding these patterns helps explain why your church might prefer one version over another."}],beginnerExplanation:"Imagine if reading this message in your own language was illegal, and people were killed for translating it. That's what early English Bible translators faced. They believed God's Word should be accessible to everyone, not just scholars who knew Latin. Their courage gave us the ability to pick up a Bible in English today without a second thought. The variety of modern translations isn't a weakness\u2014it shows that the Bible is living and active, constantly being translated afresh for new generations.",reflectionQuestions:["What would you risk to read the Bible in your own language if it were illegal?","Why do you think church authorities resisted English translations initially?","How does knowing Tyndale's sacrifice shape how you view your Bible?","Is having many English translations helpful or confusing? Why?"],practicalApplication:"Research which Bible translation your church uses and why. Ask your pastor or look up the church's statement of faith. Understanding your church's choice will help you see how translation decisions connect to theology and tradition. Then, try reading a book of the Bible in a translation your church doesn't typically use\u2014you might gain fresh insights!",appLinks:["Church History Guide (Lesson 3 - Reformation)","Denomination Comparison"],quiz:[{question:"What was illegal about Wycliffe's Bible?",options:["It was translated from Greek instead of Latin","It translated the Bible into English without Church authorization","It removed books from the Bible","It added Wycliffe's own writings"],correctAnswer:1,explanation:"In the 1380s, translating the Bible into English (or any vernacular language) without Church permission was illegal. The Church insisted Scripture remain in Latin, controlled and interpreted by clergy."},{question:"What was William Tyndale's major achievement?",options:["He translated the Bible into Latin","He created the King James Version","He translated the New Testament into English directly from Greek","He printed the first Bible ever"],correctAnswer:2,explanation:"Tyndale's groundbreaking work (1526) was translating the New Testament into English directly from Greek, not from the Latin Vulgate. His translation became the foundation for the King James Version."},{question:"Why did King James I authorize a new Bible translation?",options:["The Geneva Bible's notes questioned royal authority","No English Bible existed yet","He wanted to correct errors in the Latin Vulgate","The Pope requested it"],correctAnswer:0,explanation:"The popular Geneva Bible (1560) had marginal notes that questioned monarchy and royal authority. King James wanted a translation with majestic language and no controversial notes."},{question:"What percentage of the KJV New Testament comes from Tyndale's translation?",options:["About 25%","About 50%","About 83%","None - they were completely different"],correctAnswer:2,explanation:"Approximately 83% of the KJV New Testament comes directly from Tyndale's translation. His work was so excellent that later translators largely preserved his wording."},{question:"Why are there so many modern English Bible translations?",options:["Each denomination wants its own version","Publishers want to make more money","Earlier manuscripts, language changes, and different translation philosophies all contribute","Modern translations are all just paraphrases"],correctAnswer:2,explanation:"Multiple factors drive modern translations: discovery of earlier manuscripts, evolution of English, different translation philosophies (formal vs. dynamic), and serving different audiences. It's not about competition but about serving readers well."}]},{lesson:5,title:"The Books That Almost Made It",subtitle:"Understanding the Apocrypha and 'lost gospels'",introduction:"Walk into a Catholic bookstore and count the books in their Bible: 73. Walk into a Protestant bookstore: 66 books. What happened to those 7 books (actually 7-8 depending on how you count)? And what about the 'Gospel of Thomas' or 'Gospel of Judas' that make headlines every few years? This lesson dives into the fascinating world of texts that were popular, influential, or nearly canonical\u2014but ultimately didn't make the cut for most Christian Bibles.",keyTopics:["What is the Apocrypha/Deuterocanonical books?","Why Catholics include them and Protestants don't","Popular early Christian texts that weren't canonized","The Gnostic gospels and why they were rejected","Debunking modern 'lost gospels' sensationalism"],detailedContent:[{heading:"The Apocrypha: Deuterocanonical Debate",text:"The 'Apocrypha' (Greek: 'hidden things') or 'Deuterocanonical' (second canon) books include: Tobit, Judith, Wisdom of Solomon, Sirach (Ecclesiasticus), Baruch, 1-2 Maccabees, and additions to Esther and Daniel. These books were in the Greek Septuagint but not in the Hebrew Bible. Early Christians used the Septuagint, so these books circulated widely. **Catholic/Orthodox view**: These books are Scripture. They were used by the early church, quoted by church fathers, and affirmed at councils (Hippo 393 AD, Carthage 397 AD, Trent 1546 AD). **Protestant view**: These books are useful for history and devotion but not Scripture. They weren't in the Hebrew canon, weren't quoted as Scripture in the NT, and contain some theological ideas Protestants reject (prayers for the dead, purgatory implications). The Reformers said: 'Good to read, but not equal to Scripture.'"},{heading:"Books That Were Close But Didn't Make It",text:"Several early Christian texts were beloved and nearly canonical: **Shepherd of Hermas** (2nd century): Apocalyptic visions, moral teachings. Included in some early Bibles (Codex Sinaiticus). Too late to be apostolic. **1 Clement** (c. 96 AD): Letter from Rome to Corinth. Wise counsel, but not apostolic authority. **Didache** (1st-2nd century): Early church manual on baptism, Eucharist, church order. Practical but not inspired. **Epistle of Barnabas** (2nd century): Allegorical interpretation of OT. Interesting but speculative. These books show us early Christianity's diversity and piety but lacked the apostolic authority or universal acceptance to become Scripture. They're valuable for understanding early Christian thought, even if not canonical."},{heading:"The Gnostic Gospels: A Different Christianity",text:"In 1945, Egyptian farmers found a jar near Nag Hammadi containing 52 texts, including 'gospels' attributed to Thomas, Philip, and Mary. These weren't lost gospels 'suppressed by the church'\u2014they were Gnostic texts (2nd-3rd centuries), representing a different religion. **Gnosticism taught**: Secret knowledge (gnosis) brings salvation; the material world is evil, created by a lesser god; Jesus didn't have a real body (Docetism); salvation is escaping the body, not bodily resurrection. **Why they were rejected**: (1) Written 100-200 years after Jesus by Gnostics, not apostles. (2) Contradicted apostolic teaching. (3) Focused on secret sayings, not Jesus's life, death, and resurrection. (4) No manuscript evidence from the 1st century. The Gospel of Thomas (sayings collection, no narrative) is interesting for historical study but clearly later and non-apostolic."},{heading:"Debunking 'Lost Gospel' Sensationalism",text:"Every few years, media headlines scream: 'Lost Gospel Discovered!' or 'Ancient Text Challenges Christianity!' Let's be clear: **No serious scholar claims these texts should be in the Bible.** They're studied academically, but they don't change core Christian beliefs. **Gospel of Judas** (National Geographic 2006): Gnostic text (3rd century) portraying Judas as hero. Centuries late, Gnostic perspective. **'Secret Gospel of Mark'**: Claimed 1958, likely a modern forgery. **'Jesus's Wife' papyrus** (2012): Tiny fragment, now widely considered a modern fake. The sensationalism sells books, but the scholarship is clear: We have the right books in the New Testament. These later texts help us understand competing versions of Christianity that died out, but they don't represent apostolic Christianity."},{heading:"Why Canon Boundaries Matter",text:"Having a defined canon isn't about being narrow-minded\u2014it's about having a stable foundation. Imagine if every generation could add new 'gospels' based on new 'revelations.' Christianity would fracture endlessly. The canon debate wasn't arbitrary; it involved careful criteria: (1) **Apostolicity**: Written by or connected to apostles. (2) **Orthodoxy**: Consistent with apostolic teaching. (3) **Antiquity**: From the first century. (4) **Usage**: Widely used in churches. (5) **Inspiration**: Recognized as bearing divine authority. Books like Thomas, Shepherd of Hermas, or the Apocrypha might be edifying, but they don't meet all these criteria. The canon gives us a foundation to stand on\u2014a measuring stick for faith and practice."}],beginnerExplanation:"Imagine you're creating a 'greatest hits' album of early Christian writings. Some songs (books) are obvious classics everyone agrees on (the four Gospels, Paul's letters). Others are good but debated\u2014some fans include them, others don't (Apocrypha/Deuterocanonical). Still others are interesting but clearly not 'greatest hits' material (Gnostic gospels, Shepherd of Hermas). The canon debate was about which books truly carry apostolic authority and represent the foundation of Christian faith. It's not about suppressing books\u2014it's about knowing which ones are the authoritative foundation.",reflectionQuestions:["Why do you think Catholics and Protestants disagree on the Apocrypha?","How would Christianity be different if the Gnostic gospels had been included in the canon?","Should churches teach from non-canonical books like Shepherd of Hermas? Why or why not?","How do you respond when someone claims 'the church suppressed gospels that challenged its power'?"],practicalApplication:"Find a copy of the Apocrypha (many Protestant Bibles include it in a separate section, or look online). Read a chapter from Wisdom of Solomon or 1 Maccabees. Ask yourself: What's valuable here? What's different from canonical books? Why might Protestants not include it while Catholics do? This exercise helps you understand the canon debate firsthand.",appLinks:["Bible Timeline (Canonization)","Denomination Comparison (Protestant vs. Catholic Bibles)"],quiz:[{question:"What are the Deuterocanonical books?",options:["Books written after the New Testament","Books in the Septuagint but not the Hebrew Bible, accepted by Catholics but not Protestants","Books that were lost and recently discovered","The Gnostic gospels"],correctAnswer:1,explanation:"Deuterocanonical books (Tobit, Judith, Wisdom, etc.) were in the Greek Septuagint but not the Hebrew canon. Catholics and Orthodox accept them as Scripture; Protestants do not, though they may include them for historical reading."},{question:"Why did Protestants reject the Apocrypha as Scripture?",options:["They were written in Greek, not Hebrew","They weren't in the Hebrew canon, weren't quoted as Scripture in the NT, and contained disputed teachings","Martin Luther personally disliked them","They were too long"],correctAnswer:1,explanation:"Protestant Reformers noted these books weren't in the Hebrew Bible, weren't quoted as Scripture in the New Testament, and contained teachings (like prayers for the dead) they found problematic. They valued them for history but not as Scripture."},{question:"What is Gnosticism?",options:["The belief that knowledge comes only through Scripture","A 2nd-3rd century movement teaching that secret knowledge brings salvation and the material world is evil","The original form of Christianity","A modern interpretation of the Bible"],correctAnswer:1,explanation:"Gnosticism was a 2nd-3rd century religious movement teaching that secret knowledge (gnosis) brings salvation, the material world is evil, and Jesus didn't have a real body. It contradicted apostolic Christianity."},{question:"Why were the Nag Hammadi gospels (like Gospel of Thomas) rejected?",options:["They were written too recently to be authentic","They were written 100-200 years after Jesus, taught Gnostic theology, and contradicted apostolic teaching","The church was afraid of their message","They were poorly written"],correctAnswer:1,explanation:"The Nag Hammadi texts were written in the 2nd-3rd centuries (long after the apostles), reflect Gnostic theology (which contradicts Christianity), and lack apostolic authority. They weren't 'suppressed'\u2014they were simply not apostolic."},{question:"What criteria did the early church use to determine which books were canonical?",options:["Popularity among modern readers","Which books the Emperor preferred","Apostolicity, orthodoxy, antiquity, widespread usage, and recognized inspiration","Only books that were easy to understand"],correctAnswer:2,explanation:"The canon wasn't arbitrary. Books needed to be: written by/connected to apostles, consistent with apostolic teaching, from the first century, widely used in churches, and recognized as divinely inspired."}]},{lesson:6,title:"How Christians Read the Bible Over Time",subtitle:"From allegory to literal: changing interpretation methods",introduction:"Open your Bible to Genesis 3, where Eve eats the forbidden fruit. Is this a literal historical event? An allegory about human free will? A mythological story teaching theological truth? How you answer depends partly on when and where you lived. Christians across history have read the same Bible but interpreted it very differently. Understanding these interpretation methods helps explain why denominations today disagree on the 'plain meaning' of Scripture\u2014and why your great-grandparents might have read the same passages differently than you do.",keyTopics:["Early allegorical interpretation (Origen and Alexandria)","Medieval four-fold sense of Scripture","The Reformation's 'plain sense' revolution","Modern historical-critical scholarship","Why denominations interpret the same verse differently"],detailedContent:[{heading:"Origen and the Alexandrian School: Allegory Everywhere",text:"In the 3rd century, Origen of Alexandria pioneered allegorical interpretation. Influenced by Greek philosophy, he believed Scripture had three senses (like humans have body, soul, and spirit): **Literal** (the plain events), **Moral** (ethical lessons), and **Spiritual** (deeper mystical meanings). Example: The crossing of the Red Sea wasn't just historical\u2014it symbolized baptism, deliverance from sin, and the soul's journey to God. This approach solved problems (embarrassing Old Testament stories) but risked reading meanings into the text that weren't there. Origen famously interpreted Song of Solomon entirely as allegory about Christ and the church\u2014not a romantic love poem at all. Critics said he was more interested in Plato than in what the biblical authors actually meant."},{heading:"Medieval Four-Fold Sense: Layers of Meaning",text:"Medieval theologians developed a four-fold interpretive method, summarized in a Latin couplet: 'Littera gesta docet, quid credas allegoria, moralis quid agas, quo tendas anagogia' (The letter teaches events, allegory what you believe, moral what you do, anagogy where you're going). Example using 'Jerusalem': **Literal**: Historical city in Israel. **Allegorical**: The Church. **Moral**: The human soul. **Anagogical**: Heaven. This method found multiple valid meanings in every text. It made Scripture endlessly rich but also dangerously subjective\u2014how do you know which allegorical reading is correct? The system worked because Church tradition and authority guided interpretation. But it set the stage for Reformation debates."},{heading:"The Reformation: The 'Plain Sense' Revolution",text:"Martin Luther and other Reformers rejected allegorical excess. Luther said: 'The Holy Spirit is the plainest writer and speaker in heaven and earth, and therefore His words cannot have more than one, and that the very simplest, sense, which we call the literal, ordinary, natural sense.' The Reformers insisted: (1) **Grammatical-historical method**: Understand words in their historical context and original languages. (2) **Scripture interprets Scripture**: Compare clear passages with unclear ones. (3) **The priesthood of all believers**: You don't need Church authority to interpret\u2014the Holy Spirit guides individual readers. This democratized Bible reading but also fragmented Christianity. Without Church authority, who decides what's 'plain'? It's why Protestantism has so many denominations\u2014disagreements over what Scripture 'plainly' teaches."},{heading:"Modern Historical-Critical Scholarship",text:"Starting in the 18th-19th centuries, scholars applied historical methods to the Bible like any ancient text: **Source criticism**: Who wrote this? When? What sources did they use? (e.g., the Documentary Hypothesis for the Torah). **Form criticism**: What genre is this? (History, poetry, parable, apocalyptic). **Redaction criticism**: How did editors shape the final text? **Textual criticism**: What did the original manuscripts say? These methods yielded insights (understanding ancient Near Eastern context, recognizing literary genres) but also controversies (questioning Mosaic authorship of the Pentateuch, debating Gospel historicity). Conservative scholars use these tools while maintaining high views of biblical authority; liberal scholars sometimes conclude the Bible is purely human literature. The tools themselves are neutral; the conclusions depend on presuppositions about Scripture's nature."},{heading:"Why Denominations Read the Same Bible Differently",text:"Here's why Christians disagree on 'what the Bible clearly says': (1) **Interpretive tradition**: Catholics read through Church tradition; Protestants through 'Scripture alone' (though they have traditions too). (2) **Theological framework**: Calvinists and Arminians both cite Scripture but reach different conclusions on predestination. (3) **Genre recognition**: Is Genesis 1 scientific? Poetic? Theological? Your answer affects interpretation. (4) **Cultural context**: Does 1 Timothy 2:12 ('I do not permit a woman to teach') apply universally or to a specific situation? (5) **Role of reason/experience**: How much weight do you give to science, personal experience, or Church tradition alongside Scripture? These aren't 'some Christians ignore the Bible' vs. 'we follow it.' All are trying to faithfully interpret Scripture\u2014they just bring different tools and assumptions."}],beginnerExplanation:"Imagine reading 'Goldilocks and the Three Bears.' You could read it as: (1) A story about a girl and bears (literal), (2) A lesson about respecting others' property (moral), (3) A symbol of finding balance in life (allegorical), or (4) A foreshadowing of humanity's search for 'just right' communion with God (anagogical). Biblical interpretation through history has worked similarly\u2014same text, different reading methods. Today's debates over 'what the Bible says' often aren't about the words themselves but about how we determine what those words mean.",reflectionQuestions:["How much of your Bible reading is 'plain sense' vs. looking for deeper spiritual meanings?","What are the benefits and dangers of allegorical interpretation?","Why do you think the Reformation's 'plain sense' approach led to so many denominations?","How do your own experiences and culture affect how you interpret Scripture?"],practicalApplication:"Pick a parable (like the Good Samaritan, Luke 10:25-37) and interpret it four ways: (1) Literal\u2014what happened in the story? (2) Allegorical\u2014do characters symbolize anything? (Early church said: the man=humanity, robbers=Satan, Samaritan=Jesus, inn=Church). (3) Moral\u2014what should I do? (4) Anagogical\u2014what does this teach about my ultimate destiny? Notice how the same story yields different insights depending on your interpretive method.",appLinks:["Church History Guide (Lesson 3 - Reformation)","Denomination Comparison (Interpretive Traditions)"],quiz:[{question:"What was Origen's main interpretive approach?",options:["Strict literal interpretation only","Historical-critical method","Allegorical interpretation finding spiritual meanings beyond the literal","Ignoring the Old Testament"],correctAnswer:2,explanation:"Origen pioneered allegorical interpretation, believing Scripture had literal, moral, and spiritual senses. He found deeper symbolic meanings throughout the Bible, especially in problematic or poetic texts."},{question:"What are the four senses of Scripture in medieval interpretation?",options:["Matthew, Mark, Luke, John","Literal, allegorical, moral, anagogical","Faith, hope, love, justice","Reading, study, prayer, application"],correctAnswer:1,explanation:"Medieval scholars read Scripture on four levels: literal (what happened), allegorical (what to believe), moral (what to do), and anagogical (where you're going/heaven). This found multiple valid meanings in every text."},{question:"What did the Reformers mean by the 'plain sense' of Scripture?",options:["The Bible is easy and anyone can understand it without study","Interpret words in their grammatical-historical context using original languages","Ignore all symbolism and read everything literally","Only educated clergy can understand the Bible"],correctAnswer:1,explanation:"The Reformers' 'plain sense' meant understanding words in their historical context and original languages, letting Scripture interpret Scripture. It wasn't anti-intellectual simplicity but a rejection of arbitrary allegorical methods."},{question:"What is historical-critical scholarship?",options:["Criticizing the Bible's historical claims","Applying historical methods to understand authorship, context, sources, and genre","Proving the Bible is historically false","Only reading the historical books of the Bible"],correctAnswer:1,explanation:"Historical-critical method applies historical and literary analysis to Scripture: examining authorship, dating, sources, genres, and historical context. It's a tool that can be used with various views of biblical authority."},{question:"Why do denominations interpret the same Bible verse differently?",options:["Some denominations ignore parts of the Bible","Different interpretive traditions, theological frameworks, genre recognition, and cultural contexts","Only Catholics interpret correctly","The Bible is too unclear to interpret"],correctAnswer:1,explanation:"Christians disagree not because some ignore Scripture but because they bring different interpretive traditions, theological frameworks, understandings of genre and context, and views on the role of reason and experience. All are trying to interpret faithfully."}]},{lesson:7,title:"Archaeology & the Bible",subtitle:"How discoveries confirm, challenge, and illuminate Scripture",introduction:"In 1947, a shepherd threw a rock into a cave and changed biblical scholarship forever. In 1868, a missionary found a stone that mentioned King David's dynasty\u2014confirming a biblical king skeptics doubted existed. Archaeology doesn't 'prove' the Bible in a simplistic way, but it provides an astonishing amount of confirmation for biblical people, places, and events. It also raises questions and challenges traditional interpretations. Let's explore how digging in the dirt illuminates the book we hold in our hands.",keyTopics:["The Dead Sea Scrolls: A game-changing discovery","The Nag Hammadi library and Gnostic texts","Archaeological confirmations of biblical accounts","Archaeological challenges to traditional interpretations","Latest manuscript discoveries and what they tell us"],detailedContent:[{heading:"Dead Sea Scrolls: Pushing Back the Evidence",text:"Before 1947, critics claimed the Old Testament had been corrupted over centuries of copying. Our oldest complete Hebrew Bible was the Leningrad Codex (1008 AD)\u2014over 1,000 years after the last OT book was written. Then came Qumran. Bedouin shepherds discovered caves containing hundreds of scrolls, including complete or partial copies of every OT book except Esther. Dates: 200 BC - 100 AD. The Isaiah scroll from Cave 1 (125 BC) is 1,000 years older than any previously known manuscript. Result? Word-for-word match with medieval manuscripts, with only minor spelling variations. This discovery silenced claims of textual corruption and confirmed the careful preservation of Scripture. We also learned about Second Temple Judaism\u2014the religious world Jesus grew up in."},{heading:"Nag Hammadi: Understanding Early Heresies",text:"In 1945, Egyptian farmers near Nag Hammadi found a jar containing 52 texts (4th century copies of 2nd-3rd century originals), including Gnostic gospels (Thomas, Philip, Mary, Truth). Sensational media claimed these were 'suppressed gospels.' Reality: These texts confirm what church fathers said about Gnostic beliefs\u2014secret knowledge for salvation, material world as evil, denial of Jesus's physical resurrection. They're valuable for understanding why early Christians rejected Gnosticism, but they don't challenge the New Testament canon. No serious scholar argues they're apostolic. They show Christianity wasn't monolithic\u2014there were competing visions, and orthodox Christianity won not by suppression but by better reflecting apostolic teaching and Jesus's actual life and mission."},{heading:"Archaeological Confirmations: The Hits",text:"Archaeology has confirmed numerous biblical details critics once doubted: **Hittites**: Once thought legendary, now extensively documented. **Pool of Siloam**: Where Jesus healed the blind man (John 9)\u2014discovered in 2004. **Pontius Pilate**: Inscription found in 1961 confirms his existence and title. **House of David**: Tel Dan Stele (1993) mentions 'House of David,' confirming David as historical figure. **Assyrian and Babylonian kings**: Sennacherib, Nebuchadnezzar, etc.\u2014all confirmed. **Crucifixion evidence**: Heel bone with nail from 1st century proves crucifixion methods matching Gospel descriptions. **Capernaum**: Peter's house excavated, matches Gospel descriptions. These don't 'prove' theological claims, but they confirm the Bible's historical reliability in details skeptics once mocked."},{heading:"Archaeological Challenges: The Complications",text:"Archaeology also raises questions: **The Exodus**: No direct evidence for 2+ million Israelites wandering 40 years in Sinai. Some scholars suggest smaller numbers; others see theological history rather than documentary history. **Jericho's walls**: Joshua's conquest (c. 1400 BC) doesn't match archaeological evidence for Jericho's destruction. Possible explanations: dating debates, theological narrative vs. strict history. **Nazareth**: Limited 1st century evidence (though recent finds confirm small village). **Conquest vs. settlement**: Archaeological evidence suggests gradual settlement rather than sudden military conquest. These don't 'disprove' the Bible but challenge simplistic readings. They remind us: The Bible is ancient literature with complex relationships to history, not a modern documentary."},{heading:"Recent Discoveries and Ongoing Work",text:"Biblical archaeology continues with exciting finds: **P52 (John Rylands Papyrus)**: Earliest NT fragment (John 18, c. 125 AD). **P46 (Chester Beatty Papyrus)**: Paul's letters, c. 200 AD. **Codex Sinaiticus (1844)**: 4th century complete NT, discovered in monastery. **Museum of the Bible controversies**: Fake Dead Sea Scroll fragments exposed (2018)\u2014reminder to verify provenance. **Tel Gezer inscription**: Confirms biblical place names. **Khirbet Qeiyafa**: Possible site of biblical Shaaraim. **Digital technology**: Multispectral imaging reveals text on burnt scrolls. Archaeology won't answer every question\u2014much ancient evidence is lost to time. But it consistently shows the Bible emerged from real historical contexts, featuring real people and places. That doesn't prove theological claims, but it grounds faith in history, not mythology."}],beginnerExplanation:"Think of the Bible as a historical novel set in ancient Rome. Archaeology is like excavating Rome\u2014you find the Colosseum, coins with Caesar's face, inscriptions mentioning events in the novel. Does this prove every detail of the novel? No. But it confirms the story is set in a real place with real people, not a fairy-tale world. Similarly, archaeology confirms biblical places, people, and events without 'proving' theological claims like the resurrection. It shows the Bible is historically grounded, which strengthens (though doesn't replace) faith.",reflectionQuestions:["How does archaeological confirmation of biblical details affect your faith?","What do you do with archaeological evidence that complicates traditional biblical interpretations?","Why do you think God didn't preserve more direct physical evidence of events like the Exodus?","Can faith coexist with historical uncertainty about some biblical events?"],practicalApplication:"Choose one biblical site or artifact (Pool of Siloam, Tel Dan Stele, Dead Sea Scrolls, etc.). Research what was found, when, and what it confirms or challenges about the biblical account. Watch a video or read an article from a reputable source (Biblical Archaeology Review, museum websites). This will help you see how archaeology illuminates Scripture and equip you to respond to skeptics who claim 'there's no evidence for the Bible.'",appLinks:["Bible Timeline (Writing Periods)","Church History Guide (Lesson 1 - Early Christianity)"],quiz:[{question:"What was the major significance of the Dead Sea Scrolls?",options:["They contained new books of the Bible","They proved the Old Testament had been corrupted","They pushed manuscript evidence back 1,000 years and confirmed textual accuracy","They revealed Jesus was married"],correctAnswer:2,explanation:"The Dead Sea Scrolls (200 BC - 100 AD) are about 1,000 years older than previously known Hebrew manuscripts. They match later texts almost perfectly, confirming careful textual preservation over centuries."},{question:"What do the Nag Hammadi texts reveal?",options:["Lost gospels that should be in the Bible","Evidence of early Gnostic beliefs and why they were rejected","Proof that Christianity suppressed alternative gospels","Original versions of the four Gospels"],correctAnswer:1,explanation:"The Nag Hammadi texts (4th century copies of 2nd-3rd century Gnostic works) confirm what church fathers said about Gnosticism and show why it was rejected as incompatible with apostolic Christianity."},{question:"Which biblical figure's existence was confirmed by the Tel Dan Stele?",options:["Moses","Abraham","King David","Jesus"],correctAnswer:2,explanation:"The Tel Dan Stele (1993 discovery) mentions the 'House of David,' confirming David as a historical figure. This was significant because some scholars had questioned David's existence."},{question:"What is an example of an archaeological challenge to traditional Bible interpretation?",options:["Proof that Jesus never existed","Evidence that contradicts all biblical events","Lack of direct evidence for a massive Exodus as traditionally interpreted","Discovery that the Bible was written in the Middle Ages"],correctAnswer:2,explanation:"While archaeology confirms many biblical details, some events (like a massive 2-million person Exodus) lack direct archaeological evidence, leading scholars to various interpretations about numbers, dating, or the nature of the account."},{question:"What is the relationship between archaeology and biblical faith?",options:["Archaeology proves every biblical claim","Archaeology disproves the Bible","Archaeology confirms historical contexts and details but doesn't prove theological claims","Archaeology is irrelevant to faith"],correctAnswer:2,explanation:"Archaeology confirms the Bible's historical grounding\u2014real people, places, and events\u2014but doesn't 'prove' theological claims like resurrection or miracles. It shows the Bible emerged from real history, not mythology, which strengthens (but doesn't replace) faith."}]},{lesson:8,title:"Your Bible's Backstory",subtitle:"Practical skills for informed Bible reading",introduction:"You've journeyed through 2,000+ years of biblical history\u2014from oral tradition to manuscript copying, from Latin Vulgate to English translations, from disputed canons to archaeological discoveries. Now it's time to bring it all together with practical skills. This final lesson equips you to read your Bible with informed confidence: understanding footnotes, choosing translations wisely, recognizing textual issues, and selecting study resources that fit your needs. You're about to become a much more informed Bible reader.",keyTopics:["How to read and understand manuscript footnotes","Understanding your Bible's translation committee and approach","Why some verses are in brackets [like John 7:53-8:11]","Choosing a study Bible that fits your needs","Becoming an informed, confident Bible reader"],detailedContent:[{heading:"Decoding Manuscript Footnotes",text:"Open your Bible to almost any page and you'll see small letters (a, b, c) with footnotes at the bottom. These aren't distractions\u2014they're windows into textual history. Common footnote types: **'Some manuscripts read...'**: Indicates a variant reading in ancient manuscripts. Example: Romans 8:28 might note different word order. Usually minor. **'The earliest manuscripts do not include...'**: Signals significant textual questions. Example: Mark 16:9-20. **'Or...'**: Alternative translations of the same Greek/Hebrew word. Example: 'justify' or 'declare righteous.' **'Greek: ...'**: Shows the original language when English doesn't capture nuance. These footnotes don't mean your Bible is unreliable\u2014they mean translators are being honest about uncertainty and giving you full information. Embrace them! They show scholarly integrity."},{heading:"Know Your Translation's Approach",text:"Every Bible includes an introduction or preface explaining the translation philosophy. **Read it!** Look for: **Source texts**: Nestle-Aland/UBS for NT? Biblia Hebraica for OT? **Translation philosophy**: Formal (word-for-word) or dynamic (thought-for-thought)? **Committee composition**: Denominational? Ecumenical? Conservative? Liberal? **Target audience**: Scholars? New believers? Children? **Example - ESV**: Uses NA28 Greek text, formal equivalence, evangelical committee, aims for word-for-word accuracy. **Example - NIV**: Uses eclectic Greek text, dynamic equivalence, evangelical committee, prioritizes clarity and readability. **Example - NRSV**: Ecumenical committee, formal equivalence, gender-inclusive language, scholarly. Knowing your translation's approach helps you understand its strengths and limitations."},{heading:"Brackets, Italics, and Textual Markers",text:"Your Bible uses typography to signal textual issues: **Brackets [text]**: Indicates significant textual uncertainty. Example: **John 7:53-8:11** (woman caught in adultery) is bracketed in most modern Bibles because it's absent from earliest manuscripts. The story is likely historical tradition but wasn't originally in John's Gospel. **Mark 16:9-20** (longer ending with snake-handling) similarly bracketed. **Double brackets [[text]]**: Even more uncertain. **Italics** (in KJV): Added words for English readability not in the original. **Paragraph headings**: Added by publishers, not in the original text. Don't treat them as Scripture. **Red letters** (Jesus's words): Helpful but interpretive\u2014sometimes debated what counts as Jesus's words. Understanding these markers helps you read critically and recognize where uncertainty exists."},{heading:"Choosing a Study Bible",text:"Study Bibles add notes, maps, articles, and cross-references. But not all study Bibles are alike. Choose based on your needs: **For deep word study**: ESV Study Bible, NASB Study Bible\u2014formal translations with detailed notes. **For balanced evangelical perspective**: NIV Study Bible, CSB Study Bible\u2014readable with solid scholarship. **For ecumenical/academic**: NRSV Oxford Annotated, HarperCollins Study Bible\u2014multiple viewpoints, scholarly. **For Catholic readers**: Catholic Study Bible, Ignatius Catholic Study Bible\u2014includes Deuterocanonical books, Catholic tradition. **For devotional use**: Life Application Study Bible, NLT Study Bible\u2014practical application focus. **For historical/cultural context**: IVP Bible Background Commentary, Zondervan Illustrated Bible Backgrounds. **Red flags**: Study Bibles pushing fringe interpretations, claiming exclusive correctness, or ignoring mainstream scholarship. Choose based on your theological tradition, reading goals, and learning style."},{heading:"Becoming a Confident Bible Reader",text:"You now have the tools to read Scripture with informed confidence. **Practical habits**: (1) **Compare translations**: Check 2-3 translations for important passages. Differences often reveal interpretive choices. (2) **Read footnotes**: Don't skip them! They provide crucial context. (3) **Use study helps wisely**: Commentaries and study Bibles are helpful but not infallible. (4) **Understand genre**: Read poetry as poetry, apocalyptic as apocalyptic, history as ancient history (not modern documentary). (5) **Learn some Greek/Hebrew**: Even basic knowledge helps (free resources: Mounce's Greek, Pratico's Hebrew). (6) **Join a Bible study**: Community guards against individualistic misinterpretation. (7) **Pray for illumination**: The Holy Spirit guides understanding (1 Cor 2:10-14). You don't need to be a scholar to read the Bible faithfully\u2014but a little knowledge goes a long way in avoiding mistakes and growing in understanding."}],beginnerExplanation:"Imagine you're reading a Shakespeare play. You'd benefit from knowing: when it was written, what words meant in Elizabethan English, which lines are disputed by scholars, and which edition you're reading. Similarly, being an informed Bible reader means understanding your translation's approach, what footnotes mean, and how to use study tools. It doesn't require a PhD\u2014just curiosity and willingness to learn. The Bible becomes richer when you understand its backstory, and you'll be able to help others read it with confidence too.",reflectionQuestions:["How has this course changed how you read your Bible?","What textual issue or footnote will you explore next?","Which study Bible might you explore based on your needs and interests?","How will you share this knowledge with others in your church or community?"],practicalApplication:"Do a 'Bible audit': (1) Identify your Bible's translation and edition. (2) Read the preface/introduction\u2014note the translation philosophy and committee. (3) Find a passage with footnotes (Romans 8:28, Mark 16:9-20, John 7:53-8:11). (4) Look up that passage in 2-3 other translations online. (5) If you have a study Bible, read the notes on that passage. (6) Write down what you learned. This exercise will make you a more informed, confident reader who understands why different Bibles say different things\u2014and that's okay!",appLinks:["Bible Timeline (All Sections)","Church History Guide (All Lessons)","Denomination Comparison (Translation Preferences)"],quiz:[{question:"What does a footnote saying 'Some manuscripts read...' indicate?",options:["The Bible is unreliable","Translators made a mistake","Ancient manuscripts have a variant reading at this point","This verse should be removed"],correctAnswer:2,explanation:"Footnotes showing variant readings indicate ancient manuscripts differ at this point. Translators include these notes to be transparent about textual evidence. It shows honesty, not unreliability."},{question:"Why are John 7:53-8:11 (woman caught in adultery) and Mark 16:9-20 often bracketed?",options:["They were added by the Catholic Church","They're absent from the earliest and best manuscripts","Scholars don't like these passages","They were recently discovered"],correctAnswer:1,explanation:"These passages are absent from our earliest and best manuscripts, suggesting they weren't in the original Gospels. Most scholars think they're true historical traditions added later. Modern Bibles bracket them to show this textual issue."},{question:"What information can you find in your Bible's preface?",options:["Hidden prophecies about the future","The translation's philosophy, source texts, and committee composition","The translator's personal testimony","A list of all the errors in other translations"],correctAnswer:1,explanation:"Bible prefaces explain the translation's approach: formal or dynamic equivalence, which source manuscripts were used, who was on the committee, and the target audience. This helps you understand the translation's strengths and limitations."},{question:"What should you look for when choosing a study Bible?",options:["The most expensive one","One that aligns with your theological tradition, reading goals, and learning style","The one with the most pictures","The one your friend recommended"],correctAnswer:1,explanation:"Choose a study Bible based on your theological tradition (Catholic, evangelical, ecumenical), your goals (word study, devotional, historical), and learning style. Different study Bibles serve different purposes."},{question:"What is a key habit for becoming a confident Bible reader?",options:["Only read one translation and ignore all footnotes","Memorize Greek and Hebrew before reading","Compare translations, read footnotes, understand genre, and use study helps wisely","Rely entirely on what your pastor says"],correctAnswer:2,explanation:"Confident Bible reading involves comparing translations, reading footnotes, understanding literary genres, using study resources wisely, and combining scholarship with prayer. It doesn't require expertise, just curiosity and willingness to learn."}]}],w={completed:o.length,total:x.length,percentage:Math.round(o.length/x.length*100),badges:o.length,masteryLevel:((e,t)=>{const n=e/t*100;return 0===n?"Beginner":n<38?"Novice":n<63?"Scholar":n<88?"Expert":"Master"})(o.length,x.length),xp:(()=>{const e=localStorage.getItem("bibleHistoryTotalXP");return e?parseInt(e):0})(),maxXP:800};if(f){const e={1:Gn,2:Jn,3:Kn,4:Qn,5:Xn,6:Yn,7:$n,8:Zn}[f.lessonNumber];if(e)return(0,Pt.jsx)(cn,{lessonData:e,path:"bible",lessonNumber:f.lessonNumber,onComplete:async e=>{await zn("bible",e),g(null),window.scrollTo({top:0,behavior:"smooth"})},onExit:()=>{g(null),window.scrollTo({top:0,behavior:"smooth"})}})}return 1===m?(0,Pt.jsx)($t,{lessonData:Gn,onComplete:e=>b(1,e),onExit:v}):2===m?(0,Pt.jsx)($t,{lessonData:Jn,onComplete:e=>b(2,e),onExit:v}):3===m?(0,Pt.jsx)($t,{lessonData:Kn,onComplete:e=>b(3,e),onExit:v}):4===m?(0,Pt.jsx)($t,{lessonData:Qn,onComplete:e=>b(4,e),onExit:v}):5===m?(0,Pt.jsx)($t,{lessonData:Xn,onComplete:e=>b(5,e),onExit:v}):6===m?(0,Pt.jsx)($t,{lessonData:Yn,onComplete:e=>b(6,e),onExit:v}):7===m?(0,Pt.jsx)($t,{lessonData:$n,onComplete:e=>b(7,e),onExit:v}):8===m?(0,Pt.jsx)($t,{lessonData:Zn,onComplete:e=>b(8,e),onExit:v}):(0,Pt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-orange-50",children:[(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-amber-600 to-orange-600 text-white py-16 px-4",children:(0,Pt.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,Pt.jsx)(Dt,{className:"w-12 h-12 mr-3"}),(0,Pt.jsx)("h1",{className:"text-4xl md:text-5xl font-bold",children:"History of the Bible Study Guide"})]}),(0,Pt.jsx)("p",{className:"text-xl md:text-2xl text-amber-100 mb-6",children:"An 8-Lesson Journey from Ancient Scrolls to Modern Translations"}),(0,Pt.jsx)("p",{className:"text-lg text-amber-50 max-w-2xl mx-auto",children:"Discover how the Bible was written, preserved, and translated. Track your progress as you learn."})]})}),(0,Pt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,Pt.jsxs)("button",{onClick:()=>n?n():t("paths"),className:"inline-flex items-center gap-2 px-4 py-2 mb-6 rounded-xl border-2 border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition",children:[(0,Pt.jsx)(Lt,{className:"w-4 h-4"}),(0,Pt.jsx)("span",{children:"Back"})]}),(0,Pt.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-12 border-2 border-amber-100",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)(Ot,{className:"w-8 h-8 text-amber-600 mr-3"}),(0,Pt.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Your Progress"})]}),(0,Pt.jsxs)("span",{className:"text-3xl md:text-4xl font-bold text-amber-600",children:[w.percentage,"%"]})]}),(0,Pt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-6",children:(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 h-4 rounded-full transition-all duration-500",style:{width:"".concat(w.percentage,"%")}})}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Pt.jsxs)("div",{className:"bg-amber-50 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 text-amber-700 mb-1",children:[(0,Pt.jsx)(Mt,{className:"w-5 h-5"}),(0,Pt.jsx)("span",{className:"font-semibold",children:"Completed"})]}),(0,Pt.jsxs)("p",{className:"text-2xl font-bold text-amber-900",children:[w.completed,"/",w.total]})]}),(0,Pt.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 text-purple-700 mb-1",children:[(0,Pt.jsx)(Bt,{className:"w-5 h-5"}),(0,Pt.jsx)("span",{className:"font-semibold",children:"Badges Earned"})]}),(0,Pt.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:w.badges})]}),(0,Pt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 text-blue-700 mb-1",children:[(0,Pt.jsx)(Ot,{className:"w-5 h-5"}),(0,Pt.jsx)("span",{className:"font-semibold",children:"Mastery Level"})]}),(0,Pt.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:w.masteryLevel})]}),(0,Pt.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 text-green-700 mb-1",children:[(0,Pt.jsx)(Ft,{className:"w-5 h-5"}),(0,Pt.jsx)("span",{className:"font-semibold",children:"Total XP"})]}),(0,Pt.jsxs)("p",{className:"text-2xl font-bold text-green-900",children:[w.xp,"/",w.maxXP]})]})]})]}),(0,Pt.jsxs)("div",{className:"mb-12",children:[(0,Pt.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Pt.jsx)(Et,{className:"w-8 h-8 text-orange-600 mr-3"}),(0,Pt.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"8-Lesson Curriculum"})]}),(0,Pt.jsx)("p",{className:"text-gray-700 mb-8 text-lg",children:"Click any lesson below to explore the content. Each lesson builds on the previous one, taking you from ancient oral tradition to becoming an informed modern Bible reader."}),(0,Pt.jsx)("div",{className:"space-y-4",children:x.map(e=>{const n=r===e.lesson,l=o.includes(e.lesson),m=d[e.lesson],f=e.lesson>=1&&e.lesson<=8,g=e.lesson>1&&!o.includes(e.lesson-1);return(0,Pt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border-2 transition-all ".concat(l?"border-green-400":g?"border-gray-300 opacity-60":"border-gray-200"),children:[(0,Pt.jsx)("button",{onClick:()=>{g||(f?p(e.lesson):s(n?null:e.lesson))},disabled:g,className:"w-full p-6 transition ".concat(g?"cursor-not-allowed":"hover:bg-gray-50 cursor-pointer"),children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Pt.jsx)("div",{className:"w-12 h-12 min-w-[3rem] rounded-full flex items-center justify-center text-xl font-bold flex-shrink-0 ".concat(l?"bg-green-100 text-green-700":g?"bg-gray-200 text-gray-400":"bg-amber-100 text-amber-700"),children:l?(0,Pt.jsx)(Mt,{className:"w-6 h-6"}):e.lesson}),(0,Pt.jsxs)("div",{className:"text-left",children:[(0,Pt.jsx)("h3",{className:"text-xl font-bold ".concat(g?"text-gray-400":"text-gray-800"),children:e.title}),(0,Pt.jsx)("p",{className:"".concat(g?"text-gray-400":"text-gray-600"),children:e.subtitle})]})]}),g?(0,Pt.jsx)("div",{className:"flex items-center justify-center",children:(0,Pt.jsx)(zt,{className:"w-6 h-6 text-gray-400 flex-shrink-0"})}):l?(0,Pt.jsx)("span",{className:"text-sm font-bold text-green-600 bg-green-100 px-4 py-2 rounded-full",children:"Complete"}):f?(0,Pt.jsx)("span",{className:"text-sm font-bold text-purple-600 bg-purple-100 px-4 py-2 rounded-full",children:"Start"}):n?(0,Pt.jsx)(qt,{className:"w-6 h-6"}):(0,Pt.jsx)(Wt,{className:"w-6 h-6"})]})}),!f&&n&&(0,Pt.jsxs)("div",{className:"px-6 pb-6 border-t-2 border-gray-100 pt-6",children:[(0,Pt.jsxs)("div",{className:"mb-6",children:[(0,Pt.jsx)("h4",{className:"font-semibold text-gray-800 mb-2 text-lg",children:"Introduction"}),(0,Pt.jsx)("p",{className:"text-gray-700 leading-relaxed",children:e.introduction})]}),(0,Pt.jsxs)("div",{className:"mb-6",children:[(0,Pt.jsx)("h4",{className:"font-semibold text-gray-800 mb-3 text-lg",children:"Key Topics This Lesson"}),(0,Pt.jsx)("ul",{className:"space-y-2",children:e.keyTopics.map((e,t)=>(0,Pt.jsxs)("li",{className:"flex items-start",children:[(0,Pt.jsx)("div",{className:"w-2 h-2 bg-amber-500 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,Pt.jsx)("span",{className:"text-gray-700",children:e})]},t))})]}),(0,Pt.jsxs)("div",{className:"mb-6 bg-amber-50 rounded-lg p-4 border-l-4 border-amber-500",children:[(0,Pt.jsx)("h4",{className:"font-semibold text-gray-800 mb-2 text-lg",children:"Simple Explanation"}),(0,Pt.jsx)("p",{className:"text-gray-700 leading-relaxed",children:e.beginnerExplanation})]}),e.detailedContent&&(0,Pt.jsxs)("div",{className:"mb-6",children:[(0,Pt.jsx)("h4",{className:"font-semibold text-gray-800 mb-4 text-lg",children:"In-Depth Study"}),(0,Pt.jsx)("div",{className:"space-y-4",children:e.detailedContent.map((e,t)=>{return(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-4 border-2 border-gray-200",children:[(0,Pt.jsx)("h5",{className:"font-bold text-gray-900 mb-2",children:e.heading}),(0,Pt.jsx)("p",{className:"text-gray-700 leading-relaxed",children:(n=e.text,n.split(/(\(\d+\)\s|\d+\.\s)/).map((e,t)=>{const n=e.split(/(\*\*[^*]+\*\*)/g).map((e,t)=>e.startsWith("**")&&e.endsWith("**")?(0,Pt.jsx)("strong",{children:e.slice(2,-2)},t):e);return t>0&&/(\(\d+\)\s|\d+\.\s)/.test(e)?(0,Pt.jsxs)(i.Fragment,{children:[(0,Pt.jsx)("br",{}),(0,Pt.jsx)("br",{}),n]},t):(0,Pt.jsx)(i.Fragment,{children:n},t)}))})]},t);var n})})]}),(0,Pt.jsxs)("div",{className:"mb-6",children:[(0,Pt.jsx)("h4",{className:"font-semibold text-gray-800 mb-3 text-lg",children:"Questions to Consider"}),(0,Pt.jsx)("ul",{className:"space-y-2",children:e.reflectionQuestions.map((e,t)=>(0,Pt.jsxs)("li",{className:"flex items-start",children:[(0,Pt.jsxs)("span",{className:"text-orange-600 font-bold mr-3 flex-shrink-0",children:[t+1,"."]}),(0,Pt.jsx)("span",{className:"text-gray-700 italic",children:e})]},t))})]}),(0,Pt.jsxs)("div",{className:"mb-6 bg-orange-50 rounded-lg p-4 border-l-4 border-orange-500",children:[(0,Pt.jsx)("h4",{className:"font-semibold text-gray-800 mb-2 text-lg",children:"This Lesson's Practice"}),(0,Pt.jsx)("p",{className:"text-gray-700 leading-relaxed",children:e.practicalApplication})]}),(0,Pt.jsxs)("div",{className:"mb-6",children:[(0,Pt.jsx)("h4",{className:"font-semibold text-gray-800 mb-3 text-lg",children:"Explore in the App"}),(0,Pt.jsx)("div",{className:"flex flex-wrap gap-2",children:e.appLinks.map((e,n)=>(0,Pt.jsx)("button",{onClick:()=>(e=>{e.includes("Bible Timeline")||e.includes("Denomination")?(t("explorer"),window.scrollTo({top:0,behavior:"smooth"})):e.includes("Church History Guide")&&(t("study-guide"),window.scrollTo({top:0,behavior:"smooth"}))})(e),className:"inline-block bg-gradient-to-r from-amber-100 to-orange-100 text-amber-800 px-4 py-2 rounded-full text-sm font-medium border border-amber-200 hover:from-amber-200 hover:to-orange-200 hover:shadow-md transition cursor-pointer",children:e},n))})]}),e.quiz&&(0,Pt.jsxs)("div",{className:"mb-6 bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-6 border-2 border-amber-200",children:[(0,Pt.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Pt.jsx)("div",{className:"bg-amber-500 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold mr-3",children:"?"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("h4",{className:"font-bold text-gray-900 text-lg",children:["Lesson ",e.lesson," Quiz"]}),(0,Pt.jsx)("p",{className:"text-sm text-gray-600",children:"Test your understanding with 5 questions"})]})]}),m?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("div",{className:"space-y-6",children:e.quiz.map((t,n)=>{const i=c["".concat(e.lesson,"-").concat(n)],r=i===t.correctAnswer;return(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[(0,Pt.jsxs)("p",{className:"font-semibold text-gray-900 mb-3",children:[n+1,". ",t.question]}),(0,Pt.jsx)("div",{className:"space-y-2",children:t.options.map((e,n)=>{const s=i===n;let a="w-full text-left p-3 rounded-lg border-2 cursor-default ";return a+=n===t.correctAnswer?"border-green-500 bg-green-50":s&&!r?"border-red-500 bg-red-50":"border-gray-200 bg-gray-50",(0,Pt.jsxs)("div",{className:a,children:[(0,Pt.jsxs)("span",{className:"font-medium text-gray-700 mr-2",children:[String.fromCharCode(65+n),"."]}),e]},n)})}),(0,Pt.jsxs)("div",{className:"mt-3 p-3 rounded-lg ".concat(r?"bg-green-100 border-l-4 border-green-500":"bg-blue-100 border-l-4 border-blue-500"),children:[(0,Pt.jsx)("p",{className:"text-sm font-semibold text-gray-900 mb-1",children:r?"\u2713 Correct!":"Explanation:"}),(0,Pt.jsx)("p",{className:"text-sm text-gray-800",children:t.explanation})]})]},n)})}),(0,Pt.jsxs)("div",{className:"mt-6 p-4 bg-white rounded-lg border-2 border-amber-300",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Pt.jsx)("span",{className:"text-lg font-bold text-gray-800",children:"Your Score:"}),(0,Pt.jsxs)("span",{className:"text-2xl font-bold text-amber-600",children:[m.score," / ",m.total]})]}),m.score>=.7*m.total?(0,Pt.jsxs)("p",{className:"text-green-700 font-semibold flex items-center",children:[(0,Pt.jsx)(Mt,{className:"w-5 h-5 mr-2"}),"Great job! You passed this lesson! \u2713"]}):(0,Pt.jsx)("p",{className:"text-orange-700",children:"Review the material and try again (need 70% to pass)"})]}),(0,Pt.jsx)("div",{className:"mt-6",children:(0,Pt.jsx)("button",{onClick:()=>{h(t=>{const n=(0,a.A)({},t);return delete n[e.lesson],n}),u(t=>{const n=(0,a.A)({},t);return e.quiz.forEach((t,i)=>{delete n["".concat(e.lesson,"-").concat(i)]}),n})},className:"w-full bg-gray-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-gray-700 transition shadow-md hover:shadow-lg",children:"Retake Quiz"})})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("div",{className:"space-y-6",children:e.quiz.map((t,n)=>{const i=c["".concat(e.lesson,"-").concat(n)];return(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[(0,Pt.jsxs)("p",{className:"font-semibold text-gray-900 mb-3",children:[n+1,". ",t.question]}),(0,Pt.jsx)("div",{className:"space-y-2",children:t.options.map((t,r)=>{const s=i===r;return(0,Pt.jsxs)("button",{onClick:()=>{return t=e.lesson,i=n,s=r,void u(e=>(0,a.A)((0,a.A)({},e),{},{["".concat(t,"-").concat(i)]:s}));var t,i,s},className:"w-full text-left p-3 rounded-lg border-2 transition ".concat(s?"border-amber-500 bg-amber-50":"border-gray-200 hover:border-amber-300 hover:bg-gray-50"),children:[(0,Pt.jsxs)("span",{className:"font-medium text-gray-700 mr-2",children:[String.fromCharCode(65+r),"."]}),t]},r)})})]},n)})}),(0,Pt.jsx)("div",{className:"mt-6",children:(0,Pt.jsx)("button",{onClick:()=>((e,t)=>{let n=0;t.forEach((t,i)=>{c["".concat(e,"-").concat(i)]===t.correctAnswer&&n++});const i={score:n,total:t.length};h(t=>(0,a.A)((0,a.A)({},t),{},{[e]:i}));const r=localStorage.getItem("bibleHistoryQuizResults"),s=r?JSON.parse(r):{};s[e]=i,localStorage.setItem("bibleHistoryQuizResults",JSON.stringify(s)),n>=.7*t.length&&y(e)})(e.lesson,e.quiz),className:"w-full bg-amber-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-amber-700 transition shadow-md hover:shadow-lg",children:"Submit Quiz"})})]})]}),!l&&(0,Pt.jsx)("button",{onClick:()=>y(e.lesson),className:"mt-6 w-full bg-green-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-green-700 transition",children:"Mark as Complete"})]})]},e.lesson)})})]})]})]})},ti=Nt("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),ni={id:1,title:"The Case for God's Existence",subtitle:"Cosmological and fine-tuning arguments that point to a Creator",description:"Explore two core arguments that many thinkers find compelling: the Kalam Cosmological Argument and fine-tuning.",duration:"10 min",cards:[{type:"content",title:"Welcome to Apologetics",subtitle:"\u23f1\ufe0f About 10 minutes",content:["**Learning Objective:** By the end of this lesson, you will be able to explain the Kalam Cosmological Argument and the Fine-Tuning Argument for God's existence.","Apologetics comes from the Greek word 'apologia'\u2014a reasoned defense.","1 Peter 3:15 calls us to be ready to give reasons for our hope with gentleness and respect.","In this lesson, you'll learn the structure of two key arguments for God and how to explain them clearly.","We will focus on a simple structure: teach the core ideas, check your understanding with quick quizzes, and end with a practical challenge."],highlight:"\ud83d\udcad Ready: Can you give reasons for why you believe in God?",requireAcknowledgment:!0},{type:"content",title:"The Kalam Cosmological Argument",content:["1) Whatever begins to exist has a cause.","2) The universe began to exist.","3) Therefore, the universe has a cause.","Modern cosmology (Big Bang, expansion of space, background radiation) supports premise 2. Philosophical arguments support a beginning as well."],highlight:"If the universe began, it points to a Beginner."},{type:"content",title:"Why 'begins to exist' matters",content:["The premise is not 'everything has a cause' but 'whatever begins to exist has a cause.'","God is eternal and doesn't begin to exist, so He doesn't need a cause.",'The universe began\u2014so it is reasonable to ask for a cause. This avoids the "Who made God?" objection.'],highlight:"Only things that begin need causes."},{type:"content",title:"Actual infinities and Hilbert's Hotel",content:["If the past were actually infinite, we'd never arrive at today (you cannot traverse an actual infinite by successive addition).","Hilbert's Hotel\u2014a hotel with infinite rooms that is always full yet can still add guests\u2014reveals paradoxes with actual infinities, suggesting an infinite regress of past events is impossible.","A finite past implies a beginning to the universe."],highlight:"A finite past implies a beginning."},{type:"quiz",question:'Why doesn\'t the question "Who made God?" refute Kalam?',options:["Because God is part of the universe and had a beginning","Because the first premise only applies to things that begin to exist, and God did not begin","Because we can't know anything about God"],correctAnswer:1,explanation:"Kalam's first premise is 'Whatever begins to exist has a cause.' God is eternal and uncaused; the premise doesn\u2019t apply to Him."},{type:"fillblank",prompt:"Whatever ______ to exist has a cause.",correctAnswer:"begins",explanation:"The Kalam's first premise is 'Whatever begins to exist has a cause.'"},{type:"content",title:"What kind of cause?",content:["If space, time, matter, and energy began, then the cause must be beyond space, time, matter, and energy\u2014immaterial, timeless, powerful.","Two types of causes exist: impersonal conditions and personal agents. If impersonal conditions were eternal, the effect (a universe) would also be eternal. But the universe is not eternal.","Therefore, the cause is best explained as a personal agent who can choose to create: a mind with will."],highlight:"Timeless cause + non-eternal effect points to a personal Creator."},{type:"content",title:"Quote: John Lennox",content:["\u201cNonsense remains nonsense, even when talked by world\u2011famous scientists.\u201d","God no more competes with science than Henry Ford competes with the laws of combustion\u2014one explains agency, the other mechanism."]},{type:"content",title:"The Fine-Tuning Argument",content:["The universe is fine\u2011tuned for life with staggering precision. Life-permitting ranges for many constants are razor-thin.","\u2022 Gravity: if altered by 1 part in 10^40, stars would not form.","\u2022 Cosmological constant: exquisitely precise; tiny changes collapse or disperse the universe.","\u2022 Strong nuclear force, electron\u2011proton ratio, carbon resonance\u2014all set 'just right.'","Taken together, these suggest design rather than accident."],highlight:"The cosmos looks designed because it is designed."},{type:"matching",title:"Match the constant to its description",pairs:[{term:"Gravity",definition:"If altered by 1 in 10^40, stars could not form"},{term:"Cosmological constant",definition:"Controls cosmic expansion; must be exquisitely precise"},{term:"Strong nuclear force",definition:"Binds nuclei; small changes prevent chemistry"},{term:"Carbon resonance",definition:"Energy level that enables carbon formation in stars"}]},{type:"quiz",question:"Which explanation best fits widespread, independent fine\u2011tuning across many constants?",options:["Sheer chance, because improbable things happen all the time","Design, because multiple precise values aligned simultaneously","There is no fine\u2011tuning; life just adapted"],correctAnswer:1,explanation:"Multiple, independent parameters landing in life-permitting ranges points to design as the best explanation."},{type:"content",title:"Common objections",content:["Who made God? \u2014 Only things that begin need causes; God is eternal.","Multiverse? \u2014 Speculative and itself requires finely tuned laws/initial conditions to generate life-permitting domains.","We'll find a natural explanation \u2014 That assumes naturalism; inference to the best explanation points to intelligence."],highlight:"Anticipate objections; answer with clarity and grace."},{type:"quiz",question:"Your friend says: 'Science explains everything. We don't need God.'",options:["Science explains how things work, not why they exist. Who designed the laws science studies?","That's ridiculous. Everything screams design!","Yeah, you're probably right. Faith is just a feeling."],correctAnswer:0,explanation:"Science and God answer different questions. Science is the 'how,' God is the 'why.' Lennox: God no more competes with science than Henry Ford with combustion laws."},{type:"quiz",question:"What are the three steps of the Kalam?",options:["God exists; the Bible says so; therefore it's true.","Everything has a cause; God is first cause; God exists.","Whatever begins has a cause; the universe began; therefore the universe has a cause.","The universe is complex; complexity needs design; God designed it."],correctAnswer:2,explanation:"Kalam: whatever begins to exist has a cause; the universe began; therefore the universe has a cause."},{type:"content",title:"This Week's Challenge",content:["Write a 90\u2011second explanation of Kalam and a 90\u2011second explanation of fine\u2011tuning. Practice out loud with a friend.","Bonus: Watch a short presentation by William Lane Craig or John Lennox and note one new insight."],highlight:"Practice makes clarity."},{type:"completion",title:"Lesson Complete! \ud83c\udf89",message:"Great work finishing \"The Case for God's Existence.\" Keep going\u2014you're building a strong apologetics foundation.",keyTakeaways:["The Kalam Argument: Whatever begins to exist has a cause; the universe began; therefore it has a cause","Fine-Tuning: Physical constants are precisely calibrated for life, suggesting intentional design","Both arguments point to a transcendent, powerful, intelligent Creator"],badge:{icon:"\ud83d\udee1\ufe0f",name:"Apologetics 1",description:"Completed: The Case for God's Existence"}}]},ii={id:2,title:"The Problem of Evil & Suffering",subtitle:"Answering the toughest objection to faith",description:"Address both logical and pastoral dimensions of evil and suffering.",duration:"11 min",cards:[{type:"content",title:"The skeptic's challenge",subtitle:"\u23f1\ufe0f About 11 minutes",content:["**Learning Objective:** By the end of this lesson, you will be able to respond to the logical and evidential problems of evil with both intellectual rigor and pastoral sensitivity.","David Hume's framing: If God is willing to prevent evil but not able, He is weak; if able but not willing, He is malevolent; if both able and willing, why is there evil?","Evil is both an intellectual problem and a deeply personal pain.","Apologetics must address the mind and honor the heart."],highlight:"\ud83d\udcad Consider: How do you reconcile suffering with a loving God?",requireAcknowledgment:!0},{type:"content",title:"Two forms: logical vs evidential",content:["Logical: claims a contradiction between God and evil \u2014 free will and greater-goods remove the contradiction.","Evidential: certain particular evils (e.g., seemingly gratuitous suffering) are argued to be unlikely on theism \u2014 but we aren't positioned to know all God\u2019s reasons (limited knowledge).","Moral evil: suffering from free creaturely choices. Natural evil: suffering from disease, disasters, and decay in a fallen world."],highlight:"We're limited creatures; we can't survey all possible reasons."},{type:"matching",title:"Match the category",pairs:[{term:"Logical problem of evil",definition:"Alleged contradiction between God and evil"},{term:"Evidential problem of evil",definition:"Claim that specific evils are improbable on theism"},{term:"Moral evil",definition:"Suffering from sinful choices (murder, abuse, injustice)"},{term:"Natural evil",definition:"Suffering from disease and disasters (cancer, earthquakes)"}]},{type:"content",title:"The Free Will Defense",content:["Genuine love requires freedom; freedom entails the possibility of wrong.","A world with free agents capable of love and moral growth is better than a world of robots.","God values persons with real agency; preventing all evil would also prevent moral goods like courage, loyalty, and forgiveness."]},{type:"content",title:"Soul\u2011making and greater\u2011good",content:["Some virtues require hardship: courage requires danger; compassion requires need; perseverance requires trial.","Genesis 50:20 and Romans 5:3\u20135 frame suffering within God\u2019s purposes\u2014without making God the author of evil.","John Hick called this \u201csoul\u2011making\u201d: God uses a challenging environment to mature persons for eternity."],highlight:"God can use evil for good without authoring evil."},{type:"quiz",question:"Which statement best captures the logical response to evil?",options:["If evil exists, God cannot exist","There is no evil, only perception","There is no contradiction if God has morally sufficient reasons tied to creaturely freedom and greater goods"],correctAnswer:2,explanation:"If God has good reasons to permit evil (e.g., freedom, soul\u2011making), then there is no formal contradiction."},{type:"content",title:"The Cross: God with us",content:["Christianity offers not only arguments but a God who suffers with us.","At the cross, God in Christ entered our pain. We don\u2019t know all reasons, but we know His heart.","Resurrection hope reframes suffering within a larger story where evil does not have the final word."],highlight:"God is not distant from suffering."},{type:"fillblank",prompt:"In Christianity, God in ________ entered human suffering on the cross.",correctAnswer:"Christ",explanation:"Central to the Christian answer is that God, in Christ, suffered and died\u2014He is not remote from our pain."},{type:"quiz",question:"Pastoral care scenario: What\u2019s the wisest first response to suffering?",options:["Offer a detailed theodicy and ask what they learned.","Acknowledge the pain; express presence and point to the God who suffers with us.","Say sin caused this specific event."],correctAnswer:1,explanation:"Lead with compassion. Keller: Christianity gives the deepest answer \u2014 God Himself suffered."},{type:"content",title:"Objections and replies",content:["\u201cGod could make free creatures who never choose evil.\u201d \u2014 Freedom includes the live option of choosing otherwise; a world with genuine freedom entails risk.","\u201cNatural evil seems pointless.\u201d \u2014 Our limited vantage point makes judgments about \u201cpointlessness\u201d precarious; many goods (stable physics, regular laws) entail side effects we dislike.","\u201cEternal life doesn\u2019t fix present pain.\u201d \u2014 True, but it transforms the calculus of suffering and anchors hope that justice and restoration will be complete."]},{type:"quiz",question:"According to the free will defense, why does God allow evil?",options:["God isn't powerful enough","Genuine love and moral goodness require freedom, which includes the possibility of evil","Evil is an illusion"],correctAnswer:1,explanation:"Love must be freely chosen; freedom entails the possibility of evil."},{type:"content",title:"Reflection",content:["Where have you seen courage, compassion, or perseverance grow through hardship?","How does the cross and resurrection shift how you face suffering today?"]},{type:"completion",title:"Lesson Complete! \ud83c\udf89",message:"You addressed evil with both rigor and empathy.",keyTakeaways:["The logical problem of evil is solved by free will and greater goods","The evidential problem acknowledges we cannot know all of God's reasons from our limited perspective","Pastoral care must accompany intellectual answers when addressing suffering"],badge:{icon:"\ud83d\udee1\ufe0f",name:"Apologetics 2",description:"Completed: Evil & Suffering"}}]},ri={id:3,title:"The Resurrection of Jesus",subtitle:"Historical evidence for Christianity's central claim",description:"Examine minimal facts, early testimony, empty tomb, and transformed witnesses.",duration:"10 min",cards:[{type:"content",title:"The central claim",subtitle:"\u23f1\ufe0f About 10 minutes",content:["**Learning Objective:** By the end of this lesson, you will be able to present the historical evidence for the resurrection using the minimal facts approach.","1 Corinthians 15:14: If Christ is not raised, faith is futile.","If true, Jesus is Lord; if false, Christianity collapses. Apologetics stands or falls here."],highlight:"\ud83d\udcad Foundational: Why is the resurrection central to Christianity?",requireAcknowledgment:!0},{type:"content",title:"Minimal facts approach",content:["1) Jesus died by Roman crucifixion (multiple sources: Gospels, Paul, Tacitus).","2) Disciples believed they saw the risen Jesus (appearances tradition).","3) Paul\u2014enemy of the church\u2014converted after an experience he took as an appearance.","4) James\u2014skeptical brother\u2014converted and became a leader in Jerusalem."],highlight:"Start with what most scholars across views grant, then compare explanations."},{type:"matching",title:"Match the minimal fact",pairs:[{term:"Crucifixion",definition:"Executed under Pontius Pilate (c. 30 AD)"},{term:"Disciples\u2019 experiences",definition:"They sincerely believed Jesus appeared to them"},{term:"Paul\u2019s conversion",definition:"From persecutor to apostle after an encounter"},{term:"James\u2019s conversion",definition:"Skeptical brother became leader of the Jerusalem church"}]},{type:"content",title:"Early testimony timeline",subtitle:"Why legend doesn\u2019t fit",content:["1 Corinthians 15:3\u20137 preserves a creed many date within 3\u20135 years of the crucifixion.","Acts records early speeches proclaiming the resurrection in Jerusalem itself (\u201cyou crucified Him, God raised Him\u201d).","The Gospels draw on earlier traditions and include details unlikely for a late legend."]},{type:"quiz",question:"A professor claims \u201cresurrection is a late legend.\u201d What\u2019s the best reply?",options:["We have very early testimony (1 Cor 15 creed), far too soon for legend; and the empty tomb lacked a body.","You\u2019re insulting my Lord!","We just take it on faith."],correctAnswer:0,explanation:"Legends take generations; early testimony plus the empty tomb undercut the legend hypothesis."},{type:"content",title:"The empty tomb",content:["Burial by Joseph of Arimathea (a Sanhedrin member) is multiply attested and unlikely to be invented against the Sanhedrin.","Women as first witnesses would be counter\u2011productive in that culture if fabricated\u2014yet they lead the story.","Earliest Jewish claim alleged theft\u2014implicitly conceding the tomb was empty."],highlight:"The empty tomb is historically robust."},{type:"content",title:"Transformed disciples and alternative theories",content:["From fear to bold proclamation in Jerusalem; many faced persecution and death.","Conspiracy theory: Unlikely\u2014disciples gained no power or wealth and were willing to suffer for their testimony.","Hallucination theory: Private, subjective, and cannot account for group appearances, empty tomb, and physical interactions.","Swoon theory: Roman executions were efficient; a half\u2011dead Jesus would not inspire worship as risen Lord."]},{type:"fillblank",prompt:"If Christ has not been raised, your faith is ________ (1 Cor 15:14).",correctAnswer:"futile",explanation:"Paul grounds Christianity in a historical event\u2014the resurrection."},{type:"quiz",question:"Which is NOT a minimal fact?",options:["Jesus died by crucifixion","Disciples believed they saw the risen Jesus","Roman guards saw angels","Paul converted after an experience he took as an appearance"],correctAnswer:2,explanation:"Guards seeing angels isn't part of the cross\u2011view scholarly consensus."},{type:"content",title:"Practical summary",content:["1) Early, independent sources anchor the claim.","2) Empty tomb fits Jewish and Roman context.","3) Eyewitness transformation is hard to explain naturally.","Ask: Which explanation best fits all the data with the least strain? The resurrection hypothesis remains strongest."]},{type:"content",title:"This Week\u2019s Challenge",content:["Write your 3\u2011minute \u201cminimal facts\u201d explanation. Practice with a friend who asks honest questions."]},{type:"completion",title:"Lesson Complete! \ud83c\udf89",message:"Historical bedrock examined with clarity.",keyTakeaways:["The minimal facts (crucifixion, post-mortem appearances, Paul and James conversions) are accepted by most scholars","Alternative explanations (hallucination, legend, swoon) fail to account for all the facts","The resurrection is the best explanation for the historical data"],badge:{icon:"\ud83d\udee1\ufe0f",name:"Apologetics 3",description:"Completed: Resurrection"}}]},si={id:4,title:"Science & Faith: Friends or Foes?",subtitle:"The Big Bang, fine-tuning, and God's cosmos",description:"Modern science points toward a Creator more than many think.",duration:"9 min",cards:[{type:"content",title:"The conflict myth",subtitle:"\u23f1\ufe0f About 9 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand how modern science (Big Bang, fine-tuning, DNA) points toward an intelligent Creator.","Most scientific pioneers (Newton, Kepler, Faraday, Maxwell) were Christians who saw science as thinking God's thoughts after Him."],highlight:"\ud83d\udcad Think: Are science and faith really at war?",requireAcknowledgment:!0},{type:"content",title:"Quote: John Lennox",content:["\u201cNonsense remains nonsense even when talked by world\u2011famous scientists.\u201d","The more we learn, the more a Creator hypothesis remains credible."]},{type:"content",title:"The Big Bang and creation",content:["Big Bang implies a beginning to space-time and matter \u2014 a strong consonance with Genesis 1:1."],highlight:"The Big Bang is consistent with 'In the beginning, God created.'"},{type:"content",title:"Cosmic fine\u2011tuning",content:["Dozens of constants (gravity, cosmological constant, etc.) require exquisite calibration for life."],highlight:"The universe looks rigged for life."},{type:"quiz",question:"What is the fine\u2011tuning argument?",options:["The universe is old, so it evolved naturally","Physical constants are precisely calibrated for life, suggesting design","Scientists fine\u2011tuned their instruments","Evolution fine\u2011tunes organisms"],correctAnswer:1,explanation:"The precision of constants suggests intentional design."},{type:"content",title:"DNA: The language of God",content:["DNA is a digital code (A, T, G, C) that encodes biological information. In our experience, information comes from intelligence."],highlight:"Information points to an Informer."},{type:"quiz",question:"Class claim: \u201cEvolution explains everything.\u201d Best reply?",options:["Evolution explains development, not origin of life or the fine\u2011tuned cosmos; DNA information remains to be explained.","Evolution is a lie!","Science has all the answers."],correctAnswer:0,explanation:"Evolution is about biological changes; origin, information, and physics still need explanation."},{type:"completion",title:"Lesson Complete! \ud83c\udf89",message:"Science and faith explored as complementary.",keyTakeaways:['The Big Bang supports a beginning, consistent with "In the beginning God created"',"Fine-tuning of physical constants suggests intentional design, not random chance","DNA's information content points to an intelligent source"],badge:{icon:"\ud83d\udee1\ufe0f",name:"Apologetics 4",description:"Completed: Science & Faith"}}]},ai={id:5,title:"The Reliability of Scripture",subtitle:"Can we trust the Bible?",description:"Manuscripts, archaeology, fulfilled prophecy, and textual criticism.",duration:"8 min",cards:[{type:"content",title:"The skeptic's attack",subtitle:"\u23f1\ufe0f About 8 minutes",content:["**Learning Objective:** By the end of this lesson, you will be able to defend the Bible's reliability using manuscript evidence, archaeology, and fulfilled prophecy.","'Corrupted text!' 'Contradictions!' 'Myth!' Let's weigh the evidence."],highlight:"\ud83d\udcad Question: How do we know the Bible is trustworthy?",requireAcknowledgment:!0},{type:"content",title:"Manuscript evidence",content:["\u22485,800 Greek NT manuscripts; 10,000+ Latin; thousands more. Earliest fragments within decades."],highlight:"No ancient work rivals the Bible's attestation."},{type:"content",title:"Archaeological confirmations",content:["Hittites, Pool of Siloam, Pontius Pilate, House of David \u2014 once doubted, later confirmed."],highlight:"Archaeology consistently confirms biblical history."},{type:"quiz",question:"How many Greek NT manuscripts exist?",options:["About 50","Around 650","Approximately 5,800","We don't have any"],correctAnswer:2,explanation:"\u22485,800 Greek manuscripts + many others."},{type:"content",title:"Fulfilled prophecy",content:["Jesus fulfilled numerous OT prophecies (Mic 5:2, Isa 7:14, Ps 22, Zech 11:12\u201313)."],highlight:"Hanegraaff: Prophecy is God's signature on Scripture."},{type:"content",title:"Textual criticism",content:["Comparing manuscripts recovers the original with high confidence; differences are mostly minor and don't affect doctrine."],highlight:"More manuscripts \u2192 more certainty."},{type:"content",title:"Reflection",content:["How does manuscript and archaeology evidence strengthen your confidence in Scripture?"]},{type:"completion",title:"Lesson Complete! \ud83c\udf89",message:"Scripture's reliability considered on multiple fronts.",keyTakeaways:["The Bible has superior manuscript evidence compared to any other ancient text (5,800+ Greek NT manuscripts)","Archaeological discoveries have confirmed many biblical people, places, and events","Fulfilled prophecy (e.g., Isaiah 53, Psalm 22 predicting crucifixion details) demonstrates divine inspiration"],badge:{icon:"\ud83d\udee1\ufe0f",name:"Apologetics 5",description:"Completed: Reliability of Scripture"}}]},oi={id:6,title:"The Moral Argument for God",subtitle:"Where do right and wrong come from?",description:"Objective morality points to a Moral Lawgiver.",duration:"7 min",cards:[{type:"content",title:"The universal moral sense",subtitle:"\u23f1\ufe0f About 7 minutes",content:["**Learning Objective:** By the end of this lesson, you will be able to present the moral argument for God and explain why objective morality requires a transcendent foundation.","Across cultures: 'Is torturing babies for fun wrong?' Answer is 'yes.'"],highlight:"\ud83d\udcad Consider: Where does your sense of right and wrong come from?",requireAcknowledgment:!0},{type:"content",title:"Formal argument",content:["1) If God doesn't exist, objective moral values don't exist.","2) Objective moral values do exist.","3) Therefore, God exists."],highlight:"Atheism explains feelings, not objective moral facts."},{type:"content",title:"Euthyphro dilemma answered",content:["Goodness flows from God's nature \u2014 neither arbitrary command nor a standard above God."]},{type:"quiz",question:"Relativism says morality is preference. What follows?",options:["You cannot condemn atrocities as truly wrong","It enhances moral accountability","It proves atheism","It removes the need for justice"],correctAnswer:0,explanation:"If mere preference, nothing is objectively wrong \u2014 which we all know is false."},{type:"content",title:"Evolution and morality",content:["Evolution may explain instincts, not objective obligations \u2014 you can\u2019t derive \u201cought\u201d from \u201cis.\u201d"]},{type:"completion",title:"Lesson Complete! \ud83c\udf89",message:"Moral knowledge seen as a signpost to God.",keyTakeaways:["If objective moral values exist, they require a transcendent foundation (God)","Atheistic frameworks cannot ground objective morality\u2014only subjective preferences","Our universal moral intuitions point to a Moral Lawgiver who defines good and evil"],badge:{icon:"\ud83d\udee1\ufe0f",name:"Apologetics 6",description:"Completed: Moral Argument"}}]},li={id:7,title:"Jesus: The Only Way?",subtitle:"Addressing religious pluralism and exclusivity",description:"Why Christian exclusivity is humble and true.",duration:"6 min",cards:[{type:"content",title:"The scandal of exclusivity",subtitle:"\u23f1\ufe0f About 6 minutes",content:["**Learning Objective:** By the end of this lesson, you will be able to defend Christian exclusivity with both humility and conviction, using C.S. Lewis's trilemma.","John 14:6 \u2014 Jesus claims uniqueness."],highlight:"\ud83d\udcad Hard question: Can there be only one way to God?",requireAcknowledgment:!0},{type:"content",title:"Lewis's trilemma",content:["Jesus is liar, lunatic, or Lord \u2014 'great moral teacher' doesn\u2019t fit the claims."]},{type:"quiz",question:"Pluralism says \u201call paths lead to the same God.\u201d Best reply?",options:["Religions make contradictory claims; they cannot all be true. Truth is exclusive by nature.","Maybe all are half true","All are false"],correctAnswer:0,explanation:"Mutually exclusive claims cannot all be true."},{type:"content",title:"Responding with grace",content:["Exclusivity isn't arrogance; it\u2019s acknowledging we can\u2019t save ourselves and pointing to Christ."]},{type:"completion",title:"Lesson Complete! \ud83c\udf89",message:"Exclusivity explained with humility.",keyTakeaways:["Jesus claimed to be the only way to God (John 14:6)\u2014not just a good teacher","C.S. Lewis's trilemma: Jesus is either liar, lunatic, or Lord\u2014\"great moral teacher\" doesn't fit His claims","Christian exclusivity is based on Jesus' own claims and the resurrection, not arrogance"],badge:{icon:"\ud83d\udee1\ufe0f",name:"Apologetics 7",description:"Completed: Jesus the Only Way"}}]},ci={id:8,title:"Engaging Skeptics with Grace",subtitle:"Your apologetics toolkit for real conversations",description:"Practical conversations with truth and love.",duration:"8 min",cards:[{type:"content",title:"Goal of apologetics",subtitle:"\u23f1\ufe0f About 8 minutes",content:["**Learning Objective:** By the end of this lesson, you will have a complete apologetics toolkit and know how to engage skeptics with both truth and grace.","1 Peter 3:15\u201316 \u2014 be ready, with gentleness and respect."],highlight:"\ud83d\udcad Reflect: How can you defend your faith with both confidence and humility?",requireAcknowledgment:!0},{type:"content",title:"Common objections & responses",content:["Blind faith? \u2014 Faith is trust based on evidence (resurrection, arguments, science).","Religion harms? \u2014 Humans misuse everything; judge Christianity by Jesus."]},{type:"content",title:"Ask good questions",content:["What do you mean? How did you conclude that? What would change your mind?"]},{type:"quiz",question:"\u201cNo evidence for God.\u201d Best first move?",options:["Ask what evidence they would accept; then offer cosmological, fine\u2011tuning, resurrection lines of evidence.","Accuse them of loving sin","Concede there is none"],correctAnswer:0,explanation:"Lead with curiosity, then point to specific evidence."},{type:"content",title:"Toolkit summary",content:["1) God's existence: cosmological, fine\u2011tuning, moral.","2) Evil and suffering: free will, greater good, the Cross.","3) Resurrection: minimal facts, empty tomb, transformation.","4) Science: Big Bang, fine\u2011tuning, DNA information.","5) Scripture: manuscripts, archaeology.","6) Exclusivity: Jesus\u2019s unique claims."],highlight:"Use truth with grace."},{type:"completion",title:"All lessons complete! \ud83c\udf89",message:"You now have a robust, gracious apologetics toolkit. Keep learning and sharing.",keyTakeaways:["Apologetics is about being ready to give reasons for hope with gentleness and respect (1 Peter 3:15)","Listen first, ask questions, and respond to the real objection\u2014not a strawman","Truth and love must go together\u2014apologetics without compassion drives people away"],badge:{icon:"\ud83d\udee1\ufe0f",name:"Apologetics Mastery",description:"Completed: Apologetics Study Guide"}}]},ui=e=>{let{onNavigate:t,onGoBack:n}=e;const[r,s]=(0,i.useState)(null),[a,o]=(0,i.useState)([]),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)(null);(0,i.useEffect)(()=>{const e=localStorage.getItem("reviewMode");if(e){const t=JSON.parse(e);"apologetics"===t.path&&(d(t),localStorage.removeItem("reviewMode"))}},[]),(0,i.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),(0,i.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const h=e=>{if(!e||!Array.isArray(e.cards))return e;const t=e.cards.map(e=>{switch(e.type){case"info":case"teaching":return{type:"content",title:e.title||("info"===e.type?"Info":"Teaching"),subtitle:e.subtitle||void 0,content:Array.isArray(e.content)?e.content:e.content?[e.content]:[],highlight:e.keyPoint||e.highlight||void 0};case"quote":{const t=[];return e.text&&t.push("\u201c".concat(e.text,"\u201d")),e.context&&t.push("\u2014 ".concat(e.context)),{type:"content",title:e.author?"Quote: ".concat(e.author):"Quote",content:t.length?t:[]}}case"reflection":return{type:"content",title:e.title||"Reflection",content:e.prompt?[e.prompt]:[],highlight:"Take a moment to reflect and, if you can, jot down your thoughts."};case"action":return{type:"content",title:e.title||"Action",content:e.task?[e.task]:[],highlight:"Challenge: Put this into practice this week."};case"scenario":{const t=(e.options||[]).map(e=>e.text),n=(e.options||[]).findIndex(e=>e.isCorrect),i=n>=0&&e.options[n].feedback?e.options[n].feedback:"Consider why the correct answer best captures the point of this scenario.";return{type:"quiz",question:e.question||e.title||"Choose the best response to the scenario.",options:t,correctAnswer:Math.max(0,n),explanation:i}}case"quiz":return{type:"quiz",question:e.question,options:e.options,correctAnswer:e.correctAnswer,explanation:e.explanation};default:return e}});return t.some(e=>"completion"===e.type)||t.push({type:"completion",title:"Lesson Complete! \ud83c\udf89",message:'Great work finishing "'.concat(e.title,'". Keep going\u2014you\u2019re building a strong apologetics foundation.'),badge:{icon:"\ud83d\udee1\ufe0f",name:"Apologetics ".concat(e.id),description:"Completed: ".concat(e.title)}}),{id:e.id,title:e.title,subtitle:e.subtitle,cards:t}};(0,i.useEffect)(()=>{const e=localStorage.getItem("apologeticsProgress");if(e)try{o(JSON.parse(e))}catch(t){}},[]);const m=async(e,t)=>{if((e=>{if(!a.includes(e)){const t=[...a,e];o(t),localStorage.setItem("apologeticsProgress",JSON.stringify(t))}})(e),nn("apologetics",e),t){await zn("apologetics",t);const n=Sn();n&&await(0,Hn.completeCourseLesson)(n.uid,"apologetics",e,t)}c(null),window.scrollTo({top:0,behavior:"smooth"})},p=()=>{c(null),window.scrollTo({top:0,behavior:"smooth"})},f=[{lesson:1,title:"The Case for God's Existence",subtitle:"Cosmological, teleological, and moral arguments",introduction:"Does God exist? This isn't just a philosophical question\u2014it's the foundation of everything we believe. In this lesson, we'll explore the powerful logical arguments for God's existence championed by thinkers like William Lane Craig, John Lennox, and C.S. Lewis. You'll learn why many scholars believe the evidence points compellingly to a Creator."},{lesson:2,title:"The Problem of Evil & Suffering",subtitle:"Answering the toughest objection to faith",introduction:"If God is good and all-powerful, why does evil exist? This is perhaps the most emotionally and intellectually challenging question believers face. We'll explore how Lewis, Keller, and Lennox address this problem, looking at free will, the greater good, and why a world with suffering might actually be necessary for genuine love and moral growth."},{lesson:3,title:"The Resurrection of Jesus",subtitle:"Historical evidence for Christianity's central claim",introduction:"Christianity stands or falls on the resurrection. If Jesus didn't rise from the dead, our faith is worthless. But what if there's strong historical evidence that He did? We'll examine the 'minimal facts' approach, early testimony, the transformation of the disciples, and why most scholars\u2014even skeptical ones\u2014agree on certain key facts that point to the resurrection."},{lesson:4,title:"Science & Faith: Friends or Foes?",subtitle:"The Big Bang, fine-tuning, and God's cosmos",introduction:"Many people think science has disproven God. But what if modern science actually points toward a Creator? John Lennox (Oxford mathematician) and others show how the Big Bang, cosmic fine-tuning, and the information in DNA all suggest an intelligent Designer. Science and faith aren't enemies\u2014they're complementary ways of seeking truth."},{lesson:5,title:"The Reliability of Scripture",subtitle:"Can we trust the Bible?",introduction:"Skeptics claim the Bible has been corrupted, contradicts itself, or is just ancient mythology. Is that true? We'll examine manuscript evidence, archaeological discoveries, fulfilled prophecy, and textual criticism. Apologists like Wesley Huff, Hank Hanegraaff, and R.C. Sproul show why the Bible is the most reliable ancient document we have."},{lesson:6,title:"The Moral Argument for God",subtitle:"Where do right and wrong come from?",introduction:"Everyone believes some things are truly right or wrong\u2014not just opinions. But where does objective morality come from? C.S. Lewis and William Lane Craig argue that moral law points to a Moral Lawgiver. We'll explore why atheism struggles to ground objective morality and why the moral argument remains one of the most powerful cases for God."},{lesson:7,title:"Jesus: The Only Way?",subtitle:"Addressing religious pluralism and exclusivity",introduction:"Claiming Jesus is the only way to God sounds arrogant in our pluralistic world. But is it? Tim Keller, John Lennox, and R.C. Sproul explain why Jesus's claims are either true or false\u2014there's no middle ground. We'll examine religious pluralism, the uniqueness of Christianity, and how to graciously defend the exclusivity of Christ."},{lesson:8,title:"Engaging Skeptics with Grace",subtitle:"Your apologetics toolkit for real conversations",introduction:"Apologetics isn't about winning arguments\u2014it's about winsome witness. In this final lesson, we'll compile everything you've learned into a practical toolkit: answering common objections, asking good questions, listening well, and sharing your faith with both truth and love. You'll be equipped to defend the hope within you with gentleness and respect."}],g={completed:a.length,total:f.length,percentage:Math.round(a.length/f.length*100),badges:a.length,masteryLevel:((e,t)=>{const n=e/t*100;return 0===n?"Beginner":n<38?"Novice":n<63?"Defender":n<88?"Apologist":"Master"})(a.length,f.length),xp:(()=>{const e=localStorage.getItem("apologeticsTotalXP");return e?parseInt(e):0})(),maxXP:800};if(u){const e={1:ni,2:ii,3:ri,4:si,5:ai,6:oi,7:li,8:ci}[u.lessonNumber];if(e)return(0,Pt.jsx)(cn,{lessonData:h(e),path:"apologetics",lessonNumber:u.lessonNumber,onComplete:async e=>{await zn("apologetics",e),d(null),window.scrollTo({top:0,behavior:"smooth"})},onExit:()=>{d(null),window.scrollTo({top:0,behavior:"smooth"})}})}return 1===l?(0,Pt.jsx)($t,{lessonData:h(ni),onComplete:e=>m(1,e),onExit:p}):2===l?(0,Pt.jsx)($t,{lessonData:h(ii),onComplete:e=>m(2,e),onExit:p}):3===l?(0,Pt.jsx)($t,{lessonData:h(ri),onComplete:e=>m(3,e),onExit:p}):4===l?(0,Pt.jsx)($t,{lessonData:h(si),onComplete:e=>m(4,e),onExit:p}):5===l?(0,Pt.jsx)($t,{lessonData:h(ai),onComplete:e=>m(5,e),onExit:p}):6===l?(0,Pt.jsx)($t,{lessonData:h(oi),onComplete:e=>m(6,e),onExit:p}):7===l?(0,Pt.jsx)($t,{lessonData:h(li),onComplete:e=>m(7,e),onExit:p}):8===l?(0,Pt.jsx)($t,{lessonData:h(ci),onComplete:e=>m(8,e),onExit:p}):(0,Pt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:[(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-16 px-4",children:(0,Pt.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,Pt.jsx)(ti,{className:"w-12 h-12 mr-3"}),(0,Pt.jsx)("h1",{className:"text-4xl md:text-5xl font-bold",children:"Apologetics Study Guide"})]}),(0,Pt.jsx)("p",{className:"text-xl md:text-2xl text-blue-100 mb-6",children:"8 Lessons Defending the Christian Faith"}),(0,Pt.jsx)("p",{className:"text-lg text-blue-50 max-w-2xl mx-auto",children:"Learn to give reasons for the hope you have\u2014with gentleness and respect. Master the arguments from Craig, Lennox, Lewis, Keller, and more."})]})}),(0,Pt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,Pt.jsxs)("button",{onClick:()=>n?n():t("paths"),className:"inline-flex items-center gap-2 px-4 py-2 mb-6 rounded-xl border-2 border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition",children:[(0,Pt.jsx)(Lt,{className:"w-4 h-4"}),(0,Pt.jsx)("span",{children:"Back"})]}),(0,Pt.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-12 border-2 border-blue-100",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)(Ot,{className:"w-8 h-8 text-blue-600 mr-3"}),(0,Pt.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Your Progress"})]}),(0,Pt.jsxs)("span",{className:"text-3xl md:text-4xl font-bold text-blue-600",children:[g.percentage,"%"]})]}),(0,Pt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-6",children:(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 h-4 rounded-full transition-all duration-500",style:{width:"".concat(g.percentage,"%")}})}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Pt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 text-blue-700 mb-1",children:[(0,Pt.jsx)(Mt,{className:"w-5 h-5"}),(0,Pt.jsx)("span",{className:"font-semibold",children:"Completed"})]}),(0,Pt.jsxs)("p",{className:"text-2xl font-bold text-blue-900",children:[g.completed,"/",g.total]})]}),(0,Pt.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 text-purple-700 mb-1",children:[(0,Pt.jsx)(Bt,{className:"w-5 h-5"}),(0,Pt.jsx)("span",{className:"font-semibold",children:"Badges Earned"})]}),(0,Pt.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:g.badges})]}),(0,Pt.jsxs)("div",{className:"bg-indigo-50 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 text-indigo-700 mb-1",children:[(0,Pt.jsx)(ti,{className:"w-5 h-5"}),(0,Pt.jsx)("span",{className:"font-semibold",children:"Defender Level"})]}),(0,Pt.jsx)("p",{className:"text-2xl font-bold text-indigo-900",children:g.masteryLevel})]}),(0,Pt.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 text-green-700 mb-1",children:[(0,Pt.jsx)(Ft,{className:"w-5 h-5"}),(0,Pt.jsx)("span",{className:"font-semibold",children:"Total XP"})]}),(0,Pt.jsxs)("p",{className:"text-2xl font-bold text-green-900",children:[g.xp,"/",g.maxXP]})]})]})]}),(0,Pt.jsxs)("div",{className:"mb-12",children:[(0,Pt.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Pt.jsx)(Et,{className:"w-8 h-8 text-indigo-600 mr-3"}),(0,Pt.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"8-Lesson Curriculum"})]}),(0,Pt.jsx)("p",{className:"text-gray-700 mb-8 text-lg",children:"Each lesson equips you with powerful arguments and gracious responses to defend your faith. Click any lesson below to begin your journey as a Christian apologist."}),(0,Pt.jsx)("div",{className:"space-y-4",children:f.map(e=>{const t=r===e.lesson,n=a.includes(e.lesson),i=e.lesson>=1&&e.lesson<=8,o=e.lesson>1&&!a.includes(e.lesson-1);return(0,Pt.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border-2 transition-all ".concat(n?"border-green-400":o?"border-gray-300 opacity-60":"border-gray-200"),children:(0,Pt.jsx)("button",{onClick:()=>{o||(i?c(e.lesson):s(t?null:e.lesson))},disabled:o,className:"w-full p-6 transition ".concat(o?"cursor-not-allowed":"hover:bg-gray-50 cursor-pointer"),children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Pt.jsx)("div",{className:"w-12 h-12 min-w-[3rem] rounded-full flex items-center justify-center text-xl font-bold flex-shrink-0 ".concat(n?"bg-green-100 text-green-700":o?"bg-gray-200 text-gray-400":"bg-blue-100 text-blue-700"),children:n?(0,Pt.jsx)(Mt,{className:"w-6 h-6"}):e.lesson}),(0,Pt.jsxs)("div",{className:"text-left",children:[(0,Pt.jsx)("h3",{className:"text-xl font-bold ".concat(o?"text-gray-400":"text-gray-800"),children:e.title}),(0,Pt.jsx)("p",{className:"".concat(o?"text-gray-400":"text-gray-600"),children:e.subtitle})]})]}),o?(0,Pt.jsx)("div",{className:"flex items-center justify-center",children:(0,Pt.jsx)(zt,{className:"w-6 h-6 text-gray-400 flex-shrink-0"})}):n?(0,Pt.jsx)("span",{className:"text-sm font-bold text-green-600 bg-green-100 px-4 py-2 rounded-full",children:"Complete"}):i?(0,Pt.jsx)("span",{className:"text-sm font-bold text-purple-600 bg-purple-100 px-4 py-2 rounded-full",children:"Start"}):t?(0,Pt.jsx)(qt,{className:"w-6 h-6"}):(0,Pt.jsx)(Wt,{className:"w-6 h-6"})]})})},e.lesson)})})]})]})]})},di=Nt("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),hi=Nt("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),mi=Nt("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),pi=Nt("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),fi=Nt("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),gi=Nt("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),yi=Nt("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),bi=Nt("flame",[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]]),vi=Nt("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),xi=[{type:"quiz",objective:"Test your knowledge of major church splits",question:"What year did the Great Schism split Catholic and Orthodox churches?",options:["1054","1517","325","1204"],correctAnswer:0,explanation:"The East-West Schism formally occurred in 1054 when Cardinal Humbert excommunicated Patriarch Michael Cerularius.",xp:5,source:"church-timeline"},{type:"quiz",objective:"Recall key Reformation dates",question:"When did Martin Luther post the 95 Theses?",options:["1517","1521","1530","1054"],correctAnswer:0,explanation:"Luther posted his 95 Theses on October 31, 1517, initially targeting indulgence sales.",xp:5,source:"church-timeline"},{type:"quiz",objective:"Remember foundational church councils",question:"What year was the Council of Nicaea?",options:["325","381","451","1054"],correctAnswer:0,explanation:"The Council of Nicaea (325 AD) was the first ecumenical council, condemning Arianism.",xp:5,source:"church-timeline"},{type:"quiz",objective:"Test your church history timeline",question:"Which came first?",options:["Council of Nicaea (325)","Fall of Constantinople (1453)"],correctAnswer:0,explanation:"The Council of Nicaea occurred in 325 AD, over 1,100 years before Constantinople fell in 1453.",xp:5,source:"church-timeline"},{type:"quiz",objective:"Recall major East-West church events",question:"When did the Fourth Crusade sack Constantinople?",options:["1204","1054","1453","1517"],correctAnswer:0,explanation:"Crusaders brutally sacked Constantinople in 1204, traumatizing the Orthodox world and making reconciliation nearly impossible.",xp:5,source:"church-timeline"},{type:"quiz",objective:"Remember Luther's stand for truth",question:"What happened at the Diet of Worms in 1521?",options:["Luther refused to recant","Calvin published Institutes","Great Schism occurred","Council met"],correctAnswer:0,explanation:'Luther famously refused to recant at the Diet of Worms, saying "Here I stand, I can do no other."',xp:5,source:"church-timeline"},{type:"quiz",objective:"Know modern Catholic reforms",question:"When was Vatican II held?",options:["1962-65","1545-63","1870","2013"],correctAnswer:0,explanation:"Vatican II (1962-65) brought major reforms in liturgy, ecumenism, and religious liberty to the Catholic Church.",xp:5,source:"church-timeline"},{type:"truefalse",objective:"Understand the 1054 schism's complexity",statement:"The 1054 schism was almost accidental\u2014the Pope had died during negotiations, voiding his legates' authority.",answer:!0,explanation:"Pope Leo IX died April 19, 1054, technically voiding his legates' authority, but Cardinal Humbert excommunicated the Patriarch anyway.",xp:3,source:"church-timeline"},{type:"truefalse",objective:"Know what sparked the Reformation",statement:"The Council of Trent was the Catholic Counter-Reformation response to Protestantism.",answer:!0,explanation:"The Council of Trent (1545-63) systematically responded to Protestant challenges, affirming Catholic doctrine.",xp:3,source:"church-timeline"},{type:"truefalse",objective:"Recall the cost of faith in Soviet Russia",statement:"Over 100,000 Orthodox priests and believers were martyred during the Russian Revolution.",answer:!0,explanation:"The Bolsheviks closed 98% of churches and executed clergy. An estimated 100,000+ were martyred between 1917-1991.",xp:3,source:"church-timeline"},{type:"trivia",objective:"Learn about modern Catholic leadership",fact:"Pope Francis, elected in 2013, is the first Jesuit pope and the first from Latin America.",cta:"Explore Church Timeline \u2192",xp:2,source:"church-timeline"},{type:"trivia",objective:"Discover key medieval church councils",fact:"The Fourth Lateran Council (1215) formally defined the seven sacraments and transubstantiation.",cta:"Explore Church Timeline \u2192",xp:2,source:"church-timeline"},{type:"trivia",objective:"Learn about Orthodox Christianity's spread",fact:"Prince Vladimir of Kiev converted in 988, bringing Orthodox Christianity to Russia and making it integral to Russian identity.",cta:"Explore Church Timeline \u2192",xp:2,source:"church-timeline"},{type:"trivia",objective:"Understand the Reformation settlement",fact:'The Peace of Augsburg (1555) established "cuius regio, eius religio"\u2014rulers determine their territories\' religion.',cta:"Explore Church Timeline \u2192",xp:2,source:"church-timeline"},{type:"quiz",objective:"Test your knowledge of Catholic sacraments",question:"Which denomination believes in seven sacraments?",options:["Catholic","Lutheran","Baptist","Methodist"],correctAnswer:0,explanation:"Catholics recognize seven sacraments, defined at the Fourth Lateran Council (1215).",xp:5,source:"denomination-facts"},{type:"quiz",objective:"Understand Orthodox theology of salvation",question:'Which tradition emphasizes "theosis" (becoming one with God)?',options:["Orthodox","Lutheran","Baptist","Methodist"],correctAnswer:0,explanation:"Eastern Orthodox theology emphasizes theosis (deification) as the goal of salvation.",xp:5,source:"denomination-facts"},{type:"quiz",objective:"Learn about Reformed theology",question:'Which denomination believes in "unconditional election"?',options:["Reformed/Presbyterian","Lutheran","Anglican","Methodist"],correctAnswer:0,explanation:"Reformed theology emphasizes TULIP, including unconditional election and predestination.",xp:5,source:"denomination-facts"},{type:"quiz",objective:"Recall key Reformation principles",question:'What does "sola scriptura" mean?',options:["Scripture alone","Faith alone","Grace alone","Christ alone"],correctAnswer:0,explanation:"Sola scriptura (Scripture alone) was a key Reformation principle\u2014the Bible as sole authority.",xp:5,source:"denomination-facts"},{type:"truefalse",objective:"Understand Lutheran sacramental theology",statement:'Lutherans believe in the "Real Presence"\u2014Christ\'s body and blood "in, with, and under" bread and wine.',answer:!0,explanation:"Unlike symbolic views, Lutherans affirm Real Presence while rejecting transubstantiation.",xp:3,source:"denomination-facts"},{type:"truefalse",objective:"Know the East-West theological divide",statement:"The Orthodox Church accepts the filioque clause in the Nicene Creed.",answer:!1,explanation:'Orthodox reject the filioque ("and the Son"), viewing it as an unauthorized Western addition.',xp:3,source:"denomination-facts"}],wi=[{type:"quiz",objective:"Recall how oral tradition worked",question:"Why was oral tradition considered reliable in ancient cultures?",options:["They had better memories than modern people","Communities verified accuracy through communal recitation","There were laws requiring accuracy","It wasn't reliable"],correctAnswer:1,explanation:"Ancient oral cultures trained storytellers and used communal verification to preserve accuracy.",xp:5,requiredLesson:{path:"bible",lesson:1}},{type:"fillblank",objective:"Remember the role of ancient copyists",prompt:"Ancient ________ were professional copyists who preserved Scripture.",answer:"scribes",explanation:"Scribes meticulously copied manuscripts, though minor variations occurred over centuries.",xp:5,requiredLesson:{path:"bible",lesson:1}},{type:"truefalse",objective:"Know the strength of biblical manuscripts",statement:"We have more biblical manuscripts than any other ancient document.",answer:!0,explanation:"With 5,800+ Greek NT manuscripts plus thousands more in other languages, biblical manuscript evidence far exceeds other ancient texts.",xp:3,requiredLesson:{path:"bible",lesson:1}},{type:"quiz",objective:"Recall the Dead Sea Scrolls discovery",question:"What was significant about the Dead Sea Scrolls discovery?",options:["They contained lost books of the Bible","They disproved Christianity","They confirmed 99% textual accuracy of OT manuscripts","They were the oldest Christian documents"],correctAnswer:2,explanation:"The Dead Sea Scrolls (discovered 1947) confirmed that OT text was preserved with 99% accuracy.",xp:5,requiredLesson:{path:"bible",lesson:2}},{type:"fillblank",objective:"Remember the textual evidence discovery",prompt:"The ________ Scrolls confirmed 99% biblical textual accuracy.",answer:"Dead Sea",explanation:"Discovered in 1947, they showed remarkable preservation of Hebrew Scripture over 1,000+ years.",xp:5,requiredLesson:{path:"bible",lesson:2}},{type:"quiz",objective:"Learn about the Greek Old Testament",question:"What was significant about the Septuagint?",options:["It was the first English Bible","It was the Greek translation of Hebrew Scripture","It added books to the Bible","It was written by Jesus' disciples"],correctAnswer:1,explanation:"The Septuagint (LXX) was the Greek translation of Hebrew Scripture, made around 250 BC for Greek-speaking Jews.",xp:5,requiredLesson:{path:"bible",lesson:3}},{type:"fillblank",objective:"Recall Jerome's Latin translation",prompt:"Jerome's Latin translation of the Bible is called the ________.",answer:"Vulgate",explanation:"The Latin Vulgate became the standard Bible for Western Christianity for over 1,000 years.",xp:5,requiredLesson:{path:"bible",lesson:3}},{type:"quiz",objective:"Understand early English Bible translation",question:"What was illegal about Wycliffe's Bible?",options:["It contradicted church teaching","It was translated into English without church approval","It added extra books","It was printed on a press"],correctAnswer:1,explanation:"Wycliffe's unauthorized English translation challenged church control of Scripture access.",xp:5,requiredLesson:{path:"bible",lesson:4}},{type:"fillblank",objective:"Remember the most influential English Bible",prompt:"The ________ James Version became the most influential English Bible.",answer:"King",explanation:"The KJV (1611) dominated English-speaking Christianity for centuries.",xp:5,requiredLesson:{path:"bible",lesson:4}},{type:"quiz",objective:"Learn about the Deuterocanonical books",question:"What are the Deuterocanonical books?",options:["Books lost from the Bible","Books accepted by Catholics but not by Protestants","The New Testament","Books written by the apostles"],correctAnswer:1,explanation:"Catholics include these books (Tobit, Judith, Maccabees, etc.) while Protestants consider them Apocrypha.",xp:5,requiredLesson:{path:"bible",lesson:5}},{type:"fillblank",objective:"Recall Protestant vs Catholic canon differences",prompt:"The Protestant Old Testament is based on the ________ canon.",answer:"Hebrew",explanation:"Protestants follow the Hebrew canon (39 books), while Catholics include the Deuterocanonical books.",xp:5,requiredLesson:{path:"bible",lesson:5}},{type:"quiz",objective:"Understand why Gnostic gospels were rejected",question:"Why were the Nag Hammadi gospels (like Gospel of Thomas) rejected?",options:["They were too short","They were written centuries later with Gnostic theology","They were in the wrong language","They contradicted each other"],correctAnswer:1,explanation:"The Nag Hammadi texts were 2nd-3rd century Gnostic writings, not apostolic testimony.",xp:5,requiredLesson:{path:"bible",lesson:6}},{type:"quiz",objective:"Know the criteria for biblical canon",question:"What criteria did the early church use to determine which books were canonical?",options:["Popularity vote","Emperor's decree","Apostolic authorship, widespread acceptance, and theological consistency","Length and literary quality"],correctAnswer:2,explanation:"The canon formed through apostolic authorship, universal church acceptance, and alignment with apostolic teaching.",xp:5,requiredLesson:{path:"bible",lesson:6}},{type:"quiz",objective:"Recall the church's birth event",question:"What event marked the birth of the Christian church?",options:["Jesus' baptism","Pentecost","Jesus' crucifixion","Paul's conversion"],correctAnswer:1,explanation:"Pentecost (Acts 2) marked the Holy Spirit's coming and the church's public birth.",xp:5,requiredLesson:{path:"church",lesson:1}},{type:"quiz",objective:"Know the apostle to the Gentiles",question:'Who was known as the "apostle to the Gentiles"?',options:["Peter","Paul","John","James"],correctAnswer:1,explanation:"Paul's missionary journeys established churches throughout the Roman Empire among non-Jews.",xp:5,requiredLesson:{path:"church",lesson:1}},{type:"quiz",objective:"Understand the Great Schism's cause",question:"What was the primary cause of the East-West Schism?",options:["Disagreement over papal authority and the filioque","Crusades","Language differences","Emperor Constantine"],correctAnswer:0,explanation:"The schism centered on papal supremacy claims and the Western addition of filioque to the Creed.",xp:5,requiredLesson:{path:"church",lesson:2}},{type:"truefalse",objective:"Know the schism was gradual, not sudden",statement:"The Orthodox and Catholic churches split was gradual, not sudden.",answer:!0,explanation:"The 1054 event formalized centuries of cultural, linguistic, and theological drift between East and West.",xp:3,requiredLesson:{path:"church",lesson:2}},{type:"quiz",objective:"Recall what sparked the Reformation",question:"What were Luther's 95 Theses primarily about?",options:["Bible translation","Indulgences","Predestination","Church architecture"],correctAnswer:1,explanation:"Luther targeted the sale of indulgences, which promised reduction of purgatory time for payment.",xp:5,requiredLesson:{path:"church",lesson:3}},{type:"truefalse",objective:"Know how Reformation ideas spread fast",statement:"The printing press helped spread Reformation ideas rapidly.",answer:!0,explanation:"The printing press enabled Luther's writings to spread across Europe in weeks instead of years.",xp:3,requiredLesson:{path:"church",lesson:3}},{type:"fillblank",objective:"Recall the Kalam argument's first premise",prompt:"Whatever ________ to exist has a cause.",answer:"begins",explanation:'The Kalam Cosmological Argument\'s first premise: "Whatever begins to exist has a cause."',xp:5,requiredLesson:{path:"apologetics",lesson:1}},{type:"quiz",objective:"Master the Kalam Cosmological Argument",question:"What are the three premises of the Kalam Cosmological Argument?",options:["Everything has a cause; God is eternal; therefore God exists","The universe is fine-tuned; design requires a designer; therefore God exists","Whatever begins has a cause; the universe began; therefore the universe has a cause","Morality exists; morality requires God; therefore God exists"],correctAnswer:2,explanation:"Kalam: (1) Whatever begins to exist has a cause, (2) The universe began to exist, (3) Therefore, the universe has a cause.",xp:5,requiredLesson:{path:"apologetics",lesson:1}},{type:"quiz",objective:"Understand the free will defense",question:"According to the free will defense, why does God allow evil?",options:["God doesn't care about evil","Love must be freely chosen; freedom entails the possibility of evil","Evil is an illusion","Evil will be eliminated eventually"],correctAnswer:1,explanation:"The free will defense argues that genuine love requires freedom, which makes evil possible.",xp:5,requiredLesson:{path:"apologetics",lesson:2}},{type:"quiz",objective:"Know the minimal facts about resurrection",question:"Which is NOT a minimal fact about Jesus' resurrection?",options:["Jesus died by crucifixion","The tomb was found empty","Guards saw angels at the tomb","The disciples believed they saw the risen Jesus"],correctAnswer:2,explanation:"Guards seeing angels isn't part of the cross-skeptic scholarly consensus on minimal facts.",xp:5,requiredLesson:{path:"apologetics",lesson:3}},{type:"fillblank",objective:"Recall Paul's teaching on resurrection",prompt:"If Christ has not been raised, your faith is ________ (1 Cor 15:14).",answer:"futile",explanation:"Paul grounds Christianity in the historical event of the resurrection\u2014no resurrection, no Christianity.",xp:5,requiredLesson:{path:"apologetics",lesson:3}},{type:"quiz",objective:"Understand the fine-tuning argument",question:"What is the fine-tuning argument?",options:["The universe is beautiful","Physical constants are precisely calibrated for life","Evolution explains design","The Bible predicted scientific discoveries"],correctAnswer:1,explanation:"The fine-tuning argument notes that cosmic constants are incredibly precise\u2014suggesting intentional design.",xp:5,requiredLesson:{path:"apologetics",lesson:4}},{type:"quiz",objective:"Know the strength of NT manuscript evidence",question:"How many Greek New Testament manuscripts exist?",options:["About 500","About 2,000","About 5,800","About 10,000"],correctAnswer:2,explanation:"We have approximately 5,800 Greek NT manuscripts, plus thousands more in other languages.",xp:5,requiredLesson:{path:"apologetics",lesson:5}},{type:"quiz",objective:"Understand moral relativism's claims",question:"What does moral relativism claim?",options:["Morality is objective and universal","Morality is just personal or cultural preference","Morality comes from God","Morality doesn't exist"],correctAnswer:1,explanation:'Moral relativism says morality is preference\u2014but this collapses under scrutiny (e.g., "Is rape just preference?").',xp:5,requiredLesson:{path:"apologetics",lesson:6}},{type:"quiz",objective:"Recall C.S. Lewis's trilemma",question:'What was C.S. Lewis\'s "Liar, Lunatic, or Lord" trilemma?',options:["Jesus must be either a liar, lunatic, or Lord\u2014not just a good teacher","Christianity is one of three valid religions","There are three paths to salvation","The Trinity has three persons"],correctAnswer:0,explanation:"Lewis argued Jesus' claims force a decision: He's either who He claimed (Lord), deluded (lunatic), or deceptive (liar).",xp:5,requiredLesson:{path:"apologetics",lesson:7}},{type:"quiz",objective:"Remember the biblical basis for apologetics",question:"What does 1 Peter 3:15 say about defending your faith?",options:["Never answer critics","Always be ready to give a reason for your hope, with gentleness and respect","Use force if necessary","Avoid unbelievers"],correctAnswer:1,explanation:'1 Peter 3:15: "Always be prepared to give an answer...with gentleness and respect"\u2014the biblical basis for apologetics.',xp:5,requiredLesson:{path:"apologetics",lesson:8}}],Si=e=>{let{onNavigate:t}=e;const[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(null),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1),[m,p]=(0,i.useState)(!1),[f,g]=(0,i.useState)(0);(0,i.useEffect)(()=>{y(),v()},[]);const y=()=>{const e=(new Date).toDateString();if(localStorage.getItem("dailyChallengeCompletion")===e)return void p(!0);const t=JSON.parse(localStorage.getItem("bibleHistoryProgress")||"[]"),n=JSON.parse(localStorage.getItem("churchHistoryProgress")||"[]"),i=JSON.parse(localStorage.getItem("apologeticsProgress")||"[]"),s=wi.filter(e=>{const{path:r,lesson:s}=e.requiredLesson;return"bible"===r?t.includes(s):"church"===r?n.includes(s):"apologetics"===r&&i.includes(s)}),a=[...xi,...s];if(0===a.length)return void r(b(xi));const o=Math.floor((Date.now()-new Date((new Date).getFullYear(),0,0))/864e5);r(a[o%a.length])},b=e=>e[Math.floor(Math.random()*e.length)],v=()=>{const e=localStorage.getItem("dailyChallengeStreak");if(e){const{count:t,lastCompletedDate:n}=JSON.parse(e);g(t)}},x=async e=>{await zn("bible",e)},w=()=>{const e=(new Date).toDateString();localStorage.setItem("dailyChallengeCompletion",e),(()=>{const e=(new Date).toDateString(),t=localStorage.getItem("dailyChallengeStreak");if(!t){const t={count:1,lastCompletedDate:e};return localStorage.setItem("dailyChallengeStreak",JSON.stringify(t)),void g(1)}const{count:n,lastCompletedDate:i}=JSON.parse(t),r=new Date(i),s=new Date(e),a=new Date(s);if(a.setDate(a.getDate()-1),i!==e)if(r.toDateString()===a.toDateString()){const t={count:n+1,lastCompletedDate:e};localStorage.setItem("dailyChallengeStreak",JSON.stringify(t)),g(n+1)}else{const t={count:1,lastCompletedDate:e};localStorage.setItem("dailyChallengeStreak",JSON.stringify(t)),g(1)}})(),p(!0)};return m?(0,Pt.jsxs)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl p-6 text-white",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pt.jsx)(Bt,{className:"w-6 h-6"}),(0,Pt.jsx)("span",{className:"font-bold text-lg",children:"Daily Challenge Complete! \u2713"})]}),f>0&&(0,Pt.jsxs)("div",{className:"flex items-center gap-2 bg-white/20 px-3 py-1.5 rounded-full",children:[(0,Pt.jsx)(bi,{className:"w-5 h-5 fill-white"}),(0,Pt.jsxs)("span",{className:"font-bold",children:[f," day",1!==f?"s":""]})]})]}),(0,Pt.jsx)("p",{className:"text-white/90",children:"Great job! Come back tomorrow for a new challenge."})]}):n?(0,Pt.jsxs)("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl p-6 text-white shadow-lg",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pt.jsx)(vi,{className:"w-6 h-6"}),(0,Pt.jsx)("span",{className:"font-bold text-lg",children:"Today's Quick Win"})]}),(0,Pt.jsxs)("div",{className:"flex items-center gap-3",children:[f>0&&(0,Pt.jsxs)("div",{className:"flex items-center gap-1.5 bg-white/20 px-3 py-1 rounded-full",children:[(0,Pt.jsx)(bi,{className:"w-4 h-4 fill-white"}),(0,Pt.jsx)("span",{className:"font-bold text-sm",children:f})]}),(0,Pt.jsxs)("div",{className:"flex items-center gap-2 bg-white/20 px-3 py-1 rounded-full",children:[(0,Pt.jsx)(Ft,{className:"w-4 h-4 fill-white"}),(0,Pt.jsxs)("span",{className:"font-bold text-sm",children:["+",n.xp," XP"]})]})]})]}),n.objective&&(0,Pt.jsxs)("div",{className:"mb-3 text-white/90 text-sm",children:["\ud83c\udfaf ",(0,Pt.jsx)("span",{className:"font-medium",children:n.objective})]}),"quiz"===n.type&&(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("p",{className:"text-white font-semibold mb-4",children:n.question}),(0,Pt.jsx)("div",{className:"grid grid-cols-1 gap-2 mb-4",children:n.options.map((e,t)=>(0,Pt.jsx)("button",{onClick:()=>!c&&a(t),disabled:c,className:"text-left px-4 py-3 rounded-xl font-medium transition ".concat(c?t===n.correctAnswer?"bg-green-600 text-white border-2 border-green-400":t!==s||d?"bg-white/20 text-white/60":"bg-red-600 text-white border-2 border-red-400":s===t?"bg-white text-amber-700 border-2 border-white":"bg-white/30 text-white hover:bg-white/40 border-2 border-transparent"),children:e},t))})]}),"truefalse"===n.type&&(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("p",{className:"text-white font-semibold mb-4",children:n.statement}),(0,Pt.jsx)("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[!0,!1].map(e=>(0,Pt.jsx)("button",{onClick:()=>!c&&a(e),disabled:c,className:"px-4 py-3 rounded-xl font-bold transition ".concat(c?e===n.answer?"bg-green-600 text-white border-2 border-green-400":e!==s||d?"bg-white/20 text-white/60":"bg-red-600 text-white border-2 border-red-400":s===e?"bg-white text-amber-700 border-2 border-white":"bg-white/30 text-white hover:bg-white/40 border-2 border-transparent"),children:e?"TRUE":"FALSE"},e.toString()))})]}),"fillblank"===n.type&&(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("p",{className:"text-white font-semibold mb-4",children:n.prompt}),(0,Pt.jsx)("input",{type:"text",value:o,onChange:e=>!c&&l(e.target.value),disabled:c,placeholder:"Type your answer...",className:"w-full px-4 py-3 rounded-xl text-gray-900 font-medium mb-4 focus:outline-none focus:ring-2 focus:ring-white"})]}),"trivia"===n.type&&(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("p",{className:"text-white font-semibold mb-3",children:"\ud83d\udca1 Did you know?"}),(0,Pt.jsx)("p",{className:"text-white/95 mb-4",children:n.fact})]}),c&&(0,Pt.jsxs)("div",{className:"mb-4 p-4 rounded-xl ".concat(d?"bg-green-600/30 border-2 border-green-400":"bg-red-600/30 border-2 border-red-400"),children:[(0,Pt.jsx)("div",{className:"flex items-center gap-2 mb-2",children:d?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)(Mt,{className:"w-5 h-5"}),(0,Pt.jsxs)("span",{className:"font-bold",children:["Correct! +",n.xp," XP"]})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)(Vt,{className:"w-5 h-5"}),(0,Pt.jsx)("span",{className:"font-bold",children:"Not quite!"})]})}),(0,Pt.jsx)("p",{className:"text-white/90 text-sm",children:n.explanation})]}),c?(0,Pt.jsxs)("div",{className:"flex flex-col gap-2",children:[!d&&"trivia"!==n.type&&(0,Pt.jsx)("button",{onClick:()=>{a(null),l(""),u(!1),h(!1)},className:"w-full px-6 py-3 bg-white/30 text-white rounded-xl font-bold hover:bg-white/40 transition",children:"Try Again"}),d&&n.requiredLesson&&(0,Pt.jsxs)("button",{onClick:()=>{const e=n.requiredLesson.path;"bible"===e?t("bible"):"church"===e?t("church"):"apologetics"===e&&t("apologetics")},className:"w-full px-6 py-3 bg-white text-amber-700 rounded-xl font-bold hover:bg-amber-50 transition",children:["\ud83d\udcda Review Lesson ",n.requiredLesson.lesson]}),n.cta&&(0,Pt.jsx)("button",{onClick:()=>t("explorer"),className:"w-full px-6 py-3 bg-white text-amber-700 rounded-xl font-bold hover:bg-amber-50 transition",children:n.cta})]}):(0,Pt.jsx)("button",{onClick:()=>{if("quiz"===n.type){const e=s===n.correctAnswer;h(e),u(!0),e&&(x(n.xp),w())}else if("fillblank"===n.type){const e=o.trim().toLowerCase()===n.answer.toLowerCase();h(e),u(!0),e&&(x(n.xp),w())}else if("truefalse"===n.type){const e=s===n.answer;h(e),u(!0),e&&(x(n.xp),w())}else"trivia"===n.type&&(x(n.xp),w(),u(!0),h(!0))},disabled:"quiz"===n.type&&null===s||"truefalse"===n.type&&null===s||"fillblank"===n.type&&!o.trim(),className:"w-full px-6 py-3 rounded-xl font-bold transition ".concat(("quiz"===n.type||"truefalse"===n.type)&&null!==s||"fillblank"===n.type&&o.trim()||"trivia"===n.type?"bg-white text-amber-700 hover:bg-amber-50 shadow-lg":"bg-white/30 text-white/60 cursor-not-allowed"),children:"trivia"===n.type?"Got it! \ud83d\udc4d":"Submit Answer"}),(0,Pt.jsxs)("p",{className:"text-center text-white/60 text-xs mt-3",children:["church-timeline"===n.source&&"\ud83d\udcdc From Church Timeline","denomination-facts"===n.source&&"\u26ea From Denominations",n.requiredLesson&&"\ud83d\udcda From ".concat("bible"===n.requiredLesson.path?"Bible":"church"===n.requiredLesson.path?"Church":"Apologetics"," History Lesson ").concat(n.requiredLesson.lesson)]})]}):(0,Pt.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl p-6 text-white",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Pt.jsx)(vi,{className:"w-6 h-6"}),(0,Pt.jsx)("span",{className:"font-bold text-lg",children:"Daily Challenge"})]}),(0,Pt.jsx)("p",{className:"text-white/90 mb-3",children:"Complete lessons to unlock daily challenges! Start with a learning path below."})]})},ki=e=>{let{title:t,color:n,completed:i,total:r,onClick:s,recommended:a,isAI:o}=e;const l=r?Math.round(i/r*100):0;return(0,Pt.jsxs)("button",{onClick:s,className:"text-left bg-white rounded-xl border-2 p-5 hover:shadow transition ".concat(a?"border-blue-400 ring-2 ring-blue-200":"border-slate-200"),children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Pt.jsxs)("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[t,a&&(0,Pt.jsx)("span",{className:"text-xs font-bold text-blue-700 bg-blue-100 px-2 py-1 rounded-full",children:"Recommended"}),o&&(0,Pt.jsx)("span",{className:"text-xs font-bold text-emerald-700 bg-emerald-100 px-2 py-1 rounded-full",children:"\u2728 AI"})]}),(0,Pt.jsx)("span",{className:"text-sm font-bold text-slate-700",children:r>0?"".concat(l,"%"):"New"})]}),(0,Pt.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2",children:(0,Pt.jsx)("div",{className:"h-2 rounded-full bg-gradient-to-r ".concat({blue:"from-blue-500 to-indigo-500",amber:"from-amber-500 to-orange-500",indigo:"from-indigo-500 to-purple-500",emerald:"from-emerald-500 to-teal-500"}[n]),style:{width:"".concat(l,"%")}})}),(0,Pt.jsxs)("p",{className:"mt-2 text-sm text-slate-600",children:[i,"/",r," lessons"]})]})},Ci=e=>{let{onNavigate:t,onStartOnboarding:n,userProgress:r}=e;const s=On(),o=_n(),l=function(){const{paths:e}=On(),t=[(0,a.A)({id:"bible"},e.bible),(0,a.A)({id:"church"},e.church),(0,a.A)({id:"apologetics"},e.apologetics)].filter(e=>e.completedCount>0&&e.completedCount<e.total);if(t.length){t.sort((e,t)=>t.completedCount-e.completedCount);const e=t[0].id;return{pathId:e,nextLesson:qn(e)}}const n=_n();return"bible"===(null===n||void 0===n?void 0:n.startingPoint)?{pathId:"bible",nextLesson:1}:"church"===(null===n||void 0===n?void 0:n.startingPoint)?{pathId:"church",nextLesson:1}:"apologetics"===(null===n||void 0===n?void 0:n.startingPoint)?{pathId:"apologetics",nextLesson:1}:{pathId:"bible",nextLesson:1}}(),c=Wn(l.pathId),u=(0,i.useMemo)(()=>!o&&0===s.percentage,[o,s.percentage]),[d,h]=(0,i.useState)(""),m=!!d;(0,i.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const p=()=>{try{const e=localStorage.getItem("aiGeneratedPaths");if(!e)return{completed:0,total:0};const t=JSON.parse(e);let n=0,i=0;return t.forEach(e=>{if(e.lessons&&Array.isArray(e.lessons)){n+=e.lessons.length;const t="aiPathProgress_".concat(e.id||e.pathId),r=localStorage.getItem(t);if(r){const e=JSON.parse(r);Array.isArray(e)&&(i+=e.length)}}}),{completed:i,total:n}}catch(e){return console.error("Error getting AI paths progress:",e),{completed:0,total:0}}},f=()=>{const e=localStorage.getItem("dailyChallengeStreak");if(!e)return 0;const{count:t}=JSON.parse(e);return t};return(0,Pt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100",children:[(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-16 px-4",children:(0,Pt.jsx)("div",{className:"max-w-5xl mx-auto",children:u?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("h1",{className:"text-4xl md:text-5xl font-black mb-4",children:"Welcome! Let's tailor your start"}),(0,Pt.jsx)("p",{className:"text-lg md:text-xl text-blue-100 max-w-3xl",children:"Choose a topic below to begin your learning journey."}),(0,Pt.jsx)("div",{className:"mt-8 grid md:grid-cols-1 gap-4",children:(0,Pt.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-2xl p-4 border border-white/20",children:[(0,Pt.jsx)("h2",{className:"font-bold mb-3",children:"What\u2019s your starting point?"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[(0,Pt.jsx)(Ni,{label:"Bible",active:"bible"===d,onClick:()=>h("bible")}),(0,Pt.jsx)(Ni,{label:"Church History",active:"church"===d,onClick:()=>h("church")}),(0,Pt.jsx)(Ni,{label:"Apologetics",active:"apologetics"===d,onClick:()=>h("apologetics")})]})]})}),(0,Pt.jsx)("div",{className:"mt-6 flex flex-wrap gap-3",children:(0,Pt.jsxs)("button",{disabled:!m,onClick:()=>{if(!m)return;const e=Wn(Pn({startingPoint:d}).startingPoint||"bible").view;t(e)},className:"flex items-center gap-2 px-6 py-3 rounded-xl font-bold shadow ".concat(m?"bg-white text-blue-700 hover:shadow-md":"bg-white/30 text-white/60 cursor-not-allowed"),children:[(0,Pt.jsx)(gi,{className:"w-5 h-5"})," Start with my recommendation"]})})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("h1",{className:"text-4xl md:text-5xl font-black mb-4",children:"Understand the Roots of Your Faith"}),(0,Pt.jsx)("p",{className:"text-lg md:text-xl text-blue-100 max-w-3xl",children:"Explore where Christianity came from, how the Bible was formed, and why it matters\u2014all in one guided journey."}),(0,Pt.jsx)("div",{className:"mt-8 flex flex-wrap gap-3",children:(0,Pt.jsxs)("button",{onClick:()=>t(Wn(l.pathId).view),className:"flex items-center gap-2 bg-white text-blue-700 px-6 py-3 rounded-xl font-bold shadow hover:shadow-md",children:[(0,Pt.jsx)(yi,{className:"w-5 h-5"})," Continue \u2022 ",c.title," L",l.nextLesson]})})]})})}),(0,Pt.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-10",children:[(0,Pt.jsxs)("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow p-6",children:[!u&&(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 text-slate-700 font-bold",children:[(0,Pt.jsx)(bi,{className:"w-5 h-5"})," Your Progress"]}),(0,Pt.jsxs)("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-4 sm:gap-6",children:[f()>0&&(0,Pt.jsxs)("div",{className:"text-right",children:[(0,Pt.jsx)("div",{className:"text-xs text-slate-500 font-medium",children:"Streak"}),(0,Pt.jsxs)("div",{className:"text-xl font-black text-orange-600 flex items-center justify-end gap-1",children:[(0,Pt.jsx)(bi,{className:"w-5 h-5 fill-orange-500"}),f()]})]}),(0,Pt.jsxs)("div",{className:"text-right",children:[(0,Pt.jsx)("div",{className:"text-xs text-slate-500 font-medium",children:"Total XP"}),(0,Pt.jsx)("div",{className:"text-xl font-black text-amber-600",children:(()=>{if(r)return r.totalXP||0;return parseInt(localStorage.getItem("bibleHistoryTotalXP")||"0")+parseInt(localStorage.getItem("churchHistoryTotalXP")||"0")+parseInt(localStorage.getItem("apologeticsTotalXP")||"0")})()})]}),(0,Pt.jsxs)("div",{className:"text-right",children:[(0,Pt.jsx)("div",{className:"text-xs text-slate-500 font-medium",children:"Complete"}),(0,Pt.jsxs)("div",{className:"text-xl font-black text-blue-700",children:[s.percentage,"%"]})]})]})]}),(0,Pt.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-3 mb-6",children:(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 h-3 rounded-full",style:{width:"".concat(s.percentage,"%")}})})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Pt.jsx)(ki,{title:"Bible History",color:"blue",completed:s.paths.bible.completedCount,total:s.paths.bible.total,onClick:()=>t("bible-history"),recommended:u&&"bible"===d}),(0,Pt.jsx)(ki,{title:"Church History",color:"amber",completed:s.paths.church.completedCount,total:s.paths.church.total,onClick:()=>t("study-guide"),recommended:u&&"church"===d}),(0,Pt.jsx)(ki,{title:"Apologetics",color:"indigo",completed:s.paths.apologetics.completedCount,total:s.paths.apologetics.total,onClick:()=>t("apologetics"),recommended:u&&"apologetics"===d}),(0,Pt.jsx)(ki,{title:"AI Learning Paths",color:"emerald",completed:p().completed,total:p().total,onClick:()=>t("ai-paths"),isAI:!0})]})]}),!u&&(0,Pt.jsx)(Ti,{onNavigate:t}),(0,Pt.jsx)("div",{className:"mt-6",children:(0,Pt.jsx)(Si,{onNavigate:t})})]})]})},Ni=e=>{let{label:t,active:n,onClick:i}=e;return(0,Pt.jsx)("button",{onClick:i,className:"text-left rounded-xl border-2 px-4 py-3 transition ".concat(n?"border-white bg-white/20 text-white":"border-white/40 bg-white/5 text-white hover:border-white/70"),children:t})},Ti=e=>{let{onNavigate:t}=e;const[n,r]=(0,i.useState)([]);if((0,i.useEffect)(()=>{const e=sn();r(e)},[]),0===n.length)return null;const s=(e,t)=>{var n;return(null===(n={bible:{1:"From Mouth to Manuscript",2:"The Manuscript Detective Story",3:"Lost in Translation?",4:"The English Bible's Dramatic History",5:"The Books That Almost Made It",6:"How Christians Read the Bible Over Time",7:"Archaeology & the Bible",8:"Your Bible's Backstory"},church:{1:"Early Christianity",2:"The Great Divide",3:"The Reformation",4:"Anglicans & Methodists",5:"Baptists & Anabaptists",6:"Pentecostals & Holiness",7:"Restorationists",8:"Finding Your Church Home"},apologetics:{1:"God's Existence",2:"Evil & Suffering",3:"The Resurrection",4:"Science & Faith",5:"Scripture Reliability",6:"The Moral Argument",7:"Jesus: The Only Way?",8:"Engaging Skeptics"}}[e])||void 0===n?void 0:n[t])||"Lesson ".concat(t)};return(0,Pt.jsxs)("div",{className:"mt-6 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl p-6 text-white shadow-lg",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pt.jsx)(jt,{className:"w-6 h-6"}),(0,Pt.jsx)("span",{className:"font-bold text-lg",children:1===n.length?"1 Review Due":"".concat(n.length," Reviews Due")})]}),(0,Pt.jsxs)("div",{className:"flex items-center gap-2 bg-white/20 px-3 py-1.5 rounded-full",children:[(0,Pt.jsx)(Et,{className:"w-4 h-4"}),(0,Pt.jsx)("span",{className:"text-sm font-bold",children:"Today"})]})]}),(0,Pt.jsx)("p",{className:"text-white/90 mb-4",children:"Keep your knowledge fresh! Review these lessons to strengthen your long-term retention."}),(0,Pt.jsx)("div",{className:"space-y-2 mb-4",children:n.slice(0,3).map(e=>{const n=((e,t)=>{const n=tn(e,t),i=rn();if(!i[n])return en[0];const r=i[n].masteryLevel;return en[r]||en[0]})(e.path,e.lessonNumber);return(0,Pt.jsx)("button",{onClick:()=>(e=>{localStorage.setItem("reviewMode",JSON.stringify(e)),"bible"===e.path?t("bible-history"):"church"===e.path?t("study-guide"):"apologetics"===e.path&&t("apologetics")})(e),className:"w-full text-left bg-white/10 backdrop-blur border border-white/20 rounded-xl p-4 hover:bg-white/20 transition",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("div",{className:"font-bold text-white flex items-center gap-2",children:[(0,Pt.jsx)("span",{children:n.icon}),(i=e.path,{bible:"Bible History",church:"Church History",apologetics:"Apologetics"}[i]||i),": ",s(e.path,e.lessonNumber)]}),(0,Pt.jsxs)("div",{className:"text-sm text-white/80 mt-1",children:["Review #",e.reviewNumber," \u2022 ",n.label,e.isOverdue&&(0,Pt.jsx)("span",{className:"ml-2 text-yellow-300",children:"\u26a0\ufe0f Overdue"})]})]}),(0,Pt.jsx)("div",{className:"text-white/60",children:"\u2192"})]})},e.lessonKey);var i})}),n.length>3&&(0,Pt.jsxs)("p",{className:"text-white/70 text-sm text-center",children:["+",n.length-3," more ",n.length-3===1?"review":"reviews"," available"]})]})},ji=Nt("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Ei=e=>{let{onNavigate:t,onGoBack:n}=e;const r=Ln("bible"),s=Ln("church"),a=Ln("apologetics"),o=_n(),l=null===o||void 0===o?void 0:o.startingPoint;(0,i.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const c=[{id:"bible-history",title:"Bible History",subtitle:"From oral tradition to modern translations",icon:(0,Pt.jsx)(Dt,{className:"w-10 h-10"}),color:"from-blue-600 to-indigo-600",progress:r,key:"bible"},{id:"study-guide",title:"Church History",subtitle:"From Pentecost to today\u2019s denominations",icon:(0,Pt.jsx)(jt,{className:"w-10 h-10"}),color:"from-amber-600 to-orange-600",progress:s,key:"church"},{id:"apologetics",title:"Apologetics",subtitle:"Make a reasoned case with grace",icon:(0,Pt.jsx)(ti,{className:"w-10 h-10"}),color:"from-indigo-600 to-purple-600",progress:a,key:"apologetics"}];return(0,Pt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100",children:[(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-16 px-4",children:(0,Pt.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Pt.jsx)("h1",{className:"text-4xl md:text-5xl font-black mb-4",children:"Choose Your Learning Path"}),(0,Pt.jsx)("p",{className:"text-lg md:text-xl text-blue-100 max-w-3xl",children:"Three guided journeys to understand the Bible, Church, and Christian faith."})]})}),(0,Pt.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,Pt.jsxs)("button",{onClick:()=>n?n():t("home"),className:"inline-flex items-center gap-2 px-4 py-2 mb-4 rounded-xl border-2 border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition",children:[(0,Pt.jsx)(Lt,{className:"w-4 h-4"}),(0,Pt.jsx)("span",{children:"Back"})]}),(0,Pt.jsx)("div",{className:"grid md:grid-cols-3 gap-6",children:c.map((e,n)=>(0,Pt.jsxs)("button",{onClick:()=>t(e.id),className:"text-left bg-white rounded-2xl border-2 p-6 hover:shadow-lg transition ".concat(l===e.key?"border-blue-400 ring-2 ring-blue-200":"border-slate-200"),children:[(0,Pt.jsx)("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-r ".concat(e.color," text-white flex items-center justify-center mb-4"),children:e.icon}),(0,Pt.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:e.title}),(0,Pt.jsx)("p",{className:"text-slate-600 mb-4",children:e.subtitle}),(0,Pt.jsxs)("div",{className:"flex items-center gap-2 text-slate-700",children:[(0,Pt.jsx)(ji,{className:"w-4 h-4"}),(0,Pt.jsxs)("span",{className:"text-sm font-semibold",children:[e.progress.completedCount,"/",e.progress.total," lessons completed"]}),l===e.key&&(0,Pt.jsx)("span",{className:"ml-auto text-xs font-bold text-blue-700 bg-blue-100 px-2 py-1 rounded-full",children:"Recommended"})]})]},n))})]})]})},Ai=e=>{let{title:t,options:n,value:i,onChange:r}=e;return(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h2",{className:"text-xl font-bold text-slate-900 mb-3",children:t}),(0,Pt.jsx)("div",{className:"grid sm:grid-cols-3 gap-3",children:n.map((e,t)=>(0,Pt.jsx)("button",{onClick:()=>r(e.value),className:"text-left rounded-xl border-2 p-4 transition ".concat(i===e.value?"border-blue-500 bg-blue-50 text-blue-800":"border-slate-200 bg-white hover:border-blue-300 hover:bg-blue-50"),children:e.label},t))})]})},Ii=e=>{let{onComplete:t}=e;const[n,r]=(0,i.useState)({startingPoint:"",style:""}),s=n.startingPoint&&n.style;return(0,Pt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100",children:(0,Pt.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-12",children:[(0,Pt.jsx)("h1",{className:"text-3xl md:text-4xl font-black text-slate-900 mb-6",children:"Let\u2019s personalize your path"}),(0,Pt.jsxs)("div",{className:"space-y-8",children:[(0,Pt.jsx)(Ai,{title:"What's your starting point?",options:[{value:"bible",label:"Bible History"},{value:"church",label:"Church History"},{value:"apologetics",label:"Defending Your Faith"}],value:n.startingPoint,onChange:e=>r(t=>(0,a.A)((0,a.A)({},t),{},{startingPoint:e}))}),(0,Pt.jsx)(Ai,{title:"Preferred learning style?",options:[{value:"read",label:"Read and reflect"},{value:"interactive",label:"Interactive & quizzes"},{value:"mix",label:"Mix it up"}],value:n.style,onChange:e=>r(t=>(0,a.A)((0,a.A)({},t),{},{style:e}))}),(0,Pt.jsx)("div",{className:"pt-2",children:(0,Pt.jsx)("button",{disabled:!s,onClick:()=>{Pn(n);const e=function(e){return{pathId:e.startingPoint||"bible",nextLesson:1}}(n),i=Wn(e.pathId);t({view:i.view,lesson:e.nextLesson})},className:"px-6 py-3 rounded-xl font-bold shadow ".concat(s?"bg-blue-600 text-white hover:bg-blue-700":"bg-slate-200 text-slate-400 cursor-not-allowed"),children:"Create my plan"})})]})]})})},_i=Nt("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Pi=e=>{let{onNavigate:t,onGoBack:n}=e;(0,i.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const r=[{id:"explore-bible",title:"Bible Timeline",subtitle:"From oral tradition to modern translations",icon:(0,Pt.jsx)(Dt,{className:"w-10 h-10"}),color:"from-blue-600 to-indigo-600"},{id:"explore-church",title:"Church Timeline",subtitle:"From Pentecost to today's denominations",icon:(0,Pt.jsx)(jt,{className:"w-10 h-10"}),color:"from-amber-600 to-orange-600"},{id:"explore-denominations",title:"Explore Denominations",subtitle:"Compare beliefs and worship experiences",icon:(0,Pt.jsx)(_i,{className:"w-10 h-10"}),color:"from-purple-600 to-indigo-600"}];return(0,Pt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100",children:[(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-16 px-4",children:(0,Pt.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Pt.jsx)("h1",{className:"text-4xl md:text-5xl font-black mb-4",children:"Explore Timelines"}),(0,Pt.jsx)("p",{className:"text-lg md:text-xl text-blue-100 max-w-3xl",children:"Explore the story of Scripture and Christianity through interactive visual timelines."})]})}),(0,Pt.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,Pt.jsxs)("button",{onClick:()=>n?n():t("home"),className:"inline-flex items-center gap-2 px-4 py-2 mb-4 rounded-xl border-2 border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition",children:[(0,Pt.jsx)(Lt,{className:"w-4 h-4"}),(0,Pt.jsx)("span",{children:"Back"})]}),(0,Pt.jsx)("div",{className:"grid md:grid-cols-3 gap-6",children:r.map((e,n)=>(0,Pt.jsxs)("button",{onClick:()=>t(e.id),className:"text-left bg-white rounded-2xl border-2 border-slate-200 p-6 hover:shadow-lg transition",children:[(0,Pt.jsx)("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-r ".concat(e.color," text-white flex items-center justify-center mb-4"),children:e.icon}),(0,Pt.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:e.title}),(0,Pt.jsx)("p",{className:"text-slate-600",children:e.subtitle})]},n))})]})]})},Ri=e=>{let{onNavigate:t}=e;const[n,r]=(0,i.useState)("compare"),[s,a]=(0,i.useState)([]),[o,l]=(0,i.useState)(null);(0,i.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const c={catholic:{name:"Catholic",year:"33 AD",members:"1.3B",fullName:"Roman Catholic Church",description:"The Catholic Church developed highly centralized papal monarchy, with the pope claiming universal jurisdiction as 'Vicar of Christ.' Catholic ecclesiology emphasizes apostolic succession\u2014authority passed through unbroken chain of bishops from Peter. The West embraced Scholasticism, integrating Aristotelian philosophy with theology, epitomized by Thomas Aquinas's Summa Theologica. Papal authority reached its zenith under Innocent III (1198-1216), though later crises damaged prestige.",beliefs:["Seven Sacraments (defined at Fourth Lateran Council, 1215)","Real Presence in Eucharist (Transubstantiation)","Papal primacy and infallibility (Vatican I, 1870)","Scripture and Tradition as dual sources","Veneration of Mary and saints","Purgatory and prayers for the dead"],color:"#d4af37",keyFigures:["St. Peter","St. Augustine of Hippo","St. Thomas Aquinas","St. Francis of Assisi","Pope Innocent III","Pope John Paul II","Pope Francis"],geography:"In 1900, Europe contained 66% of the world's Christians. By 2020, Sub-Saharan Africa alone contains 31%. Latin America remains Catholic stronghold but declining to Pentecostals.",geographicDistribution:[{region:"Latin America",percentage:"40%",trend:"declining",explanation:"Still plurality but steep decline to Pentecostals\u2014especially in Brazil."},{region:"Europe",percentage:"24%",trend:"declining",explanation:"From 95% Christian (1900) to 76% (2020). Rapid secularization, most affiliated are non-practicing."},{region:"Sub-Saharan Africa",percentage:"17%",trend:"rapid-growth",explanation:"Explosive growth through missions and indigenous clergy. By 2050, Africa projected to have 38% of global Christians."},{region:"Asia-Pacific",percentage:"12%",trend:"growing",explanation:"Strong growth in Philippines (83 million Catholics) and parts of India, Vietnam."},{region:"North America",percentage:"6%",trend:"declining",explanation:"From 97% Christian (1900) to 72% (2020). Declining attendance especially among younger Catholics."},{region:"Middle East/North Africa",percentage:"1%",trend:"stable",explanation:"Small ancient communities holding steady despite persecution and emigration."}],debates:["Protestants contest Catholic institutional continuity claims and reject papal supremacy","Orthodox reject papal supremacy and filioque addition to Creed","Pre-Reformation reformers (Waldensians, Wycliffe, Hus) anticipated Protestant themes","Internal debates over Vatican II interpretation and implementation","Liberation theology's relationship to Marxism debated within Catholicism"],sources:[{title:"Vatican Official",url:"https://www.vatican.va/"},{title:"Catechism",url:"https://www.vatican.va/archive/ENG0015/_INDEX.HTM"}]},orthodox:{name:"Orthodox",year:"1054",members:"220M",fullName:"Eastern Orthodox Church",description:"Eastern Orthodoxy maintained conciliar governance, with Constantinople holding honorary primacy as 'first among equals.' They emphasized mystical theology and theosis (becoming one with God), preserved the original Nicene Creed without filioque, and used vernacular languages in liturgy. Saints Cyril and Methodius created Slavonic alphabets enabling indigenous worship. Missionary expansion reached Bulgaria (864), Serbia (9th century), and Kievan Rus (988).",beliefs:["Seven Ecumenical Councils (325-787) define faith","Rejection of papal supremacy and filioque","Theosis (deification) as salvation goal","Icons as 'windows to divine'","Mystical theology and liturgical continuity","Divine Liturgy unchanged from early church"],color:"#8b5cf6",keyFigures:["St. John Chrysostom","St. Basil the Great","St. Gregory Palamas","St. Cyril and Methodius"],geography:"Eastern Europe, Russia, Greece, Middle East. Recovering from Soviet persecution.",geographicDistribution:[{region:"Eastern Europe",percentage:"42%",trend:"stable",explanation:"Post-communist recovery complete."},{region:"Russia & Former Soviet",percentage:"35%",trend:"growing",explanation:"Significant recovery after Soviet persecution that killed 100,000+ priests and believers."},{region:"Middle East",percentage:"10%",trend:"declining",explanation:"Emigration due to persecution and war."},{region:"Greece & Balkans",percentage:"8%",trend:"stable",explanation:"Deeply rooted but facing secularization."},{region:"North America",percentage:"3%",trend:"growing",explanation:"Immigration and converts."},{region:"Western Europe",percentage:"2%",trend:"growing",explanation:"Diaspora communities growing."}],debates:["Catholics argue Orthodox lack unity without papal authority binding churches together","Orthodox argue Catholics added unauthorized innovations (filioque, papal supremacy)","Fourth Crusade's sack of Constantinople (1204) remains unhealed wound","2016 Pan-Orthodox Council boycotted by Russian, Georgian, Bulgarian, Antiochian churches","East-West mutual excommunications lifted 1965 but ecclesiological disagreements remain"],sources:[{title:"OCA",url:"https://www.oca.org/"},{title:"Greek Orthodox",url:"https://www.goarch.org/"}]},lutheran:{name:"Lutheran",year:"1517",members:"75M",fullName:"Lutheran Church",description:"Martin Luther posted 95 Theses at Wittenberg Castle Church October 31, 1517, initially intending academic debate about indulgences. The printing press enabled rapid dissemination across Europe. Excommunicated by Pope Leo X and declared outlaw by Emperor Charles V at Diet of Worms (1521), Luther developed comprehensive theological reformation grounded in sola scriptura (Scripture alone), sola fide (justification by faith alone), and sola gratia (salvation by grace alone). By mid-16th century, Lutheranism dominated northern Europe under cuius regio, eius religio (whose realm, his religion).",beliefs:["Justification by faith alone (sola fide)","Scripture as sole authority (sola scriptura)","Two sacraments: Baptism and Eucharist","Real Presence\u2014Christ's body and blood 'in, with, and under' bread and wine","Priesthood of all believers","Salvation by grace alone (sola gratia)"],color:"#3b82f6",keyFigures:["Martin Luther","Philip Melanchthon","Johann Sebastian Bach","Dietrich Bonhoeffer"],geography:"Germany, Scandinavia, US Midwest. Growing explosively in Africa.",geographicDistribution:[{region:"Northern Europe",percentage:"35%",trend:"declining",explanation:"Rapid secularization in Scandinavia."},{region:"Sub-Saharan Africa",percentage:"28%",trend:"rapid-growth",explanation:"Explosive growth in Ethiopia, Tanzania."},{region:"North America",percentage:"20%",trend:"declining",explanation:"Both liberal and conservative branches declining."}],debates:["Debates over confessional vs. liberal interpretations","Intercommunion with other Protestants and Catholics","Role of women and LGBTQ+ inclusion by synod"],sources:[]},reformed:{name:"Reformed",year:"1536",members:"75M",fullName:"Reformed/Presbyterian Tradition",description:"Developed under Ulrich Zwingli and John Calvin, emphasizing God's sovereignty and covenant theology. Presbyterian polity governed by elders.",beliefs:["Sola Scriptura, Sola Fide, Soli Deo Gloria","TULIP (Calvinism) variously held","Two sacraments as signs and seals"],color:"#0ea5e9",keyFigures:["John Calvin","Ulrich Zwingli","John Knox"],geography:"Switzerland, Netherlands, Scotland, USA",geographicDistribution:[],debates:["Extent of atonement","Predestination"],sources:[]},anglican:{name:"Anglican",year:"1534",members:"85M",fullName:"Anglican Communion",description:"English Reformation via Act of Supremacy. Via media between Catholic and Reformed traditions. Book of Common Prayer central.",beliefs:["Scripture, Tradition, Reason","Two sacraments instituted by Christ"],color:"#ef4444",keyFigures:["Thomas Cranmer","Richard Hooker"],geography:"England, Africa, North America, Global",geographicDistribution:[],debates:["Women bishops","LGBTQ+ inclusion"],sources:[]},anabaptist:{name:"Anabaptist",year:"1525",members:"4M",fullName:"Anabaptist (Mennonite/Amish)",description:"Radical Reformation: believers' baptism, pacifism, separation from world.",beliefs:["Believers' baptism","Pacifism"],color:"#22c55e",keyFigures:[],geography:"Europe, North America",geographicDistribution:[],debates:[],sources:[]},baptist:{name:"Baptist",year:"1609",members:"100M",fullName:"Baptist Churches",description:"Emphasize believers' baptism by immersion, local church autonomy, and religious liberty; diverse in theology and practice.",beliefs:["Believers' baptism","Congregational polity"],color:"#f59e0b",keyFigures:[],geography:"Global, strong in USA",geographicDistribution:[],debates:["Complementarian vs egalitarian","Calvinist vs non-Calvinist"],sources:[]},methodist:{name:"Methodist",year:"1738",members:"80M",fullName:"Methodist/Wesleyan",description:"Wesleyan revival emphasizing sanctification and social holiness; connexional structure; open table communion in many contexts.",beliefs:["Prevenient grace","Entire sanctification"],color:"#ef4444",keyFigures:["John Wesley","Charles Wesley"],geography:"Global",geographicDistribution:[],debates:["LGBTQ+ inclusion","Global north/south tensions"],sources:[]},pentecostal:{name:"Pentecostal",year:"1906",members:"500M+",fullName:"Pentecostal/Charismatic",description:"Azusa Street revival; emphasis on gifts of the Spirit, especially tongues as initial evidence in classical Pentecostalism.",beliefs:["Baptism in the Holy Spirit","Gifts of the Spirit"],color:"#a855f7",keyFigures:["William J. Seymour"],geography:"Explosive growth in Global South",geographicDistribution:[],debates:["Manifestations and order in worship"],sources:[]},restorationist:{name:"Restorationist",year:"1832",members:"7M",fullName:"Restoration Movement",description:"Seek to restore New Testament church patterns; 'No creed but Christ'; later splits over instrumental music and modernism.",beliefs:["Biblical pattern","Weekly communion"],color:"#65a30d",keyFigures:["Barton Stone","Alexander Campbell"],geography:"USA",geographicDistribution:[],debates:["Instruments in worship"],sources:[]},holiness:{name:"Holiness",year:"1867",members:"12M",fullName:"Holiness Movement",description:"Emphasizes sanctification as second work of grace; some groups later influenced by Pentecostalism, others rejected tongues.",beliefs:["Entire sanctification"],color:"#10b981",keyFigures:[],geography:"USA and global",geographicDistribution:[],debates:["Relationship to Pentecostalism"],sources:[]},nondenominational:{name:"Non-Denominational",year:"1968-",members:"Varies",fullName:"Non-Denominational Churches",description:"Rapid growth of independent evangelical churches, often megachurches; contemporary worship, local autonomy, minimal formal ties.",beliefs:["Bible-centered","Local autonomy"],color:"#9333ea",keyFigures:["Chuck Smith (Calvary Chapel)","Rick Warren","Bill Hybels"],geography:"Predominantly US suburbs; increasingly global",geographicDistribution:[{region:"North America",percentage:"65%",trend:"rapid-growth",explanation:"Explosive suburban growth. Now 3rd largest Christian group in US."},{region:"Asia-Pacific",percentage:"15%",trend:"rapid-growth",explanation:"Megachurches in South Korea, Singapore, Philippines."},{region:"Latin America",percentage:"8%",trend:"growing",explanation:"Model spreading rapidly."},{region:"Sub-Saharan Africa",percentage:"7%",trend:"growing",explanation:"Independent evangelicals growing."},{region:"Europe",percentage:"4%",trend:"growing",explanation:"Urban churches growing."},{region:"Other",percentage:"1%",trend:"growing",explanation:"Expanding globally."}],debates:["Traditional denominations argue non-denoms lack accountability structures","Celebrity pastor culture concerns in megachurches","'No denomination' is itself a denomination with implicit theology and practice","Theological drift concerns without confessional standards"],sources:[]}},u={catholic:{serviceName:"Mass",typicalLength:"60-75 minutes",schedule:"Saturday evening Vigil, multiple Sunday Masses",serviceStructure:["Introductory Rites (Sign of the Cross, Penitential Act)","Liturgy of the Word (Readings, Homily, Creed, Prayers)","Liturgy of the Eucharist (Preparation, Eucharistic Prayer, Communion)","Concluding Rites (Blessing, Dismissal)"],musicStyle:"Varies: Chant, hymns, organ; some parishes use contemporary music but liturgy remains structured",dressExpectation:"Business casual to formal; modest attire",communionDetails:"Offered at every Mass. Belief in Real Presence (Transubstantiation). Closed communion for Catholics in a state of grace",participation:"Stand/kneel/sit with congregation. Non-Catholics typically refrain from receiving communion but may come forward for a blessing",uniqueElements:["Use of liturgical calendar and vestments","Incense in some Masses","Confession typically available before Mass"],firstTimeVisitor:"Expect a reverent, structured service focused on the Eucharist. Follow along in missal or on screens. No pressure to take communion if not Catholic."},orthodox:{serviceName:"Divine Liturgy",typicalLength:"90-120 minutes",schedule:"Sunday morning, feast days; Vespers night before",serviceStructure:["Proskomedia (Preparation)","Liturgy of Catechumens (Scripture readings, sermon)","Liturgy of the Faithful (Eucharist)"],musicStyle:"A cappella chant (no instruments) in traditional languages or English; rich iconography and incense",dressExpectation:"Modest, often head coverings for women in some parishes",communionDetails:"Closed communion; reserved for Orthodox Christians in good standing. Real Presence affirmed",participation:"Standing common for much of service; frequent sign of the cross; veneration of icons",uniqueElements:["Iconostasis separating nave and altar","Incense, processions","Lengthy liturgy steeped in ancient tradition"],firstTimeVisitor:"Expect a long, reverent service with rich symbolism. Follow the congregation. Visitors welcome to observe; communion reserved for Orthodox."},lutheran:{serviceName:"Divine Service / Worship Service",typicalLength:"60-75 minutes",schedule:"Sunday morning; midweek services in some churches",serviceStructure:["Confession and Absolution","Liturgical hymns and readings","Sermon","Communion (weekly or monthly depending on church)"],musicStyle:"Traditional hymns with organ; some contemporary services exist",dressExpectation:"Business casual",communionDetails:"Real Presence affirmed. Close(d) communion in conservative synods; more open in ELCA",participation:"Liturgical responses, hymns, standing/kneeling",uniqueElements:["Liturgical structure","Law/Gospel preaching"],firstTimeVisitor:"Expect structured liturgy with hymns and sermon. Communion practice varies by synod."},reformed:{serviceName:"Worship Service",typicalLength:"60-75 minutes",schedule:"Sunday morning; some have evening services",serviceStructure:["Call to Worship and Opening Prayer","Psalms/Hymns","Sermon (expository preaching)","Communion (monthly/weekly depending on church)"],musicStyle:"Psalms/hymns; simple and reverent",dressExpectation:"Business casual",communionDetails:"Spiritual presence view common; frequency varies",participation:"Corporate readings and singing",uniqueElements:["Strong emphasis on God's sovereignty in worship"],firstTimeVisitor:"Expect Scripture-rich, reverent service with emphasis on preaching."},methodist:{serviceName:"Sunday Worship Service",typicalLength:"60-75 minutes",schedule:"Sunday morning with multiple services",serviceStructure:["Hymns/Opening","Prayers and Scripture","Sermon","Communion (weekly or monthly; open table)"],musicStyle:"Wide variety: Traditional hymns (especially Charles Wesley's), contemporary worship, gospel. Often both services offered",dressExpectation:"Casual to business casual",communionDetails:"Open table common; means of grace",participation:"Responsive readings, hymns",uniqueElements:["Emphasis on holiness and personal transformation"],firstTimeVisitor:"Friendly, structured but accessible; open communion in many congregations."},baptist:{serviceName:"Worship Service",typicalLength:"60-90 minutes",schedule:"Sunday morning; some have evening services",serviceStructure:["Worship: Hymns or Contemporary Praise","Prayer","Sermon (central)","Lord's Supper (monthly/quarterly)"],musicStyle:"Varies widely: Traditional hymns with piano/organ in traditional churches; contemporary worship bands in modern churches; Southern gospel in some",dressExpectation:"Casual to business casual",communionDetails:"Symbolic memorial; frequency varies",participation:"Singing, amens, altar calls in some",uniqueElements:["Congregational autonomy"],firstTimeVisitor:"Bible-centered preaching; style varies by church; welcoming and informal in many."},pentecostal:{serviceName:"Worship Service / Celebration",typicalLength:"90-120 minutes",schedule:"Sunday morning; midweek revival services in some",serviceStructure:["Extended Praise and Worship (30-45 minutes)","Testimonies/Prayer","Sermon","Ministry time (prayer for healing, altar calls)"],musicStyle:"Contemporary praise and worship, very energetic. Live band, drums, electric guitars. Upbeat and emotional",dressExpectation:"Casual to dressy; very mixed",communionDetails:"Symbolic; frequency varies",participation:"Spontaneous, Spirit-led worship (less structured)",uniqueElements:["Speaking in tongues, prophecy in some","Healing/prayer ministry"],firstTimeVisitor:"Expect loud, long, and expressive worship. Don't feel pressured to speak in tongues or participate in manifestations. Very welcoming."},restorationist:{serviceName:"Worship Assembly / Church Service",typicalLength:"60-75 minutes",schedule:"Sunday morning; some evening services",serviceStructure:["Singing (a cappella in Churches of Christ)","Prayer","Communion (weekly)","Sermon"],musicStyle:"Churches of Christ: a cappella singing; Christian Churches: mixed instrumentation",dressExpectation:"Casual to business casual",communionDetails:"Weekly - every Sunday without exception. Central act of worship. Open to Christians (varies by group)",participation:"Congregational singing, scripture-heavy preaching",uniqueElements:["Weekly communion","Baptism by immersion"],firstTimeVisitor:"Simple, Bible-centered worship. Churches of Christ have no instruments - only singing. Communion weekly."},nondenominational:{serviceName:"Worship Service / Sunday Celebration",typicalLength:"60-90 minutes",schedule:"Multiple Sunday services; Saturday evening in some",serviceStructure:["Extended Worship Set (20-30 minutes of contemporary music)","Welcome/Announcements","Sermon (practical, topical or expository)","Response/Prayer"],musicStyle:"Predominantly contemporary worship with full band (drums, guitars, keys). Hillsong/Bethel style common. Professional production",dressExpectation:"Casual; very welcoming",communionDetails:"Varies: Monthly/quarterly; some weekly",participation:"Hands raised common but optional; very casual",uniqueElements:["Screens, lights, modern production","Coffee in lobbies"],firstTimeVisitor:"Most accessible for newcomers. Casual dress, contemporary music, relevant teaching. Often feels like a concert; very welcoming."}};return(0,Pt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100",children:[(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-16 px-4",children:(0,Pt.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Pt.jsx)("h1",{className:"text-4xl md:text-5xl font-black mb-3",children:"Explore Denominations"}),(0,Pt.jsx)("p",{className:"text-lg md:text-xl text-purple-100 max-w-3xl",children:"Compare beliefs, practices, and worship experiences across Christian traditions."})]})}),(0,Pt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,Pt.jsx)("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-4 mb-8 shadow",children:(0,Pt.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,Pt.jsxs)("button",{onClick:()=>t&&t("explorer"),className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl border-2 border-slate-200 text-slate-700 hover:bg-slate-50 transition",children:[(0,Pt.jsx)(Lt,{className:"w-4 h-4"}),(0,Pt.jsx)("span",{children:"Back to Explore"})]}),(0,Pt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[(0,Pt.jsxs)("button",{onClick:()=>r("compare"),className:"px-5 py-2.5 rounded-xl font-semibold transition inline-flex items-center justify-center gap-2 ".concat("compare"===n?"bg-purple-600 text-white shadow":"bg-slate-100 text-slate-700 hover:bg-slate-200"),children:[(0,Pt.jsx)(_i,{className:"w-5 h-5"}),"Compare Denominations"]}),(0,Pt.jsxs)("button",{onClick:()=>r("worship"),className:"px-5 py-2.5 rounded-xl font-semibold transition inline-flex items-center justify-center gap-2 ".concat("worship"===n?"bg-purple-600 text-white shadow":"bg-slate-100 text-slate-700 hover:bg-slate-200"),children:[(0,Pt.jsx)(Et,{className:"w-5 h-5"}),"Worship Experiences"]})]})]})}),(0,Pt.jsxs)("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-6 md:p-8 shadow-lg",children:["compare"===n&&(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"mb-2",children:[(0,Pt.jsx)("h2",{className:"text-2xl font-black text-slate-900",children:"Compare Denominations"}),(0,Pt.jsx)("p",{className:"text-slate-600 text-sm",children:"Select 2-3 denominations to compare side-by-side"})]}),s.length<3&&(0,Pt.jsxs)("div",{className:"mb-2",children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:0===s.length?"Select denominations to compare:":"Select ".concat(3-s.length," more:")}),(0,Pt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:Object.keys(c).filter(e=>!s.includes(e)).map(e=>(0,Pt.jsxs)("button",{onClick:()=>a([...s,e]),className:"p-3 rounded-lg border-2 bg-white hover:shadow-lg transition-all hover:-translate-y-0.5 text-left",style:{borderColor:c[e].color},children:[(0,Pt.jsx)("div",{className:"font-serif text-sm text-slate-900",children:c[e].name}),(0,Pt.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:c[e].year})]},e))})]}),s.length>=2&&(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,Pt.jsx)("span",{className:"font-bold text-slate-900",children:"Comparing:"}),s.map(e=>(0,Pt.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full border-2",style:{borderColor:c[e].color,backgroundColor:"".concat(c[e].color,"20")},children:[(0,Pt.jsx)("span",{className:"font-medium text-slate-900",children:c[e].name}),(0,Pt.jsx)("button",{onClick:()=>a(s.filter(t=>t!==e)),className:"text-slate-500 hover:text-slate-700 font-bold",children:"\xd7"})]},e)),s.length<3&&(0,Pt.jsx)("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"+ Add another"})]}),(0,Pt.jsxs)("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 rounded-xl p-4 border border-slate-200",children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-4 text-lg",children:"Basic Information"}),(0,Pt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===s.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:s.map(e=>(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-4 border-2",style:{borderColor:c[e].color},children:[(0,Pt.jsx)("h5",{className:"font-bold text-lg mb-2",style:{color:c[e].color},children:c[e].fullName}),(0,Pt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("strong",{children:"Founded:"})," ",c[e].year]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("strong",{children:"Members:"})," ",c[e].members]})]})]},e))})]}),(0,Pt.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-5 border-2 border-green-400 shadow-sm",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Pt.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,Pt.jsx)("span",{className:"text-white text-lg font-bold",children:"\u2713"})}),(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 text-lg",children:"What We Share: Common Christian Beliefs"})]}),(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Pt.jsx)("p",{className:"text-sm text-slate-600 italic mb-4",children:"Despite our differences, all Christians confess these foundational truths together:"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-3",children:[(0,Pt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-semibold text-slate-900",children:"Trinity:"}),(0,Pt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"One God in three persons (Father, Son, Holy Spirit)"})]})]}),(0,Pt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-semibold text-slate-900",children:"Jesus Christ:"}),(0,Pt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Fully God and fully human, born of Virgin Mary"})]})]}),(0,Pt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-semibold text-slate-900",children:"Salvation:"}),(0,Pt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Through Jesus Christ's death and resurrection"})]})]}),(0,Pt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-semibold text-slate-900",children:"Resurrection:"}),(0,Pt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Christ physically rose from the dead"})]})]}),(0,Pt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-semibold text-slate-900",children:"Second Coming:"}),(0,Pt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Christ will return in glory to judge the living and the dead"})]})]}),(0,Pt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-semibold text-slate-900",children:"Scripture:"}),(0,Pt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"The Bible is God's inspired Word"})]})]}),(0,Pt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-semibold text-slate-900",children:"Baptism:"}),(0,Pt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Essential sacrament of Christian initiation"})]})]}),(0,Pt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-semibold text-slate-900",children:"Communion:"}),(0,Pt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Remembering and encountering Christ's sacrifice"})]})]})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-200",children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-4 text-lg",children:"Belief Comparison by Topic"}),(0,Pt.jsx)("p",{className:"text-sm text-slate-600 mb-4 italic",children:"Here's how these traditions understand key aspects of Christian faith:"}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Pt.jsx)("h5",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wide border-b-2 border-blue-200 pb-2",children:"\ud83d\udcd6 Scripture & Authority"}),(0,Pt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===s.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:s.map(e=>{let t="";return t="catholic"===e?"Scripture and Sacred Tradition through Church Magisterium":"orthodox"===e?"Scripture interpreted through Tradition and Seven Ecumenical Councils":"anglican"===e?"Scripture, Tradition, and Reason (three-legged stool)":"methodist"===e?"Scripture primary, supported by Tradition, Reason, Experience (Wesleyan Quadrilateral)":"lutheran"===e||"reformed"===e||"baptist"===e?"Sola Scriptura - Scripture alone as final authority":"pentecostal"===e?"Scripture as inspired, inerrant Word of God":"Scripture-centered (approaches vary)",(0,Pt.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 border-l-4",style:{borderColor:c[e].color},children:[(0,Pt.jsx)("div",{className:"font-semibold text-sm mb-2",style:{color:c[e].color},children:c[e].name}),(0,Pt.jsx)("div",{className:"text-sm text-slate-700",children:t})]},e)})}),(0,Pt.jsx)("div",{className:"mt-3 bg-green-50 border-l-4 border-green-500 rounded p-3",children:(0,Pt.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold",children:"\u2713 Agreement:"})," All affirm the Bible as God's inspired Word; differences lie in the role of tradition and church authority in interpretation"]})})]}),(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Pt.jsx)("h5",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wide border-b-2 border-blue-200 pb-2",children:"\u2728 Salvation & Grace"}),(0,Pt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===s.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:s.map(e=>{let t="";return t="catholic"===e?"Grace through faith and works cooperating; sacraments as channels of grace":"orthodox"===e?"Theosis (becoming one with God) through grace; synergy of divine and human will":"anglican"===e?"Salvation by grace through faith; works as evidence of living faith":"lutheran"===e?"Sola Fide - justification by faith alone through grace alone":"reformed"===e?"Total depravity; unconditional election; salvation entirely by grace (TULIP)":"methodist"===e?"Prevenient grace enables response; salvation by grace through faith (Arminian)":"baptist"===e?"Salvation by grace through faith alone; believer makes conscious decision":"pentecostal"===e?"Salvation by grace through faith; emphasis on personal conversion experience":"Salvation through Christ (various emphases)",(0,Pt.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 border-l-4",style:{borderColor:c[e].color},children:[(0,Pt.jsx)("div",{className:"font-semibold text-sm mb-2",style:{color:c[e].color},children:c[e].name}),(0,Pt.jsx)("div",{className:"text-sm text-slate-700",children:t})]},e)})}),(0,Pt.jsx)("div",{className:"mt-3 bg-green-50 border-l-4 border-green-500 rounded p-3",children:(0,Pt.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold",children:"\u2713 Agreement:"})," All affirm salvation is ultimately by God's grace through Christ; differences lie in how faith and works relate"]})})]}),(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Pt.jsx)("h5",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wide border-b-2 border-blue-200 pb-2",children:"\ud83c\udf5e Sacraments/Ordinances"}),(0,Pt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===s.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:s.map(e=>{let t="";return t="catholic"===e?"Seven sacraments; Real Presence (Transubstantiation) in Eucharist":"orthodox"===e?"Seven holy mysteries; Real Presence in Divine Liturgy":"anglican"===e?"Two sacraments ordained by Christ (Baptism, Eucharist) + five sacramental rites":"lutheran"===e?"Two sacraments (Baptism, Communion); Real Presence (Sacramental Union)":"reformed"===e?"Two sacraments as signs and seals; spiritual presence in Communion":"methodist"===e?"Two sacraments as means of grace; open table for Communion":"baptist"===e?"Two ordinances (symbolic): Believer's baptism by immersion, Lord's Supper":"pentecostal"===e?"Two ordinances (symbolic); emphasis on baptism in Holy Spirit with tongues":"Baptism and Communion observed (approaches vary)",(0,Pt.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 border-l-4",style:{borderColor:c[e].color},children:[(0,Pt.jsx)("div",{className:"font-semibold text-sm mb-2",style:{color:c[e].color},children:c[e].name}),(0,Pt.jsx)("div",{className:"text-sm text-slate-700",children:t})]},e)})}),(0,Pt.jsx)("div",{className:"mt-3 bg-green-50 border-l-4 border-green-500 rounded p-3",children:(0,Pt.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold",children:"\u2713 Agreement:"})," All practice Baptism and Communion/Eucharist as central acts commanded by Christ; differences lie in number, nature, and understanding"]})})]}),(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Pt.jsx)("h5",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wide border-b-2 border-blue-200 pb-2",children:"\u26ea Church Governance"}),(0,Pt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===s.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:s.map(e=>{let t="";return t="catholic"===e?"Papal monarchy: Pope as successor of Peter, bishops in apostolic succession":"orthodox"===e?"Conciliar: Patriarchs and bishops in apostolic succession, no single head":"anglican"===e?"Episcopal: Bishops, priests, deacons; autonomous provinces in communion":"lutheran"===e?"Varies: Episcopal (bishops) or congregational structure by region":"reformed"===e?"Presbyterian: Elders govern through councils and presbyteries":"methodist"===e?"Connexional: Bishops provide oversight; connected conferences":"baptist"===e?"Congregational: Each local church is fully autonomous and self-governing":"pentecostal"===e?"Varies widely: From episcopal to congregational structures":"Various structures (local autonomy common)",(0,Pt.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 border-l-4",style:{borderColor:c[e].color},children:[(0,Pt.jsx)("div",{className:"font-semibold text-sm mb-2",style:{color:c[e].color},children:c[e].name}),(0,Pt.jsx)("div",{className:"text-sm text-slate-700",children:t})]},e)})}),(()=>{const e=s.filter(e=>["catholic","orthodox","anglican","methodist"].includes(e)).length>=2,t=s.filter(e=>["baptist","pentecostal","nondenominational"].includes(e)).length>=2;return e?(0,Pt.jsx)("div",{className:"mt-3 bg-green-50 border-l-4 border-green-500 rounded p-3",children:(0,Pt.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold",children:"\u2713 Agreement:"})," Episcopal traditions share belief in apostolic succession through bishops"]})}):t?(0,Pt.jsx)("div",{className:"mt-3 bg-green-50 border-l-4 border-green-500 rounded p-3",children:(0,Pt.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,Pt.jsx)("span",{className:"text-green-600 font-bold",children:"\u2713 Agreement:"})," Congregational traditions share emphasis on local church autonomy"]})}):null})()]})]})]}),(0,Pt.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-slate-200",children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-4 text-lg",children:"Geographic Distribution (2025)"}),(0,Pt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===s.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:s.map(e=>(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h5",{className:"font-bold mb-3",style:{color:c[e].color},children:c[e].name}),(0,Pt.jsx)("div",{className:"space-y-2",children:(c[e].geographicDistribution||[]).slice(0,4).map((t,n)=>(0,Pt.jsxs)("div",{className:"text-sm",children:[(0,Pt.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,Pt.jsx)("span",{className:"text-slate-700 text-xs",children:t.region}),(0,Pt.jsx)("span",{className:"font-semibold text-xs",children:t.percentage})]}),(0,Pt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,Pt.jsx)("div",{className:"h-1.5 rounded-full",style:{width:t.percentage,backgroundColor:c[e].color}})})]},n))})]},e))})]}),(0,Pt.jsxs)("div",{className:"bg-amber-50 rounded-xl p-4 border border-amber-200",children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-4 text-lg",children:"Points of Debate & Distinctives"}),(0,Pt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===s.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:s.map(e=>(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h5",{className:"font-bold mb-2",style:{color:c[e].color},children:c[e].name}),(0,Pt.jsx)("ul",{className:"space-y-1.5",children:(c[e].debates||[]).slice(0,4).map((e,t)=>(0,Pt.jsxs)("li",{className:"flex gap-2 text-sm",children:[(0,Pt.jsx)("div",{className:"w-1 h-1 rounded-full bg-amber-600 mt-1.5 flex-shrink-0"}),(0,Pt.jsx)("span",{className:"text-slate-700",children:e})]},t))})]},e))})]}),(0,Pt.jsx)("div",{className:"flex justify-center gap-3 pt-2",children:(0,Pt.jsx)("button",{onClick:()=>a([]),className:"px-6 py-2 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-lg font-medium transition-colors",children:"Clear Selection"})})]}),1===s.length&&(0,Pt.jsxs)("div",{className:"text-center py-12 text-slate-500",children:[(0,Pt.jsx)("p",{className:"mb-2",children:"Select at least one more denomination to begin comparison"}),(0,Pt.jsx)("p",{className:"text-sm",children:"You can compare up to 3 denominations at once"})]}),0===s.length&&(0,Pt.jsxs)("div",{className:"text-center py-12 text-slate-500",children:[(0,Pt.jsx)(_t,{className:"w-16 h-16 mx-auto mb-4 text-slate-300"}),(0,Pt.jsx)("p",{className:"text-lg font-medium mb-2",children:"Compare Denominations Side-by-Side"}),(0,Pt.jsx)("p",{className:"text-sm",children:"Select 2-3 denominations above to see detailed comparisons of their beliefs, governance, and geographic presence"})]})]}),"worship"===n&&(0,Pt.jsxs)("div",{className:"space-y-6",children:[!o&&(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h2",{className:"text-2xl font-black text-slate-900 mb-2",children:"Worship Experiences"}),(0,Pt.jsx)("p",{className:"text-slate-600 mb-6",children:"Select a denomination to explore what their worship services are like:"}),(0,Pt.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.keys(u).map(e=>(0,Pt.jsxs)("button",{onClick:()=>l(e),className:"p-4 rounded-xl border-2 hover:shadow-lg transition-all hover:-translate-y-1",style:{borderColor:c[e].color},children:[(0,Pt.jsx)("div",{className:"font-serif text-lg mb-1",style:{color:c[e].color},children:c[e].name}),(0,Pt.jsx)("div",{className:"text-sm text-slate-600",children:c[e].members})]},e))})]}),o&&u[o]&&(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsx)("button",{onClick:()=>l(null),className:"mb-2 text-emerald-600 hover:text-emerald-700 flex items-center gap-2 font-medium",children:"\u2190 Back to all denominations"}),(0,Pt.jsxs)("div",{className:"border-l-4 pl-4",style:{borderColor:c[o].color},children:[(0,Pt.jsx)("h3",{className:"text-2xl font-serif mb-1",style:{color:c[o].color},children:c[o].name}),(0,Pt.jsx)("p",{className:"text-lg text-slate-700 font-medium",children:u[o].serviceName}),(0,Pt.jsxs)("div",{className:"flex flex-wrap gap-4 mt-2 text-sm text-slate-600",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-semibold",children:"Length:"})," ",u[o].typicalLength]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-semibold",children:"Schedule:"})," ",u[o].schedule]})]})]}),(0,Pt.jsxs)("div",{className:"bg-emerald-50 border-2 border-emerald-300 rounded-xl p-4",children:[(0,Pt.jsxs)("h4",{className:"font-bold text-emerald-900 mb-2 flex items-center gap-2",children:[(0,Pt.jsx)("span",{className:"text-xl",children:"\ud83d\udc4b"})," First Time Visitor Tips"]}),(0,Pt.jsx)("p",{className:"text-sm text-emerald-900",children:u[o].firstTimeVisitor})]}),(0,Pt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,Pt.jsxs)("div",{className:"bg-slate-50 rounded-xl p-4",children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wide border-b pb-2",children:"\ud83d\udccb Service Structure"}),(0,Pt.jsx)("ol",{className:"space-y-2",children:u[o].serviceStructure.map((e,t)=>(0,Pt.jsxs)("li",{className:"flex gap-3 text-sm",children:[(0,Pt.jsxs)("span",{className:"font-bold text-slate-400 flex-shrink-0",children:[t+1,"."]}),(0,Pt.jsx)("span",{className:"text-slate-700",children:e})]},t))})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{className:"bg-slate-50 rounded-xl p-4",children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-2 text-sm uppercase tracking-wide",children:"\ud83c\udfb5 Music Style"}),(0,Pt.jsx)("p",{className:"text-sm text-slate-700",children:u[o].musicStyle})]}),(0,Pt.jsxs)("div",{className:"bg-slate-50 rounded-xl p-4",children:[(0,Pt.jsx)("h4",{className:"font-bold text-slate-900 mb-2 text-sm uppercase tracking-wide",children:"\ud83d\udc54 Dress Expectation"}),(0,Pt.jsx)("p",{className:"text-sm text-slate-700",children:u[o].dressExpectation})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[(0,Pt.jsxs)("h4",{className:"font-bold text-blue-900 mb-2 flex items-center gap-2",children:[(0,Pt.jsx)("span",{className:"text-xl",children:"\ud83c\udf5e"})," Communion / Eucharist"]}),(0,Pt.jsx)("p",{className:"text-sm text-blue-900 mb-2",children:u[o].communionDetails}),(0,Pt.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Pt.jsx)("span",{className:"font-semibold",children:"Participation:"})," ",u[o].participation]})]}),(0,Pt.jsxs)("div",{className:"bg-amber-50 rounded-xl p-4 border border-amber-200",children:[(0,Pt.jsxs)("h4",{className:"font-bold text-amber-900 mb-3 flex items-center gap-2",children:[(0,Pt.jsx)("span",{className:"text-xl",children:"\u2728"})," Unique Elements"]}),(0,Pt.jsx)("ul",{className:"space-y-2",children:u[o].uniqueElements.map((e,t)=>(0,Pt.jsxs)("li",{className:"flex gap-2 text-sm",children:[(0,Pt.jsx)("span",{className:"text-amber-600 flex-shrink-0",children:"\u2022"}),(0,Pt.jsx)("span",{className:"text-amber-900",children:e})]},t))})]})]})]})]})]})]})},Di=Nt("medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),Li=Nt("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),Oi=e=>{var t;let{currentUser:n,onNavigate:r,onGoBack:s,onSignOut:a}=e;const[o,l]=(0,i.useState)([]),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(null),[m,p]=(0,i.useState)(!0),[f,g]=(0,i.useState)(""),y=async()=>{p(!0),g("");try{const e=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;try{const t=(0,vn.collection)(xn.db,"users"),n=(0,vn.query)(t,(0,vn.orderBy)("totalXP","desc"),(0,vn.AB)(e)),i=await(0,vn.getDocs)(n),r=[];return i.forEach(e=>{const t=e.data();r.push({uid:t.uid,firstName:t.firstName,lastName:t.lastName,name:t.name,country:t.country,totalXP:t.totalXP||0})}),{success:!0,leaderboard:r}}catch(f){return console.error("Get leaderboard error:",f),{success:!1,error:f.message}}}(100);if(e.success){if(console.log("Leaderboard data:",e.leaderboard),e.leaderboard.length>0&&console.log("First user example:",e.leaderboard[0]),l(e.leaderboard),n)try{const e=await wn(n.uid);if(e.success){h(e.profile);e.profile.totalXP;const t=await(async e=>{try{const t=(0,vn.collection)(xn.db,"users"),n=(0,vn.query)(t,(0,vn.orderBy)("totalXP","desc")),i=await(0,vn.getDocs)(n);let r=1,s=!1;return i.forEach(t=>{t.data().uid!==e?s||r++:s=!0}),{success:!0,rank:s?r:null}}catch(f){return console.error("Get user rank error:",f),{success:!1,error:f.message}}})(n.uid);t.success&&u(t.rank)}}catch(f){console.error("Error loading user data:",f)}}else g(e.error)}catch(e){g("Failed to load leaderboard")}finally{p(!1)}};(0,i.useEffect)(()=>{y()},[]);const b=e=>1===e?(0,Pt.jsx)(Bt,{className:"w-6 h-6 text-yellow-500"}):2===e?(0,Pt.jsx)(Di,{className:"w-6 h-6 text-gray-400"}):3===e?(0,Pt.jsx)(Di,{className:"w-6 h-6 text-orange-600"}):(0,Pt.jsxs)("span",{className:"text-gray-600 font-bold",children:["#",e]}),v=e=>{if(!e)return console.warn("No country provided to getCountryFlag"),"\ud83c\udf0d";const t={"United States":"\ud83c\uddfa\ud83c\uddf8",Canada:"\ud83c\udde8\ud83c\udde6","United Kingdom":"\ud83c\uddec\ud83c\udde7",Australia:"\ud83c\udde6\ud83c\uddfa",Germany:"\ud83c\udde9\ud83c\uddea",France:"\ud83c\uddeb\ud83c\uddf7",Spain:"\ud83c\uddea\ud83c\uddf8",Italy:"\ud83c\uddee\ud83c\uddf9",Brazil:"\ud83c\udde7\ud83c\uddf7",Mexico:"\ud83c\uddf2\ud83c\uddfd",Argentina:"\ud83c\udde6\ud83c\uddf7",India:"\ud83c\uddee\ud83c\uddf3",China:"\ud83c\udde8\ud83c\uddf3",Japan:"\ud83c\uddef\ud83c\uddf5","South Korea":"\ud83c\uddf0\ud83c\uddf7",Philippines:"\ud83c\uddf5\ud83c\udded",Indonesia:"\ud83c\uddee\ud83c\udde9",Nigeria:"\ud83c\uddf3\ud83c\uddec","South Africa":"\ud83c\uddff\ud83c\udde6",Kenya:"\ud83c\uddf0\ud83c\uddea",Other:"\ud83c\udf0d"}[e];return t||(console.warn('No flag found for country: "'.concat(e,'"')),"\ud83c\udf0d")};return(0,Pt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 pb-20",children:(0,Pt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,Pt.jsxs)("div",{className:"mb-8",children:[s&&(0,Pt.jsxs)("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-slate-200 rounded-xl hover:border-blue-500 hover:text-blue-600 transition mb-4 font-semibold",children:[(0,Pt.jsx)(Lt,{className:"w-4 h-4"}),"Back"]}),(0,Pt.jsx)("div",{className:"flex items-center justify-between",children:(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h1",{className:"text-4xl font-black text-gray-900 mb-2",children:"Global Leaderboard"}),(0,Pt.jsx)("p",{className:"text-lg text-gray-600",children:"Top learners from around the world"})]})})]}),n&&c&&(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-6 text-white mb-6 shadow-xl",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Pt.jsx)("div",{className:"bg-white/20 p-3 rounded-xl",children:(0,Pt.jsx)("div",{className:"text-4xl",children:(null===d||void 0===d?void 0:d.country)&&v(d.country)})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("p",{className:"text-blue-100 text-sm font-medium",children:[(null===d||void 0===d?void 0:d.firstName)||(null===(t=n.displayName)||void 0===t?void 0:t.split(" ")[0])||"Your"," Rank"]}),(0,Pt.jsxs)("p",{className:"text-3xl font-black",children:["#",c]})]})]}),(0,Pt.jsxs)("div",{className:"text-right",children:[(0,Pt.jsx)("p",{className:"text-blue-100 text-sm font-medium",children:"Total XP"}),(0,Pt.jsx)("p",{className:"text-3xl font-black",children:(null===d||void 0===d?void 0:d.totalXP)||0})]})]})}),(0,Pt.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6",children:(0,Pt.jsxs)("div",{className:"flex items-center gap-3 text-white",children:[(0,Pt.jsx)(Li,{className:"w-6 h-6"}),(0,Pt.jsx)("h2",{className:"text-2xl font-black",children:"Top 100 Leaders"})]})}),m?(0,Pt.jsxs)("div",{className:"p-12 text-center",children:[(0,Pt.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"}),(0,Pt.jsx)("p",{className:"text-gray-600 mt-4",children:"Loading leaderboard..."})]}):f?(0,Pt.jsxs)("div",{className:"p-12 text-center",children:[(0,Pt.jsx)("p",{className:"text-red-600 mb-4",children:f}),(0,Pt.jsx)("button",{onClick:y,className:"px-6 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition font-semibold",children:"Try Again"})]}):0===o.length?(0,Pt.jsxs)("div",{className:"p-12 text-center text-gray-600",children:[(0,Pt.jsx)(Ot,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,Pt.jsx)("p",{className:"text-lg font-semibold",children:"Be the first on the leaderboard!"}),(0,Pt.jsx)("p",{className:"text-sm",children:"Complete lessons to earn XP and claim your spot"})]}):(0,Pt.jsx)("div",{className:"divide-y divide-gray-100",children:o.map((e,t)=>{const i=t+1,r=n&&e.uid===n.uid;return r&&(console.log("Current user on leaderboard:",e),console.log("- firstName:",e.firstName),console.log("- lastName:",e.lastName),console.log("- name:",e.name),console.log("- country:",e.country),console.log("- All fields:",Object.keys(e))),(0,Pt.jsxs)("div",{className:"p-4 flex items-center gap-4 transition ".concat(r?"bg-blue-50":"hover:bg-gray-50"),children:[(0,Pt.jsx)("div",{className:"w-12 flex justify-center",children:b(i)}),(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pt.jsx)("span",{className:"text-2xl",role:"img","aria-label":e.country||"Country",children:e.country?v(e.country):"\ud83c\udf0d"}),(0,Pt.jsxs)("p",{className:"font-bold text-lg ".concat(r?"text-blue-600":"text-gray-900"),children:[e.firstName||e.name||r&&(null===n||void 0===n?void 0:n.displayName)||"User"," ",r&&(0,Pt.jsx)("span",{className:"text-sm font-normal",children:"(You)"})]})]}),(0,Pt.jsx)("p",{className:"text-sm text-gray-500 ml-9",children:e.country||"Unknown"})]}),(0,Pt.jsxs)("div",{className:"text-right",children:[(0,Pt.jsx)("p",{className:"text-2xl font-black text-amber-600",children:e.totalXP}),(0,Pt.jsx)("p",{className:"text-xs text-gray-500",children:"XP"})]})]},e.uid)})})]}),!n&&(0,Pt.jsxs)("div",{className:"mt-6 bg-blue-50 border-2 border-blue-200 rounded-2xl p-6 text-center",children:[(0,Pt.jsx)(Bt,{className:"w-12 h-12 text-blue-600 mx-auto mb-3"}),(0,Pt.jsx)("p",{className:"text-lg font-bold text-gray-900 mb-2",children:"Want to join the leaderboard?"}),(0,Pt.jsx)("p",{className:"text-gray-600 mb-4",children:"Create an account to track your progress and compete globally"}),(0,Pt.jsx)("button",{onClick:()=>r("home"),className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl font-bold hover:from-blue-600 hover:to-purple-700 transition shadow-lg",children:"Sign Up Now"})]})]})})},Mi=Nt("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),Bi=Nt("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Fi=Nt("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),zi=e=>{let{onSuccess:t,onClose:n}=e;const[r,s]=(0,i.useState)(!0),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)({firstName:"",lastName:"",email:"",password:"",country:""}),m=["United States","Canada","United Kingdom","Australia","Germany","France","Spain","Italy","Brazil","Mexico","Argentina","India","China","Japan","South Korea","Philippines","Indonesia","Nigeria","South Africa","Kenya","Other"].sort(),p=e=>{h((0,a.A)((0,a.A)({},d),{},{[e.target.name]:e.target.value})),u("")};return(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Pt.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 relative",children:[(0,Pt.jsx)("button",{onClick:n,className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-gray-100 transition",children:(0,Pt.jsx)(Vt,{className:"w-5 h-5 text-gray-500"})}),(0,Pt.jsxs)("div",{className:"text-center mb-6",children:[(0,Pt.jsx)("h2",{className:"text-3xl font-black text-gray-900 mb-2",children:r?"Create Account":"Welcome Back"}),(0,Pt.jsx)("p",{className:"text-gray-600",children:r?"Sign up to track progress and compete globally":"Sign in to access your progress and rankings"})]}),c&&(0,Pt.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:c}),(0,Pt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(!0),u("");try{let e;if(r){if(!d.firstName||!d.lastName||!d.country)return u("Please fill in all fields"),void l(!1);const t=Mn();e=await async function(e,t,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;try{const a=(await(0,bn.eJ)(xn.j,e,t)).user,o="".concat(n," ").concat(i);return await(0,bn.r7)(a,{displayName:o}),await(0,vn.BN)((0,vn.H9)(xn.db,"users",a.uid),{uid:a.uid,email:e,firstName:n,lastName:i,country:r,totalXP:s,createdAt:(new Date).toISOString(),lastUpdated:(new Date).toISOString()}),{success:!0,user:a}}catch(c){return console.error("Sign up error:",c),{success:!1,error:c.message}}}(d.email,d.password,d.firstName,d.lastName,d.country,t),e.success&&t>0&&console.log("Successfully migrated ".concat(t," XP to new account!"))}else e=await(async(e,t)=>{try{return{success:!0,user:(await(0,bn.x9)(xn.j,e,t)).user}}catch(c){return console.error("Sign in error:",c),{success:!1,error:c.message}}})(d.email,d.password);e.success?t(e.user):u(e.error)}catch(n){u("An unexpected error occurred")}finally{l(!1)}},className:"space-y-4",children:[r&&(0,Pt.jsx)(Pt.Fragment,{children:(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"First Name"}),(0,Pt.jsxs)("div",{className:"relative",children:[(0,Pt.jsx)(hi,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,Pt.jsx)("input",{type:"text",name:"firstName",value:d.firstName,onChange:p,className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition",placeholder:"John",required:!0})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Last Name"}),(0,Pt.jsxs)("div",{className:"relative",children:[(0,Pt.jsx)(hi,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,Pt.jsx)("input",{type:"text",name:"lastName",value:d.lastName,onChange:p,className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition",placeholder:"Doe",required:!0})]})]})]})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),(0,Pt.jsxs)("div",{className:"relative",children:[(0,Pt.jsx)(Mi,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,Pt.jsx)("input",{type:"email",name:"email",value:d.email,onChange:p,className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition",placeholder:"you@example.com",required:!0})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),(0,Pt.jsxs)("div",{className:"relative",children:[(0,Pt.jsx)(zt,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,Pt.jsx)("input",{type:"password",name:"password",value:d.password,onChange:p,className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",minLength:6,required:!0})]}),r&&(0,Pt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 6 characters"})]}),r&&(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Country"}),(0,Pt.jsxs)("div",{className:"relative",children:[(0,Pt.jsx)(_t,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,Pt.jsxs)("select",{name:"country",value:d.country,onChange:p,className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition appearance-none bg-white",required:!0,children:[(0,Pt.jsx)("option",{value:"",children:"Select your country"}),m.map(e=>(0,Pt.jsx)("option",{value:e,children:e},e))]})]})]}),(0,Pt.jsx)("button",{type:"submit",disabled:o,className:"w-full py-3 rounded-xl font-bold text-white transition shadow-lg ".concat(o?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700"),children:o?"Please wait...":r?(0,Pt.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,Pt.jsx)(Bi,{className:"w-5 h-5"})," Create Account"]}):(0,Pt.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,Pt.jsx)(Fi,{className:"w-5 h-5"})," Sign In"]})})]}),(0,Pt.jsx)("div",{className:"mt-6 text-center",children:(0,Pt.jsx)("button",{onClick:()=>{s(!r),u(""),h({name:"",email:"",password:"",country:""})},className:"text-blue-600 hover:text-blue-700 font-semibold text-sm",children:r?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})},qi=e=>{let{onSignUp:t,onDismiss:n,xp:i}=e;return(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:(0,Pt.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 relative animate-slideUp",children:[(0,Pt.jsx)("button",{onClick:n,className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-gray-100 transition",children:(0,Pt.jsx)(Vt,{className:"w-5 h-5 text-gray-500"})}),(0,Pt.jsx)("div",{className:"flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mx-auto mb-4",children:(0,Pt.jsx)(Bt,{className:"w-10 h-10 text-white"})}),(0,Pt.jsx)("h2",{className:"text-3xl font-black text-gray-900 text-center mb-2",children:"Great Start! \ud83c\udf89"}),(0,Pt.jsxs)("p",{className:"text-gray-600 text-center mb-6",children:["You've earned ",(0,Pt.jsxs)("span",{className:"font-bold text-amber-600",children:[i," XP"]}),"! Create an account to save your progress and compete on the global leaderboard."]}),(0,Pt.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-3 mb-4",children:(0,Pt.jsxs)("p",{className:"text-sm text-amber-900 text-center",children:[(0,Pt.jsxs)("span",{className:"font-bold",children:["Your ",i," XP will be saved"]})," when you sign up! \ud83c\udfaf"]})}),(0,Pt.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 mb-6",children:[(0,Pt.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,Pt.jsx)(gi,{className:"w-5 h-5 text-purple-600 mt-0.5 flex-shrink-0"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"font-semibold text-gray-900 text-sm",children:"Save Your Progress"}),(0,Pt.jsx)("p",{className:"text-gray-600 text-xs",children:"Never lose your learning streak"})]})]}),(0,Pt.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,Pt.jsx)(Bt,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"font-semibold text-gray-900 text-sm",children:"Global Leaderboard"}),(0,Pt.jsx)("p",{className:"text-gray-600 text-xs",children:"Compete with learners worldwide"})]})]}),(0,Pt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Pt.jsx)(gi,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"font-semibold text-gray-900 text-sm",children:"Track Across Devices"}),(0,Pt.jsx)("p",{className:"text-gray-600 text-xs",children:"Continue learning anywhere"})]})]})]}),(0,Pt.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,Pt.jsx)("button",{onClick:t,className:"w-full px-6 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-bold hover:from-blue-700 hover:to-purple-700 transition shadow-lg hover:shadow-xl",children:"Create Free Account"}),(0,Pt.jsx)("button",{onClick:n,className:"w-full px-6 py-3 text-gray-600 hover:text-gray-800 font-medium transition",children:"Maybe Later"})]})]})})},Wi=Nt("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),Vi=Nt("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),Hi=Nt("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]),Ui=Nt("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Gi=Nt("shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]),Ji=Nt("book-marked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]),Ki=Nt("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),Qi=Nt("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),Xi=e=>{if(!e)return null;return e.split("\n").filter(e=>e.trim()).map((e,t)=>{const n=e.trim(),i=n.match(/^[-*\u2022]\s+(.+)$/),r=n.match(/^\d+\.\s+(.+)$/);return i?(0,Pt.jsx)("li",{className:"ml-6 mb-2 text-gray-700 text-lg leading-relaxed",children:i[1]},t):r?(0,Pt.jsx)("li",{className:"ml-6 mb-2 text-gray-700 text-lg leading-relaxed list-decimal",children:r[1]},t):(0,Pt.jsx)("p",{className:"text-gray-700 text-lg leading-relaxed mb-4",children:n},t)})},Yi=e=>{var t;let{card:n}=e;return(0,Pt.jsxs)("div",{className:"p-10",children:[(0,Pt.jsx)("h2",{className:"text-4xl font-black text-gray-900 mb-3",children:n.title}),n.subtitle&&(0,Pt.jsx)("p",{className:"text-xl text-purple-600 font-semibold mb-8",children:n.subtitle}),(0,Pt.jsx)("div",{className:"prose prose-lg max-w-none",children:null===(t=n.content)||void 0===t?void 0:t.map((e,t)=>(0,Pt.jsx)("div",{className:"mb-3",children:Xi(e)},t))}),n.highlight&&(0,Pt.jsx)("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-purple-50 border-l-4 border-purple-500 p-5 rounded-xl",children:(0,Pt.jsx)("p",{className:"text-purple-900 font-semibold text-lg",children:n.highlight})})]})},$i=e=>{var t;let{card:n,cardIndex:r,answer:s,showFeedback:a,onAnswer:o}=e;const[l,c]=(0,i.useState)(s);return(0,Pt.jsxs)("div",{className:"p-10",children:[(0,Pt.jsx)("h3",{className:"text-3xl font-black text-gray-900 mb-2",children:"Knowledge Check"}),(0,Pt.jsx)("p",{className:"text-gray-600 text-lg mb-8",children:"Test your understanding of what you just learned!"}),(0,Pt.jsxs)("div",{className:"mb-8",children:[(0,Pt.jsx)("p",{className:"text-xl font-bold text-gray-800 mb-6",children:n.question}),(0,Pt.jsx)("div",{className:"space-y-3",children:null===(t=n.options)||void 0===t?void 0:t.map((e,t)=>{const i=l===t,s=t===n.correctAnswer;let u="w-full text-left p-5 rounded-xl border-2 transition font-medium text-gray-800 shadow-sm ";return u+=a?s?"border-green-500 bg-green-50 text-green-900":i&&!s?"border-red-500 bg-red-50 text-red-900":"border-gray-200 bg-gray-50":i?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 hover:border-purple-300 hover:bg-purple-50 hover:shadow-md",(0,Pt.jsxs)("button",{onClick:()=>!a&&(e=>{c(e);const t=e===n.correctAnswer;o(r,e,t)})(t),disabled:a,className:u,children:[(0,Pt.jsxs)("span",{className:"font-bold mr-3 text-gray-600",children:[String.fromCharCode(65+t),"."]}),e]},t)})})]}),a&&(0,Pt.jsxs)("div",{className:"p-5 rounded-xl border-l-4 ".concat(l===n.correctAnswer?"bg-green-50 border-green-500":"bg-blue-50 border-blue-500"),children:[(0,Pt.jsx)("p",{className:"font-bold text-lg mb-2",children:l===n.correctAnswer?"\u2713 Correct! +10 XP":"Explanation:"}),(0,Pt.jsx)("p",{className:"text-gray-800 text-lg leading-relaxed",children:n.explanation})]})]})},Zi=e=>{let{card:t}=e;return(0,Pt.jsxs)("div",{className:"p-10",children:[(0,Pt.jsxs)("div",{className:"text-center mb-8",children:[(0,Pt.jsx)(Qi,{className:"w-20 h-20 text-purple-500 mx-auto mb-4"}),(0,Pt.jsx)("h2",{className:"text-4xl font-black text-gray-900 mb-3",children:t.title})]}),(0,Pt.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-8 mb-6",children:[(0,Pt.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:t.question}),(0,Pt.jsx)("p",{className:"text-gray-700 text-lg leading-relaxed",children:t.prompt})]}),(0,Pt.jsxs)("div",{className:"bg-white border-2 border-purple-200 rounded-xl p-6",children:[(0,Pt.jsx)("p",{className:"text-gray-600 mb-4 font-semibold",children:"Take a moment to reflect:"}),(0,Pt.jsx)("textarea",{className:"w-full h-32 p-4 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none resize-none",placeholder:"Write your thoughts here..."})]})]})},er=e=>{let{card:t,xp:n,onComplete:r}=e;const[s,a]=(0,i.useState)(!1);return(0,Pt.jsx)("div",{className:"p-10 text-center",children:s?(0,Pt.jsxs)("div",{className:"py-12",children:[(0,Pt.jsx)(Bt,{className:"w-32 h-32 text-yellow-500 mx-auto mb-6 animate-bounce"}),(0,Pt.jsx)("h2",{className:"text-5xl font-black text-gray-900 mb-4",children:"Awesome! \ud83c\udf89"}),(0,Pt.jsx)("p",{className:"text-2xl text-gray-600",children:"Returning to AI Creator..."})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"mb-8",children:[(0,Pt.jsx)(Ot,{className:"w-28 h-28 text-yellow-500 mx-auto mb-6"}),(0,Pt.jsx)("h2",{className:"text-4xl font-black text-gray-900 mb-4",children:t.title}),(0,Pt.jsx)("p",{className:"text-xl text-gray-600 leading-relaxed",children:t.message})]}),(0,Pt.jsxs)("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 rounded-2xl p-8 mb-8 border-2 border-yellow-200 shadow-lg",children:[(0,Pt.jsx)("p",{className:"text-2xl font-bold text-gray-800 mb-3",children:"Total XP Earned"}),(0,Pt.jsx)("p",{className:"text-6xl font-black text-yellow-600",children:n})]}),(0,Pt.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 rounded-2xl p-8 mb-8 border-2 border-purple-200 shadow-lg",children:[(0,Pt.jsx)("div",{className:"flex items-center justify-center gap-2 mb-3",children:(0,Pt.jsx)(Hi,{className:"w-8 h-8 text-purple-600"})}),(0,Pt.jsx)("p",{className:"text-2xl font-black text-purple-700",children:"AI-Generated Lesson"}),(0,Pt.jsx)("p",{className:"text-base text-gray-600 mt-2",children:"You've completed a custom AI lesson!"})]}),(0,Pt.jsx)("button",{onClick:async()=>{a(!0),await r()},className:"px-10 py-5 bg-gradient-to-r from-blue-500 to-purple-600 text-white text-xl rounded-2xl font-black hover:from-blue-600 hover:to-purple-700 transition shadow-xl hover:shadow-2xl",children:"Complete Lesson! \ud83c\udf89"})]})})},tr=e=>{var t,n;let{lesson:r,currentUser:s,onComplete:o,onGoBack:l}=e;const[c,u]=(0,i.useState)(0),[d,h]=(0,i.useState)({}),[m,p]=(0,i.useState)({}),[f,g]=(0,i.useState)(!1),[y,b]=(0,i.useState)(0);(0,i.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[c]);const v=[];v.push({type:"content",title:r.title,subtitle:r.subtitle,content:[r.introduction]}),null===(t=r.sections)||void 0===t||t.forEach((e,t)=>{var n;v.push({type:"content",title:e.title,subtitle:"Section ".concat(t+1),content:e.content.split("\n\n"),highlight:(null===(n=e.keyPoints)||void 0===n?void 0:n.length)>0?e.keyPoints.join(" \u2022 "):null})}),null===(n=r.quiz)||void 0===n||n.forEach((e,t)=>{v.push({type:"quiz",question:e.question,options:e.options,correctAnswer:e.correct,explanation:e.explanation||"Great job!"})}),r.memorizeVerse&&v.push({type:"content",title:"Memory Verse",subtitle:r.memorizeVerse.reference,content:[r.memorizeVerse.text],highlight:"Memorize this verse: ".concat(r.memorizeVerse.reference)}),r.reflection&&v.push({type:"reflection",title:"Reflection",question:r.reflection.question,prompt:r.reflection.prompt}),v.push({type:"completion",title:"Lesson Complete!",message:"Congratulations! You've finished the AI-generated lesson on \"".concat(r.originalTopic,'".')});const x=v.length,w=(c+1)/x*100,S=v[c]||{};return r?(0,Pt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50",children:[(0,Pt.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm shadow-md py-4 px-4",children:(0,Pt.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Pt.jsx)("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-gray-200 rounded-xl hover:border-purple-500 hover:text-purple-600 transition font-semibold",children:(0,Pt.jsx)(Vt,{className:"w-5 h-5"})}),(0,Pt.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl shadow-lg",children:[(0,Pt.jsx)(Ft,{className:"w-5 h-5 text-white fill-white"}),(0,Pt.jsxs)("span",{className:"font-black text-white text-lg",children:[y," XP"]})]})]}),(0,Pt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pt.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-3 overflow-hidden",children:(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-full transition-all duration-500 ease-out",style:{width:"".concat(w,"%")}})}),(0,Pt.jsxs)("span",{className:"text-sm font-bold text-gray-600 min-w-[60px] text-right",children:[c+1," / ",x]})]}),(0,Pt.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-blue-600 px-3 py-1 rounded-full",children:(0,Pt.jsxs)("div",{className:"flex items-center gap-2 text-white text-xs font-semibold",children:[(0,Pt.jsx)(Hi,{className:"w-3 h-3"}),"AI Generated"]})}),(0,Pt.jsx)("span",{className:"text-gray-500 text-xs",children:r.originalTopic})]})]})}),(0,Pt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,Pt.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden min-h-[500px]",children:["content"===S.type&&(0,Pt.jsx)(Yi,{card:S}),"quiz"===S.type&&(0,Pt.jsx)($i,{card:S,cardIndex:c,answer:d[c],showFeedback:m[c],onAnswer:(e,t,n)=>{h(n=>(0,a.A)((0,a.A)({},n),{},{[e]:t})),p(t=>(0,a.A)((0,a.A)({},t),{},{[e]:!0})),n&&b(e=>e+10)}}),"reflection"===S.type&&(0,Pt.jsx)(Zi,{card:S}),"completion"===S.type&&(0,Pt.jsx)(er,{card:S,xp:y+(r.xpReward||50),onComplete:async()=>{if(!f){try{const e=y+(r.xpReward||50),t="aiLesson_".concat(r.id,"_completed");if(localStorage.setItem(t,"true"),s){(await(0,Hn.completeCourseLesson)(s.uid,"ai_generated",r.id,e)).success&&g(!0)}else g(!0);o&&o({xpEarned:e,topic:r.originalTopic})}catch(e){console.error("Error completing AI lesson:",e)}setTimeout(()=>{l&&l()},1500)}}})]}),(0,Pt.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,Pt.jsxs)("button",{onClick:()=>{c>0&&u(e=>e-1)},disabled:0===c,className:"flex items-center gap-2 px-6 py-4 rounded-2xl font-bold transition text-lg ".concat(0===c?"bg-gray-100 text-gray-300 cursor-not-allowed":"bg-white text-gray-700 border-2 border-gray-300 hover:border-blue-500 hover:text-blue-600 shadow-md hover:shadow-lg"),children:[(0,Pt.jsx)(Ht,{className:"w-5 h-5"}),"Back"]}),c<x-1?(0,Pt.jsxs)("button",{onClick:()=>{c<x-1&&u(e=>e+1)},className:"flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-2xl font-bold hover:from-blue-600 hover:to-purple-700 transition shadow-lg hover:shadow-xl text-lg",children:["Continue",(0,Pt.jsx)(Wt,{className:"w-5 h-5"})]}):null]})]})]}):(0,Pt.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Pt.jsx)("p",{className:"text-gray-600",children:"Lesson not found"})})},nr=e=>{var t,r;let{path:s,currentUser:a,onGoBack:o}=e;const[l,c]=(0,i.useState)([]),[u,d]=(0,i.useState)(null);(0,i.useEffect)(()=>{(async()=>{if(null!==a&&void 0!==a&&a.uid)try{var e;const{getAIPathProgressFromFirestore:t}=await Promise.resolve().then(n.bind(n,54)),i=await t(a.uid,s.id);if(i.success&&null!==(e=i.progress)&&void 0!==e&&e.completedLessons)return c(i.progress.completedLessons),void localStorage.setItem("aiPathProgress_".concat(s.id),JSON.stringify(i.progress.completedLessons))}catch(i){console.error("Error loading progress from Firestore:",i)}const t=localStorage.getItem("aiPathProgress_".concat(s.id));t&&c(JSON.parse(t))})()},[s.id,a]),(0,i.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const h={total:(null===(t=s.lessons)||void 0===t?void 0:t.length)||0,completed:l.length,percentage:(null===(r=s.lessons)||void 0===r?void 0:r.length)>0?Math.round(l.length/s.lessons.length*100):0};if(null!==u){const e=s.lessons[u];return(0,Pt.jsx)(tr,{lesson:e,currentUser:a,onComplete:e=>{(async e=>{if(!l.includes(e)){const i=[...l,e];if(c(i),localStorage.setItem("aiPathProgress_".concat(s.id),JSON.stringify(i)),null!==a&&void 0!==a&&a.uid)try{const{saveAIPathProgressToFirestore:e}=await Promise.resolve().then(n.bind(n,54));await e(a.uid,s.id,i)}catch(t){console.error("Error saving progress to Firestore:",t)}}})(u),d(null),window.scrollTo({top:0,behavior:"smooth"})},onGoBack:()=>{d(null),window.scrollTo({top:0,behavior:"smooth"})}})}return(0,Pt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50",children:[(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white py-16 px-4",children:(0,Pt.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,Pt.jsx)(gi,{className:"w-12 h-12 mr-3"}),(0,Pt.jsx)("h1",{className:"text-4xl md:text-5xl font-bold",children:s.title||"AI Learning Path"})]}),s.description&&(0,Pt.jsx)("p",{className:"text-xl md:text-2xl text-purple-100 mb-6",children:s.description}),(0,Pt.jsxs)("p",{className:"text-lg text-purple-50 max-w-2xl mx-auto",children:[1===h.total?"A comprehensive lesson":"A ".concat(h.total,"-Lesson Journey")," \u2022 Track your progress as you learn"]})]})}),(0,Pt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,Pt.jsxs)("button",{onClick:o,className:"inline-flex items-center gap-2 px-4 py-2 mb-6 rounded-xl border-2 border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition",children:[(0,Pt.jsx)(Lt,{className:"w-4 h-4"}),(0,Pt.jsx)("span",{children:"Back to AI Paths"})]}),(0,Pt.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-12 border-2 border-purple-100",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)(Ot,{className:"w-8 h-8 text-purple-600 mr-3"}),(0,Pt.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Your Progress"})]}),(0,Pt.jsxs)("span",{className:"text-3xl md:text-4xl font-bold text-purple-600",children:[h.percentage,"%"]})]}),(0,Pt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-6",children:(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-4 rounded-full transition-all duration-500",style:{width:"".concat(h.percentage,"%")}})}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Pt.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 text-purple-700 mb-1",children:[(0,Pt.jsx)(Mt,{className:"w-5 h-5"}),(0,Pt.jsx)("span",{className:"text-sm font-semibold",children:"Completed"})]}),(0,Pt.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:h.completed})]}),(0,Pt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 text-blue-700 mb-1",children:[(0,Pt.jsx)(jt,{className:"w-5 h-5"}),(0,Pt.jsx)("span",{className:"text-sm font-semibold",children:"Remaining"})]}),(0,Pt.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:h.total-h.completed})]}),(0,Pt.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 text-purple-700 mb-1",children:[(0,Pt.jsx)(Ft,{className:"w-5 h-5"}),(0,Pt.jsx)("span",{className:"text-sm font-semibold",children:"Total"})]}),(0,Pt.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:h.total})]}),(0,Pt.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 text-blue-700 mb-1",children:[(0,Pt.jsx)(Bt,{className:"w-5 h-5"}),(0,Pt.jsx)("span",{className:"text-sm font-semibold",children:"Progress"})]}),(0,Pt.jsxs)("p",{className:"text-2xl font-bold text-blue-900",children:[h.percentage,"%"]})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-8 border-2 border-slate-100",children:[(0,Pt.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Pt.jsx)(jt,{className:"w-8 h-8 text-purple-600 mr-3"}),(0,Pt.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:1===h.total?"Lesson":"".concat(h.total,"-Lesson Curriculum")})]}),(0,Pt.jsx)("p",{className:"text-gray-700 mb-8 text-lg",children:1===h.total?"Click the lesson below to begin your learning journey.":"Click any lesson below to explore the content. Each lesson builds on the previous one."}),(0,Pt.jsx)("div",{className:"space-y-4",children:s.lessons&&s.lessons.map((e,t)=>{const n=l.includes(t),i=0===(r=t)||l.includes(r-1);var r;return(0,Pt.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border-2 transition-all ".concat(n?"border-green-400":i?"border-gray-200":"border-gray-300 opacity-60"),children:(0,Pt.jsx)("button",{onClick:()=>i&&d(t),disabled:!i,className:"w-full p-6 transition ".concat(i?"hover:bg-gray-50 cursor-pointer":"cursor-not-allowed"),children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Pt.jsx)("div",{className:"w-12 h-12 min-w-[3rem] rounded-full flex items-center justify-center text-xl font-bold flex-shrink-0 ".concat(n?"bg-green-100 text-green-700":i?"bg-purple-100 text-purple-700":"bg-gray-200 text-gray-400"),children:n?(0,Pt.jsx)(Mt,{className:"w-6 h-6"}):t+1}),(0,Pt.jsxs)("div",{className:"text-left",children:[(0,Pt.jsx)("h3",{className:"text-xl font-bold ".concat(i?"text-gray-800":"text-gray-400"),children:e.title||"Lesson ".concat(t+1)}),e.subtitle&&(0,Pt.jsx)("p",{className:"".concat(i?"text-gray-600":"text-gray-400"),children:e.subtitle})]})]}),i?n?(0,Pt.jsx)("span",{className:"text-sm font-bold text-green-600 bg-green-100 px-4 py-2 rounded-full",children:"Complete"}):(0,Pt.jsx)("span",{className:"text-sm font-bold text-purple-600 bg-purple-100 px-4 py-2 rounded-full",children:"Start"}):(0,Pt.jsx)("div",{className:"flex items-center justify-center",children:(0,Pt.jsx)(zt,{className:"w-6 h-6 text-gray-400 flex-shrink-0"})})]})})},t)})})]}),100===h.percentage&&(0,Pt.jsxs)("div",{className:"mt-8 bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-8 text-white text-center",children:[(0,Pt.jsx)(Bt,{className:"w-16 h-16 mx-auto mb-4"}),(0,Pt.jsx)("h3",{className:"text-3xl font-bold mb-2",children:"Path Complete! \ud83c\udf89"}),(0,Pt.jsx)("p",{className:"text-purple-100 text-lg",children:"Congratulations on completing this learning path!"})]})]})]})},ir="https://churchexplorer-hlo9hbs7g-scott-mcmurrays-projects.vercel.app/api/ai",rr=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{const n=await fetch("".concat(ir,"/generate-lesson"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:e,additionalContext:t})});if(!n.ok){const e=await n.text();throw console.error("AI API Error:",e),new Error("AI API error: ".concat(n.status," ").concat(n.statusText))}const i=await n.json();if(!i.lesson)throw new Error("Invalid response format from AI API");return{success:!0,lesson:ar(i.lesson,e),usage:i.usage}}catch(n){return console.error("AI lesson generation error:",n),{success:!1,error:n.message}}},sr=e=>"string"!==typeof e?e:e.replace(/\\n/g,"\n").replace(/\\t/g,"\t").replace(/\\"/g,'"').trim(),ar=(e,t)=>{const n={id:"ai_".concat(Date.now()),type:"ai_generated",originalTopic:t,generatedAt:(new Date).toISOString(),title:sr(e.title)||"Learning About: ".concat(t),subtitle:sr(e.subtitle)||"AI-Generated Lesson",introduction:sr(e.introduction)||"This lesson was generated to help you learn about this topic.",sections:[],quiz:[],practicalApplication:sr(e.practicalApplication)||"Consider how this knowledge applies to your faith journey.",memorizeVerse:e.memorizeVerse?{reference:sr(e.memorizeVerse.reference)||"John 8:32",text:sr(e.memorizeVerse.text)||"Then you will know the truth, and the truth will set you free."}:{reference:"John 8:32",text:"Then you will know the truth, and the truth will set you free."},furtherReading:Array.isArray(e.furtherReading)?e.furtherReading.map(e=>sr(e)):[],reflection:e.reflection?{question:sr(e.reflection.question)||"How does this lesson deepen your understanding of Christian faith?",prompt:sr(e.reflection.prompt)||"Take a moment to reflect on what you've learned and how it applies to your life."}:{question:"How does this lesson deepen your understanding of Christian faith?",prompt:"Take a moment to reflect on what you've learned and how it applies to your life."},xpReward:50};return e.sections&&Array.isArray(e.sections)&&(n.sections=e.sections.map((e,t)=>({title:sr(e.title)||"Section ".concat(t+1),content:sr(e.content)||"",keyPoints:Array.isArray(e.keyPoints)?e.keyPoints.map(e=>sr(e)):[]}))),e.quiz&&Array.isArray(e.quiz)&&(n.quiz=e.quiz.map((e,t)=>({question:sr(e.question)||"Question ".concat(t+1),options:Array.isArray(e.options)&&4===e.options.length?e.options.map(e=>sr(e)):["Option A","Option B","Option C","Option D"],correct:"number"===typeof e.correct&&e.correct>=0&&e.correct<=3?e.correct:0,explanation:sr(e.explanation)||"This is the correct answer."}))),n},or=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];try{const t=await fetch("".concat(ir,"/suggest-topics"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userInterests:e.join(", ")})});if(!t.ok)throw new Error("AI API error: ".concat(t.status," ").concat(t.statusText));const n=await t.json();return{success:!0,suggestions:n.suggestions||n.topics||[]}}catch(t){return console.error("Topic suggestion error:",t),{success:!1,error:t.message,fallbackSuggestions:[{title:"Catholic Church Beliefs",description:"Explore the core doctrines and practices of Catholicism"},{title:"Protestant Reformation",description:"Learn about the key events and figures of the Reformation"},{title:"Eastern Orthodox Theology",description:"Understand the distinctive beliefs of Eastern Christianity"},{title:"Baptist Traditions",description:"Discover the history and practices of Baptist churches"},{title:"Pentecostal Movement",description:"Learn about the modern Pentecostal and Charismatic movements"}]}}},lr=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{const i={quick:1,"deep-dive":3,complete:8}[t]||1,r=await fetch("".concat(ir,"/generate-path-outline"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:e,pathType:t,lessonCount:i,additionalContext:n})});if(!r.ok){const e=await r.text();throw new Error("AI API error: ".concat(r.status," - ").concat(e))}const s=await r.json(),o=s.outline||s;if(!o||!o.lessons||!Array.isArray(o.lessons))throw console.error("Invalid outline received:",o),new Error("Server returned invalid path outline (missing lessons array)");return{success:!0,outline:(0,a.A)((0,a.A)({},o),{},{pathId:"path_".concat(Date.now()),originalTopic:e,pathType:t,createdAt:(new Date).toISOString()}),usage:s.usage}}catch(i){return console.error("Path outline generation error:",i),{success:!1,error:i.message}}},cr=async(e,t)=>{try{const n=e.lessons[t-1];if(!n)throw new Error("Invalid lesson number");const i=e.lessons.slice(0,t-1),r=i.length>0?"This is lesson ".concat(t," of ").concat(e.totalLessons,' in the path "').concat(e.pathTitle,'".\n         Previous lessons covered: ').concat(i.map(e=>e.title).join(", "),".\n         Build upon this foundation."):'This is the first lesson in the path "'.concat(e.pathTitle,'".'),s=n.objectives&&Array.isArray(n.objectives)&&n.objectives.length>0?"Learning Objectives:\n".concat(n.objectives.map((e,t)=>"".concat(t+1,". ").concat(e)).join("\n")):"Focus: ".concat(n.description||"Cover the key concepts of this topic."),a="".concat(r,"\n\n").concat(s,"\n\n").concat(t>1?"Build on concepts from previous lessons.":"Establish foundational understanding.","\n").concat(t<e.totalLessons?"Prepare for upcoming lessons.":"Provide comprehensive conclusion and application."),o=await rr(n.title,a);if(!o.success)throw new Error(o.error);const l=o.lesson;return l.pathId=e.pathId,l.pathTitle=e.pathTitle,l.lessonNumber=t,l.totalLessonsInPath=e.totalLessons,{success:!0,lesson:l,usage:o.usage}}catch(n){return console.error("Path lesson generation error:",n),{success:!1,error:n.message}}},ur=async(e,t)=>{const n=[];let i={prompt_tokens:0,completion_tokens:0,total_tokens:0};try{if(!e||!e.lessons||!Array.isArray(e.lessons))throw new Error("Invalid path outline: missing lessons array");for(let s=1;s<=e.totalLessons;s++){var r;if(t)t({current:s,total:e.totalLessons,status:"generating",lessonTitle:(null===(r=e.lessons[s-1])||void 0===r?void 0:r.title)||"Lesson ".concat(s)});const a=await cr(e,s);if(!a.success)throw new Error("Failed to generate lesson ".concat(s,": ").concat(a.error));n.push(a.lesson),a.usage&&(i.prompt_tokens+=a.usage.prompt_tokens||0,i.completion_tokens+=a.usage.completion_tokens||0,i.total_tokens+=a.usage.total_tokens||0),s<e.totalLessons&&await new Promise(e=>setTimeout(e,1e3))}return t&&t({current:e.totalLessons,total:e.totalLessons,status:"complete"}),{success:!0,path:(0,a.A)((0,a.A)({},e),{},{lessons:n,completedAt:(new Date).toISOString(),usage:i})}}catch(s){return console.error("Complete path generation error:",s),{success:!1,error:s.message,partialLessons:n}}},dr=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const i=await hr(t),r=i.findIndex(t=>t.id===e.id);if(r>=0?i[r]=(0,a.A)((0,a.A)({},e),{},{updatedAt:(new Date).toISOString()}):i.push((0,a.A)((0,a.A)({},e),{},{savedAt:(new Date).toISOString()})),localStorage.setItem("aiGeneratedPaths",JSON.stringify(i)),null!==t&&void 0!==t&&t.uid){const{saveAIPathToFirestore:i}=await Promise.resolve().then(n.bind(n,54));await i(t.uid,e)}return{success:!0,path:e}}catch(i){return console.error("Error saving AI path:",i),{success:!1,error:i.message}}},hr=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{if(null!==e&&void 0!==e&&e.uid){const{getAIPathsFromFirestore:t}=await Promise.resolve().then(n.bind(n,54)),i=await t(e.uid);if(i.success&&i.paths.length>0)return localStorage.setItem("aiGeneratedPaths",JSON.stringify(i.paths)),i.paths}const t=localStorage.getItem("aiGeneratedPaths");return t?JSON.parse(t):[]}catch(t){return console.error("Error loading AI paths:",t),[]}},mr=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const i=(await hr()).filter(t=>t.id!==e);if(localStorage.setItem("aiGeneratedPaths",JSON.stringify(i)),localStorage.removeItem("aiPathProgress_".concat(e)),null!==t&&void 0!==t&&t.uid){const{deleteAIPathFromFirestore:i}=await Promise.resolve().then(n.bind(n,54));await i(t.uid,e)}return{success:!0}}catch(i){return console.error("Error deleting AI path:",i),{success:!1,error:i.message}}},pr=e=>{let{currentUser:t,onNavigate:n,onGoBack:r}=e;const[s,a]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(null),[m,p]=(0,i.useState)(""),[f,g]=(0,i.useState)(""),[y,b]=(0,i.useState)("quick"),[v,x]=(0,i.useState)(!1),[w,S]=(0,i.useState)([]),[k,C]=(0,i.useState)(!1),[N,T]=(0,i.useState)(null),[j,E]=(0,i.useState)(!1),[A,I]=(0,i.useState)(null),[_,P]=(0,i.useState)(""),[R,D]=(0,i.useState)([]),L=i.useRef(null),O=["The Protestant Reformation","Early Church History","Biblical Theology Basics","The Armor of God","Fruits of the Spirit","Biblical Prayer","The Trinity Explained","Book of Revelation"];(0,i.useEffect)(()=>{M(),B(),window.scrollTo({top:0,behavior:"smooth"})},[]);const M=async()=>{l(!0);try{const e=await hr(t);a(e.sort((e,t)=>new Date(t.savedAt||0)-new Date(e.savedAt||0)))}catch(_){console.error("Error loading AI paths:",_),a([])}finally{l(!1)}},B=async()=>{C(!0);try{const e=await or(["church history","theology","denominations"]);e.success?S(e.suggestions||[]):S(e.fallbackSuggestions||[])}catch(_){console.error("Error loading suggestions:",_),S(["The Protestant Reformation","Early Church History","Biblical Theology Basics","The Armor of God","Fruits of the Spirit","Biblical Prayer","The Trinity Explained","Book of Revelation"])}finally{C(!1)}},F=[{id:"quick",name:"Quick Lesson",icon:vi,lessons:1,time:"2-3 min",description:"Single comprehensive lesson",color:"from-blue-600 to-blue-700"},{id:"deep-dive",name:"Deep Dive",icon:Wi,lessons:3,time:"6-9 min",description:"Three-part exploration",color:"from-purple-600 to-purple-700"},{id:"complete",name:"Complete Course",icon:Vi,lessons:8,time:"16-24 min",description:"Full mastery path",color:"from-pink-600 to-rose-700"}];return(0,i.useEffect)(()=>{if(v){const e=document.querySelector('meta[name="theme-color"]');e&&e.setAttribute("content","#9333ea")}else{const e=document.querySelector('meta[name="theme-color"]');e&&e.setAttribute("content","#ffffff")}},[v]),d?(0,Pt.jsx)(nr,{path:d,currentUser:t,onGoBack:()=>{h(null),M(),window.scrollTo({top:0,behavior:"smooth"})}}):(0,Pt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100",children:[v&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-gradient-to-r from-purple-600 to-blue-600 z-50 flex items-center justify-center",style:{minHeight:"100dvh"},children:(0,Pt.jsxs)("div",{className:"text-center px-4",children:[(0,Pt.jsxs)("div",{className:"mb-8 relative",children:[(0,Pt.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Pt.jsx)("div",{className:"w-32 h-32 bg-white/20 rounded-full animate-ping"})}),(0,Pt.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Pt.jsx)("div",{className:"w-24 h-24 bg-white/30 rounded-full animate-pulse"})}),(0,Pt.jsx)("div",{className:"relative flex items-center justify-center",children:(0,Pt.jsx)("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-2xl",children:(0,Pt.jsx)(gi,{className:"w-10 h-10 text-purple-600 animate-pulse"})})})]}),(0,Pt.jsxs)("h2",{className:"text-3xl font-bold text-white mb-4",children:["Creating Your Lesson","quick"!==y&&"s"]}),(0,Pt.jsx)("p",{className:"text-xl text-white/90 mb-8",children:j&&A&&"object"===typeof A?"Generating lesson ".concat(A.current," of ").concat(A.total,"..."):j&&A?A:"Generating your personalized content..."}),j&&A&&"object"===typeof A&&(0,Pt.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,Pt.jsx)("div",{className:"w-full bg-white/30 rounded-full h-3 overflow-hidden",children:(0,Pt.jsx)("div",{className:"bg-white h-3 rounded-full transition-all duration-500 ease-out shadow-lg",style:{width:"".concat(A.current/A.total*100,"%")}})}),(0,Pt.jsx)("p",{className:"text-white/90 text-sm mt-3",children:A.lessonTitle})]}),!j&&(0,Pt.jsx)("div",{className:"flex justify-center",children:(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-white/30 border-t-white"})})]})}),(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 text-white py-12 px-4",children:(0,Pt.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Pt.jsx)("div",{className:"bg-white/20 backdrop-blur-md p-3 rounded-2xl shadow-lg",children:(0,Pt.jsx)(Hi,{className:"w-10 h-10 text-white"})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h1",{className:"text-4xl md:text-5xl font-black mb-2",children:"AI Lessons"}),(0,Pt.jsx)("p",{className:"text-purple-100 text-lg",children:"Create & manage your personalized learning"})]})]}),(0,Pt.jsxs)("button",{onClick:()=>r?r():n("home"),className:"hidden sm:inline-flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-md border-2 border-white/30 text-white hover:bg-white/20 transition font-semibold rounded-xl",children:[(0,Pt.jsx)(Lt,{className:"w-4 h-4"}),(0,Pt.jsx)("span",{children:"Back"})]})]})})}),(0,Pt.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,Pt.jsxs)("button",{onClick:()=>r?r():n("home"),className:"sm:hidden inline-flex items-center gap-2 px-4 py-2 mb-6 rounded-xl border-2 border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition font-semibold",children:[(0,Pt.jsx)(Lt,{className:"w-4 h-4"}),(0,Pt.jsx)("span",{children:"Back"})]}),(0,Pt.jsxs)("div",{className:"mb-8",ref:L,children:[(0,Pt.jsxs)("button",{onClick:()=>u(!c),className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-5 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-between group",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pt.jsx)(gi,{className:"w-6 h-6"}),(0,Pt.jsxs)("div",{className:"text-left",children:[(0,Pt.jsx)("h2",{className:"text-2xl font-bold",children:"Create New AI Path"}),(0,Pt.jsx)("p",{className:"text-purple-100 text-sm mt-1",children:"Generate personalized learning paths on any topic"})]})]}),(0,Pt.jsxs)("div",{className:"flex items-center gap-2",children:[!c&&(0,Pt.jsx)("span",{className:"text-sm font-semibold bg-white/20 px-3 py-1 rounded-full",children:"Create"}),c?(0,Pt.jsx)(Ui,{className:"w-6 h-6"}):(0,Pt.jsx)(qt,{className:"w-6 h-6"})]})]}),c&&(0,Pt.jsxs)("div",{className:"mt-4 bg-white rounded-2xl shadow-lg p-6 md:p-8 border-2 border-slate-100",children:[(0,Pt.jsxs)("div",{className:"mb-8",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Pt.jsx)("div",{className:"bg-purple-600 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm",children:"1"}),(0,Pt.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"Choose Your Learning Path"})]}),(0,Pt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:F.map(e=>(0,Pt.jsx)("button",{onClick:()=>b(e.id),className:"p-5 rounded-xl border-2 transition-all duration-200 ".concat(y===e.id?"border-purple-500 bg-purple-50 shadow-md ring-2 ring-purple-200":"border-slate-200 bg-white text-slate-700 hover:border-purple-300 hover:shadow-sm"),children:(0,Pt.jsxs)("div",{className:"flex flex-col items-center text-center gap-3",children:[(0,Pt.jsx)("div",{className:"p-3 rounded-xl ".concat(y===e.id?"bg-gradient-to-r "+e.color:"bg-slate-100"),children:(0,Pt.jsx)(e.icon,{className:"w-6 h-6 ".concat(y===e.id?"text-white":"text-slate-400")})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{className:"font-bold text-base mb-1 ".concat(y===e.id?"text-purple-900":"text-slate-700"),children:e.name}),(0,Pt.jsxs)("div",{className:"text-xs text-slate-500 mb-1",children:[e.lessons," lesson",e.lessons>1?"s":""," \u2022 ",e.time]}),(0,Pt.jsx)("div",{className:"text-sm ".concat(y===e.id?"text-purple-700":"text-slate-500"),children:e.description})]})]})},e.id))})]}),(0,Pt.jsxs)("div",{className:"mb-8",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Pt.jsx)("div",{className:"bg-purple-600 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm",children:"2"}),(0,Pt.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"Enter Your Topic"})]}),(0,Pt.jsx)("textarea",{value:m,onChange:e=>p(e.target.value),placeholder:"e.g., The Armor of God, Biblical Prayer, Fruits of the Spirit...",className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-purple-200 focus:border-purple-500 transition-all text-base resize-none overflow-hidden",disabled:v,rows:"1",onInput:e=>{e.target.style.height="auto",e.target.style.height=e.target.scrollHeight+"px"}}),(0,Pt.jsx)("div",{className:"mt-3",children:(0,Pt.jsxs)("button",{onClick:()=>{const e=w.length>0?w:O,t=e.filter(e=>{const t="string"===typeof e?e:e.title;return!R.includes(t)}),n=t.length>0?t:e,i=n[Math.floor(Math.random()*n.length)];let r="",s="";"string"===typeof i?r=i:i.title&&(r=i.title,s=i.description||""),p(r),g(s),P(""),D(e=>[r,...e].slice(0,20)),setTimeout(()=>{const e=document.querySelector('textarea[placeholder*="Armor of God"]');e&&(e.style.height="auto",e.style.height=e.scrollHeight+"px")},0)},className:"w-full py-3 rounded-xl font-semibold text-base transition-all duration-200 bg-gradient-to-r from-purple-500 to-blue-500 text-white hover:from-purple-600 hover:to-blue-600 hover:shadow-md flex items-center justify-center gap-2",disabled:v,children:[(0,Pt.jsx)(Gi,{className:"w-4 h-4"}),"Surprise Me"]})})]}),(0,Pt.jsxs)("div",{className:"mb-6",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Pt.jsx)("div",{className:"bg-slate-400 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm",children:"3"}),(0,Pt.jsxs)("h3",{className:"text-lg font-bold text-slate-800",children:["Add Context ",(0,Pt.jsx)("span",{className:"text-sm font-normal text-slate-500",children:"(Optional)"})]})]}),(0,Pt.jsx)("textarea",{value:f,onChange:e=>g(e.target.value),placeholder:"Any specific aspects you want to focus on or questions you have...",className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-purple-200 focus:border-purple-500 transition-all",rows:"3",disabled:v})]}),N&&N.length>0&&(0,Pt.jsxs)("div",{className:"mb-6 p-4 bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl border-2 border-purple-200",children:[(0,Pt.jsxs)("h4",{className:"font-bold text-purple-900 mb-3 flex items-center gap-2",children:[(0,Pt.jsx)(Wi,{className:"w-5 h-5"}),"Learning Path Outline (",N.length," lessons)"]}),(0,Pt.jsx)("div",{className:"space-y-2",children:N.map((e,t)=>(0,Pt.jsxs)("div",{className:"flex items-start gap-2 text-sm",children:[(0,Pt.jsxs)("span",{className:"font-bold text-purple-600 min-w-[24px]",children:[t+1,"."]}),(0,Pt.jsx)("span",{className:"text-slate-700",children:e.title})]},t))})]}),_&&(0,Pt.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border-2 border-red-200 rounded-xl text-red-700",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[(0,Pt.jsx)(Tt,{className:"w-5 h-5"}),"Error"]}),(0,Pt.jsx)("p",{className:"text-sm",children:_})]}),(0,Pt.jsxs)("div",{className:"pt-4 border-t-2 border-slate-100",children:[(0,Pt.jsx)("button",{onClick:async()=>{if(m.trim()){x(!0),E("quick"!==y),P(""),T(null);try{if("quick"===y){I("Generating lesson...");const e=await rr(m,f);if(e.success){const n={id:e.lesson.id,title:e.lesson.title,description:e.lesson.subtitle||m,topic:m,pathType:"quick",lessons:[e.lesson],createdAt:(new Date).toISOString()};await dr(n,t),await M(),p(""),g(""),I(null),h(n),window.scrollTo({top:0,behavior:"smooth"})}else P(e.error||"Failed to generate lesson. Please try again.")}else{const e=await lr(m,y,f);if(e.success){T(e.outline),I("Generating lessons...");const n=await ur(e.outline,e=>{I(e)});if(n.success){const i={id:e.outline.pathId,title:e.outline.pathTitle,description:e.outline.pathDescription||m,topic:m,pathType:y,lessons:n.path.lessons,createdAt:(new Date).toISOString()};await dr(i,t),await M(),p(""),g(""),T(null),I(null),h(i),window.scrollTo({top:0,behavior:"smooth"})}else P(n.error||"Failed to generate lessons. Please try again.")}else P(e.error||"Failed to generate path outline. Please try again.")}}catch(_){P("An unexpected error occurred. Please try again."),console.error("Path generation error:",_)}finally{x(!1),E(!1)}}else P("Please enter a topic you'd like to learn about")},disabled:!m.trim()||v,className:"w-full py-4 rounded-xl font-bold text-lg transition-all duration-200 ".concat(!m.trim()||v?"bg-slate-200 text-slate-400 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:shadow-xl hover:scale-[1.02] shadow-lg"),children:v?(0,Pt.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),j&&A&&"object"===typeof A?"Generating ".concat(A.current,"/").concat(A.total,"..."):j&&A?A:"Generating..."]}):(0,Pt.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,Pt.jsx)(gi,{className:"w-5 h-5"}),"Generate ","quick"===y?"Lesson":"deep-dive"===y?"Deep Dive":"Complete Path"]})}),!m.trim()&&(0,Pt.jsx)("p",{className:"text-center text-sm text-slate-500 mt-3",children:"Enter a topic to get started"})]})]})]}),(0,Pt.jsx)("div",{className:"mb-4",children:(0,Pt.jsxs)("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[(0,Pt.jsx)(Ji,{className:"w-7 h-7 text-purple-600"}),"My Learning Paths"]})}),!o&&0===s.length&&(0,Pt.jsxs)("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm p-12 text-center",children:[(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 p-4 rounded-2xl w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:(0,Pt.jsx)(Hi,{className:"w-10 h-10 text-white"})}),(0,Pt.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-3",children:"No AI Paths Yet"}),(0,Pt.jsx)("p",{className:"text-slate-600 mb-6 max-w-md mx-auto",children:"Create your first personalized learning path using the AI Creator button above!"}),(0,Pt.jsxs)("button",{onClick:()=>{u(!0),setTimeout(()=>{L.current&&L.current.scrollIntoView({behavior:"smooth",block:"center"})},100)},className:"inline-flex items-center gap-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-bold px-6 py-3 rounded-xl hover:from-purple-700 hover:to-blue-700 transition shadow-lg hover:shadow-xl",children:[(0,Pt.jsx)(gi,{className:"w-5 h-5"}),"Create Your First Path"]})]}),!o&&s.length>0&&(0,Pt.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-2 gap-6 mb-6",children:s.map(e=>{var n;const i=localStorage.getItem("aiPathProgress_".concat(e.id)),r=i?JSON.parse(i):[],s=(null===(n=e.lessons)||void 0===n?void 0:n.length)||0,a=r.length,o=s>0?Math.round(a/s*100):0,l=a===s&&s>0;return(0,Pt.jsxs)("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-6 hover:shadow-lg transition cursor-pointer",onClick:()=>h(e),children:[(0,Pt.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Pt.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,Pt.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-r ".concat(l?"from-green-600 to-emerald-600":"from-purple-600 to-blue-600"," text-white flex items-center justify-center flex-shrink-0"),children:l?(0,Pt.jsx)(ji,{className:"w-6 h-6"}):(0,Pt.jsx)(gi,{className:"w-6 h-6"})}),(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsx)("h3",{className:"font-bold text-slate-900 text-lg mb-1 line-clamp-2",children:e.title}),e.description&&(0,Pt.jsx)("p",{className:"text-sm text-slate-600 mb-2 line-clamp-2",children:e.description}),(0,Pt.jsxs)("div",{className:"flex items-center gap-2 text-xs text-purple-700 bg-purple-100 px-2 py-1 rounded-full inline-flex",children:[(0,Pt.jsx)(Wi,{className:"w-3 h-3"}),s," ",1===s?"Lesson":"Lessons"]})]})]}),(0,Pt.jsx)("button",{onClick:n=>{n.stopPropagation(),(async e=>{window.confirm("Are you sure you want to delete this learning path? This cannot be undone.")&&(await mr(e,t)).success&&await M()})(e.id)},className:"text-slate-400 hover:text-red-600 transition p-2 -mr-2",title:"Delete path",children:(0,Pt.jsx)(pi,{className:"w-4 h-4"})})]}),(0,Pt.jsxs)("div",{className:"mb-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,Pt.jsx)("span",{className:"text-slate-600 font-medium",children:"Progress"}),(0,Pt.jsxs)("span",{className:"text-purple-600 font-bold",children:[o,"%"]})]}),(0,Pt.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2",children:(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-blue-600 h-2 rounded-full transition-all",style:{width:"".concat(o,"%")}})}),(0,Pt.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:[a," of ",s," lessons completed"]})]}),(0,Pt.jsx)("button",{onClick:t=>{t.stopPropagation(),h(e)},className:"w-full font-bold py-3 px-4 rounded-xl transition flex items-center justify-center gap-2 ".concat(l?"bg-slate-100 text-slate-700 hover:bg-slate-200":"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700 shadow-md hover:shadow-lg"),children:l?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)(ji,{className:"w-4 h-4"}),"Review Path"]}):a>0?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)(Ki,{className:"w-4 h-4"}),"Continue Learning"]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)(Ki,{className:"w-4 h-4"}),"Start Path"]})})]},e.id)})})]})]})},fr=e=>{let{currentUser:t}=e;const{lessonId:n}=he(),r=de(),[s,a]=(0,i.useState)(null),[o,l]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{(()=>{try{const e=JSON.parse(localStorage.getItem("aiGeneratedLessons")||"[]").find(e=>e.id===n);e?a(e):r("/ai-paths")}catch(e){console.error("Error loading lesson:",e),r("/ai-paths")}finally{l(!1)}})()},[n,r]),o?(0,Pt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 flex items-center justify-center",children:(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-purple-600 border-t-transparent mx-auto mb-4"}),(0,Pt.jsx)("p",{className:"text-slate-600",children:"Loading lesson..."})]})}):s?(0,Pt.jsx)(tr,{lesson:s,currentUser:t,onComplete:e=>{console.log("Lesson completed:",e),r("/ai-paths")},onGoBack:()=>r("/ai-paths")}):null};function gr(e){let{currentUser:t,showProfileMenu:n,setShowProfileMenu:r,setShowAuth:s,handleSignOut:a,setShowDeleteConfirm:o,setDeletePassword:l,setDeleteError:c}=e;const[u,d]=(0,i.useState)(!1);return(0,Pt.jsxs)("nav",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg sticky top-0 z-50",children:[(0,Pt.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,Pt.jsx)("h1",{className:"text-xl font-bold",children:"Church Explorer"}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("button",{onClick:()=>d(!u),className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition backdrop-blur-sm","aria-label":"Open menu",children:(0,Pt.jsx)(di,{className:"w-6 h-6 text-white"})}),(0,Pt.jsx)("div",{className:"relative",children:t?(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("button",{onClick:()=>r(!n),className:"flex items-center space-x-2 px-3 sm:px-4 py-2 bg-white text-blue-600 rounded-lg font-medium hover:bg-blue-50 transition",children:[(0,Pt.jsx)(hi,{className:"w-5 h-5"}),(0,Pt.jsx)("span",{className:"hidden sm:inline",children:t.displayName||"User"}),(0,Pt.jsx)(qt,{className:"w-4 h-4 hidden sm:inline"})]}),n&&(0,Pt.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[(0,Pt.jsxs)("div",{className:"px-4 py-2 border-b border-gray-100",children:[(0,Pt.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:t.displayName||"User"}),(0,Pt.jsx)("p",{className:"text-xs text-gray-500 truncate",children:t.email})]}),(0,Pt.jsxs)("button",{onClick:a,className:"w-full flex items-center space-x-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition",children:[(0,Pt.jsx)(mi,{className:"w-4 h-4"}),(0,Pt.jsx)("span",{children:"Sign Out"})]}),(0,Pt.jsxs)("button",{onClick:()=>{o(!0),r(!1),l(""),c("")},className:"w-full flex items-center space-x-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition border-t border-gray-100",children:[(0,Pt.jsx)(pi,{className:"w-4 h-4"}),(0,Pt.jsx)("span",{children:"Delete Account"})]})]})]}):(0,Pt.jsxs)("button",{onClick:()=>s(!0),className:"flex items-center px-3 sm:px-4 py-2 bg-white text-blue-600 rounded-lg font-medium hover:bg-blue-50 transition whitespace-nowrap",title:"Sign in or create a new account",children:[(0,Pt.jsx)(hi,{className:"w-5 h-5 sm:mr-2"}),(0,Pt.jsx)("span",{className:"hidden sm:inline",children:"Sign In / Sign Up"})]})})]})]})}),(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 transition-opacity duration-300 ".concat(u?"opacity-100":"opacity-0 pointer-events-none"),onClick:()=>d(!1),children:(0,Pt.jsx)("div",{className:"fixed top-0 right-0 h-full w-64 bg-white/10 backdrop-blur-xl shadow-2xl border-l border-white/20 transform transition-transform duration-300 ".concat(u?"translate-x-0":"translate-x-full"),onClick:e=>e.stopPropagation(),children:(0,Pt.jsxs)("div",{className:"p-6",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,Pt.jsx)("h2",{className:"text-xl font-bold text-white",children:"Menu"}),(0,Pt.jsx)("button",{onClick:()=>d(!1),className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition backdrop-blur-sm","aria-label":"Close menu",children:(0,Pt.jsx)(Vt,{className:"w-5 h-5 text-white"})})]}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsxs)(ht,{to:"/",onClick:()=>d(!1),className:"flex items-center px-4 py-3 rounded-lg transition text-left bg-white/10 hover:bg-white/20 text-white backdrop-blur-sm",children:[(0,Pt.jsx)(fi,{className:"w-5 h-5 mr-3"}),(0,Pt.jsx)("span",{children:"Home"})]}),(0,Pt.jsxs)(ht,{to:"/paths",onClick:()=>d(!1),className:"flex items-center px-4 py-3 rounded-lg transition text-left bg-white/10 hover:bg-white/20 text-white backdrop-blur-sm",children:[(0,Pt.jsx)(Dt,{className:"w-5 h-5 mr-3"}),(0,Pt.jsx)("span",{children:"Curated Learning"})]}),(0,Pt.jsxs)(ht,{to:"/ai-paths",onClick:()=>d(!1),className:"flex items-center px-4 py-3 rounded-lg transition text-left bg-white/10 hover:bg-white/20 text-white backdrop-blur-sm",children:[(0,Pt.jsx)(gi,{className:"w-5 h-5 mr-3"}),(0,Pt.jsx)("span",{children:"AI Learning"})]}),(0,Pt.jsxs)(ht,{to:"/explorer",onClick:()=>d(!1),className:"flex items-center px-4 py-3 rounded-lg transition text-left bg-white/10 hover:bg-white/20 text-white backdrop-blur-sm",children:[(0,Pt.jsx)(_t,{className:"w-5 h-5 mr-3"}),(0,Pt.jsx)("span",{children:"Explore"})]}),(0,Pt.jsxs)(ht,{to:"/leaderboard",onClick:()=>d(!1),className:"flex items-center px-4 py-3 rounded-lg transition text-left bg-white/10 hover:bg-white/20 text-white backdrop-blur-sm",children:[(0,Pt.jsx)(Bt,{className:"w-5 h-5 mr-3"}),(0,Pt.jsx)("span",{children:"Leaderboard"})]})]})]})})})]})}function yr(e){let{userProgress:t}=e;const n=de();return(0,Pt.jsx)(Ci,{userProgress:t,onNavigate:e=>n("/".concat(e)),onStartOnboarding:()=>n("/onboarding")})}function br(){const e=de();return(0,Pt.jsx)(Ei,{onNavigate:t=>e("/".concat(t)),onGoBack:()=>e(-1)})}function vr(){const e=de();return(0,Pt.jsx)(Pi,{onNavigate:t=>e("/".concat(t)),onGoBack:()=>e(-1)})}function xr(){const e=de();return(0,Pt.jsx)(Un,{onNavigate:t=>e("/".concat(t)),onGoBack:()=>e(-1)})}function wr(){const e=de();return(0,Pt.jsx)(ei,{onNavigate:t=>e("/".concat(t)),onGoBack:()=>e(-1)})}function Sr(){const e=de();return(0,Pt.jsx)(ui,{onNavigate:t=>e("/".concat(t)),onGoBack:()=>e(-1)})}function kr(){const e=de();return(0,Pt.jsx)(Rt,{initialView:"church",onNavigate:t=>e("/".concat(t))})}function Cr(){const e=de();return(0,Pt.jsx)(Rt,{initialView:"bible",onNavigate:t=>e("/".concat(t))})}function Nr(){const e=de();return(0,Pt.jsx)(Ri,{onNavigate:t=>e("/".concat(t))})}function Tr(){const e=de();return(0,Pt.jsx)(Ii,{onComplete:t=>{let{view:n}=t;return e("/".concat(n))}})}function jr(){const e=de(),[t,n]=(0,i.useState)(null),[r,s]=(0,i.useState)(null),[a,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(!1),[h,m]=(0,i.useState)(!1),[p,f]=(0,i.useState)(""),[g,y]=(0,i.useState)(""),[b,v]=(0,i.useState)(0);(0,i.useEffect)(()=>{var e;return e=()=>{Sn()||localStorage.getItem("hasSeenSignUpPrompt")||localStorage.getItem("firstAchievementTime")||(localStorage.setItem("firstAchievementTime",(new Date).toISOString()),0)||setTimeout(()=>m(!0),1500)},kn.push(e),()=>{kn=kn.filter(t=>t!==e)}},[]),(0,i.useEffect)(()=>{const e=setTimeout(()=>{!Sn()&&!localStorage.getItem("hasSeenSignUpPrompt")&&Mn()>0&&m(!0)},1500);return()=>clearTimeout(e)},[t]),(0,i.useEffect)(()=>{const e=(t=e=>{n(e),e&&a&&o(!1),(async()=>{try{if(e){var t,n,i,r,a,o,l,c,u,d,h,m,p,f,g,y,b,x,w,S,k,C;const $=await wn(e.uid);if($&&$.success&&$.profile){Pn($.profile);try{const e=$.profile.totalXP||0,t=parseInt(localStorage.getItem("bibleHistoryTotalXP")||"0"),n=parseInt(localStorage.getItem("churchHistoryTotalXP")||"0"),i=parseInt(localStorage.getItem("apologeticsTotalXP")||"0");e>0&&0===t&&0===n&&0===i&&(localStorage.setItem("bibleHistoryTotalXP",String(Math.floor(e/3))),localStorage.setItem("churchHistoryTotalXP",String(Math.floor(e/3))),localStorage.setItem("apologeticsTotalXP",String(e-2*Math.floor(e/3))),console.log("\u2705 Distributed profile totalXP to per-course localStorage for display:",e),v(e=>e+1))}catch(Ar){console.warn("Failed to distribute profile totalXP to localStorage",Ar)}}const Z=await(0,Hn.Pg)(e.uid);console.log("Auth state change - user logged in, fetching progress..."),console.log("Progress result:",Z);const ee=(null===Z||void 0===Z?void 0:Z.success)&&Z.progress&&((null===(t=Z.progress.courses)||void 0===t||null===(n=t.bible)||void 0===n||null===(i=n.completedLessons)||void 0===i?void 0:i.length)>0||(null===(r=Z.progress.courses)||void 0===r||null===(a=r.church)||void 0===a||null===(o=a.completedLessons)||void 0===o?void 0:o.length)>0||(null===(l=Z.progress.courses)||void 0===l||null===(c=l.apologetics)||void 0===c||null===(u=c.completedLessons)||void 0===u?void 0:u.length)>0);if(console.log("Firestore course data check:",{hasData:ee,bibleLessons:(null===Z||void 0===Z||null===(d=Z.progress)||void 0===d||null===(h=d.courses)||void 0===h||null===(m=h.bible)||void 0===m||null===(p=m.completedLessons)||void 0===p?void 0:p.length)||0,churchLessons:(null===Z||void 0===Z||null===(f=Z.progress)||void 0===f||null===(g=f.courses)||void 0===g||null===(y=g.church)||void 0===y||null===(b=y.completedLessons)||void 0===b?void 0:b.length)||0,apologeticsLessons:(null===Z||void 0===Z||null===(x=Z.progress)||void 0===x||null===(w=x.courses)||void 0===w||null===(S=w.apologetics)||void 0===S||null===(k=S.completedLessons)||void 0===k?void 0:k.length)||0,firestoreTotalXP:(null===Z||void 0===Z||null===(C=Z.progress)||void 0===C?void 0:C.totalXP)||0}),ee){if(Z&&Z.success&&Z.progress){var N,T,j,E,A,I,_,P,R,D,L,O,M,B;console.log("\u2705 Firestore has course data, syncing to localStorage");const e=Z.progress;s(e);const t={totalXP:e.totalXP||0,bibleProgress:(null===(N=e.courses)||void 0===N||null===(T=N.bible)||void 0===T?void 0:T.completedLessons)||[],bibleXP:(null===(j=e.courses)||void 0===j||null===(E=j.bible)||void 0===E?void 0:E.totalXP)||0,churchProgress:(null===(A=e.courses)||void 0===A||null===(I=A.church)||void 0===I?void 0:I.completedLessons)||[],churchXP:(null===(_=e.courses)||void 0===_||null===(P=_.church)||void 0===P?void 0:P.totalXP)||0,apologeticsProgress:(null===(R=e.courses)||void 0===R||null===(D=R.apologetics)||void 0===D?void 0:D.completedLessons)||[],apologeticsXP:(null===(L=e.courses)||void 0===L||null===(O=L.apologetics)||void 0===O?void 0:O.totalXP)||0,dailyChallengeStreak:(null===(M=e.dailyChallenges)||void 0===M?void 0:M.streak)||0,dailyChallengeXP:(null===(B=e.dailyChallenges)||void 0===B?void 0:B.totalXP)||0};try{localStorage.setItem("bibleHistoryProgress",JSON.stringify(t.bibleProgress||[])),localStorage.setItem("churchHistoryProgress",JSON.stringify(t.churchProgress||[])),localStorage.setItem("apologeticsProgress",JSON.stringify(t.apologeticsProgress||[])),localStorage.setItem("bibleHistoryTotalXP",String(t.bibleXP||0)),localStorage.setItem("churchHistoryTotalXP",String(t.churchXP||0)),localStorage.setItem("apologeticsTotalXP",String(t.apologeticsXP||0)),Pn({syncedFrom:"firestore",totalXP:t.totalXP}),console.log("Synced Firestore progress to localStorage")}catch(Y){console.warn("Failed to persist Firestore progress to localStorage",Y)}}}else{const t=JSON.parse(localStorage.getItem("bibleHistoryProgress")||"[]"),n=JSON.parse(localStorage.getItem("churchHistoryProgress")||"[]"),i=JSON.parse(localStorage.getItem("apologeticsProgress")||"[]"),r=parseInt(localStorage.getItem("bibleHistoryTotalXP")||"0"),s=parseInt(localStorage.getItem("churchHistoryTotalXP")||"0"),a=parseInt(localStorage.getItem("apologeticsTotalXP")||"0"),o=r+s+a;if(console.log("Local progress found:",{totalXP:o,bible:t.length,church:n.length,apologetics:i.length}),o>0||t.length>0||n.length>0||i.length>0){console.log("\ud83d\udd04 Migrating localStorage progress to Firestore...");const l={totalXP:o,bibleProgress:t,bibleXP:r,churchProgress:n,churchXP:s,apologeticsProgress:i,apologeticsXP:a},c=await(0,Hn.O0)(e.uid,l);if(c.success){console.log("\u2705 Successfully migrated progress to Firestore");const t=await(0,Hn.Pg)(e.uid);if(t.success&&t.progress){var F,z,q,W,V,H,U,G,J,K,Q,X;console.log("\u2705 Progress synced from Firestore after migration");const e=t.progress;localStorage.setItem("bibleHistoryProgress",JSON.stringify((null===(F=e.courses)||void 0===F||null===(z=F.bible)||void 0===z?void 0:z.completedLessons)||[])),localStorage.setItem("churchHistoryProgress",JSON.stringify((null===(q=e.courses)||void 0===q||null===(W=q.church)||void 0===W?void 0:W.completedLessons)||[])),localStorage.setItem("apologeticsProgress",JSON.stringify((null===(V=e.courses)||void 0===V||null===(H=V.apologetics)||void 0===H?void 0:H.completedLessons)||[])),localStorage.setItem("bibleHistoryTotalXP",String((null===(U=e.courses)||void 0===U||null===(G=U.bible)||void 0===G?void 0:G.totalXP)||0)),localStorage.setItem("churchHistoryTotalXP",String((null===(J=e.courses)||void 0===J||null===(K=J.church)||void 0===K?void 0:K.totalXP)||0)),localStorage.setItem("apologeticsTotalXP",String((null===(Q=e.courses)||void 0===Q||null===(X=Q.apologetics)||void 0===X?void 0:X.totalXP)||0))}}else console.error("\u274c Migration failed:",c.error)}else console.log("No local progress to migrate")}}}catch(Y){console.error("Error loading user profile/progress on auth change:",Y)}})()},(0,bn.hg)(xn.j,t));var t;return()=>e()},[a]),(0,i.useEffect)(()=>{const e=e=>{l&&!e.target.closest(".relative")&&c(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[l]);const x=async()=>{if(y(""),!p.trim())return void y("Please enter your password");const t=await(async e=>{try{const t=xn.j.currentUser;if(!t)return{success:!1,error:"No user logged in"};const n=t.uid,i=t.email,r=bn.IX.credential(i,e);return await(0,bn.kZ)(t,r),await(0,vn.deleteDoc)((0,vn.H9)(xn.db,"users",n)),await(0,bn.hG)(t),{success:!0}}catch(t){return console.error("Delete account error:",t),"auth/wrong-password"===t.code?{success:!1,error:"Incorrect password. Please try again."}:"auth/too-many-requests"===t.code?{success:!1,error:"Too many attempts. Please try again later."}:{success:!1,error:t.message}}})(p);t.success?(Vn(),n(null),c(!1),d(!1),f(""),y(""),v(e=>e+1),e("/")):y(t.error)};return(0,Pt.jsxs)("div",{className:"min-h-screen",children:[(0,Pt.jsx)(gr,{currentUser:t,showProfileMenu:l,setShowProfileMenu:c,setShowAuth:o,handleSignOut:async()=>{await(async()=>{try{return await(0,bn.CI)(xn.j),{success:!0}}catch(e){return console.error("Sign out error:",e),{success:!1,error:e.message}}})(),Vn(),n(null),c(!1),v(e=>e+1),e("/")},setShowDeleteConfirm:d,setDeletePassword:f,setDeleteError:y}),(0,Pt.jsx)("div",{children:(0,Pt.jsxs)(_e,{children:[(0,Pt.jsx)(Ae,{path:"/",element:(0,Pt.jsx)(yr,{userProgress:r})}),(0,Pt.jsx)(Ae,{path:"/learn",element:(0,Pt.jsx)(br,{})}),(0,Pt.jsx)(Ae,{path:"/explorer",element:(0,Pt.jsx)(vr,{})}),(0,Pt.jsx)(Ae,{path:"/study-guide",element:(0,Pt.jsx)(xr,{})}),(0,Pt.jsx)(Ae,{path:"/bible-history",element:(0,Pt.jsx)(wr,{})}),(0,Pt.jsx)(Ae,{path:"/apologetics",element:(0,Pt.jsx)(Sr,{})}),(0,Pt.jsx)(Ae,{path:"/explore-church",element:(0,Pt.jsx)(kr,{})}),(0,Pt.jsx)(Ae,{path:"/explore-bible",element:(0,Pt.jsx)(Cr,{})}),(0,Pt.jsx)(Ae,{path:"/explore-denominations",element:(0,Pt.jsx)(Nr,{})}),(0,Pt.jsx)(Ae,{path:"/onboarding",element:(0,Pt.jsx)(Tr,{})}),(0,Pt.jsx)(Ae,{path:"/leaderboard",element:(0,Pt.jsx)(Oi,{currentUser:t})}),(0,Pt.jsx)(Ae,{path:"/ai-paths",element:(0,Pt.jsx)(pr,{currentUser:t})}),(0,Pt.jsx)(Ae,{path:"/ai-path/:pathId",element:(0,Pt.jsx)(nr,{currentUser:t})}),(0,Pt.jsx)(Ae,{path:"/ai-lesson/:lessonId",element:(0,Pt.jsx)(fr,{})})]})},b),a&&(0,Pt.jsx)(zi,{onSuccess:e=>{n(e),o(!1)},onClose:()=>o(!1)}),h&&(0,Pt.jsx)(qi,{onSignUp:()=>{m(!1),o(!0)},onDismiss:()=>{localStorage.setItem("hasSeenSignUpPrompt","true"),m(!1)},xp:Mn()}),u&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Pt.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[(0,Pt.jsx)("div",{className:"flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mx-auto mb-4",children:(0,Pt.jsx)(pi,{className:"w-8 h-8 text-red-600"})}),(0,Pt.jsx)("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Delete Account?"}),(0,Pt.jsx)("p",{className:"text-gray-600 text-center mb-6",children:"This action cannot be undone. All your progress, XP, and account data will be permanently deleted."}),(0,Pt.jsxs)("div",{className:"mb-6",children:[(0,Pt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Enter your password to confirm"}),(0,Pt.jsx)("input",{type:"password",value:p,onChange:e=>f(e.target.value),placeholder:"Password",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",onKeyDown:e=>{"Enter"===e.key&&x()}}),g&&(0,Pt.jsx)("p",{className:"mt-2 text-sm text-red-600",children:g})]}),(0,Pt.jsxs)("div",{className:"flex gap-3",children:[(0,Pt.jsx)("button",{onClick:()=>{d(!1),f(""),y("")},className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition",children:"Cancel"}),(0,Pt.jsx)("button",{onClick:x,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-xl font-semibold hover:bg-red-700 transition",children:"Delete Forever"})]})]})})]})}const Er=function(){return(0,Pt.jsx)(ut,{children:(0,Pt.jsx)(jr,{})})};r.createRoot(document.getElementById("root")).render((0,Pt.jsx)(i.StrictMode,{children:(0,Pt.jsx)(Er,{})}))})();
//# sourceMappingURL=main.86895402.js.map