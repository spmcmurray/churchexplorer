/*! For license information please see main.7b4c9047.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),i=n(43),s=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),w=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var A=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var E=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=E&&e[E]||e["@@iterator"])?e:null}var I=Symbol.for("react.client.reference");function _(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===I?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case x:return"Profiler";case b:return"StrictMode";case k:return"Suspense";case j:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case w:return e.displayName||"Context";case v:return(e._context.displayName||"Context")+".Consumer";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:_(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return _(e(t))}catch(n){}}return null}var R=Array.isArray,D=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},M=[],B=-1;function F(e){return{current:e}}function z(e){0>B||(e.current=M[B],M[B]=null,B--)}function q(e,t){B++,M[B]=e.current,e.current=t}var W,U,V=F(null),H=F(null),G=F(null),J=F(null);function K(e,t){switch(q(G,t),q(H,e),q(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bu(t=yu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(V),q(V,e)}function Y(){z(V),z(H),z(G)}function Q(e){null!==e.memoizedState&&q(J,e);var t=V.current,n=bu(t,e.type);t!==n&&(q(H,e),q(V,n))}function X(e){H.current===e&&(z(V),z(H)),J.current===e&&(z(J),dh._currentValue=O)}function $(e){if(void 0===W)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);W=t&&t[1]||"",U=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+W+e+U}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var d="\n"+l[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=r&&0<=i);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?$(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return $(e.type);case 16:return $("Lazy");case 13:return e.child!==t&&null!==t?$("Suspense Fallback"):$("Suspense");case 19:return $("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return $("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,ae=r.unstable_shouldYield,oe=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,de=r.unstable_ImmediatePriority,ue=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,me=r.unstable_LowPriority,pe=r.unstable_IdlePriority,fe=r.log,ge=r.unstable_setDisableYieldValue,ye=null,be=null;function xe(e){if("function"===typeof fe&&ge(e),be&&"function"===typeof be.setStrictMode)try{be.setStrictMode(ye,e)}catch(t){}}var ve=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/Ne|0)|0},we=Math.log,Ne=Math.LN2;var ke=256,je=262144,Ce=4194304;function Se(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~s)?i=Se(r):0!==(a&=o)?i=Se(a):n||0!==(n=o&~e)&&(i=Se(n)):0!==(o=r&~s)?i=Se(o):0!==a?i=Se(a):n||0!==(n=r&~e)&&(i=Se(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function Ae(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ee(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=Ce;return 0===(62914560&(Ce<<=1))&&(Ce=4194304),e}function Ie(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _e(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ve(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function De(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ve(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Le(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Oe(n))&(e.suspendedLanes|t))?0:n}function Oe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Me(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Be(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:Sh(e.type)}function Fe(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var ze=Math.random().toString(36).slice(2),qe="__reactFiber$"+ze,We="__reactProps$"+ze,Ue="__reactContainer$"+ze,Ve="__reactEvents$"+ze,He="__reactListeners$"+ze,Ge="__reactHandles$"+ze,Je="__reactResources$"+ze,Ke="__reactMarker$"+ze;function Ye(e){delete e[qe],delete e[We],delete e[Ve],delete e[He],delete e[Ge]}function Qe(e){var t=e[qe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ue]||n[qe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ou(e);null!==e;){if(n=e[qe])return n;e=Ou(e)}return t}n=(e=n).parentNode}return null}function Xe(e){if(e=e[qe]||e[Ue]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function $e(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Ze(e){var t=e[Je];return t||(t=e[Je]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ke]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),at={},ot={};function lt(e,t,n){if(i=t,re.call(ot,i)||!re.call(at,i)&&(st.test(i)?ot[i]=!0:(at[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function dt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function mt(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function bt(e,t,n,r,i,s,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ut(t)):null!=n?vt(e,a,ut(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ut(o):e.removeAttribute("name")}function xt(e,t,n,r,i,s,a,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return void mt(e);n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a),mt(e)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Nt(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(R(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),mt(e)}function jt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Ct.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&St(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&St(e,s,t[s])}function At(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function It(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function _t(){}var Rt=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,Ot=null;function Mt(e){var t=Xe(e);if(t&&(e=t.stateNode)){var n=e[We]||null;e:switch(e=t.stateNode,t.type){case"input":if(bt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[We]||null;if(!i)throw Error(a(90));bt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":Nt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Bt=!1;function Ft(e,t,n){if(Bt)return e(t,n);Bt=!0;try{return e(t)}finally{if(Bt=!1,(null!==Lt||null!==Ot)&&(Zc(),Lt&&(t=Lt,e=Ot,Ot=Lt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function zt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[We]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var qt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Wt=!1;if(qt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Wt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Xh){Wt=!1}var Vt=null,Ht=null,Gt=null;function Jt(){if(Gt)return Gt;var e,t,n=Ht,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Gt=i.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Qt(){return!1}function Xt(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Yt:Qt,this.isPropagationStopped=Qt,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var $t,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Xt(tn),rn=m({},tn,{view:0,detail:0}),sn=Xt(rn),an=m({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?($t=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=$t=0,en=e),$t)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),on=Xt(an),ln=Xt(m({},an,{dataTransfer:0})),cn=Xt(m({},rn,{relatedTarget:0})),dn=Xt(m({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Xt(m({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Xt(m({},tn,{data:0})),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function yn(){return gn}var bn=Xt(m({},rn,{key:function(e){if(e.key){var t=mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xn=Xt(m({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Xt(m({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),wn=Xt(m({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=Xt(m({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),kn=Xt(m({},tn,{newState:0,oldState:0})),jn=[9,13,27,32],Cn=qt&&"CompositionEvent"in window,Sn=null;qt&&"documentMode"in document&&(Sn=document.documentMode);var Tn=qt&&"TextEvent"in window&&!Sn,An=qt&&(!Cn||Sn&&8<Sn&&11>=Sn),En=String.fromCharCode(32),Pn=!1;function In(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dn[e.type]:"textarea"===t}function On(e,t,n,r){Lt?Ot?Ot.push(r):Ot=[r]:Lt=r,0<(t=ru(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,Bn=null;function Fn(e){Yd(e,0)}function zn(e){if(pt($e(e)))return e}function qn(e,t){if("change"===e)return t}var Wn=!1;if(qt){var Un;if(qt){var Vn="oninput"in document;if(!Vn){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),Vn="function"===typeof Hn.oninput}Un=Vn}else Un=!1;Wn=Un&&(!document.documentMode||9<document.documentMode)}function Gn(){Mn&&(Mn.detachEvent("onpropertychange",Jn),Bn=Mn=null)}function Jn(e){if("value"===e.propertyName&&zn(Bn)){var t=[];On(t,Bn,e,Dt(e)),Ft(Fn,t)}}function Kn(e,t,n){"focusin"===e?(Gn(),Bn=n,(Mn=t).attachEvent("onpropertychange",Jn)):"focusout"===e&&Gn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(Bn)}function Qn(e,t){if("click"===e)return zn(t)}function Xn(e,t){if("input"===e||"change"===e)return zn(t)}var $n="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if($n(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!$n(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sr=qt&&"documentMode"in document&&11>=document.documentMode,ar=null,or=null,lr=null,cr=!1;function dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==ar||ar!==ft(r)||("selectionStart"in(r=ar)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zn(lr,r)||(lr=r,0<(r=ru(or,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},mr={},pr={};function fr(e){if(mr[e])return mr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return mr[e]=n[t];return e}qt&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var gr=fr("animationend"),yr=fr("animationiteration"),br=fr("animationstart"),xr=fr("transitionrun"),vr=fr("transitionstart"),wr=fr("transitioncancel"),Nr=fr("transitionend"),kr=new Map,jr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){kr.set(e,t),rt(t,[e])}jr.push("scrollEnd");var Sr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Tr=[],Ar=0,Er=0;function Pr(){for(var e=Ar,t=Er=Ar=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var i=Tr[t];Tr[t++]=null;var s=Tr[t];if(Tr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&Dr(n,i,s)}}function Ir(e,t,n,r){Tr[Ar++]=e,Tr[Ar++]=t,Tr[Ar++]=n,Tr[Ar++]=r,Er|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function _r(e,t,n,r){return Ir(e,t,n,r),Lr(e)}function Rr(e,t){return Ir(e,null,null,t),Lr(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-ve(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Lr(e){if(50<Vc)throw Vc=0,Hc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={};function Mr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(e,t,n,r){return new Mr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zr(e,t){var n=e.alternate;return null===n?((n=Br(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function qr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wr(e,t,n,r,i,s){var o=0;if(r=e,"function"===typeof e)Fr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Br(31,n,t,i)).elementType=T,e.lanes=s,e;case y:return Ur(n.children,i,s,t);case b:o=8,i|=24;break;case x:return(e=Br(12,n,t,2|i)).elementType=x,e.lanes=s,e;case k:return(e=Br(13,n,t,i)).elementType=k,e.lanes=s,e;case j:return(e=Br(19,n,t,i)).elementType=j,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:o=10;break e;case v:o=9;break e;case N:o=11;break e;case C:o=14;break e;case S:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Br(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Ur(e,t,n,r){return(e=Br(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=Br(6,e,null,t)).lanes=n,e}function Hr(e){var t=Br(18,null,null,0);return t.stateNode=e,t}function Gr(e,t,n){return(t=Br(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Jr=new WeakMap;function Kr(e,t){if("object"===typeof e&&null!==e){var n=Jr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Jr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Yr=[],Qr=0,Xr=null,$r=0,Zr=[],ei=0,ti=null,ni=1,ri="";function ii(e,t){Yr[Qr++]=$r,Yr[Qr++]=Xr,Xr=e,$r=t}function si(e,t,n){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ti=e;var r=ni;e=ri;var i=32-ve(r)-1;r&=~(1<<i),n+=1;var s=32-ve(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ni=1<<32-ve(t)+i|n<<i|r,ri=s+e}else ni=1<<s|n<<i|r,ri=e}function ai(e){null!==e.return&&(ii(e,1),si(e,1,0))}function oi(e){for(;e===Xr;)Xr=Yr[--Qr],Yr[Qr]=null,$r=Yr[--Qr],Yr[Qr]=null;for(;e===ti;)ti=Zr[--ei],Zr[ei]=null,ri=Zr[--ei],Zr[ei]=null,ni=Zr[--ei],Zr[ei]=null}function li(e,t){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ni=t.id,ri=t.overflow,ti=e}var ci=null,di=null,ui=!1,hi=null,mi=!1,pi=Error(a(519));function fi(e){throw wi(Kr(Error(a(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pi}function gi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[qe]=e,t[We]=r,n){case"dialog":Qd("cancel",t),Qd("close",t);break;case"iframe":case"object":case"embed":Qd("load",t);break;case"video":case"audio":for(n=0;n<Jd.length;n++)Qd(Jd[n],t);break;case"source":Qd("error",t);break;case"img":case"image":case"link":Qd("error",t),Qd("load",t);break;case"details":Qd("toggle",t);break;case"input":Qd("invalid",t),xt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Qd("invalid",t);break;case"textarea":Qd("invalid",t),kt(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||cu(t.textContent,n)?(null!=r.popover&&(Qd("beforetoggle",t),Qd("toggle",t)),null!=r.onScroll&&Qd("scroll",t),null!=r.onScrollEnd&&Qd("scrollend",t),null!=r.onClick&&(t.onclick=_t),t=!0):t=!1,t||fi(e,!0)}function yi(e){for(ci=e.return;ci;)switch(ci.tag){case 5:case 31:case 13:return void(mi=!1);case 27:case 3:return void(mi=!0);default:ci=ci.return}}function bi(e){if(e!==ci)return!1;if(!ui)return yi(e),ui=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||xu(e.type,e.memoizedProps)),t=!t),t&&di&&fi(e),yi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));di=Lu(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));di=Lu(e)}else 27===n?(n=di,Su(e.type)?(e=Du,Du=null,di=e):di=n):di=ci?Ru(e.stateNode.nextSibling):null;return!0}function xi(){di=ci=null,ui=!1}function vi(){var e=hi;return null!==e&&(null===Pc?Pc=e:Pc.push.apply(Pc,e),hi=null),e}function wi(e){null===hi?hi=[e]:hi.push(e)}var Ni=F(null),ki=null,ji=null;function Ci(e,t,n){q(Ni,t._currentValue),t._currentValue=n}function Si(e){e._currentValue=Ni.current,z(Ni)}function Ti(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ai(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ti(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),Ti(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Ei(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=i.type;$n(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===J.current){if(null===(o=i.alternate))throw Error(a(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(dh):e=[dh])}i=i.return}null!==e&&Ai(t,e,n,r),t.flags|=262144}function Pi(e){for(e=e.firstContext;null!==e;){if(!$n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ii(e){ki=e,ji=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _i(e){return Di(ki,e)}function Ri(e,t){return null===ki&&Ii(e),Di(e,t)}function Di(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ji){if(null===e)throw Error(a(308));ji=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ji=ji.next=t;return n}var Li="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Oi=r.unstable_scheduleCallback,Mi=r.unstable_NormalPriority,Bi={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fi(){return{controller:new Li,data:new Map,refCount:0}}function zi(e){e.refCount--,0===e.refCount&&Oi(Mi,function(){e.controller.abort()})}var qi=null,Wi=0,Ui=0,Vi=null;function Hi(){if(0===--Wi&&null!==qi){null!==Vi&&(Vi.status="fulfilled");var e=qi;qi=null,Ui=0,Vi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gi=D.S;D.S=function(e,t){Rc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===qi){var n=qi=[];Wi=0,Ui=Wd(),Vi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Wi++,t.then(Hi,Hi)}(0,t),null!==Gi&&Gi(e,t)};var Ji=F(null);function Ki(){var e=Ji.current;return null!==e?e:pc.pooledCache}function Yi(e,t){q(Ji,null===t?Ji.current:t.pool)}function Qi(){var e=Ki();return null===e?null:{parent:Bi._currentValue,pool:e}}var Xi=Error(a(460)),$i=Error(a(474)),Zi=Error(a(542)),es={then:function(){}};function ts(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ns(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(_t,_t),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw as(e=t.reason),e;default:if("string"===typeof t.status)t.then(_t,_t);else{if(null!==(e=pc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw as(e=t.reason),e}throw is=t,Xi}}function rs(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw is=t,Xi;throw t}}var is=null;function ss(){if(null===is)throw Error(a(459));var e=is;return is=null,e}function as(e){if(e===Xi||e===Zi)throw Error(a(483))}var os=null,ls=0;function cs(e){var t=ls;return ls+=1,null===os&&(os=[]),ns(os,e,t)}function ds(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function us(e,t){if(t.$$typeof===p)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=zr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===y?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===S&&rs(s)===t.type)?(ds(t=i(t,n.props),n),t.return=e,t):(ds(t=Wr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,s){return null===t||7!==t.tag?((t=Ur(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return ds(n=Wr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Gr(t,e.mode,n)).return=e,t;case S:return h(e,t=rs(t),n)}if(R(t)||P(t))return(t=Ur(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,cs(t),n);if(t.$$typeof===w)return h(e,Ri(e,t),n);us(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?d(e,t,n,r):null;case S:return m(e,t,n=rs(n),r)}if(R(n)||P(n))return null!==i?null:u(e,t,n,r,null);if("function"===typeof n.then)return m(e,t,cs(n),r);if(n.$$typeof===w)return m(e,t,Ri(e,n),r);us(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return p(e,t,n,r=rs(r),i)}if(R(r)||P(r))return u(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,cs(r),i);if(r.$$typeof===w)return p(e,t,n,Ri(t,r),i);us(t,r)}return null}function b(l,c,d,u){if("object"===typeof d&&null!==d&&d.type===y&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case f:e:{for(var x=d.key;null!==c;){if(c.key===x){if((x=d.type)===y){if(7===c.tag){n(l,c.sibling),(u=i(c,d.props.children)).return=l,l=u;break e}}else if(c.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===S&&rs(x)===c.type){n(l,c.sibling),ds(u=i(c,d.props),d),u.return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}d.type===y?((u=Ur(d.props.children,l.mode,u,d.key)).return=l,l=u):(ds(u=Wr(d.type,d.key,d.props,null,l.mode,u),d),u.return=l,l=u)}return o(l);case g:e:{for(x=d.key;null!==c;){if(c.key===x){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(l,c.sibling),(u=i(c,d.children||[])).return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}(u=Gr(d,l.mode,u)).return=l,l=u}return o(l);case S:return b(l,c,d=rs(d),u)}if(R(d))return function(i,a,o,l){for(var c=null,d=null,u=a,f=a=0,g=null;null!==u&&f<o.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var y=m(i,u,o[f],l);if(null===y){null===u&&(u=g);break}e&&u&&null===y.alternate&&t(i,u),a=s(y,a,f),null===d?c=y:d.sibling=y,d=y,u=g}if(f===o.length)return n(i,u),ui&&ii(i,f),c;if(null===u){for(;f<o.length;f++)null!==(u=h(i,o[f],l))&&(a=s(u,a,f),null===d?c=u:d.sibling=u,d=u);return ui&&ii(i,f),c}for(u=r(u);f<o.length;f++)null!==(g=p(u,i,f,o[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),a=s(g,a,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(i,e)}),ui&&ii(i,f),c}(l,c,d,u);if(P(d)){if("function"!==typeof(x=P(d)))throw Error(a(150));return function(i,o,l,c){if(null==l)throw Error(a(151));for(var d=null,u=null,f=o,g=o=0,y=null,b=l.next();null!==f&&!b.done;g++,b=l.next()){f.index>g?(y=f,f=null):y=f.sibling;var x=m(i,f,b.value,c);if(null===x){null===f&&(f=y);break}e&&f&&null===x.alternate&&t(i,f),o=s(x,o,g),null===u?d=x:u.sibling=x,u=x,f=y}if(b.done)return n(i,f),ui&&ii(i,g),d;if(null===f){for(;!b.done;g++,b=l.next())null!==(b=h(i,b.value,c))&&(o=s(b,o,g),null===u?d=b:u.sibling=b,u=b);return ui&&ii(i,g),d}for(f=r(f);!b.done;g++,b=l.next())null!==(b=p(f,i,g,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?g:b.key),o=s(b,o,g),null===u?d=b:u.sibling=b,u=b);return e&&f.forEach(function(e){return t(i,e)}),ui&&ii(i,g),d}(l,c,d=x.call(d),u)}if("function"===typeof d.then)return b(l,c,cs(d),u);if(d.$$typeof===w)return b(l,c,Ri(l,d),u);us(l,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(n(l,c.sibling),(u=i(c,d)).return=l,l=u):(n(l,c),(u=Vr(d,l.mode,u)).return=l,l=u),o(l)):n(l,c)}return function(e,t,n,r){try{ls=0;var i=b(e,t,n,r);return os=null,i}catch(a){if(a===Xi||a===Zi)throw a;var s=Br(29,a,null,e.mode);return s.lanes=r,s.return=e,s}}}var ms=hs(!0),ps=hs(!1),fs=!1;function gs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ys(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&mc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Lr(e),Dr(e,null,n),t}return Ir(e,r,t,n),Lr(e)}function vs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}function ws(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ns=!1;function ks(){if(Ns){if(null!==Vi)throw Vi}}function js(e,t,n,r){Ns=!1;var i=e.updateQueue;fs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=i.baseState;for(a=0,d=c=l=null,o=s;;){var h=-536870913&o.lane,p=h!==o.lane;if(p?(gc&h)===h:(r&h)===h){0!==h&&h===Ui&&(Ns=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var f=e,g=o;h=t;var y=n;switch(g.tag){case 1:if("function"===typeof(f=g.payload)){u=f.call(y,u,h);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(y,u,h):f)||void 0===h)break e;u=m({},u,h);break e;case 2:fs=!0}}null!==(h=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===d&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null===s&&(i.shared.lanes=0),jc|=a,e.lanes=a,e.memoizedState=u}}function Cs(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function Ss(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Cs(n[e],t)}var Ts=F(null),As=F(0);function Es(e,t){q(As,e=Nc),q(Ts,t),Nc=e|t.baseLanes}function Ps(){q(As,Nc),q(Ts,Ts.current)}function Is(){Nc=As.current,z(Ts),z(As)}var _s=F(null),Rs=null;function Ds(e){var t=e.alternate;q(Fs,1&Fs.current),q(_s,e),null===Rs&&(null===t||null!==Ts.current||null!==t.memoizedState)&&(Rs=e)}function Ls(e){q(Fs,Fs.current),q(_s,e),null===Rs&&(Rs=e)}function Os(e){22===e.tag?(q(Fs,Fs.current),q(_s,e),null===Rs&&(Rs=e)):Ms()}function Ms(){q(Fs,Fs.current),q(_s,_s.current)}function Bs(e){z(_s),Rs===e&&(Rs=null),z(Fs)}var Fs=F(0);function zs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Iu(n)||_u(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qs=0,Ws=null,Us=null,Vs=null,Hs=!1,Gs=!1,Js=!1,Ks=0,Ys=0,Qs=null,Xs=0;function $s(){throw Error(a(321))}function Zs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$n(e[n],t[n]))return!1;return!0}function ea(e,t,n,r,i,s){return qs=s,Ws=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?go:yo,Js=!1,s=n(r,i),Js=!1,Gs&&(s=na(t,n,r,i)),ta(e),s}function ta(e){D.H=fo;var t=null!==Us&&null!==Us.next;if(qs=0,Vs=Us=Ws=null,Hs=!1,Ys=0,Qs=null,t)throw Error(a(300));null===e||Ro||null!==(e=e.dependencies)&&Pi(e)&&(Ro=!0)}function na(e,t,n,r){Ws=e;var i=0;do{if(Gs&&(Qs=null),Ys=0,Gs=!1,25<=i)throw Error(a(301));if(i+=1,Vs=Us=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}D.H=bo,s=t(n,r)}while(Gs);return s}function ra(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?ca(t):t,e=e.useState()[0],(null!==Us?Us.memoizedState:null)!==e&&(Ws.flags|=1024),t}function ia(){var e=0!==Ks;return Ks=0,e}function sa(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function aa(e){if(Hs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Hs=!1}qs=0,Vs=Us=Ws=null,Gs=!1,Ys=Ks=0,Qs=null}function oa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Vs?Ws.memoizedState=Vs=e:Vs=Vs.next=e,Vs}function la(){if(null===Us){var e=Ws.alternate;e=null!==e?e.memoizedState:null}else e=Us.next;var t=null===Vs?Ws.memoizedState:Vs.next;if(null!==t)Vs=t,Us=e;else{if(null===e){if(null===Ws.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(Us=e).memoizedState,baseState:Us.baseState,baseQueue:Us.baseQueue,queue:Us.queue,next:null},null===Vs?Ws.memoizedState=Vs=e:Vs=Vs.next=e}return Vs}function ca(e){var t=Ys;return Ys+=1,null===Qs&&(Qs=[]),e=ns(Qs,e,t),t=Ws,null===(null===Vs?t.memoizedState:Vs.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?go:yo),e}function da(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ca(e);if(e.$$typeof===w)return _i(e)}throw Error(a(438,String(e)))}function ua(e){var t=null,n=Ws.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Ws.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ws.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function ha(e,t){return"function"===typeof t?t(e):t}function ma(e){return pa(la(),Us,e)}function pa(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=o=null,c=null,d=t=i.next,u=!1;do{var h=-536870913&d.lane;if(h!==d.lane?(gc&h)===h:(qs&h)===h){var m=d.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===Ui&&(u=!0);else{if((qs&m)===m){d=d.next,m===Ui&&(u=!0);continue}h={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,Ws.lanes|=m,jc|=m}h=d.action,Js&&n(s,h),s=d.hasEagerState?d.eagerState:n(s,h)}else m={lane:h,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=m,o=s):c=c.next=m,Ws.lanes|=h,jc|=h;d=d.next}while(null!==d&&d!==t);if(null===c?o=s:c.next=l,!$n(s,e.memoizedState)&&(Ro=!0,u&&null!==(n=Vi)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function fa(e){var t=la(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);$n(s,t.memoizedState)||(Ro=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ga(e,t,n){var r=Ws,i=la(),s=ui;if(s){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!$n((Us||i).memoizedState,n);if(o&&(i.memoizedState=n,Ro=!0),i=i.queue,qa(xa.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==Vs&&1&Vs.memoizedState.tag){if(r.flags|=2048,Oa(9,{destroy:void 0},ba.bind(null,r,i,n,t),null),null===pc)throw Error(a(349));s||0!==(127&qs)||ya(r,t,n)}return n}function ya(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ws.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ws.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ba(e,t,n,r){t.value=n,t.getSnapshot=r,va(t)&&wa(e)}function xa(e,t,n){return n(function(){va(t)&&wa(e)})}function va(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$n(e,n)}catch(r){return!0}}function wa(e){var t=Rr(e,2);null!==t&&Kc(t,e,2)}function Na(e){var t=oa();if("function"===typeof e){var n=e;if(e=n(),Js){xe(!0);try{n()}finally{xe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e},t}function ka(e,t,n,r){return e.baseState=n,pa(e,Us,"function"===typeof r?r:ha)}function ja(e,t,n,r,i){if(ho(e))throw Error(a(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==D.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,Ca(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Ca(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=D.T,a={};D.T=a;try{var o=n(i,r),l=D.S;null!==l&&l(a,o),Sa(e,t,o)}catch(c){Aa(e,t,c)}finally{null!==s&&null!==a.types&&(s.types=a.types),D.T=s}}else try{Sa(e,t,s=n(i,r))}catch(d){Aa(e,t,d)}}function Sa(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Ta(e,t,n)},function(n){return Aa(e,t,n)}):Ta(e,t,n)}function Ta(e,t,n){t.status="fulfilled",t.value=n,Ea(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ca(e,n)))}function Aa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ea(t),t=t.next}while(t!==r)}e.action=null}function Ea(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Pa(e,t){return t}function Ia(e,t){if(ui){var n=pc.formState;if(null!==n){e:{var r=Ws;if(ui){if(di){t:{for(var i=di,s=mi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=Ru(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){di=Ru(i.nextSibling),r="F!"===i.data;break e}}fi(r)}r=!1}r&&(t=n[0])}}return(n=oa()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:t},n.queue=r,n=lo.bind(null,Ws,r),r.dispatch=n,r=Na(!1),s=uo.bind(null,Ws,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=oa()).queue=i,n=ja.bind(null,Ws,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function _a(e){return Ra(la(),Us,e)}function Ra(e,t,n){if(t=pa(e,t,Pa)[0],e=ma(ha)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ca(t)}catch(a){if(a===Xi)throw Zi;throw a}else r=t;var i=(t=la()).queue,s=i.dispatch;return n!==t.memoizedState&&(Ws.flags|=2048,Oa(9,{destroy:void 0},Da.bind(null,i,n),null)),[r,s,e]}function Da(e,t){e.action=t}function La(e){var t=la(),n=Us;if(null!==n)return Ra(t,n,e);la(),t=t.memoizedState;var r=(n=la()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Oa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Ws.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ws.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ma(){return la().memoizedState}function Ba(e,t,n,r){var i=oa();Ws.flags|=e,i.memoizedState=Oa(1|t,{destroy:void 0},n,void 0===r?null:r)}function Fa(e,t,n,r){var i=la();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==Us&&null!==r&&Zs(r,Us.memoizedState.deps)?i.memoizedState=Oa(t,s,n,r):(Ws.flags|=e,i.memoizedState=Oa(1|t,s,n,r))}function za(e,t){Ba(8390656,8,e,t)}function qa(e,t){Fa(2048,8,e,t)}function Wa(e){var t=la().memoizedState;return function(e){Ws.flags|=4;var t=Ws.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Ws.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&mc))throw Error(a(440));return t.impl.apply(void 0,arguments)}}function Ua(e,t){return Fa(4,2,e,t)}function Va(e,t){return Fa(4,4,e,t)}function Ha(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ga(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Fa(4,4,Ha.bind(null,t,e),n)}function Ja(){}function Ka(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Zs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Zs(t,r[1]))return r[0];if(r=e(),Js){xe(!0);try{e()}finally{xe(!1)}}return n.memoizedState=[r,t],r}function Qa(e,t,n){return void 0===n||0!==(1073741824&qs)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=n,e=Jc(),Ws.lanes|=e,jc|=e,n)}function Xa(e,t,n,r){return $n(n,t)?n:null!==Ts.current?(e=Qa(e,n,r),$n(e,t)||(Ro=!0),e):0===(42&qs)||0!==(1073741824&qs)&&0===(261930&gc)?(Ro=!0,e.memoizedState=n):(e=Jc(),Ws.lanes|=e,jc|=e,t)}function $a(e,t,n,r,i){var s=L.p;L.p=0!==s&&8>s?s:8;var a=D.T,o={};D.T=o,uo(e,!1,t,n);try{var l=i(),c=D.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)co(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Gc());else co(e,t,r,Gc())}catch(d){co(e,t,{then:function(){},status:"rejected",reason:d},Gc())}finally{L.p=s,null!==a&&null!==o.types&&(a.types=o.types),D.T=a}}function Za(){}function eo(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=to(e).queue;$a(e,i,t,O,null===n?Za:function(){return no(e),n(r)})}function to(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:O},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function no(e){var t=to(e);null===t.next&&(t=e.alternate.memoizedState),co(e,t.next.queue,{},Gc())}function ro(){return _i(dh)}function io(){return la().memoizedState}function so(){return la().memoizedState}function ao(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Gc(),r=xs(t,e=bs(n),n);return null!==r&&(Kc(r,t,n),vs(r,t,n)),t={cache:Fi()},void(e.payload=t)}t=t.return}}function oo(e,t,n){var r=Gc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ho(e)?mo(t,n):null!==(n=_r(e,t,n,r))&&(Kc(n,e,r),po(n,t,r))}function lo(e,t,n){co(e,t,n,Gc())}function co(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ho(e))mo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,$n(o,a))return Ir(e,t,i,0),null===pc&&Pr(),!1}catch(l){}if(null!==(n=_r(e,t,i,r)))return Kc(n,e,r),po(n,t,r),!0}return!1}function uo(e,t,n,r){if(r={lane:2,revertLane:Wd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ho(e)){if(t)throw Error(a(479))}else null!==(t=_r(e,n,r,2))&&Kc(t,e,2)}function ho(e){var t=e.alternate;return e===Ws||null!==t&&t===Ws}function mo(e,t){Gs=Hs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function po(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}var fo={readContext:_i,use:da,useCallback:$s,useContext:$s,useEffect:$s,useImperativeHandle:$s,useLayoutEffect:$s,useInsertionEffect:$s,useMemo:$s,useReducer:$s,useRef:$s,useState:$s,useDebugValue:$s,useDeferredValue:$s,useTransition:$s,useSyncExternalStore:$s,useId:$s,useHostTransitionStatus:$s,useFormState:$s,useActionState:$s,useOptimistic:$s,useMemoCache:$s,useCacheRefresh:$s};fo.useEffectEvent=$s;var go={readContext:_i,use:da,useCallback:function(e,t){return oa().memoizedState=[e,void 0===t?null:t],e},useContext:_i,useEffect:za,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,Ha.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){Ba(4,2,e,t)},useMemo:function(e,t){var n=oa();t=void 0===t?null:t;var r=e();if(Js){xe(!0);try{e()}finally{xe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=oa();if(void 0!==n){var i=n(t);if(Js){xe(!0);try{n(t)}finally{xe(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=oo.bind(null,Ws,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},oa().memoizedState=e},useState:function(e){var t=(e=Na(e)).queue,n=lo.bind(null,Ws,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ja,useDeferredValue:function(e,t){return Qa(oa(),e,t)},useTransition:function(){var e=Na(!1);return e=$a.bind(null,Ws,e.queue,!0,!1),oa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Ws,i=oa();if(ui){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===pc)throw Error(a(349));0!==(127&gc)||ya(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,za(xa.bind(null,r,s,e),[e]),r.flags|=2048,Oa(9,{destroy:void 0},ba.bind(null,r,s,n,t),null),n},useId:function(){var e=oa(),t=pc.identifierPrefix;if(ui){var n=ri;t="_"+t+"R_"+(n=(ni&~(1<<32-ve(ni)-1)).toString(32)+n),0<(n=Ks++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Xs++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ro,useFormState:Ia,useActionState:Ia,useOptimistic:function(e){var t=oa();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=uo.bind(null,Ws,!0,n),n.dispatch=t,[e,t]},useMemoCache:ua,useCacheRefresh:function(){return oa().memoizedState=ao.bind(null,Ws)},useEffectEvent:function(e){var t=oa(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&mc))throw Error(a(440));return n.impl.apply(void 0,arguments)}}},yo={readContext:_i,use:da,useCallback:Ka,useContext:_i,useEffect:qa,useImperativeHandle:Ga,useInsertionEffect:Ua,useLayoutEffect:Va,useMemo:Ya,useReducer:ma,useRef:Ma,useState:function(){return ma(ha)},useDebugValue:Ja,useDeferredValue:function(e,t){return Xa(la(),Us.memoizedState,e,t)},useTransition:function(){var e=ma(ha)[0],t=la().memoizedState;return["boolean"===typeof e?e:ca(e),t]},useSyncExternalStore:ga,useId:io,useHostTransitionStatus:ro,useFormState:_a,useActionState:_a,useOptimistic:function(e,t){return ka(la(),0,e,t)},useMemoCache:ua,useCacheRefresh:so};yo.useEffectEvent=Wa;var bo={readContext:_i,use:da,useCallback:Ka,useContext:_i,useEffect:qa,useImperativeHandle:Ga,useInsertionEffect:Ua,useLayoutEffect:Va,useMemo:Ya,useReducer:fa,useRef:Ma,useState:function(){return fa(ha)},useDebugValue:Ja,useDeferredValue:function(e,t){var n=la();return null===Us?Qa(n,e,t):Xa(n,Us.memoizedState,e,t)},useTransition:function(){var e=fa(ha)[0],t=la().memoizedState;return["boolean"===typeof e?e:ca(e),t]},useSyncExternalStore:ga,useId:io,useHostTransitionStatus:ro,useFormState:La,useActionState:La,useOptimistic:function(e,t){var n=la();return null!==Us?ka(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ua,useCacheRefresh:so};function xo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:m({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}bo.useEffectEvent=Wa;var vo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gc(),i=bs(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=xs(e,i,r))&&(Kc(t,e,r),vs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gc(),i=bs(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=xs(e,i,r))&&(Kc(t,e,r),vs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gc(),r=bs(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=xs(e,r,n))&&(Kc(t,e,n),vs(t,e,n))}};function wo(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(i,s))}function No(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function ko(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=m({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function jo(e){Sr(e)}function Co(e){console.error(e)}function So(e){Sr(e)}function To(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ao(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Eo(e,t,n){return(n=bs(n)).tag=3,n.payload={element:null},n.callback=function(){To(e,t)},n}function Po(e){return(e=bs(e)).tag=3,e}function Io(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Ao(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){Ao(t,n,r),"function"!==typeof i&&(null===Oc?Oc=new Set([this]):Oc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var _o=Error(a(461)),Ro=!1;function Do(e,t,n,r){t.child=null===e?ps(t,null,n,r):ms(t,e.child,n,r)}function Lo(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return Ii(t),r=ea(e,t,n,a,s,i),o=ia(),null===e||Ro?(ui&&o&&ai(t),t.flags|=1,Do(e,t,r,i),t.child):(sa(e,t,i),il(e,t,i))}function Oo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Fr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Wr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Mo(e,t,s,r,i))}if(s=e.child,!sl(e,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(a,r)&&e.ref===t.ref)return il(e,t,i)}return t.flags|=1,(e=zr(s,r)).ref=t.ref,e.return=t,t.child=e}function Mo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Zn(s,r)&&e.ref===t.ref){if(Ro=!1,t.pendingProps=r=s,!sl(e,i))return t.lanes=e.lanes,il(e,t,i);0!==(131072&e.flags)&&(Ro=!0)}}return Vo(e,t,n,r,i)}function Bo(e,t,n,r){var i=r.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(s=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~s}else r=0,t.child=null;return zo(e,t,s,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,zo(e,t,null!==s?s.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yi(0,null!==s?s.cachePool:null),null!==s?Es(t,s):Ps(),Os(t)}else null!==s?(Yi(0,s.cachePool),Es(t,s),Ms(),t.memoizedState=null):(null!==e&&Yi(0,null),Ps(),Ms());return Do(e,t,i,n),t.child}function Fo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function zo(e,t,n,r,i){var s=Ki();return s=null===s?null:{parent:Bi._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Yi(0,null),Ps(),Os(t),null!==e&&Ei(e,t,r,!0),t.childLanes=i,null}function qo(e,t){return(t=Zo({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Wo(e,t,n){return ms(t,e.child,null,n),(e=qo(t,t.pendingProps)).flags|=2,Bs(t),t.memoizedState=null,e}function Uo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Vo(e,t,n,r,i){return Ii(t),n=ea(e,t,n,r,void 0,i),r=ia(),null===e||Ro?(ui&&r&&ai(t),t.flags|=1,Do(e,t,n,i),t.child):(sa(e,t,i),il(e,t,i))}function Ho(e,t,n,r,i,s){return Ii(t),t.updateQueue=null,n=na(t,r,n,i),ta(e),r=ia(),null===e||Ro?(ui&&r&&ai(t),t.flags|=1,Do(e,t,n,s),t.child):(sa(e,t,s),il(e,t,s))}function Go(e,t,n,r,i){if(Ii(t),null===t.stateNode){var s=Or,a=n.contextType;"object"===typeof a&&null!==a&&(s=_i(a)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=vo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},gs(t),a=n.contextType,s.context="object"===typeof a&&null!==a?_i(a):Or,s.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(xo(t,n,a,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(a=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&vo.enqueueReplaceState(s,s.state,null),js(t,r,s,i),ks(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=ko(n,o);s.props=l;var c=s.context,d=n.contextType;a=Or,"object"===typeof d&&null!==d&&(a=_i(d));var u=n.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==a)&&No(t,s,r,a),fs=!1;var h=t.memoizedState;s.state=h,js(t,r,s,i),ks(),c=t.memoizedState,o||h!==c||fs?("function"===typeof u&&(xo(t,n,u,r),c=t.memoizedState),(l=fs||wo(t,n,l,r,h,c,a))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ys(e,t),d=ko(n,a=t.memoizedProps),s.props=d,u=t.pendingProps,h=s.context,c=n.contextType,l=Or,"object"===typeof c&&null!==c&&(l=_i(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==u||h!==l)&&No(t,s,r,l),fs=!1,h=t.memoizedState,s.state=h,js(t,r,s,i),ks();var m=t.memoizedState;a!==u||h!==m||fs||null!==e&&null!==e.dependencies&&Pi(e.dependencies)?("function"===typeof o&&(xo(t,n,o,r),m=t.memoizedState),(d=fs||wo(t,n,d,r,h,m,l)||null!==e&&null!==e.dependencies&&Pi(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,m,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=l,r=d):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Uo(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=ms(t,e.child,null,i),t.child=ms(t,null,n,i)):Do(e,t,n,i),t.memoizedState=s.state,e=t.child):e=il(e,t,i),e}function Jo(e,t,n,r){return xi(),t.flags|=256,Do(e,t,n,r),t.child}var Ko={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yo(e){return{baseLanes:e,cachePool:Qi()}}function Qo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Tc),e}function Xo(e,t,n){var r,i=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Fs.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ui){if(s?Ds(t):Ms(),(e=di)?null!==(e=null!==(e=Pu(e,mi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Hr(e)).return=t,t.child=n,ci=t,di=null):e=null,null===e)throw fi(t);return _u(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(Ms(),l=Zo({mode:"hidden",children:l},s=t.mode),i=Ur(i,s,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Yo(n),i.childLanes=Qo(e,r,n),t.memoizedState=Ko,Fo(null,i)):(Ds(t),$o(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Ds(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(Ms(),t.child=e.child,t.flags|=128,t=null):(Ms(),l=i.fallback,s=t.mode,i=Zo({mode:"visible",children:i.children},s),(l=Ur(l,s,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,ms(t,e.child,null,n),(i=t.child).memoizedState=Yo(n),i.childLanes=Qo(e,r,n),t.memoizedState=Ko,t=Fo(null,i));else if(Ds(t),_u(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var d=r.dgst;r=d,(i=Error(a(419))).stack="",i.digest=r,wi({value:i,source:null,stack:null}),t=el(e,t,n)}else if(Ro||Ei(e,t,n,!1),r=0!==(n&e.childLanes),Ro||r){if(null!==(r=pc)&&(0!==(i=Le(r,n))&&i!==c.retryLane))throw c.retryLane=i,Rr(e,i),Kc(r,e,i),_o;Iu(l)||ad(),t=el(e,t,n)}else Iu(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,di=Ru(l.nextSibling),ci=t,ui=!0,hi=null,mi=!1,null!==e&&li(t,e),(t=$o(t,i.children)).flags|=4096);return t}return s?(Ms(),l=i.fallback,s=t.mode,d=(c=e.child).sibling,(i=zr(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?l=zr(d,l):(l=Ur(l,s,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Fo(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Yo(n):(null!==(s=l.cachePool)?(c=Bi._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Qi(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=Qo(e,r,n),t.memoizedState=Ko,Fo(e.child,i)):(Ds(t),e=(n=e.child).sibling,(n=zr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function $o(e,t){return(t=Zo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Zo(e,t){return(e=Br(22,e,null,t)).lanes=0,e}function el(e,t,n){return ms(t,e.child,null,n),(e=$o(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ti(e.return,t,n)}function nl(e,t,n,r,i,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.treeForkCount=s)}function rl(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;r=r.children;var a=Fs.current,o=0!==(2&a);if(o?(a=1&a|2,t.flags|=128):a&=1,q(Fs,a),Do(e,t,r,n),r=ui?$r:0,!o&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===zs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nl(t,!1,i,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===zs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nl(t,!0,n,null,s,r);break;case"together":nl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ei(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=zr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Pi(e))}function al(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ro=!0;else{if(!sl(e,n)&&0===(128&t.flags))return Ro=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),Ci(0,Bi,e.memoizedState.cache),xi();break;case 27:case 5:Q(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:Ci(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ls(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ds(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Xo(e,t,n):(Ds(t),null!==(e=il(e,t,n))?e.sibling:null);Ds(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ei(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return rl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),q(Fs,Fs.current),r)break;return null;case 22:return t.lanes=0,Bo(e,t,n,t.pendingProps);case 24:Ci(0,Bi,e.memoizedState.cache)}return il(e,t,n)}(e,t,n);Ro=0!==(131072&e.flags)}else Ro=!1,ui&&0!==(1048576&t.flags)&&si(t,$r,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=rs(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===N){t.tag=11,t=Lo(null,t,e,r,n);break e}if(i===C){t.tag=14,t=Oo(null,t,e,r,n);break e}}throw t=_(e)||e,Error(a(306,t,""))}Fr(e)?(r=ko(e,r),t.tag=1,t=Go(null,t,e,r,n)):(t.tag=0,t=Vo(null,t,e,r,n))}return t;case 0:return Vo(e,t,t.type,t.pendingProps,n);case 1:return Go(e,t,r=t.type,i=ko(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,ys(e,t),js(t,r,null,n);var o=t.memoizedState;if(r=o.cache,Ci(0,Bi,r),r!==s.cache&&Ai(t,[Bi],n,!0),ks(),r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Jo(e,t,r,n);break e}if(r!==i){wi(i=Kr(Error(a(424)),t)),t=Jo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(di=Ru(e.firstChild),ci=t,ui=!0,hi=null,mi=!0,n=ps(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(xi(),r===i){t=il(e,t,n);break e}Do(e,t,r,n)}t=t.child}return t;case 26:return Uo(e,t),null===e?(n=Hu(t.type,null,t.pendingProps,null))?t.memoizedState=n:ui||(n=t.type,e=t.pendingProps,(r=gu(G.current).createElement(n))[qe]=t,r[We]=e,hu(r,n,e),et(r),t.stateNode=r):t.memoizedState=Hu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&ui&&(r=t.stateNode=Mu(t.type,t.pendingProps,G.current),ci=t,mi=!0,i=di,Su(t.type)?(Du=i,di=Ru(r.firstChild)):di=i),Do(e,t,t.pendingProps.children,n),Uo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ui&&((i=r=di)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ke])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=Ru(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,mi))?(t.stateNode=r,ci=t,di=Ru(r.firstChild),mi=!1,i=!0):i=!1),i||fi(t)),Q(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,xu(i,s)?r=null:null!==o&&xu(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=ea(e,t,ra,null,null,n),dh._currentValue=i),Uo(e,t),Do(e,t,r,n),t.child;case 6:return null===e&&ui&&((e=n=di)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Ru(e.nextSibling)))return null}return e}(n,t.pendingProps,mi))?(t.stateNode=n,ci=t,di=null,e=!0):e=!1),e||fi(t)),null;case 13:return Xo(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ms(t,null,r,n):Do(e,t,r,n),t.child;case 11:return Lo(e,t,t.type,t.pendingProps,n);case 7:return Do(e,t,t.pendingProps,n),t.child;case 8:case 12:return Do(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ci(0,t.type,r.value),Do(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ii(t),r=r(i=_i(i)),t.flags|=1,Do(e,t,r,n),t.child;case 14:return Oo(e,t,t.type,t.pendingProps,n);case 15:return Mo(e,t,t.type,t.pendingProps,n);case 19:return rl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(ui){if("hidden"===r.mode)return e=qo(t,r),t.lanes=536870912,Fo(null,e);if(Ls(t),(e=di)?null!==(e=null!==(e=Pu(e,mi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Hr(e)).return=t,t.child=n,ci=t,di=null):e=null,null===e)throw fi(t);return t.lanes=536870912,null}return qo(t,r)}var s=e.memoizedState;if(null!==s){var o=s.dehydrated;if(Ls(t),i)if(256&t.flags)t.flags&=-257,t=Wo(e,t,n);else{if(null===t.memoizedState)throw Error(a(558));t.child=e.child,t.flags|=128,t=null}else if(Ro||Ei(e,t,n,!1),i=0!==(n&e.childLanes),Ro||i){if(null!==(r=pc)&&0!==(o=Le(r,n))&&o!==s.retryLane)throw s.retryLane=o,Rr(e,o),Kc(r,e,o),_o;ad(),t=Wo(e,t,n)}else e=s.treeContext,di=Ru(o.nextSibling),ci=t,ui=!0,hi=null,mi=!1,null!==e&&li(t,e),(t=qo(t,r)).flags|=4096;return t}return(e=zr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Bo(e,t,n,t.pendingProps);case 24:return Ii(t),r=_i(Bi),null===e?(null===(i=Ki())&&(i=pc,s=Fi(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},gs(t),Ci(0,Bi,i)):(0!==(e.lanes&n)&&(ys(e,t),js(t,null,null,n),ks()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ci(0,Bi,r)):(r=s.cache,Ci(0,Bi,r),r!==i.cache&&Ai(t,[Bi],n,!0))),Do(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function ol(e){e.flags|=4}function ll(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!rd())throw is=es,$i;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ih(t)){if(!rd())throw is=es,$i;e.flags|=8192}}function dl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,Ac|=t)}function ul(e,t){if(!ui)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ml(e,t,n){var r=t.pendingProps;switch(oi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Si(Bi),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(bi(t)?ol(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,vi())),hl(t),null;case 26:var i=t.type,s=t.memoizedState;return null===e?(ol(t),null!==s?(hl(t),cl(t,s)):(hl(t),ll(t,i,0,0,n))):s?s!==e.memoizedState?(ol(t),hl(t),cl(t,s)):(hl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ol(t),hl(t),ll(t,i,0,0,n)),null;case 27:if(X(t),n=G.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ol(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return hl(t),null}e=V.current,bi(t)?gi(t):(e=Mu(i,r,n),t.stateNode=e,ol(t))}return hl(t),null;case 5:if(X(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ol(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return hl(t),null}if(s=V.current,bi(t))gi(t);else{var o=gu(G.current);switch(s){case 1:s=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(s=o.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s="string"===typeof r.is?o.createElement(i,{is:r.is}):o.createElement(i)}}s[qe]=t,s[We]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)s.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=s;e:switch(hu(s,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ol(t)}}return hl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ol(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=G.current,bi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ci))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[qe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||cu(e.nodeValue,n)))||fi(t,!0)}else(e=gu(e).createTextNode(r))[qe]=t,t.stateNode=e}return hl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=bi(t),null!==n){if(null===e){if(!r)throw Error(a(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(557));e[qe]=t}else xi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),e=!1}else n=vi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Bs(t),t):(Bs(t),null);if(0!==(128&t.flags))throw Error(a(558))}return hl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=bi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[qe]=t}else xi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),i=!1}else i=vi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Bs(t),t):(Bs(t),null)}return Bs(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),s=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),hl(t),null);case 4:return Y(),null===e&&Zd(t.stateNode.containerInfo),hl(t),null;case 10:return Si(t.type),hl(t),null;case 19:if(z(Fs),null===(r=t.memoizedState))return hl(t),null;if(i=0!==(128&t.flags),null===(s=r.rendering))if(i)ul(r,!1);else{if(0!==kc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=zs(e))){for(t.flags|=128,ul(r,!1),e=s.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)qr(n,e),n=n.sibling;return q(Fs,1&Fs.current|2),ui&&ii(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Dc&&(t.flags|=128,i=!0,ul(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=zs(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),ul(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!ui)return hl(t),null}else 2*le()-r.renderingStartTime>Dc&&536870912!==n&&(t.flags|=128,i=!0,ul(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Fs.current,q(Fs,i?1&n|2:1&n),ui&&ii(t,r.treeForkCount),e):(hl(t),null);case 22:case 23:return Bs(t),Is(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(hl(t),6&t.subtreeFlags&&(t.flags|=8192)):hl(t),null!==(n=t.updateQueue)&&dl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z(Ji),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Si(Bi),hl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function pl(e,t){switch(oi(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Si(Bi),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 31:if(null!==t.memoizedState){if(Bs(t),null===t.alternate)throw Error(a(340));xi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Bs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));xi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(Fs),null;case 4:return Y(),null;case 10:return Si(t.type),null;case 22:case 23:return Bs(t),Is(),null!==e&&z(Ji),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Si(Bi),null;default:return null}}function fl(e,t){switch(oi(t),t.tag){case 3:Si(Bi),Y();break;case 26:case 27:case 5:X(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&Bs(t);break;case 13:Bs(t);break;case 19:z(Fs);break;case 10:Si(t.type);break;case 22:case 23:Bs(t),Is(),null!==e&&z(Ji);break;case 24:Si(Bi)}}function gl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){kd(t,t.return,o)}}function yl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(d){kd(i,l,d)}}}r=r.next}while(r!==s)}}catch(d){kd(t,t.return,d)}}function bl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ss(t,n)}catch(r){kd(e,e.return,r)}}}function xl(e,t,n){n.props=ko(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){kd(e,t,r)}}function vl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){kd(e,t,i)}}function wl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){kd(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){kd(e,t,s)}else n.current=null}function Nl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){kd(e,e.return,i)}}function kl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,l=null,c=null,d=null,u=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||du(e,t,p,null,r,h)}}for(var m in r){var p=r[m];if(h=n[m],r.hasOwnProperty(m)&&(null!=p||null!=h))switch(m){case"type":s=p;break;case"name":i=p;break;case"checked":d=p;break;case"defaultChecked":u=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==h&&du(e,t,m,p,r,h)}}return void bt(e,o,l,c,d,u,s,i);case"select":for(s in p=o=l=m=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||du(e,t,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&du(e,t,i,s,r,c)}return t=l,n=o,r=p,void(null!=m?wt(e,!!n,m,!1):!!r!==!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=m=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:du(e,t,l,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":m=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==s&&du(e,t,o,i,r,s)}return void Nt(e,m,p);case"option":for(var f in n)if(m=n[f],n.hasOwnProperty(f)&&null!=m&&!r.hasOwnProperty(f))if("selected"===f)e.selected=!1;else du(e,t,f,null,r,m);for(c in r)if(m=r[c],p=n[c],r.hasOwnProperty(c)&&m!==p&&(null!=m||null!=p))if("selected"===c)e.selected=m&&"function"!==typeof m&&"symbol"!==typeof m;else du(e,t,c,m,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)m=n[g],n.hasOwnProperty(g)&&null!=m&&!r.hasOwnProperty(g)&&du(e,t,g,null,r,m);for(d in r)if(m=r[d],p=n[d],r.hasOwnProperty(d)&&m!==p&&(null!=m||null!=p))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(a(137,t));break;default:du(e,t,d,m,r,p)}return;default:if(At(t)){for(var y in n)m=n[y],n.hasOwnProperty(y)&&void 0!==m&&!r.hasOwnProperty(y)&&uu(e,t,y,void 0,r,m);for(u in r)m=r[u],p=n[u],!r.hasOwnProperty(u)||m===p||void 0===m&&void 0===p||uu(e,t,u,m,r,p);return}}for(var b in n)m=n[b],n.hasOwnProperty(b)&&null!=m&&!r.hasOwnProperty(b)&&du(e,t,b,null,r,m);for(h in r)m=r[h],p=n[h],!r.hasOwnProperty(h)||m===p||null==m&&null==p||du(e,t,h,m,r,p)}(r,e.type,n,t),r[We]=t}catch(i){kd(e,e.return,i)}}function jl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Su(e.type)||4===e.tag}function Cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||jl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Su(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Sl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=_t));else if(4!==r&&(27===r&&Su(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Sl(e,t,n),e=e.sibling;null!==e;)Sl(e,t,n),e=e.sibling}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Su(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function Al(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);hu(t,r,n),t[qe]=e,t[We]=n}catch(s){kd(e,e.return,s)}}var El=!1,Pl=!1,Il=!1,_l="function"===typeof WeakSet?WeakSet:Set,Rl=null;function Dl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Kl(e,n),4&r&&gl(5,n);break;case 1:if(Kl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){kd(n,n.return,a)}else{var i=ko(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){kd(n,n.return,o)}}64&r&&bl(n),512&r&&vl(n,n.return);break;case 3:if(Kl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ss(e,t)}catch(a){kd(n,n.return,a)}}break;case 27:null===t&&4&r&&Al(n);case 26:case 5:Kl(e,n),null===t&&4&r&&Nl(n),512&r&&vl(n,n.return);break;case 12:Kl(e,n);break;case 31:Kl(e,n),4&r&&zl(e,n);break;case 13:Kl(e,n),4&r&&ql(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Td.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||El)){t=null!==t&&null!==t.memoizedState||Pl,i=El;var s=Pl;El=r,(Pl=t)&&!s?Ql(e,n,0!==(8772&n.subtreeFlags)):Kl(e,n),El=i,Pl=s}break;case 30:break;default:Kl(e,n)}}function Ll(e){var t=e.alternate;null!==t&&(e.alternate=null,Ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ol=null,Ml=!1;function Bl(e,t,n){for(n=n.child;null!==n;)Fl(e,t,n),n=n.sibling}function Fl(e,t,n){if(be&&"function"===typeof be.onCommitFiberUnmount)try{be.onCommitFiberUnmount(ye,n)}catch(s){}switch(n.tag){case 26:Pl||wl(n,t),Bl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Pl||wl(n,t);var r=Ol,i=Ml;Su(n.type)&&(Ol=n.stateNode,Ml=!1),Bl(e,t,n),Bu(n.stateNode),Ol=r,Ml=i;break;case 5:Pl||wl(n,t);case 6:if(r=Ol,i=Ml,Ol=null,Bl(e,t,n),Ml=i,null!==(Ol=r))if(Ml)try{(9===Ol.nodeType?Ol.body:"HTML"===Ol.nodeName?Ol.ownerDocument.body:Ol).removeChild(n.stateNode)}catch(a){kd(n,t,a)}else try{Ol.removeChild(n.stateNode)}catch(a){kd(n,t,a)}break;case 18:null!==Ol&&(Ml?(Tu(9===(e=Ol).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Vh(e)):Tu(Ol,n.stateNode));break;case 4:r=Ol,i=Ml,Ol=n.stateNode.containerInfo,Ml=!0,Bl(e,t,n),Ol=r,Ml=i;break;case 0:case 11:case 14:case 15:yl(2,n,t),Pl||yl(4,n,t),Bl(e,t,n);break;case 1:Pl||(wl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&xl(n,t,r)),Bl(e,t,n);break;case 21:Bl(e,t,n);break;case 22:Pl=(r=Pl)||null!==n.memoizedState,Bl(e,t,n),Pl=r;break;default:Bl(e,t,n)}}function zl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Vh(e)}catch(n){kd(t,t.return,n)}}}function ql(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Vh(e)}catch(n){kd(t,t.return,n)}}function Wl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new _l),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new _l),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Ad.bind(null,e,t);t.then(r,r)}})}function Ul(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Su(l.type)){Ol=l.stateNode,Ml=!1;break e}break;case 5:Ol=l.stateNode,Ml=!1;break e;case 3:case 4:Ol=l.stateNode.containerInfo,Ml=!0;break e}l=l.return}if(null===Ol)throw Error(a(160));Fl(s,o,i),Ol=null,Ml=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Hl(t,e),t=t.sibling}var Vl=null;function Hl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ul(t,e),Gl(e),4&r&&(yl(3,e,e.return),gl(3,e),yl(5,e,e.return));break;case 1:Ul(t,e),Gl(e),512&r&&(Pl||null===n||wl(n,n.return)),64&r&&El&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Vl;if(Ul(t,e),Gl(e),512&r&&(Pl||null===n||wl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Ke]||s[qe]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),hu(s,r,n),s[qe]=e,et(s),r=s;break e;case"link":var o=nh("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}hu(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(o=nh("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}hu(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(a(468,r))}s[qe]=e,et(s),r=s}e.stateNode=r}else rh(i,e.type,e.stateNode);else e.stateNode=Xu(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?rh(i,e.type,e.stateNode):Xu(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&kl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ul(t,e),Gl(e),512&r&&(Pl||null===n||wl(n,n.return)),null!==n&&4&r&&kl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ul(t,e),Gl(e),512&r&&(Pl||null===n||wl(n,n.return)),32&e.flags){i=e.stateNode;try{jt(i,"")}catch(f){kd(e,e.return,f)}}4&r&&null!=e.stateNode&&kl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Il=!0);break;case 6:if(Ul(t,e),Gl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){kd(e,e.return,f)}}break;case 3:if(th=null,i=Vl,Vl=qu(t.containerInfo),Ul(t,e),Vl=i,Gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vh(t.containerInfo)}catch(f){kd(e,e.return,f)}Il&&(Il=!1,Jl(e));break;case 4:r=Vl,Vl=qu(e.stateNode.containerInfo),Ul(t,e),Gl(e),Vl=r;break;case 12:default:Ul(t,e),Gl(e);break;case 31:case 19:Ul(t,e),Gl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Wl(e,r)));break;case 13:Ul(t,e),Gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(_c=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Wl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,d=El,u=Pl;if(El=d||i,Pl=u||c,Ul(t,e),Pl=u,El=d,Gl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||El||Pl||Yl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,i)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,m=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(f){kd(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(f){kd(c,c.return,f)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;i?Au(p,!0):Au(c.stateNode,!1)}catch(f){kd(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Wl(e,n))));case 30:case 21:}}function Gl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(jl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var i=n.stateNode;Tl(e,Cl(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(jt(s,""),n.flags&=-33),Tl(e,Cl(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;Sl(e,Cl(e),o);break;default:throw Error(a(161))}}catch(l){kd(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Jl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Jl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Kl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Dl(e,t.alternate,t),t=t.sibling}function Yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yl(4,t,t.return),Yl(t);break;case 1:wl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&xl(t,t.return,n),Yl(t);break;case 27:Bu(t.stateNode);case 26:case 5:wl(t,t.return),Yl(t);break;case 22:null===t.memoizedState&&Yl(t);break;default:Yl(t)}e=e.sibling}}function Ql(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Ql(i,s,n),gl(4,s);break;case 1:if(Ql(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){kd(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Cs(l[i],o)}catch(c){kd(r,r.return,c)}}n&&64&a&&bl(s),vl(s,s.return);break;case 27:Al(s);case 26:case 5:Ql(i,s,n),n&&null===r&&4&a&&Nl(s),vl(s,s.return);break;case 12:Ql(i,s,n);break;case 31:Ql(i,s,n),n&&4&a&&zl(i,s);break;case 13:Ql(i,s,n),n&&4&a&&ql(i,s);break;case 22:null===s.memoizedState&&Ql(i,s,n),vl(s,s.return);break;case 30:break;default:Ql(i,s,n)}t=t.sibling}}function Xl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&zi(n))}function $l(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e))}function Zl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,r),t=t.sibling}function ec(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Zl(e,t,n,r),2048&i&&gl(9,t);break;case 1:case 31:case 13:default:Zl(e,t,n,r);break;case 3:Zl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e)));break;case 12:if(2048&i){Zl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){kd(t,t.return,l)}}else Zl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,null!==t.memoizedState?2&s._visibility?Zl(e,t,n,r):nc(e,t):2&s._visibility?Zl(e,t,n,r):(s._visibility|=2,tc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Xl(a,t);break;case 24:Zl(e,t,n,r),2048&i&&$l(t.alternate,t)}}function tc(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:tc(s,a,o,l,i),gl(8,a);break;case 23:break;case 22:var d=a.stateNode;null!==a.memoizedState?2&d._visibility?tc(s,a,o,l,i):nc(s,a):(d._visibility|=2,tc(s,a,o,l,i)),i&&2048&c&&Xl(a.alternate,a);break;case 24:tc(s,a,o,l,i),i&&2048&c&&$l(a.alternate,a);break;default:tc(s,a,o,l,i)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:nc(n,r),2048&i&&Xl(r.alternate,r);break;case 24:nc(n,r),2048&i&&$l(r.alternate,r);break;default:nc(n,r)}t=t.sibling}}var rc=8192;function ic(e,t,n){if(e.subtreeFlags&rc)for(e=e.child;null!==e;)sc(e,t,n),e=e.sibling}function sc(e,t,n){switch(e.tag){case 26:ic(e,t,n),e.flags&rc&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Gu(r.href),s=t.querySelector(Ju(i));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=ah.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void et(s);s=t.ownerDocument||t,r=Ku(r),(i=Fu.get(i))&&Zu(r,i),et(s=s.createElement("link"));var a=s;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),hu(s,"link",r),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=ah.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Vl,e.memoizedState,e.memoizedProps);break;case 5:default:ic(e,t,n);break;case 3:case 4:var r=Vl;Vl=qu(e.stateNode.containerInfo),ic(e,t,n),Vl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rc,rc=16777216,ic(e,t,n),rc=r):ic(e,t,n))}}function ac(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function oc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rl=r,dc(r,e)}ac(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:oc(e),2048&e.flags&&yl(9,e,e.return);break;case 3:case 12:default:oc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):oc(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rl=r,dc(r,e)}ac(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:yl(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function dc(e,t){for(;null!==Rl;){var n=Rl;switch(n.tag){case 0:case 11:case 15:yl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:zi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Rl=r;else e:for(n=e;null!==Rl;){var i=(r=Rl).sibling,s=r.return;if(Ll(r),r===n){Rl=null;break e}if(null!==i){i.return=s,Rl=i;break e}Rl=s}}}var uc={getCacheForType:function(e){var t=_i(Bi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return _i(Bi).controller.signal}},hc="function"===typeof WeakMap?WeakMap:Map,mc=0,pc=null,fc=null,gc=0,yc=0,bc=null,xc=!1,vc=!1,wc=!1,Nc=0,kc=0,jc=0,Cc=0,Sc=0,Tc=0,Ac=0,Ec=null,Pc=null,Ic=!1,_c=0,Rc=0,Dc=1/0,Lc=null,Oc=null,Mc=0,Bc=null,Fc=null,zc=0,qc=0,Wc=null,Uc=null,Vc=0,Hc=null;function Gc(){return 0!==(2&mc)&&0!==gc?gc&-gc:null!==D.T?Wd():Be()}function Jc(){if(0===Tc)if(0===(536870912&gc)||ui){var e=je;0===(3932160&(je<<=1))&&(je=262144),Tc=e}else Tc=536870912;return null!==(e=_s.current)&&(e.flags|=32),Tc}function Kc(e,t,n){(e!==pc||2!==yc&&9!==yc)&&null===e.cancelPendingCommit||(td(e,0),$c(e,gc,Tc,!1)),_e(e,n),0!==(2&mc)&&e===pc||(e===pc&&(0===(2&mc)&&(Cc|=n),4===kc&&$c(e,gc,Tc,!1)),Ld(e))}function Yc(e,t,n){if(0!==(6&mc))throw Error(a(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ae(e,t),i=r?function(e,t){var n=mc;mc|=2;var r=id(),i=sd();pc!==e||gc!==t?(Lc=null,Dc=le()+500,td(e,t)):vc=Ae(e,t);e:for(;;)try{if(0!==yc&&null!==fc){t=fc;var s=bc;t:switch(yc){case 1:yc=0,bc=null,hd(e,t,s,1);break;case 2:case 9:if(ts(s)){yc=0,bc=null,ud(t);break}t=function(){2!==yc&&9!==yc||pc!==e||(yc=7),Ld(e)},s.then(t,t);break e;case 3:yc=7;break e;case 4:yc=5;break e;case 7:ts(s)?(yc=0,bc=null,ud(t)):(yc=0,bc=null,hd(e,t,s,7));break;case 5:var o=null;switch(fc.tag){case 26:o=fc.memoizedState;case 5:case 27:var l=fc;if(o?ih(o):l.stateNode.complete){yc=0,bc=null;var c=l.sibling;if(null!==c)fc=c;else{var d=l.return;null!==d?(fc=d,md(d)):fc=null}break t}}yc=0,bc=null,hd(e,t,s,5);break;case 6:yc=0,bc=null,hd(e,t,s,6);break;case 8:ed(),kc=6;break e;default:throw Error(a(462))}}cd();break}catch(u){nd(e,u)}return ji=ki=null,D.H=r,D.A=i,mc=n,null!==fc?0:(pc=null,gc=0,Pr(),kc)}(e,t):od(e,t,!0),s=r;;){if(0===i){vc&&!r&&$c(e,t,0,!1);break}if(n=e.current.alternate,!s||Xc(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=Ec;var c=l.current.memoizedState.isDehydrated;if(c&&(td(l,o).flags|=256),2!==(o=od(l,o,!1))){if(wc&&!c){l.errorRecoveryDisabledLanes|=s,Cc|=s,i=4;break e}s=Pc,Pc=i,null!==s&&(null===Pc?Pc=s:Pc.push.apply(Pc,s))}i=o}if(s=!1,2!==i)continue}}if(1===i){td(e,0),$c(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:$c(r,t,Tc,!xc);break e;case 2:Pc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=_c+300-le())){if($c(r,t,Tc,!xc),0!==Te(r,0,!0))break e;zc=t,r.timeoutHandle=wu(Qc.bind(null,r,n,Pc,Lc,Ic,t,Tc,Cc,Ac,xc,s,"Throttled",-0,0),i)}else Qc(r,n,Pc,Lc,Ic,t,Tc,Cc,Ac,xc,s,null,-0,0)}break}i=od(e,t,!1),s=!1}Ld(e)}function Qc(e,t,n,r,i,s,a,o,l,c,d,u,h,m){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||16785408===(16785408&u)){sc(t,s,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_t});var p=(62914560&s)===s?_c-le():(4194048&s)===s?Rc-le():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&lh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sh&&(sh=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],s=i.transferSize,a=i.initiatorType,o=i.duration;if(s&&o&&mu(a)){for(a=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var d=l.transferSize,u=l.initiatorType;d&&mu(u)&&(a+=d*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--r,t+=8*(s+a)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(u,p)))return zc=s,e.cancelPendingCommit=p(fd.bind(null,e,t,s,n,r,i,a,o,l,d,u,null,h,m)),void $c(e,s,a,!c)}fd(e,t,s,n,r,i,a,o,l)}function Xc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!$n(s(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $c(e,t,n,r){t&=~Sc,t&=~Cc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-ve(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&Re(e,n,t)}function Zc(){return 0!==(6&mc)||(Od(0,!1),!1)}function ed(){if(null!==fc){if(0===yc)var e=fc.return;else ji=ki=null,aa(e=fc),os=null,ls=0,e=fc;for(;null!==e;)fl(e.alternate,e),e=e.return;fc=null}}function td(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Nu(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zc=0,ed(),pc=e,fc=n=zr(e.current,null),gc=t,yc=0,bc=null,xc=!1,vc=Ae(e,t),wc=!1,Ac=Tc=Sc=Cc=jc=kc=0,Pc=Ec=null,Ic=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-ve(r),s=1<<i;t|=e[i],r&=~s}return Nc=t,Pr(),n}function nd(e,t){Ws=null,D.H=fo,t===Xi||t===Zi?(t=ss(),yc=3):t===$i?(t=ss(),yc=4):yc=t===_o?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===fc&&(kc=1,To(e,Kr(t,e.current)))}function rd(){var e=_s.current;return null===e||((4194048&gc)===gc?null===Rs:((62914560&gc)===gc||0!==(536870912&gc))&&e===Rs)}function id(){var e=D.H;return D.H=fo,null===e?fo:e}function sd(){var e=D.A;return D.A=uc,e}function ad(){kc=4,xc||(4194048&gc)!==gc&&null!==_s.current||(vc=!0),0===(134217727&jc)&&0===(134217727&Cc)||null===pc||$c(pc,gc,Tc,!1)}function od(e,t,n){var r=mc;mc|=2;var i=id(),s=sd();pc===e&&gc===t||(Lc=null,td(e,t)),t=!1;var a=kc;e:for(;;)try{if(0!==yc&&null!==fc){var o=fc,l=bc;switch(yc){case 8:ed(),a=6;break e;case 3:case 2:case 9:case 6:null===_s.current&&(t=!0);var c=yc;if(yc=0,bc=null,hd(e,o,l,c),n&&vc){a=0;break e}break;default:c=yc,yc=0,bc=null,hd(e,o,l,c)}}ld(),a=kc;break}catch(d){nd(e,d)}return t&&e.shellSuspendCounter++,ji=ki=null,mc=r,D.H=i,D.A=s,null===fc&&(pc=null,gc=0,Pr()),a}function ld(){for(;null!==fc;)dd(fc)}function cd(){for(;null!==fc&&!ae();)dd(fc)}function dd(e){var t=al(e.alternate,e,Nc);e.memoizedProps=e.pendingProps,null===t?md(e):fc=t}function ud(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ho(n,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Ho(n,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:aa(t);default:fl(n,t),t=al(n,t=fc=qr(t,Nc),Nc)}e.memoizedProps=e.pendingProps,null===t?md(e):fc=t}function hd(e,t,n,r){ji=ki=null,aa(t),os=null,ls=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ei(t,n,i,!0),null!==(n=_s.current)){switch(n.tag){case 31:case 13:return null===Rs?ad():null===n.alternate&&0===kc&&(kc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===es?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),jd(e,r,i)),!1;case 22:return n.flags|=65536,r===es?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),jd(e,r,i)),!1}throw Error(a(435,n.tag))}return jd(e,r,i),ad(),!1}if(ui)return null!==(t=_s.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==pi&&wi(Kr(e=Error(a(422),{cause:r}),n))):(r!==pi&&wi(Kr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Kr(r,n),ws(e,i=Eo(e.stateNode,r,i)),4!==kc&&(kc=2)),!1;var s=Error(a(520),{cause:r});if(s=Kr(s,n),null===Ec?Ec=[s]:Ec.push(s),4!==kc&&(kc=2),null===t)return!0;r=Kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,ws(n,e=Eo(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Oc||!Oc.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Io(i=Po(i),e,n,r),ws(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,gc))return kc=1,To(e,Kr(n,e.current)),void(fc=null)}catch(s){if(null!==i)throw fc=i,s;return kc=1,To(e,Kr(n,e.current)),void(fc=null)}32768&t.flags?(ui||1===r?e=!0:vc||0!==(536870912&gc)?e=!1:(xc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=_s.current)&&13===r.tag&&(r.flags|=16384))),pd(t,e)):md(t)}function md(e){var t=e;do{if(0!==(32768&t.flags))return void pd(t,xc);e=t.return;var n=ml(t.alternate,t,Nc);if(null!==n)return void(fc=n);if(null!==(t=t.sibling))return void(fc=t);fc=t=e}while(null!==t);0===kc&&(kc=5)}function pd(e,t){do{var n=pl(e.alternate,e);if(null!==n)return n.flags&=32767,void(fc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(fc=e);fc=e=n}while(null!==e);kc=6,fc=null}function fd(e,t,n,r,i,s,o,l,c){e.cancelPendingCommit=null;do{vd()}while(0!==Mc);if(0!==(6&mc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-ve(n),u=1<<d;o[d]=0,l[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var m=h[d];null!==m&&(m.lane&=-536870913)}n&=~u}0!==r&&Re(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,n,s|=Er,o,l,c),e===pc&&(fc=pc=null,gc=0),Fc=t,Bc=e,zc=n,qc=s,Wc=i,Uc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(he,function(){return wd(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,i=L.p,L.p=2,o=mc,mc|=4;try{!function(e,t){if(e=e.containerInfo,pu=xh,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++d===i&&(l=o),m===s&&++u===r&&(c=o),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(fu={focusedElem:e,selectionRange:n},xh=!1,Rl=t;null!==Rl;)if(e=(t=Rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Rl=e;else for(;null!==Rl;){switch(s=(t=Rl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var f=ko(n.type,i);e=r.getSnapshotBeforeUpdate(f,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){kd(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Eu(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Eu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Rl=e;break}Rl=t.return}}(e,t)}finally{mc=o,L.p=i,D.T=r}}Mc=1,gd(),yd(),bd()}}function gd(){if(1===Mc){Mc=0;var e=Bc,t=Fc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=L.p;L.p=2;var i=mc;mc|=4;try{Hl(t,e);var s=fu,a=rr(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&nr(o.ownerDocument.documentElement,o)){if(null!==l&&ir(o)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var u=o.ownerDocument||document,h=u&&u.defaultView||window;if(h.getSelection){var m=h.getSelection(),p=o.textContent.length,f=Math.min(l.start,p),g=void 0===l.end?f:Math.min(l.end,p);!m.extend&&f>g&&(a=g,g=f,f=a);var y=tr(o,f),b=tr(o,g);if(y&&b&&(1!==m.rangeCount||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==b.node||m.focusOffset!==b.offset)){var x=u.createRange();x.setStart(y.node,y.offset),m.removeAllRanges(),f>g?(m.addRange(x),m.extend(b.node,b.offset)):(x.setEnd(b.node,b.offset),m.addRange(x))}}}}for(u=[],m=o;m=m.parentNode;)1===m.nodeType&&u.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<u.length;o++){var v=u[o];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}xh=!!pu,fu=pu=null}finally{mc=i,L.p=r,D.T=n}}e.current=t,Mc=2}}function yd(){if(2===Mc){Mc=0;var e=Bc,t=Fc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=L.p;L.p=2;var i=mc;mc|=4;try{Dl(e,t.alternate,t)}finally{mc=i,L.p=r,D.T=n}}Mc=3}}function bd(){if(4===Mc||3===Mc){Mc=0,oe();var e=Bc,t=Fc,n=zc,r=Uc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Mc=5:(Mc=0,Fc=Bc=null,xd(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Oc=null),Me(n),t=t.stateNode,be&&"function"===typeof be.onCommitFiberRoot)try{be.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,i=L.p,L.p=2,D.T=null;try{for(var s=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{D.T=t,L.p=i}}0!==(3&zc)&&vd(),Ld(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Hc?Vc++:(Vc=0,Hc=e):Vc=0,Od(0,!1)}}function xd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,zi(t)))}function vd(){return gd(),yd(),bd(),wd()}function wd(){if(5!==Mc)return!1;var e=Bc,t=qc;qc=0;var n=Me(zc),r=D.T,i=L.p;try{L.p=32>n?32:n,D.T=null,n=Wc,Wc=null;var s=Bc,o=zc;if(Mc=0,Fc=Bc=null,zc=0,0!==(6&mc))throw Error(a(331));var l=mc;if(mc|=4,lc(s.current),ec(s,s.current,o,n),mc=l,Od(0,!1),be&&"function"===typeof be.onPostCommitFiberRoot)try{be.onPostCommitFiberRoot(ye,s)}catch(c){}return!0}finally{L.p=i,D.T=r,xd(e,t)}}function Nd(e,t,n){t=Kr(n,t),null!==(e=xs(e,t=Eo(e.stateNode,t,2),2))&&(_e(e,2),Ld(e))}function kd(e,t,n){if(3===e.tag)Nd(e,e,n);else for(;null!==t;){if(3===t.tag){Nd(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Oc||!Oc.has(r))){e=Kr(n,e),null!==(r=xs(t,n=Po(2),2))&&(Io(n,r,t,e),_e(r,2),Ld(r));break}}t=t.return}}function jd(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(wc=!0,i.add(n),e=Cd.bind(null,e,t,n),t.then(e,e))}function Cd(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pc===e&&(gc&n)===n&&(4===kc||3===kc&&(62914560&gc)===gc&&300>le()-_c?0===(2&mc)&&td(e,0):Sc|=n,Ac===gc&&(Ac=0)),Ld(e)}function Sd(e,t){0===t&&(t=Pe()),null!==(e=Rr(e,t))&&(_e(e,t),Ld(e))}function Td(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sd(e,n)}function Ad(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sd(e,n)}var Ed=null,Pd=null,Id=!1,_d=!1,Rd=!1,Dd=0;function Ld(e){e!==Pd&&null===e.next&&(null===Pd?Ed=Pd=e:Pd=Pd.next=e),_d=!0,Id||(Id=!0,ju(function(){0!==(6&mc)?ie(de,Md):Bd()}))}function Od(e,t){if(!Rd&&_d){Rd=!0;do{for(var n=!1,r=Ed;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-ve(42|e)+1)-1,s=201326741&(s&=i&~(a&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,qd(r,s))}else s=gc,0===(3&(s=Te(r,r===pc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ae(r,s)||(n=!0,qd(r,s));r=r.next}}while(n);Rd=!1}}function Md(){Bd()}function Bd(){_d=Id=!1;var e=0;0!==Dd&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==vu&&(vu=e,!0);return vu=null,!1}()&&(e=Dd);for(var t=le(),n=null,r=Ed;null!==r;){var i=r.next,s=Fd(r,t);0===s?(r.next=null,null===n?Ed=i:n.next=i,null===i&&(Pd=n)):(n=r,(0!==e||0!==(3&s))&&(_d=!0)),r=i}0!==Mc&&5!==Mc||Od(e,!1),0!==Dd&&(Dd=0)}function Fd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-ve(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=Ee(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=gc,n=Te(e,e===(t=pc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===yc||9===yc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ae(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Me(n)){case 2:case 8:n=ue;break;case 32:default:n=he;break;case 268435456:n=pe}return r=zd.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function zd(e,t){if(0!==Mc&&5!==Mc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(vd()&&e.callbackNode!==n)return null;var r=gc;return 0===(r=Te(e,e===pc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yc(e,r,t),Fd(e,le()),null!=e.callbackNode&&e.callbackNode===n?zd.bind(null,e):null)}function qd(e,t){if(vd())return null;Yc(e,t,!0)}function Wd(){if(0===Dd){var e=Ui;0===e&&(e=ke,0===(261888&(ke<<=1))&&(ke=256)),Dd=e}return Dd}function Ud(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:It(""+e)}function Vd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Hd=0;Hd<jr.length;Hd++){var Gd=jr[Hd];Cr(Gd.toLowerCase(),"on"+(Gd[0].toUpperCase()+Gd.slice(1)))}Cr(gr,"onAnimationEnd"),Cr(yr,"onAnimationIteration"),Cr(br,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(xr,"onTransitionRun"),Cr(vr,"onTransitionStart"),Cr(wr,"onTransitionCancel"),Cr(Nr,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jd));function Yd(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(d){Sr(d)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(d){Sr(d)}i.currentTarget=null,s=l}}}}function Qd(e,t){var n=t[Ve];void 0===n&&(n=t[Ve]=new Set);var r=e+"__bubble";n.has(r)||(eu(t,e,2,!1),n.add(r))}function Xd(e,t,n){var r=0;t&&(r|=4),eu(n,e,r,t)}var $d="_reactListening"+Math.random().toString(36).slice(2);function Zd(e){if(!e[$d]){e[$d]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Kd.has(t)||Xd(t,!1,e),Xd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$d]||(t[$d]=!0,Xd("selectionchange",!1,t))}}function eu(e,t,n,r){switch(Sh(t)){case 2:var i=vh;break;case 8:i=wh;break;default:i=Nh}n=i.bind(null,t,n,e),i=void 0,!Wt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function tu(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==o;){if(null===(a=Qe(o)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=s=a;continue e}o=o.parentNode}}r=r.return}Ft(function(){var r=s,i=Dt(n),a=[];e:{var o=kr.get(e);if(void 0!==o){var c=nn,d=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=bn;break;case"focusin":d="focus",c=cn;break;case"focusout":d="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case gr:case yr:case br:c=dn;break;case Nr:c=wn;break;case"scroll":case"scrollend":c=sn;break;case"wheel":c=Nn;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=xn;break;case"toggle":case"beforetoggle":c=kn}var u=0!==(4&t),h=!u&&("scroll"===e||"scrollend"===e),m=u?null!==o?o+"Capture":null:o;u=[];for(var p,f=r;null!==f;){var g=f;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===m||null!=(g=zt(f,m))&&u.push(nu(f,g,p)),h)break;f=f.return}0<u.length&&(o=new c(o,d,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Rt||!(d=n.relatedTarget||n.fromElement)||!Qe(d)&&!d[Ue])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(d=(d=n.relatedTarget||n.toElement)?Qe(d):null)&&(h=l(d),u=d.tag,d!==h||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=r),c!==d)){if(u=on,g="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,g="onPointerLeave",m="onPointerEnter",f="pointer"),h=null==c?o:$e(c),p=null==d?o:$e(d),(o=new u(g,f+"leave",c,n,i)).target=h,o.relatedTarget=p,g=null,Qe(i)===r&&((u=new u(m,f+"enter",d,n,i)).target=p,u.relatedTarget=h,g=u),h=g,c&&d)e:{for(u=iu,f=d,p=0,g=m=c;g;g=u(g))p++;g=0;for(var y=f;y;y=u(y))g++;for(;0<p-g;)m=u(m),p--;for(;0<g-p;)f=u(f),g--;for(;p--;){if(m===f||null!==f&&m===f.alternate){u=m;break e}m=u(m),f=u(f)}u=null}else u=null;null!==c&&su(a,o,c,u,!1),null!==d&&null!==h&&su(a,h,d,u,!0)}if("select"===(c=(o=r?$e(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var b=qn;else if(Ln(o))if(Wn)b=Xn;else{b=Yn;var x=Kn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&At(r.elementType)&&(b=qn):b=Qn;switch(b&&(b=b(e,r))?On(a,b,n,i):(x&&x(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),x=r?$e(r):window,e){case"focusin":(Ln(x)||"true"===x.contentEditable)&&(ar=x,or=r,lr=null);break;case"focusout":lr=or=ar=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,dr(a,n,i);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":dr(a,n,i)}var v;if(Cn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Rn?In(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(An&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Rn&&(v=Jt()):(Ht="value"in(Vt=i)?Vt.value:Vt.textContent,Rn=!0)),0<(x=ru(r,w)).length&&(w=new hn(w,e,null,n,i),a.push({event:w,listeners:x}),v?w.data=v:null!==(v=_n(n))&&(w.data=v))),(v=Tn?function(e,t){switch(e){case"compositionend":return _n(t);case"keypress":return 32!==t.which?null:(Pn=!0,En);case"textInput":return(e=t.data)===En&&Pn?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!Cn&&In(e,t)?(e=Jt(),Gt=Ht=Vt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=ru(r,"onBeforeInput")).length&&(x=new hn("onBeforeInput","beforeinput",null,n,i),a.push({event:x,listeners:w}),x.data=v)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Ud((i[We]||null).action),a=r.submitter;a&&null!==(t=(t=a[We]||null)?Ud(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new nn("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Dd){var e=a?Vd(i,a):new FormData(i);eo(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=a?Vd(i,a):new FormData(i),eo(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(a,e,r,n,i)}Yd(a,t)})}function nu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ru(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=zt(e,n))&&r.unshift(nu(e,i,s)),null!=(i=zt(e,t))&&r.push(nu(e,i,s))),3===e.tag)return r;e=e.return}return[]}function iu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function su(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=zt(n,s))&&a.unshift(nu(n,c,l)):i||null!=(c=zt(n,s))&&a.push(nu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var au=/\r\n?/g,ou=/\u0000|\uFFFD/g;function lu(e){return("string"===typeof e?e:""+e).replace(au,"\n").replace(ou,"")}function cu(e,t){return t=lu(t),lu(e)===t}function du(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||jt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&jt(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Tt(e,r,s);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=It(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&du(e,t,"name",i.name,i,null),du(e,t,"formEncType",i.formEncType,i,null),du(e,t,"formMethod",i.formMethod,i,null),du(e,t,"formTarget",i.formTarget,i,null)):(du(e,t,"encType",i.encType,i,null),du(e,t,"method",i.method,i,null),du(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=It(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=_t);break;case"onScroll":null!=r&&Qd("scroll",e);break;case"onScrollEnd":null!=r&&Qd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=It(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Qd("beforetoggle",e),Qd("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":dt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":dt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":dt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":dt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Et.get(n)||n,r)}}function uu(e,t,n,r,i,s){switch(n){case"style":Tt(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?jt(e,r):("number"===typeof r||"bigint"===typeof r)&&jt(e,""+r);break;case"onScroll":null!=r&&Qd("scroll",e);break;case"onScrollEnd":null!=r&&Qd("scrollend",e);break;case"onClick":null!=r&&(e.onclick=_t);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[We]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function hu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qd("error",e),Qd("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:du(e,t,r,o,n,null)}}return s&&du(e,t,"srcSet",n.srcSet,n,null),void(i&&du(e,t,"src",n.src,n,null));case"input":Qd("invalid",e);var l=r=o=s=null,c=null,d=null;for(i in n)if(n.hasOwnProperty(i)){var u=n[i];if(null!=u)switch(i){case"name":s=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":r=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(a(137,t));break;default:du(e,t,i,u,n,null)}}return void xt(e,r,l,c,d,o,s,!1);case"select":for(s in Qd("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:du(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?wt(e,!!i,t,!1):null!=n&&wt(e,!!i,n,!0));case"textarea":for(o in Qd("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:du(e,t,o,l,n,null)}return void kt(e,i,s,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else du(e,t,c,i,n,null);return;case"dialog":Qd("beforetoggle",e),Qd("toggle",e),Qd("cancel",e),Qd("close",e);break;case"iframe":case"object":Qd("load",e);break;case"video":case"audio":for(i=0;i<Jd.length;i++)Qd(Jd[i],e);break;case"image":Qd("error",e),Qd("load",e);break;case"details":Qd("toggle",e);break;case"embed":case"source":case"link":Qd("error",e),Qd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(i=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:du(e,t,d,i,n,null)}return;default:if(At(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(i=n[u])&&uu(e,t,u,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&du(e,t,l,i,n,null))}function mu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var pu=null,fu=null;function gu(e){return 9===e.nodeType?e:e.ownerDocument}function yu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function xu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var vu=null;var wu="function"===typeof setTimeout?setTimeout:void 0,Nu="function"===typeof clearTimeout?clearTimeout:void 0,ku="function"===typeof Promise?Promise:void 0,ju="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ku?function(e){return ku.resolve(null).then(e).catch(Cu)}:wu;function Cu(e){setTimeout(function(){throw e})}function Su(e){return"head"===e}function Tu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Vh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Bu(e.ownerDocument.documentElement);else if("head"===n){Bu(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var a=s.nextSibling,o=s.nodeName;s[Ke]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}else"body"===n&&Bu(e.ownerDocument.body);n=i}while(n);Vh(t)}function Au(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Eu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Eu(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Pu(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Ru(e.nextSibling)))return null}return e}function Iu(e){return"$?"===e.data||"$~"===e.data}function _u(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Ru(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Du=null;function Lu(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Ru(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Ou(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Mu(e,t,n){switch(t=gu(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function Bu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Fu=new Map,zu=new Set;function qu(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Wu=L.d;L.d={f:function(){var e=Wu.f(),t=Zc();return e||t},r:function(e){var t=Xe(e);null!==t&&5===t.tag&&"form"===t.type?no(t):Wu.r(e)},D:function(e){Wu.D(e),Vu("dns-prefetch",e,null)},C:function(e,t){Wu.C(e,t),Vu("preconnect",e,t)},L:function(e,t,n){Wu.L(e,t,n);var r=Uu;if(r&&e&&t){var i='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+yt(n.imageSizes)+'"]')):i+='[href="'+yt(e)+'"]';var s=i;switch(t){case"style":s=Gu(e);break;case"script":s=Yu(e)}Fu.has(s)||(e=m({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Fu.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Ju(s))||"script"===t&&r.querySelector(Qu(s))||(hu(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Wu.m(e,t);var n=Uu;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Yu(e)}if(!Fu.has(s)&&(e=m({rel:"modulepreload",href:e},t),Fu.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qu(s)))return}hu(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Wu.X(e,t);var n=Uu;if(n&&e){var r=Ze(n).hoistableScripts,i=Yu(e),s=r.get(i);s||((s=n.querySelector(Qu(i)))||(e=m({src:e,async:!0},t),(t=Fu.get(i))&&eh(e,t),et(s=n.createElement("script")),hu(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){Wu.S(e,t,n);var r=Uu;if(r&&e){var i=Ze(r).hoistableStyles,s=Gu(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Ju(s)))o.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Fu.get(s))&&Zu(e,n);var l=a=r.createElement("link");et(l),hu(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,$u(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(e,t){Wu.M(e,t);var n=Uu;if(n&&e){var r=Ze(n).hoistableScripts,i=Yu(e),s=r.get(i);s||((s=n.querySelector(Qu(i)))||(e=m({src:e,async:!0,type:"module"},t),(t=Fu.get(i))&&eh(e,t),et(s=n.createElement("script")),hu(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var Uu="undefined"===typeof document?null:document;function Vu(e,t,n){var r=Uu;if(r&&"string"===typeof t&&t){var i=yt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),zu.has(i)||(zu.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(hu(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Hu(e,t,n,r){var i,s,o,l,c=(c=G.current)?qu(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Gu(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Gu(n.href);var d=Ze(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Ju(e)))&&!d._p&&(u.instance=d,u.state.loading=5),Fu.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Fu.set(e,n),d||(i=c,s=e,o=n,l=u.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),hu(s,"link",o),et(s),i.head.appendChild(s))))),t&&null===r)throw Error(a(528,""));return u}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Yu(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Gu(e){return'href="'+yt(e)+'"'}function Ju(e){return'link[rel="stylesheet"]['+e+"]"}function Ku(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Yu(e){return'[src="'+yt(e)+'"]'}function Qu(e){return"script[async]"+e}function Xu(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=m({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),hu(r,"style",i),$u(r,n.precedence,e),t.instance=r;case"stylesheet":i=Gu(n.href);var s=e.querySelector(Ju(i));if(s)return t.state.loading|=4,t.instance=s,et(s),s;r=Ku(n),(i=Fu.get(i))&&Zu(r,i),et(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),hu(s,"link",r),t.state.loading|=4,$u(s,n.precedence,e),t.instance=s;case"script":return s=Yu(n.src),(i=e.querySelector(Qu(s)))?(t.instance=i,et(i),i):(r=n,(i=Fu.get(s))&&eh(r=m({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),hu(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,$u(r,n.precedence,e));return t.instance}function $u(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Zu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var th=null;function nh(e,t,n){if(null===th){var r=new Map,i=th=new Map;i.set(n,r)}else(r=(i=th).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Ke]||s[qe]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function rh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ih(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sh=0;function ah(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var oh=null;function lh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,oh=new Map,t.forEach(ch,e),oh=null,ah.call(e))}function ch(e,t){if(!(4&t.state.loading)){var n=oh.get(e);if(n)var r=n.get(null);else{n=new Map,oh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=ah.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var dh={$$typeof:w,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function uh(e,t,n,r,i,s,a,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ie(0),this.hiddenUpdates=Ie(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hh(e,t,n,r,i,s,a,o,l,c,d,u){return e=new uh(e,t,n,a,l,c,d,u,o),t=1,!0===s&&(t|=24),s=Br(3,null,null,t),e.current=s,s.stateNode=e,(t=Fi()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},gs(s),e}function mh(e){return e?e=Or:Or}function ph(e,t,n,r,i,s){i=mh(i),null===r.context?r.context=i:r.pendingContext=i,(r=bs(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=xs(e,r,t))&&(Kc(n,0,t),vs(n,e,t))}function fh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gh(e,t){fh(e,t),(e=e.alternate)&&fh(e,t)}function yh(e){if(13===e.tag||31===e.tag){var t=Rr(e,67108864);null!==t&&Kc(t,0,67108864),gh(e,67108864)}}function bh(e){if(13===e.tag||31===e.tag){var t=Gc(),n=Rr(e,t=Oe(t));null!==n&&Kc(n,0,t),gh(e,t)}}var xh=!0;function vh(e,t,n,r){var i=D.T;D.T=null;var s=L.p;try{L.p=2,Nh(e,t,n,r)}finally{L.p=s,D.T=i}}function wh(e,t,n,r){var i=D.T;D.T=null;var s=L.p;try{L.p=8,Nh(e,t,n,r)}finally{L.p=s,D.T=i}}function Nh(e,t,n,r){if(xh){var i=kh(r);if(null===i)tu(e,t,r,jh,n),Lh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ah=Oh(Ah,e,t,n,r,i),!0;case"dragenter":return Eh=Oh(Eh,e,t,n,r,i),!0;case"mouseover":return Ph=Oh(Ph,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ih.set(s,Oh(Ih.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,_h.set(s,Oh(_h.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lh(e,r),4&t&&-1<Dh.indexOf(e)){for(;null!==i;){var s=Xe(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=Se(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-ve(a);o.entanglements[1]|=l,a&=~l}Ld(s),0===(6&mc)&&(Dc=le()+500,Od(0,!1))}}break;case 31:case 13:null!==(o=Rr(s,2))&&Kc(o,0,2),Zc(),gh(s,2)}if(null===(s=kh(r))&&tu(e,t,r,jh,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else tu(e,t,r,null,n)}}function kh(e){return Ch(e=Dt(e))}var jh=null;function Ch(e){if(jh=null,null!==(e=Qe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=d(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return jh=e,null}function Sh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case he:case me:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Th=!1,Ah=null,Eh=null,Ph=null,Ih=new Map,_h=new Map,Rh=[],Dh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lh(e,t){switch(e){case"focusin":case"focusout":Ah=null;break;case"dragenter":case"dragleave":Eh=null;break;case"mouseover":case"mouseout":Ph=null;break;case"pointerover":case"pointerout":Ih.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_h.delete(t.pointerId)}}function Oh(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Xe(t))&&yh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mh(e){var t=Qe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Fe(e.priority,function(){bh(n)})}else if(31===t){if(null!==(t=d(n)))return e.blockedOn=t,void Fe(e.priority,function(){bh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=kh(e.nativeEvent);if(null!==n)return null!==(t=Xe(n))&&yh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function Fh(e,t,n){Bh(e)&&n.delete(t)}function zh(){Th=!1,null!==Ah&&Bh(Ah)&&(Ah=null),null!==Eh&&Bh(Eh)&&(Eh=null),null!==Ph&&Bh(Ph)&&(Ph=null),Ih.forEach(Fh),_h.forEach(Fh)}function qh(e,t){e.blockedOn===t&&(e.blockedOn=null,Th||(Th=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zh)))}var Wh=null;function Uh(e){Wh!==e&&(Wh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wh===e&&(Wh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Ch(r||n))continue;break}var s=Xe(n);null!==s&&(e.splice(t,3),t-=3,eo(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Vh(e){function t(t){return qh(t,e)}null!==Ah&&qh(Ah,e),null!==Eh&&qh(Eh,e),null!==Ph&&qh(Ph,e),Ih.forEach(t),_h.forEach(t);for(var n=0;n<Rh.length;n++){var r=Rh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Rh.length&&null===(n=Rh[0]).blockedOn;)Mh(n),null===n.blockedOn&&Rh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[We]||null;if("function"===typeof s)a||Uh(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[We]||null)o=a.formAction;else if(null!==Ch(i))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Uh(n)}}}function Hh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Gh(e){this._internalRoot=e}function Jh(e){this._internalRoot=e}Jh.prototype.render=Gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));ph(t.current,Gc(),e,t,null,null)},Jh.prototype.unmount=Gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ph(e.current,2,null,e,null,null),Zc(),t[Ue]=null}},Jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Be();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rh.length&&0!==t&&t<Rh[n].priority;n++);Rh.splice(n,0,e),0===n&&Mh(e)}};var Kh=i.version;if("19.2.0"!==Kh)throw Error(a(527,Kh,"19.2.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return u(i),e;if(s===r)return u(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Yh={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{ye=Qh.inject(Yh),be=Qh}catch($h){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",i=jo,s=Co,l=So;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=hh(e,1,!1,null,0,n,r,null,i,s,l,Hh),e[Ue]=t.current,Zd(e),new Gh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var r=!1,i="",s=jo,l=Co,c=So,d=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(d=n.formState)),(t=hh(e,1,!0,t,0,r,i,d,s,l,c,Hh)).context=mh(null),n=t.current,(i=bs(r=Oe(r=Gc()))).callback=null,xs(n,i,r),n=r,t.current.lanes=n,_e(t,n),Ld(t),e[Ue]=t.current,Zd(e),new Jh(t)},t.version="19.2.0"},12:(e,t,n)=>{"use strict";n.d(t,{S3:()=>u,canCreateAILesson:()=>l,i9:()=>a,incrementAILessonUsage:()=>c});var r=n(555),i=n(667),s=n(662);const a={FREE:{id:"free",name:"Free",price:0,aiLessonsPerMonth:0,features:["All curated learning paths","Bible History (8 lessons)","Church History (8 lessons)","Apologetics (8 lessons)","Progress tracking","Daily challenges"]},BASIC:{id:"basic",name:"Basic",price:2.99,aiLessonsPerMonth:4,features:["All curated learning paths","1 AI lesson per week (4/month)","Custom AI-generated content","Progress tracking","Daily challenges"]},PREMIUM:{id:"premium",name:"Premium",price:5.99,aiLessonsPerMonth:1/0,isUnlimited:!0,features:["All curated learning paths","Unlimited AI lessons","Unlimited Deep Dives (3 lessons)","Unlimited Full Paths (8 lessons)","Progress tracking","Daily challenges","Early access to new features"]}},o=async e=>{try{const t=(0,i.doc)(s.db,"users",e,"subscription","current"),n=await(0,i.x7)(t);if(!n.exists()){const e={tier:"free",status:"active",aiLessonsUsed:0,currentPeriodStart:new Date,currentPeriodEnd:d(),createdAt:new Date};return await(0,i.BN)(t,e),{success:!0,subscription:e}}const a=n.data(),o=new Date;if(a.currentPeriodEnd&&a.currentPeriodEnd.toDate()<o){const e=(0,r.A)((0,r.A)({},a),{},{aiLessonsUsed:0,currentPeriodStart:o,currentPeriodEnd:d()});return await(0,i.mZ)(t,e),{success:!0,subscription:e}}return{success:!0,subscription:a}}catch(t){return console.error("Error getting user subscription:",t),{success:!1,error:t.message}}},l=async function(e){try{const t=await o(e);if(!t.success)return{allowed:!1,reason:"Failed to check subscription"};const{subscription:n}=t,r=a[n.tier.toUpperCase()];if(!r)return{allowed:!1,reason:"Invalid subscription tier"};if(r.isUnlimited)return{allowed:!0,tier:n.tier,remaining:"unlimited"};const i=n.aiLessonsUsed||0,s=r.aiLessonsPerMonth;return"free"===n.tier&&0===i?{allowed:!0,tier:n.tier,used:i,limit:s,remaining:1,freeTrialAvailable:!0,note:"One free AI lesson available for new registered users"}:i>=s?{allowed:!1,reason:0===s?"AI lessons require a paid subscription":"Monthly limit reached",tier:n.tier,used:i,limit:s,upgradeNeeded:"free"===n.tier?"basic":"premium"}:{allowed:!0,tier:n.tier,used:i,limit:s,remaining:s-i}}catch(t){return console.error("Error checking AI lesson eligibility:",t),{allowed:!1,reason:t.message}}},c=async function(e){try{const t=(0,i.doc)(s.db,"users",e,"subscription","current"),n=await o(e);return n.success&&"premium"===n.subscription.tier?(console.log("Premium user - unlimited lessons, not counting usage"),{success:!0}):(await(0,i.mZ)(t,{aiLessonsUsed:(0,i.GV)(1),lastLessonCreated:new Date}),console.log("\u2705 AI lesson usage incremented"),{success:!0})}catch(t){return console.error("Error incrementing AI lesson usage:",t),{success:!1,error:t.message}}};function d(){const e=new Date;return e.setMonth(e.getMonth()+1),e}const u=async e=>{try{const n=await o(e);if(!n.success)return{success:!1,error:n.error};const{subscription:r}=n,i=(t=r.tier,a[t.toUpperCase()]),s=r.aiLessonsUsed||0,l=i.aiLessonsPerMonth;if(i.isUnlimited)return{success:!0,tier:r.tier,tierName:i.name,used:s,limit:"\u221e",remaining:"\u221e",percentage:0,isUnlimited:!0,periodEnd:r.currentPeriodEnd,status:r.status};const c=l-s,d=l>0?Math.round(s/l*100):0,u="free"===r.tier&&0===(r.aiLessonsUsed||0),h=u?Math.max(c,1):Math.max(c,0);return{success:!0,tier:r.tier,tierName:i.name,used:s,limit:l,remaining:h,freeTrialAvailable:u,percentage:d,isUnlimited:!1,periodEnd:r.currentPeriodEnd,status:r.status}}catch(n){return console.error("Error getting usage summary:",n),{success:!1,error:n.message}}var t}},43:(e,t,n)=>{"use strict";e.exports=n(288)},54:(e,t,n)=>{"use strict";n.d(t,{S6:()=>c,deleteAIPathFromFirestore:()=>h,getAIPathProgressFromFirestore:()=>p,getAIPathsFromFirestore:()=>u,getUserProgress:()=>o,lr:()=>l,saveAIPathProgressToFirestore:()=>m,saveAIPathToFirestore:()=>d});var r=n(555),i=n(667),s=n(662);const a=async e=>{try{const t=(0,i.doc)(s.db,"users",e,"progress","main"),n=await(0,i.x7)(t);if(!n.exists()){const e={totalXP:0,courses:{bible:{completedLessons:[],totalXP:0,lastCompleted:null},church:{completedLessons:[],totalXP:0,lastCompleted:null},apologetics:{completedLessons:[],totalXP:0,lastCompleted:null}},dailyChallenges:{totalCompleted:0,totalXP:0,streak:0,lastCompletedDate:null,completedDates:[]},studyGuide:{completedWeeks:[],quizScores:{},lastUpdated:null},reviews:{totalCompleted:0,totalXP:0,sessions:[]},lastUpdated:(0,i.O5)()};return await(0,i.BN)(t,e),{success:!0,progress:e}}return{success:!0,progress:n.data()}}catch(t){return console.error("Initialize progress error:",t),{success:!1,error:t.message}}},o=async e=>{try{const t=(0,i.doc)(s.db,"users",e,"progress","main"),n=await(0,i.x7)(t);return n.exists()?{success:!0,progress:n.data()}:await a(e)}catch(t){return console.error("Get progress error:",t),{success:!1,error:t.message}}},l=async(e,t,n,r)=>{try{var o;const l=(0,i.doc)(s.db,"users",e,"progress","main"),c=await(0,i.x7)(l);c.exists()||await a(e);const d=c.data()||{};if("ai_generated"===t)return await(0,i.mZ)(l,{totalXP:(0,i.GV)(r),lastUpdated:(0,i.O5)()}),{success:!0,xpAwarded:r,message:"AI lesson XP awarded successfully"};return((null===(o=d.courses)||void 0===o?void 0:o[t])||{completedLessons:[],totalXP:0}).completedLessons.includes(n)?{success:!0,message:"Lesson already completed",xpAwarded:0}:(await(0,i.mZ)(l,{["courses.".concat(t,".completedLessons")]:(0,i.hq)(n),["courses.".concat(t,".totalXP")]:(0,i.GV)(r),["courses.".concat(t,".lastCompleted")]:(0,i.O5)(),totalXP:(0,i.GV)(r),lastUpdated:(0,i.O5)()}),{success:!0,xpAwarded:r,message:"Lesson completed successfully"})}catch(l){return console.error("Complete lesson error:",l),{success:!1,error:l.message}}},c=async(e,t,n)=>{try{var r;const o=(0,i.doc)(s.db,"users",e,"progress","main"),l=await(0,i.x7)(o);l.exists()||await a(e);const c=(l.data()||{}).dailyChallenges||{};if(null!==(r=c.completedDates)&&void 0!==r&&r.includes(t))return{success:!0,message:"Daily challenge already completed today",xpAwarded:0};const d=new Date;d.setDate(d.getDate()-1);const u=d.toISOString().split("T")[0];let h=1;return c.lastCompletedDate===u&&(h=(c.streak||0)+1),await(0,i.mZ)(o,{"dailyChallenges.totalCompleted":(0,i.GV)(1),"dailyChallenges.totalXP":(0,i.GV)(n),"dailyChallenges.streak":h,"dailyChallenges.lastCompletedDate":t,"dailyChallenges.completedDates":(0,i.hq)(t),totalXP:(0,i.GV)(n),lastUpdated:(0,i.O5)()}),{success:!0,xpAwarded:n,streak:h,message:"Daily challenge completed"}}catch(o){return console.error("Complete daily challenge error:",o),{success:!1,error:o.message}}},d=async(e,t)=>{try{const n=(0,i.doc)(s.db,"users",e,"aiPaths",t.id);return await(0,i.BN)(n,(0,r.A)((0,r.A)({},t),{},{savedAt:(0,i.O5)(),updatedAt:(0,i.O5)()})),{success:!0}}catch(n){return console.error("Error saving AI path to Firestore:",n),{success:!1,error:n.message}}},u=async e=>{try{const{collection:t,getDocs:i,query:a,orderBy:o}=await Promise.resolve().then(n.bind(n,667)),l=a(t(s.db,"users",e,"aiPaths"),o("savedAt","desc")),c=await i(l),d=[];return c.forEach(e=>{d.push((0,r.A)((0,r.A)({},e.data()),{},{id:e.id}))}),{success:!0,paths:d}}catch(t){return console.error("Error loading AI paths from Firestore:",t),{success:!1,error:t.message,paths:[]}}},h=async(e,t)=>{try{const{deleteDoc:r}=await Promise.resolve().then(n.bind(n,667)),a=(0,i.doc)(s.db,"users",e,"aiPaths",t);await r(a);const o=(0,i.doc)(s.db,"users",e,"aiPathProgress",t);return await r(o),{success:!0}}catch(r){return console.error("Error deleting AI path from Firestore:",r),{success:!1,error:r.message}}},m=async(e,t,n)=>{try{const r=(0,i.doc)(s.db,"users",e,"aiPathProgress",t);return await(0,i.BN)(r,{completedLessons:n,lastUpdated:(0,i.O5)()}),{success:!0}}catch(r){return console.error("Error saving AI path progress:",r),{success:!1,error:r.message}}},p=async(e,t)=>{try{const n=(0,i.doc)(s.db,"users",e,"aiPathProgress",t),r=await(0,i.x7)(n);return r.exists()?{success:!0,progress:r.data()}:{success:!0,progress:{completedLessons:[]}}}catch(n){return console.error("Error loading AI path progress:",n),{success:!1,error:n.message,progress:{completedLessons:[]}}}}},144:(e,t,n)=>{"use strict";n.d(t,{IX:()=>Ye,eJ:()=>mt,hG:()=>bt,xI:()=>qn,hg:()=>gt,kZ:()=>ut,x9:()=>pt,CI:()=>yt,r7:()=>ft});var r=n(986),i=n(555),s=n(232),a=n(776),o=n(965),l=n(606);const c=["providerId"],d=["uid","auth","stsTokenManager"],u=["providerId","signInMethod"];function h(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m=h,p=new a.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),f=new o.Vy("@firebase/auth");function g(e){if(f.logLevel<=o.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];f.error("Auth (".concat(s.MF,"): ").concat(e),...n)}}function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw w(e,...n)}function b(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return w(e,...n)}function x(e,t,n){const r=(0,i.A)((0,i.A)({},m()),{},{[t]:n});return new a.FA("auth","Firebase",r).create(t,{appName:e.name})}function v(e){return x(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function w(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return p.create(e,...n)}function N(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw w(t,...r)}}function k(e){const t="INTERNAL ASSERTION FAILED: "+e;throw g(t),new Error(t)}function j(e,t){e||k(t)}function C(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function S(){return"http:"===T()||"https:"===T()}function T(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class A{constructor(e,t){this.shortDelay=e,this.longDelay=t,j(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,a.jZ)()||(0,a.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(S()||(0,a.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function E(e,t){j(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class P{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void k("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void k("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void k("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const I={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},_=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],R=new A(3e4,6e4);function D(e,t){return e.tenantId&&!t.tenantId?(0,i.A)((0,i.A)({},t),{},{tenantId:e.tenantId}):t}async function L(e,t,n,r){return O(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let s={},o={};r&&("GET"===t?o=r:s={body:JSON.stringify(r)});const l=(0,a.Am)((0,i.A)({key:e.config.apiKey},o)).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const d=(0,i.A)({method:t,headers:c},s);return(0,a.c1)()||(d.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,a.zJ)(e.emulatorConfig.host)&&(d.credentials="include"),P.fetch()(await B(e,e.config.apiHost,n,l),d)})}async function O(e,t,n){e._canInitEmulator=!1;const r=(0,i.A)((0,i.A)({},I),t);try{const t=new z(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw q(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw q(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw q(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw q(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw x(e,o,a);y(e,o)}}catch(s){if(s instanceof a.g)throw s;y(e,"network-request-failed",{message:String(s)})}}async function M(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await L(e,t,n,r,i);return"mfaPendingCredential"in s&&y(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function B(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),s=e,a=s.config.emulator?E(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(_.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(a).toString()}return a}function F(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class z{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(b(this.auth,"network-request-failed")),R.get())})}}function q(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=b(e,t,r);return i.customData._tokenResponse=n,i}function W(e){return void 0!==e&&void 0!==e.enterprise}class U{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return F(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V(e,t){return L(e,"GET","/v2/recaptchaConfig",D(e,t))}async function H(e,t){return L(e,"POST","/v1/accounts:lookup",t)}function G(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function J(e){return 1e3*Number(e)}function K(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return g("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,a.u)(n);return e?JSON.parse(e):(g("Failed to decode base64 JWT payload"),null)}catch(i){return g("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Y(e){const t=K(e);return N(t,"internal-error"),N("undefined"!==typeof t.exp,"internal-error"),N("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Q(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof a.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class X{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ${constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=G(this.lastLoginAt),this.creationTime=G(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Z(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Q(e,H(n,{idToken:r}));N(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?ee(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const d=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(null!==o&&void 0!==o&&o.length),h=!!d&&u,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new $(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,m)}function ee(e){return e.map(e=>{let{providerId:t}=e,n=(0,r.A)(e,c);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class te{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){N(e.idToken,"internal-error"),N("undefined"!==typeof e.idToken,"internal-error"),N("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Y(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){N(0!==e.length,"internal-error");const t=Y(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(N(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await O(e,{},async()=>{const n=(0,a.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await B(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return e.emulatorConfig&&(0,a.zJ)(e.emulatorConfig.host)&&(l.credentials="include"),P.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new te;return n&&(N("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(N("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(N("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new te,this.toJSON())}_performRefresh(){return k("not implemented")}}function ne(e,t){N("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class re{constructor(e){let{uid:t,auth:n,stsTokenManager:i}=e,s=(0,r.A)(e,d);this.providerId="firebase",this.proactiveRefresh=new X(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Q(this,this.stsTokenManager.getToken(this.auth,e));return N(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,a.Ku)(e),r=await n.getIdToken(t),i=K(r);N(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:G(J(i.auth_time)),issuedAtTime:G(J(i.iat)),expirationTime:G(J(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,a.Ku)(e);await Z(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(N(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>(0,i.A)({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new re((0,i.A)((0,i.A)({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Z(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,s.xZ)(this.auth.app))return Promise.reject(v(this.auth));const e=await this.getIdToken();return await Q(this,async function(e,t){return L(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return(0,i.A)((0,i.A)({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>(0,i.A)({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,a,o,l,c,d;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,m=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(a=t.photoURL)&&void 0!==a?a:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,y=null!==(c=t.createdAt)&&void 0!==c?c:void 0,b=null!==(d=t.lastLoginAt)&&void 0!==d?d:void 0,{uid:x,emailVerified:v,isAnonymous:w,providerData:k,stsTokenManager:j}=t;N(x&&j,e,"internal-error");const C=te.fromJSON(this.name,j);N("string"===typeof x,e,"internal-error"),ne(u,e.name),ne(h,e.name),N("boolean"===typeof v,e,"internal-error"),N("boolean"===typeof w,e,"internal-error"),ne(m,e.name),ne(p,e.name),ne(f,e.name),ne(g,e.name),ne(y,e.name),ne(b,e.name);const S=new re({uid:x,auth:e,email:h,emailVerified:v,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:m,tenantId:f,stsTokenManager:C,createdAt:y,lastLoginAt:b});return k&&Array.isArray(k)&&(S.providerData=k.map(e=>(0,i.A)({},e))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new te;r.updateFromServerResponse(t);const i=new re({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Z(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];N(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?ee(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),a=new te;a.updateFromIdToken(n);const o=new re({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new $(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(o,l),o}}const ie=new Map;function se(e){j(e instanceof Function,"Expected a class definition");let t=ie.get(e);return t?(j(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ie.set(e,t),t)}class ae{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ae.type="NONE";const oe=ae;function le(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ce{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=le(this.userKey,r.apiKey,i),this.fullPersistenceKey=le("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await H(this.auth,{idToken:e}).catch(()=>{});return t?re._fromGetAccountInfoResponse(this.auth,t,e):null}return re._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ce(se(oe),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||se(oe);const s=le(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await H(e,{idToken:t}).catch(()=>{});if(!r)break;n=await re._fromGetAccountInfoResponse(e,r,t)}else n=re._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(t){}})),new ce(i,e,n)):new ce(i,e,n)}}function de(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(pe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ue(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ge(t))return"Blackberry";if(ye(t))return"Webos";if(he(t))return"Safari";if((t.includes("chrome/")||me(t))&&!t.includes("edge/"))return"Chrome";if(fe(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/firefox\//i.test(e)}function he(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/crios\//i.test(e)}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/iemobile/i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/android/i.test(e)}function ge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/blackberry/i.test(e)}function ye(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/webos/i.test(e)}function be(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function xe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return be(e)||fe(e)||ye(e)||ge(e)||/windows phone/i.test(e)||pe(e)}function ve(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=de((0,a.ZQ)());break;case"Worker":t="".concat(de((0,a.ZQ)()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(s.MF,"/").concat(r)}class we{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Ne{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class ke{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ce(this),this.idTokenSubscription=new Ce(this),this.beforeStateQueue=new we(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=se(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await ce.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(s){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await H(this,{idToken:e}),n=await re._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if((0,s.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,a;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,s=null===(a=n)||void 0===a?void 0:a._redirectEventId,o=await this.tryRedirectSignIn(e);t&&t!==s||null===o||void 0===o||!o.user||(n=o.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return N(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Z(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,s.xZ)(this.app))return Promise.reject(v(this));const t=e?(0,a.Ku)(e):null;return t&&N(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&N(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,s.xZ)(this.app)?Promise.reject(v(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,s.xZ)(this.app)?Promise.reject(v(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(se(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return L(e,"GET","/v2/passwordPolicy",D(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ne(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new a.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return L(e,"POST","/v2/accounts:revokeToken",D(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&se(e)||this._popupRedirectResolver;N(t,this,"argument-error"),this.redirectPersistenceManager=await ce.create(this,[se(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(N(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ve(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if((0,s.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(f.logLevel<=o.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];f.warn("Auth (".concat(s.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function je(e){return(0,a.Ku)(e)}class Ce{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,a.tD)(e=>this.observer=e)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Se={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Te(e){return Se.loadJS(e)}function Ae(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ee{constructor(){this.enterprise=new Pe}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Pe{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ie="NO_RECAPTCHA";class _e{constructor(e){this.type="recaptcha-enterprise",this.auth=je(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;W(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Ie)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ee).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{V(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new U(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&W(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Se.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Te(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Re(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new _e(e);let o;if(s)o=Ie;else try{o=await a.verify(n)}catch(c){o=await a.verify(n,!0)}const l=(0,i.A)({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in l){const e=l.phoneEnrollmentInfo.phoneNumber,t=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const e=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function De(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Re(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Re(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("PHONE_PROVIDER")){const i=await Re(e,t,n);return r(e,i).catch(async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Re(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Re(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Le(e){const t=je(e),n=await V(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new U(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new _e(t).verify()}}function Oe(e,t,n){const r=je(e);N(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),s=Me(t),{host:o,port:l}=function(e){const t=Me(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Be(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Be(t)}}}(t),c=null===l?"":":".concat(l),d={url:"".concat(s,"//").concat(o).concat(c,"/")},u=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return N(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void N((0,a.bD)(d,r.config.emulator)&&(0,a.bD)(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=d,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,(0,a.zJ)(o)?((0,a.gE)("".concat(s,"//").concat(o).concat(c)),(0,a.P1)("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Me(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Be(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Fe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return k("not implemented")}_getIdTokenResponse(e){return k("not implemented")}_linkToIdToken(e,t){return k("not implemented")}_getReauthenticationResolver(e){return k("not implemented")}}async function ze(e,t){return L(e,"POST","/v1/accounts:signUp",t)}async function qe(e,t){return M(e,"POST","/v1/accounts:signInWithPassword",D(e,t))}class We extends Fe{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new We(e,t,"password")}static _fromEmailAndCode(e,t){return new We(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return De(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",qe,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return M(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))}(e,{email:this._email,oobCode:this._password});default:y(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return De(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ze,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return M(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:y(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ue(e,t){return M(e,"POST","/v1/accounts:signInWithIdp",D(e,t))}class Ve extends Fe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ve(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):y("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,s=(0,r.A)(t,u);if(!n||!i)return null;const a=new Ve(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){return Ue(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ue(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ue(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,a.Am)(t)}return e}}async function He(e,t){return L(e,"POST","/v1/accounts:sendVerificationCode",D(e,t))}const Ge={USER_NOT_FOUND:"user-not-found"};class Je extends Fe{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Je({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Je({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return M(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await M(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t));if(n.temporaryProof)throw q(e,"account-exists-with-different-credential",n);return n}(e,(0,i.A)({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return M(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,(0,i.A)((0,i.A)({},t),{},{operation:"REAUTH"})),Ge)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Je({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ke{constructor(e){var t,n,r,i,s,o;const l=(0,a.I9)((0,a.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,d=null!==(n=l.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);N(c&&d&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=d,this.continueUrl=null!==(i=l.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=l.lang)&&void 0!==s?s:null,this.tenantId=null!==(o=l.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=(0,a.I9)((0,a.hp)(e)).link,n=t?(0,a.I9)((0,a.hp)(t)).deep_link_id:null,r=(0,a.I9)((0,a.hp)(e)).deep_link_id;return(r?(0,a.I9)((0,a.hp)(r)).link:null)||r||n||t||e}(e);try{return new Ke(t)}catch(n){return null}}}class Ye{constructor(){this.providerId=Ye.PROVIDER_ID}static credential(e,t){return We._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ke.parseLink(t);return N(n,"argument-error"),We._fromEmailAndCode(e,n.code,n.tenantId)}}Ye.PROVIDER_ID="password",Ye.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ye.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Qe{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Xe extends Qe{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $e extends Xe{constructor(){super("facebook.com")}static credential(e){return Ve._fromParams({providerId:$e.PROVIDER_ID,signInMethod:$e.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $e.credentialFromTaggedObject(e)}static credentialFromError(e){return $e.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return $e.credential(t.oauthAccessToken)}catch(n){return null}}}$e.FACEBOOK_SIGN_IN_METHOD="facebook.com",$e.PROVIDER_ID="facebook.com";class Ze extends Xe{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ve._fromParams({providerId:Ze.PROVIDER_ID,signInMethod:Ze.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ze.credentialFromTaggedObject(e)}static credentialFromError(e){return Ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ze.credential(n,r)}catch(i){return null}}}Ze.GOOGLE_SIGN_IN_METHOD="google.com",Ze.PROVIDER_ID="google.com";class et extends Xe{constructor(){super("github.com")}static credential(e){return Ve._fromParams({providerId:et.PROVIDER_ID,signInMethod:et.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return et.credentialFromTaggedObject(e)}static credentialFromError(e){return et.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return et.credential(t.oauthAccessToken)}catch(n){return null}}}et.GITHUB_SIGN_IN_METHOD="github.com",et.PROVIDER_ID="github.com";class tt extends Xe{constructor(){super("twitter.com")}static credential(e,t){return Ve._fromParams({providerId:tt.PROVIDER_ID,signInMethod:tt.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return tt.credentialFromTaggedObject(e)}static credentialFromError(e){return tt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return tt.credential(n,r)}catch(i){return null}}}async function nt(e,t){return M(e,"POST","/v1/accounts:signUp",D(e,t))}tt.TWITTER_SIGN_IN_METHOD="twitter.com",tt.PROVIDER_ID="twitter.com";class rt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await re._fromIdTokenResponse(e,n,r),s=it(n);return new rt({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=it(n);return new rt({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function it(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class st extends a.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,st.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new st(e,t,n,r)}}function at(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw st._fromErrorAndOperation(e,n,t,r);throw n})}async function ot(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Q(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return rt._forOperation(e,"link",r)}async function lt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if((0,s.xZ)(r.app))return Promise.reject(v(r));const i="reauthenticate";try{const s=await Q(e,at(r,i,t,e),n);N(s.idToken,r,"internal-error");const a=K(s.idToken);N(a,r,"internal-error");const{sub:o}=a;return N(e.uid===o,r,"user-mismatch"),rt._forOperation(e,i,s)}catch(a){throw(null===a||void 0===a?void 0:a.code)==="auth/".concat("user-not-found")&&y(r,"user-mismatch"),a}}async function ct(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,s.xZ)(e.app))return Promise.reject(v(e));const r="signIn",i=await at(e,r,t),a=await rt._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function dt(e,t){return ct(je(e),t)}async function ut(e,t){return lt((0,a.Ku)(e),t)}async function ht(e){const t=je(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function mt(e,t,n){if((0,s.xZ)(e.app))return Promise.reject(v(e));const r=je(e),i=De(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nt,"EMAIL_PASSWORD_PROVIDER"),a=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ht(e),t}),o=await rt._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function pt(e,t,n){return(0,s.xZ)(e.app)?Promise.reject(v(e)):dt((0,a.Ku)(e),Ye.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ht(e),t})}async function ft(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=(0,a.Ku)(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await Q(i,async function(e,t){return L(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const l=i.providerData.find(e=>{let{providerId:t}=e;return"password"===t});l&&(l.displayName=i.displayName,l.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function gt(e,t,n,r){return(0,a.Ku)(e).onAuthStateChanged(t,n,r)}function yt(e){return(0,a.Ku)(e).signOut()}async function bt(e){return(0,a.Ku)(e).delete()}function xt(e,t){return L(e,"POST","/v2/accounts/mfaEnrollment:start",D(e,t))}new WeakMap;const vt="__sak";class wt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vt,"1"),this.storage.removeItem(vt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Nt extends wt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xe(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,a.lT)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nt.type="LOCAL";const kt=Nt;function jt(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Ct(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class St{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Ct(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return jt(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Ct(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Ct(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=jt(n);const i=setInterval(()=>{const e=jt(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}St.type="COOKIE";class Tt extends wt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Tt.type="SESSION";const At=Tt;class Et{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Et(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(null===s||void 0===s||!s.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Pt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Et.receivers=[];class It{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=Pt("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function _t(){return window}function Rt(){return"undefined"!==typeof _t().WorkerGlobalScope&&"function"===typeof _t().importScripts}const Dt="firebaseLocalStorageDb",Lt="firebaseLocalStorage",Ot="fbase_key";class Mt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bt(e,t){return e.transaction([Lt],t?"readwrite":"readonly").objectStore(Lt)}function Ft(){const e=indexedDB.open(Dt,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Lt,{keyPath:Ot})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Lt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Dt);return new Mt(e).toPromise()}(),t(await Ft()))})})}async function zt(e,t,n){const r=Bt(e,!0).put({[Ot]:t,value:n});return new Mt(r).toPromise()}function qt(e,t){const n=Bt(e,!0).delete(t);return new Mt(n).toPromise()}class Wt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Ft()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Et._getInstance(Rt()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new It(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ft();return await zt(e,vt,"1"),await qt(e,vt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>zt(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Bt(e,!1).get(t),r=await new Mt(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qt(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Bt(e,!1).getAll();return new Mt(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Wt.type="LOCAL";const Ut=Wt;function Vt(e,t){return L(e,"POST","/v2/accounts/mfaSignIn:start",D(e,t))}Ae("rcb"),new A(3e4,6e4);const Ht="recaptcha";async function Gt(e,t,n){if(!e._getRecaptchaConfig())try{await Le(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){N("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=De(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ie){N((null===n||void 0===n?void 0:n.type)===Ht,e,"argument-error");return xt(e,await Jt(e,t,n))}return xt(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;N("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;N(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=De(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ie){N((null===n||void 0===n?void 0:n.type)===Ht,e,"argument-error");return Vt(e,await Jt(e,t,n))}return Vt(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=De(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Ie){N((null===n||void 0===n?void 0:n.type)===Ht,e,"argument-error");return He(e,await Jt(e,t,n))}return He(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Jt(e,t,n){N(n.type===Ht,e,"argument-error");const r=await n.verify();N("string"===typeof r,e,"argument-error");const s=(0,i.A)({},t);if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.captchaResponse,n=s.phoneEnrollmentInfo.clientType,i=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),s}if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.captchaResponse,t=s.phoneSignInInfo.clientType,n=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),s}return Object.assign(s,{recaptchaToken:r}),s}class Kt{constructor(e){this.providerId=Kt.PROVIDER_ID,this.auth=je(e)}verifyPhoneNumber(e,t){return Gt(this.auth,e,(0,a.Ku)(t))}static credential(e,t){return Je._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Kt.credentialFromTaggedObject(t)}static credentialFromError(e){return Kt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Je._fromTokenResponse(n,r):null}}function Yt(e,t){return t?se(t):(N(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Kt.PROVIDER_ID="phone",Kt.PHONE_SIGN_IN_METHOD="phone";class Qt extends Fe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ue(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ue(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ue(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Xt(e){return ct(e.auth,new Qt(e),e.bypassAuthState)}function $t(e){const{auth:t,user:n}=e;return N(n,t,"internal-error"),lt(n,new Qt(e),e.bypassAuthState)}async function Zt(e){const{auth:t,user:n}=e;return N(n,t,"internal-error"),ot(n,new Qt(e),e.bypassAuthState)}class en{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xt;case"linkViaPopup":case"linkViaRedirect":return Zt;case"reauthViaPopup":case"reauthViaRedirect":return $t;default:y(this.auth,"internal-error")}}resolve(e){j(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){j(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tn=new A(2e3,1e4);class nn extends en{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,nn.currentPopupAction&&nn.currentPopupAction.cancel(),nn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return N(e,this.auth,"internal-error"),e}async onExecution(){j(1===this.filter.length,"Popup operations only handle one event");const e=Pt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(b(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(b(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(b(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,tn.get())};e()}}nn.currentPopupAction=null;const rn=new Map;class sn extends en{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=rn.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ln(t),r=on(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}rn.set(this.auth._key(),e)}return this.bypassAuthState||rn.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function an(e,t){rn.set(e._key(),t)}function on(e){return se(e._redirectPersistence)}function ln(e){return le("pendingRedirect",e.config.apiKey,e.name)}async function cn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,s.xZ)(e.app))return Promise.reject(v(e));const r=je(e),i=Yt(r,t),a=new sn(r,i,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class dn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!hn(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(b(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(un(e))}saveEventToCache(e){this.cachedEventUids.add(un(e)),this.lastProcessedEventTime=Date.now()}}function un(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function hn(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const mn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pn=/^https?/;async function fn(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return L(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(gn(r))return}catch(n){}y(e,"unauthorized-domain")}function gn(e){const t=C(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!pn.test(n))return!1;if(mn.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const yn=new A(3e4,6e4);function bn(){const e=_t().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function xn(e){return new Promise((t,n)=>{var r,i;function s(){bn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bn(),n(b(e,"network-request-failed"))},timeout:yn.get()})}if(null!==(r=_t().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=_t().gapi)||void 0===i||!i.load){const t=Ae("iframefcb");return _t()[t]=()=>{gapi.load?s():n(b(e,"network-request-failed"))},Te("".concat(Se.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw vn=null,e})}let vn=null;const wn=new A(5e3,15e3),Nn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jn(e){const t=e.config;N(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?E(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:s.MF},i=kn.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat((0,a.Am)(r).slice(1))}async function Cn(e){const t=await function(e){return vn=vn||xn(e),vn}(e),n=_t().gapi;return N(n,e,"internal-error"),t.open({where:document.body,url:jn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nn,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=b(e,"network-request-failed"),s=_t().setTimeout(()=>{r(i)},wn.get());function a(){_t().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const Sn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Tn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function An(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=(0,i.A)((0,i.A)({},Sn),{},{width:r.toString(),height:s.toString(),top:o,left:l}),u=(0,a.ZQ)().toLowerCase();n&&(c=me(u)?"_blank":n),ue(u)&&(t=t||"http://localhost",d.scrollbars="yes");const h=Object.entries(d).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return be(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new Tn(null);const m=window.open(t||"",c,h);N(m,e,"popup-blocked");try{m.focus()}catch(p){}return new Tn(m)}const En="__/auth/handler",Pn="emulator/auth/handler",In=encodeURIComponent("fac");async function _n(e,t,n,r,i,o){N(e.config.authDomain,e,"auth-domain-config-required"),N(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:s.MF,eventId:i};if(t instanceof Qe){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,a.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))l[e]=t}if(t instanceof Xe){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const s of Object.keys(c))void 0===c[s]&&delete c[s];const d=await e._getAppCheckToken(),u=d?"#".concat(In,"=").concat(encodeURIComponent(d)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(En);return E(t,Pn)}(e),"?").concat((0,a.Am)(c).slice(1)).concat(u)}const Rn="webStorageSupport";const Dn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=At,this._completeRedirectFn=cn,this._overrideRedirectResult=an}async _openPopup(e,t,n,r){var i;j(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return An(e,await _n(e,t,n,C(),r),Pt())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){_t().location.href=e}(await _n(e,t,n,C(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(j(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Cn(e),n=new dn(e);return t.register("authEvent",t=>{N(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Rn,{type:Rn},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[Rn];void 0!==i&&t(!!i),y(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fn(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xe()||he()||be()}};var Ln="@firebase/auth",On="1.11.1";class Mn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Bn=(0,a.XA)("authIdTokenMaxAge")||300;let Fn=null;const zn=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Bn)return;const i=null===n||void 0===n?void 0:n.token;Fn!==i&&(Fn=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))};function qn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.Sx)();const t=(0,s.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,s.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,a.bD)(r,null!==t&&void 0!==t?t:{}))return e;y(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Dn,persistence:[Ut,kt,At]}),r=(0,a.XA)("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=zn(e.toString());!function(e,t,n){(0,a.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){(0,a.Ku)(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}const i=(0,a.Tj)("auth");return i&&Oe(n,"http://".concat(i)),n}var Wn;Se={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=b("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Wn="Browser",(0,s.om)(new l.uA("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;N(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Wn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ve(Wn)},c=new ke(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(se);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,s.om)(new l.uA("auth-internal",e=>(e=>new Mn(e))(je(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,s.KO)(Ln,On,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Wn)),(0,s.KO)(Ln,On,"esm2020")},232:(e,t,n)=>{"use strict";n.d(t,{MF:()=>ue,j6:()=>ae,xZ:()=>oe,om:()=>se,Sx:()=>me,Wp:()=>he,KO:()=>pe});var r=n(555),i=n(606),s=n(965),a=n(776);let o,l;const c=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakMap,m=new WeakMap;let p={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return d.get(e);if("objectStoreNames"===t)return e.objectStoreNames||u.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return y(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function f(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(b(this),n),y(c.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(e.apply(b(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(b(this),t,...r);return u.set(s,t.sort?t.sort():[t]),y(s)}}function g(e){return"function"===typeof e?f(e):(e instanceof IDBTransaction&&function(e){if(d.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});d.set(e,t)}(e),t=e,(o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,p):e);var t}function y(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(y(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&c.set(t,e)}).catch(()=>{}),m.set(t,e),t}(e);if(h.has(e))return h.get(e);const t=g(e);return t!==e&&(h.set(e,t),m.set(t,e)),t}const b=e=>m.get(e);const x=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],w=new Map;function N(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(w.get(t))return w.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=v.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!x.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return w.set(t,s),s}p=(e=>(0,r.A)((0,r.A)({},e),{},{get:(t,n,r)=>N(t,n)||e.get(t,n,r),has:(t,n)=>!!N(t,n)||e.has(t,n)}))(p);class k{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const j="@firebase/app",C="0.14.5",S=new s.Vy("@firebase/app"),T="@firebase/app-compat",A="@firebase/analytics-compat",E="@firebase/analytics",P="@firebase/app-check-compat",I="@firebase/app-check",_="@firebase/auth",R="@firebase/auth-compat",D="@firebase/database",L="@firebase/data-connect",O="@firebase/database-compat",M="@firebase/functions",B="@firebase/functions-compat",F="@firebase/installations",z="@firebase/installations-compat",q="@firebase/messaging",W="@firebase/messaging-compat",U="@firebase/performance",V="@firebase/performance-compat",H="@firebase/remote-config",G="@firebase/remote-config-compat",J="@firebase/storage",K="@firebase/storage-compat",Y="@firebase/firestore",Q="@firebase/ai",X="@firebase/firestore-compat",$="firebase",Z="[DEFAULT]",ee={[j]:"fire-core",[T]:"fire-core-compat",[E]:"fire-analytics",[A]:"fire-analytics-compat",[I]:"fire-app-check",[P]:"fire-app-check-compat",[_]:"fire-auth",[R]:"fire-auth-compat",[D]:"fire-rtdb",[L]:"fire-data-connect",[O]:"fire-rtdb-compat",[M]:"fire-fn",[B]:"fire-fn-compat",[F]:"fire-iid",[z]:"fire-iid-compat",[q]:"fire-fcm",[W]:"fire-fcm-compat",[U]:"fire-perf",[V]:"fire-perf-compat",[H]:"fire-rc",[G]:"fire-rc-compat",[J]:"fire-gcs",[K]:"fire-gcs-compat",[Y]:"fire-fst",[X]:"fire-fst-compat",[Q]:"fire-vertex","fire-js":"fire-js",[$]:"fire-js-all"},te=new Map,ne=new Map,re=new Map;function ie(e,t){try{e.container.addComponent(t)}catch(n){S.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function se(e){const t=e.name;if(re.has(t))return S.debug("There were multiple attempts to register component ".concat(t,".")),!1;re.set(t,e);for(const n of te.values())ie(n,e);for(const n of ne.values())ie(n,e);return!0}function ae(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function oe(e){return null!==e&&void 0!==e&&void 0!==e.settings}const le={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ce=new a.FA("app","Firebase",le);class de{constructor(e,t,n){this._isDeleted=!1,this._options=(0,r.A)({},e),this._config=(0,r.A)({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ce.create("app-deleted",{appName:this._name})}}const ue="12.5.0";function he(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const s=(0,r.A)({name:Z,automaticDataCollectionEnabled:!0},t),o=s.name;if("string"!==typeof o||!o)throw ce.create("bad-app-name",{appName:String(o)});if(n||(n=(0,a.T9)()),!n)throw ce.create("no-options");const l=te.get(o);if(l){if((0,a.bD)(n,l.options)&&(0,a.bD)(s,l.config))return l;throw ce.create("duplicate-app",{appName:o})}const c=new i.h1(o);for(const r of re.values())c.addComponent(r);const d=new de(n,s,c);return te.set(o,d),d}function me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;const t=te.get(e);if(!t&&e===Z&&(0,a.T9)())return he();if(!t)throw ce.create("no-app",{appName:e});return t}function pe(e,t,n){var r;let s=null!==(r=ee[e])&&void 0!==r?r:e;n&&(s+="-".concat(n));const a=s.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),a&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void S.warn(e.join(" "))}se(new i.uA("".concat(s,"-version"),()=>({library:s,version:t}),"VERSION"))}const fe="firebase-heartbeat-store";let ge=null;function ye(){return ge||(ge=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=y(a);return r&&a.addEventListener("upgradeneeded",e=>{r(y(a.result),e.oldVersion,e.newVersion,y(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(fe)}catch(n){console.warn(n)}}}).catch(e=>{throw ce.create("idb-open",{originalErrorMessage:e.message})})),ge}async function be(e,t){try{const n=(await ye()).transaction(fe,"readwrite"),r=n.objectStore(fe);await r.put(t,xe(e)),await n.done}catch(n){if(n instanceof a.g)S.warn(n.message);else{const e=ce.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});S.warn(e.message)}}}function xe(e){return"".concat(e.name,"!").concat(e.options.appId)}class ve{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ne(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=we();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){S.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=we(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),ke(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ke(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,a.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return S.warn(t),""}}}function we(){return(new Date).toISOString().substring(0,10)}class Ne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,a.zW)()&&(0,a.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ye()).transaction(fe),n=await t.objectStore(fe).get(xe(e));return await t.done,n}catch(t){if(t instanceof a.g)S.warn(t.message);else{const e=ce.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});S.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return be(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return be(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ke(e){return(0,a.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var je;je="",se(new i.uA("platform-logger",e=>new k(e),"PRIVATE")),se(new i.uA("heartbeat",e=>new ve(e),"PRIVATE")),pe(j,C,je),pe(j,C,"esm2020"),pe("fire-js","")},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||f}function x(){}function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||f}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=b.prototype;var w=v.prototype=new x;w.constructor=v,g(w,b.prototype),w.isPureReactComponent=!0;var N=Array.isArray;function k(){}var j={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function S(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,d=!1;if(null===e)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case r:d=!0;break;case h:return P((d=e._init)(e._payload),t,i,s,a)}}if(d)return a=a(e),d=""===s?"."+E(e,0):s,N(a)?(i="",null!=d&&(i=d.replace(A,"$&/")+"/"),P(a,t,i,"",function(e){return e})):null!=a&&(T(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+d,a=S(l.type,c,l.props)),t.push(a)),1;d=0;var u,m=""===s?".":s+":";if(N(e))for(var f=0;f<e.length;f++)d+=P(s=e[f],t,i,o=m+E(s,f),a);else if("function"===typeof(f=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=p&&u[p]||u["@@iterator"])?u:null))for(e=f.call(e),f=0;!(s=e.next()).done;)d+=P(s=s.value,t,i,o=m+E(s,f++),a);else if("object"===o){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(k,k):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function I(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",function(e){return t.call(n,e,i++)}),r}function _(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},D={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=m,t.Children=D,t.Component=b,t.Fragment=i,t.Profiler=a,t.PureComponent=v,t.StrictMode=s,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return j.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.key&&(i=""+t.key),t)!C.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return S(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)C.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return S(e,s,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:_}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.T,n={};j.T=n;try{var r=e(),i=j.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(k,R)}catch(s){R(s)}finally{null!==t&&null!==n.types&&(t.types=n.types),j.T=t}},t.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},t.use=function(e){return j.H.use(e)},t.useActionState=function(e,t,n){return j.H.useActionState(e,t,n)},t.useCallback=function(e,t){return j.H.useCallback(e,t)},t.useContext=function(e){return j.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return j.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return j.H.useEffect(e,t)},t.useEffectEvent=function(e){return j.H.useEffectEvent(e)},t.useId=function(){return j.H.useId()},t.useImperativeHandle=function(e,t,n){return j.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.H.useMemo(e,t)},t.useOptimistic=function(e,t){return j.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return j.H.useReducer(e,t,n)},t.useRef=function(e){return j.H.useRef(e)},t.useState=function(e){return j.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.H.useTransition()},t.version="19.2.0"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},555:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>o})},579:(e,t,n)=>{"use strict";e.exports=n(799)},606:(e,t,n)=>{"use strict";n.d(t,{h1:()=>o,uA:()=>i});var r=n(776);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const s="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===s?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},662:(e,t,n)=>{"use strict";n.d(t,{j:()=>o,db:()=>l});var r=n(232);(0,r.KO)("firebase","12.5.0","app");var i=n(144),s=n(667);const a=(0,r.Wp)({apiKey:"AIzaSyDvYAi4EMGSfBTysKVsgIvw-dk26kpa4Us",authDomain:"church-explorer-20e5a.firebaseapp.com",projectId:"church-explorer-20e5a",storageBucket:"church-explorer-20e5a.firebasestorage.app",messagingSenderId:"359510802923",appId:"1:359510802923:web:1c9e7c335f63d8ef3659ae"}),o=(0,i.xI)(a),l=(0,s.aU)(a)},667:(e,t,n)=>{"use strict";n.d(t,{hq:()=>bc,collection:()=>tl,deleteDoc:()=>mc,doc:()=>nl,x7:()=>lc,getDocs:()=>dc,aU:()=>ll,GV:()=>xc,onSnapshot:()=>pc,orderBy:()=>Xl,query:()=>Jl,O5:()=>yc,BN:()=>uc,mZ:()=>hc});var r,i,s=n(555),a=n(232),o=n(606),l=n(965),c=n(776),d="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},u={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let s,a=e.g[3];s=t+(a^n&(i^a))+r[0]+3614090360&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[1]+3905402710&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[2]+606105819&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[3]+3250441966&4294967295,s=t+(a^(n=i+(s<<22&4294967295|s>>>10))&(i^a))+r[4]+4118548399&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[5]+1200080426&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[6]+2821735955&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[7]+4249261313&4294967295,s=t+(a^(n=i+(s<<22&4294967295|s>>>10))&(i^a))+r[8]+1770035416&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[9]+2336552879&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[10]+4294925233&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[11]+2304563134&4294967295,s=t+(a^(n=i+(s<<22&4294967295|s>>>10))&(i^a))+r[12]+1804603682&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[13]+4254626195&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[14]+2792965006&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[15]+1236535329&4294967295,s=t+(i^a&((n=i+(s<<22&4294967295|s>>>10))^i))+r[1]+4129170786&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[6]+3225465664&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[11]+643717713&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[0]+3921069994&4294967295,s=t+(i^a&((n=i+(s<<20&4294967295|s>>>12))^i))+r[5]+3593408605&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[10]+38016083&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[15]+3634488961&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[4]+3889429448&4294967295,s=t+(i^a&((n=i+(s<<20&4294967295|s>>>12))^i))+r[9]+568446438&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[14]+3275163606&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[3]+4107603335&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[8]+1163531501&4294967295,s=t+(i^a&((n=i+(s<<20&4294967295|s>>>12))^i))+r[13]+2850285829&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[2]+4243563512&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[7]+1735328473&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[12]+2368359562&4294967295,s=t+((n=i+(s<<20&4294967295|s>>>12))^i^a)+r[5]+4294588738&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[8]+2272392833&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[11]+1839030562&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[14]+4259657740&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^a)+r[1]+2763975236&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[4]+1272893353&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[7]+4139469664&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[10]+3200236656&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^a)+r[13]+681279174&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[0]+3936430074&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[3]+3572445317&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[6]+76029189&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^a)+r[9]+3654602809&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[12]+3873151461&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[15]+530742520&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[2]+3299628645&4294967295,s=t+(i^((n=i+(s<<23&4294967295|s>>>9))|~a))+r[0]+4096336452&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[7]+1126891415&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[14]+2878612391&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[5]+4237533241&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~a))+r[12]+1700485571&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[3]+2399980690&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[10]+4293915773&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[1]+2240044497&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~a))+r[8]+1873313359&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[15]+4264355552&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[6]+2734768916&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[13]+1309151649&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~a))+r[4]+4149444226&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[11]+3174756917&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[2]+718787259&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function s(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let s=this.h,a=0;for(;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var a={};function o(e){return-128<=e&&e<128?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new s([0|e],e<0?-1:0)}):new s([0|e],e<0?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return c;if(e<0)return f(l(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new s(t,0)}var c=o(0),d=o(1),h=o(16777216);function m(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function p(e){return-1==e.h}function f(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new s(n,~e.h).add(d)}function g(e,t){return e.add(f(t))}function y(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function b(e,t){this.g=e,this.h=t}function x(e,t){if(m(t))throw Error("division by zero");if(m(e))return new b(c,c);if(p(e))return t=x(f(e),t),new b(f(t.g),f(t.h));if(p(t))return t=x(e,f(t)),new b(f(t.g),t.h);if(e.g.length>30){if(p(e)||p(t))throw Error("slowDivide_ only works with positive integers.");for(var n=d,r=t;r.l(e)<=0;)n=v(n),r=v(r);var i=w(n,1),s=w(r,1);for(r=w(r,2),n=w(n,2);!m(r);){var a=s.add(r);a.l(e)<=0&&(i=i.add(n),s=a),r=w(r,1),n=w(n,1)}return t=g(e,i.j(t)),new b(i,t)}for(i=c;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),a=(s=l(n)).j(t);p(a)||a.l(e)>0;)a=(s=l(n-=r)).j(t);m(s)&&(s=d),i=i.add(s),e=g(e,a)}return new b(i,e)}function v(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new s(n,e.h)}function w(e,t){const n=t>>5;t%=32;const r=e.g.length-n,i=[];for(let s=0;s<r;s++)i[s]=t>0?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new s(i,e.h)}(e=s.prototype).m=function(){if(p(this))return-f(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(m(this))return"0";if(p(this))return"-"+f(this).toString(e);const t=l(Math.pow(e,6));var n=this;let r="";for(;;){const i=x(n,t).g;let s=(((n=g(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(m(n=i))return s+r;for(;s.length<6;)s="0"+s;r=s+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return p(e=g(this,e))?-1:m(e)?0:1},e.abs=function(){return p(this)?f(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let r=0;for(let i=0;i<=t;i++){let t=r+(65535&this.i(i))+(65535&e.i(i)),s=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=s>>>16,t&=65535,s&=65535,n[i]=s<<16|t}return new s(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(m(this)||m(e))return c;if(p(this))return p(e)?f(this).j(f(e)):f(f(this).j(e));if(p(e))return f(this.j(f(e)));if(this.l(h)<0&&e.l(h)<0)return l(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){const i=this.i(r)>>>16,s=65535&this.i(r),a=e.i(t)>>>16,o=65535&e.i(t);n[2*r+2*t]+=s*o,y(n,2*r+2*t),n[2*r+2*t+1]+=i*o,y(n,2*r+2*t+1),n[2*r+2*t+1]+=s*a,y(n,2*r+2*t+1),n[2*r+2*t+2]+=i*a,y(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new s(n,0)},e.B=function(e){return x(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new s(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new s(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new s(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,i=u.Md5=t,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return f(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=l(Math.pow(n,8));let i=c;for(let a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a);const e=parseInt(t.substring(a,a+s),n);s<8?(s=l(Math.pow(n,s)),i=i.j(s).add(l(e))):(i=i.j(r),i=i.add(l(e)))}return i},r=u.Integer=s}).apply("undefined"!==typeof d?d:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var h,m,p,f,g,y,b,x,v="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},w={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof v&&v];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},s=this||self;function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=o).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}var u="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function N(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function j(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function C(e){s.setTimeout(()=>{throw e},0)}function S(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var T=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new A,e=>e.reset());class A{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let E,P=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=T.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},_=()=>{const e=Promise.resolve(void 0);E=()=>{e.then(R)}};function R(){for(var e;e=S();){try{e.h.call(e.g)}catch(n){C(n)}var t=T;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}P=!1}function D(){this.u=this.u,this.C=this.C}function L(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},L.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function M(e){return/^[\s\xa0]*$/.test(e)}function B(e,t){L.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}d(B,L),B.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&B.Z.h.call(this)},B.prototype.h=function(){B.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),z=0;function q(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++z,this.da=this.fa=!1}function W(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function U(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function V(e){const t={};for(const n in e)t[n]=e[n];return t}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<H.length;t++)n=H[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function J(e){this.src=e,this.g={},this.h=0}function K(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=s>=0)&&Array.prototype.splice.call(i,s,1),r&&(W(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Y(e,t,n,r){for(let i=0;i<e.length;++i){const s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}J.prototype.add=function(e,t,n,r,i){const s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);const a=Y(e,t,r,i);return a>-1?(t=e[a],n||(t.fa=!1)):((t=new q(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var Q="closure_lm_"+(1e6*Math.random()|0),X={};function $(e,t,n,r,i){if(r&&r.once)return ee(e,t,n,r,i);if(Array.isArray(t)){for(let s=0;s<t.length;s++)$(e,t[s],n,r,i);return null}return n=le(n),e&&e[F]?e.J(t,n,a(r)?!!r.capture:!!r,i):Z(e,t,n,!1,r,i)}function Z(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");const o=a(i)?!!i.capture:!!i;let l=ae(e);if(l||(e[Q]=l=new J(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=se;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ie(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ee(e,t,n,r,i){if(Array.isArray(t)){for(let s=0;s<t.length;s++)ee(e,t[s],n,r,i);return null}return n=le(n),e&&e[F]?e.K(t,n,a(r)?!!r.capture:!!r,i):Z(e,t,n,!0,r,i)}function ne(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)ne(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=le(n),e&&e[F]?(e=e.i,(s=String(t).toString())in e.g&&((n=Y(t=e.g[s],n,r,i))>-1&&(W(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[s],e.h--)))):e&&(e=ae(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Y(t,n,r,i)),(n=e>-1?t[e]:null)&&re(n))}function re(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])K(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ie(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ae(t))?(K(n,e),0==n.h&&(n.src=null,t[Q]=null)):W(e)}}}function ie(e){return e in X?X[e]:X[e]="on"+e}function se(e,t){if(e.da)e=!0;else{t=new B(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&re(e),e=n.call(r,t)}return e}function ae(e){return(e=e[Q])instanceof J?e:null}var oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function le(e){return"function"===typeof e?e:(e[oe]||(e[oe]=function(t){return e.handleEvent(t)}),e[oe])}function ce(){D.call(this),this.i=new J(this),this.M=this,this.G=null}function de(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new L(t,e);else if(t instanceof L)t.target=t.target||e;else{var i=t;G(t=new L(r,e),i)}let s,a;if(i=!0,n)for(a=n.length-1;a>=0;a--)s=t.g=n[a],i=ue(s,r,!0,t)&&i;if(s=t.g=e,i=ue(s,r,!0,t)&&i,i=ue(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)s=t.g=n[a],i=ue(s,r,!1,t)&&i}function ue(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let s=0;s<t.length;++s){const a=t[s];if(a&&!a.da&&a.capture==n){const t=a.listener,n=a.ha||a.src;a.fa&&K(e.i,a),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function he(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:s.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,he(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ce,D),ce.prototype[F]=!0,ce.prototype.removeEventListener=function(e,t,n,r){ne(this,e,t,n,r)},ce.prototype.N=function(){if(ce.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)W(n[e]);delete e.g[t],e.h--}}this.G=null},ce.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ce.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class me extends D{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:he(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pe(e){D.call(this),this.h=e,this.g={}}d(pe,D);var fe=[];function ge(e){U(e.g,function(e,t){this.g.hasOwnProperty(t)&&re(e)},e),e.g={}}pe.prototype.N=function(){pe.Z.N.call(this),ge(this)},pe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ye=s.JSON.stringify,be=s.JSON.parse,xe=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function ve(){}function we(){}var Ne={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){L.call(this,"d")}function je(){L.call(this,"c")}d(ke,L),d(je,L);var Ce={},Se=null;function Te(){return Se=Se||new ce}function Ae(e){L.call(this,Ce.Ia,e)}function Ee(e){const t=Te();de(t,new Ae(t))}function Pe(e,t){L.call(this,Ce.STAT_EVENT,e),this.stat=t}function Ie(e){const t=Te();de(t,new Pe(t,e))}function _e(e,t){L.call(this,Ce.Ja,e),this.size=t}function Re(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function De(){this.g=!0}function Le(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const s=JSON.parse(t);if(s)for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var n=s[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return ye(s)}catch(s){return t}}(e,n)+(r?" "+r:"")})}Ce.Ia="serverreachability",d(Ae,L),Ce.STAT_EVENT="statevent",d(Pe,L),Ce.Ja="timingevent",d(_e,L),De.prototype.ua=function(){this.g=!1},De.prototype.info=function(){};var Oe,Me={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Be={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Fe(){}function ze(e){return encodeURIComponent(String(e))}function qe(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function We(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new pe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ue}function Ue(){this.i=null,this.g="",this.h=!1}d(Fe,ve),Fe.prototype.g=function(){return new XMLHttpRequest},Oe=new Fe;var Ve={},He={};function Ge(e,t,n){e.M=1,e.A=yt(ht(t)),e.u=n,e.R=!0,Je(e,null)}function Je(e,t){e.F=Date.now(),Qe(e),e.B=ht(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),It(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Ue,e.g=bn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new me(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(fe[0]=i.toString()),i=fe);for(let s=0;s<i.length;s++){const e=$(n,i[s],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?V(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),Ee(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s){var a="",o=s.split("&");for(let e=0;e<o.length;e++){var l=o[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");a=t.length>=2&&"type"==t[1]?a+(e+"=")+l+"&":a+(e+"=redacted&")}}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Ke(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Ye(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?He:(n=Number(t.substring(n,r)),isNaN(n)?Ve:(r+=1)+n>t.length?He:(t=t.slice(r,r+n),e.C=r+n,t))}function Qe(e){e.T=Date.now()+e.H,Xe(e,e.H)}function Xe(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=Re(l(e.aa,e),t)}function $e(e){e.D&&(s.clearTimeout(e.D),e.D=null)}function Ze(e){0==e.j.I||e.K||mn(e.j,e)}function et(e){$e(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ge(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function tt(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||at(n.h,e)))if(!e.L&&at(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(d){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;hn(n),tn(n)}cn(n),Ie(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=Re(l(n.Va,n),6e3));st(n.h)<=1&&n.ta&&(n.ta=void 0)}else fn(n,11)}else if((e.L||n.g==e)&&hn(n),!M(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const d=l[0];if(!(d<=n.K))if(n.K=d,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const d=l[5];null!=d&&"number"===typeof d&&d>0&&(r=1.5*d,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const u=e.g;if(u){const e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ot(s,s.h),s.h=null))}if(r.G){const e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,gt(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var a=e;if((r=n).na=yn(r,r.L?r.ba:null,r.W),a.L){lt(r.h,a);var o=a,c=r.O;c&&(o.H=c),o.D&&($e(o),Qe(o)),r.g=a}else ln(r);n.i.length>0&&rn(n)}else"stop"!=l[0]&&"close"!=l[0]||fn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?fn(n,7):en(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}Ee()}catch(d){}}We.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Qt(e)?t.j():this.Y(e)},We.prototype.Y=function(e){try{if(e==this.g)e:{const l=Qt(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Xt(this.g)))){this.K||4!=l||7==c||Ee(),$e(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Ke(e))return e.g.la();const t=Xt(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Qt(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return et(e),Ze(e),"";e.h.i=new s.TextDecoder}for(let s=0;s<r;s++)e.h.h=!0,n+=e.h.i.decode(t[s],{stream:!(i&&s==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(r)){var a=r;break t}}a=null}if(!(e=a)){this.o=!1,this.m=3,Ie(12),et(this),Ze(this);break e}Le(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tt(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Ye(this,n),t==He){4==l&&(this.m=4,Ie(14),e=!1),Le(this.i,this.l,null,"[Incomplete Response]");break}if(t==Ve){this.m=4,Ie(15),Le(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Le(this.i,this.l,t,null),tt(this,t)}if(Ke(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,Ie(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),dn(o),o.P=!0,Ie(11))}}else Le(this.i,this.l,n,"[Invalid Chunked Response]"),et(this),Ze(this)}else Le(this.i,this.l,n,null),tt(this,n);4==l&&et(this),this.o&&!this.K&&(4==l?mn(this.j,this):(this.o=!1,Qe(this)))}else(function(e){const t={};e=(e.g&&Qt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(M(e[r]))continue;var n=qe(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,Ie(12)):(this.m=0,Ie(13)),et(this),Ze(this)}}}catch(te){}},We.prototype.cancel=function(){this.K=!0,et(this)},We.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(Ee(),Ie(17)),et(this),this.m=2,Ze(this)):Xe(this,this.T-e)};var nt=class{constructor(e,t){this.g=e,this.map=t}};function rt(e){this.l=e||10,s.PerformanceNavigationTiming?e=(e=s.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function it(e){return!!e.h||!!e.g&&e.g.size>=e.j}function st(e){return e.h?1:e.g?e.g.size:0}function at(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ot(e,t){e.g?e.g.add(t):e.h=t}function lt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ct(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return N(e.i)}rt.prototype.cancel=function(){if(this.i=ct(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var dt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ut(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof ut?(this.l=e.l,mt(this,e.j),this.o=e.o,this.g=e.g,pt(this,e.u),this.h=e.h,ft(this,_t(e.i)),this.m=e.m):e&&(t=String(e).match(dt))?(this.l=!1,mt(this,t[1]||"",!0),this.o=bt(t[2]||""),this.g=bt(t[3]||"",!0),pt(this,t[4]),this.h=bt(t[5]||"",!0),ft(this,t[6]||"",!0),this.m=bt(t[7]||"")):(this.l=!1,this.i=new St(null,this.l))}function ht(e){return new ut(e)}function mt(e,t,n){e.j=n?bt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function pt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function ft(e,t,n){t instanceof St?(e.i=t,function(e,t){t&&!e.j&&(Tt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(At(this,t),It(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=xt(t,jt)),e.i=new St(t,e.l))}function gt(e,t,n){e.i.set(t,n)}function yt(e){return gt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function bt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,vt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function vt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ut.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(xt(t,wt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(xt(t,wt,!0),"@"),e.push(ze(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(xt(n,"/"==n.charAt(0)?kt:Nt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",xt(n,Ct)),e.join("")},ut.prototype.resolve=function(e){const t=ht(this);let n=!!e.j;n?mt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)pt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?ft(t,_t(e.i)):n=!!e.m,n&&(t.m=e.m),t};var wt=/[#\/\?@]/g,Nt=/[#\?:]/g,kt=/[#\?]/g,jt=/[#\?@]/g,Ct=/#/g;function St(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Tt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,s=null;r>=0?(i=e[n].substring(0,r),s=e[n].substring(r+1)):i=e[n],t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function At(e,t){Tt(e),t=Rt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Et(e,t){return Tt(e),t=Rt(e,t),e.g.has(t)}function Pt(e,t){Tt(e);let n=[];if("string"===typeof t)Et(e,t)&&(n=n.concat(e.g.get(Rt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function It(e,t,n){At(e,t),n.length>0&&(e.i=null,e.g.set(Rt(e,t),N(n)),e.h+=n.length)}function _t(e){const t=new St;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function Rt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Dt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Lt(){this.g=new xe}function Ot(e){this.i=e.Sb||null,this.h=e.ab||!1}function Mt(e,t){ce.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Bt(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Ft(e){e.readyState=4,e.l=null,e.j=null,e.B=null,zt(e)}function zt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function qt(e){let t="";return U(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Wt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=qt(n),"string"===typeof e?null!=n&&ze(n):gt(e,t,n))}function Ut(e){ce.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=St.prototype).add=function(e,t){Tt(this),this.i=null,e=Rt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Tt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return Tt(this),this.i=null,Et(this,e=Rt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=Pt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=ze(n);n=Pt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+ze(n[t])),e.push(r)}}return this.i=e.join("&")},d(Ot,ve),Ot.prototype.g=function(){return new Mt(this.i,this.h)},d(Mt,ce),(e=Mt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,zt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||s).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Ft(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,zt(this)),this.g&&(this.readyState=3,zt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Bt(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ft(this):zt(this),3==this.readyState&&Bt(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Ft(this))},e.Na=function(e){this.g&&(this.response=e,Ft(this))},e.ga=function(){this.g&&Ft(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Mt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Ut,ce);var Vt=/^https?$/i,Ht=["POST","PUT"];function Gt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Jt(e),Yt(e)}function Jt(e){e.A||(e.A=!0,de(e,"complete"),de(e,"error"))}function Kt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==Qt(e))setTimeout(e.Ca.bind(e),0);else if(de(e,"readystatechange"),4==Qt(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(dt)[1]||null;!t&&s.self&&s.self.location&&(t=s.self.location.protocol.slice(0,-1)),r=!Vt.test(t?t.toLowerCase():"")}n=r}if(n)de(e,"complete"),de(e,"success");else{e.o=6;try{var a=Qt(e)>2?e.g.statusText:""}catch(o){a=""}e.l=a+" ["+e.ca()+"]",Jt(e)}}finally{Yt(e)}}}function Yt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||de(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Qt(e){return e.g?e.g.readyState:0}function Xt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function $t(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Zt(e){this.za=0,this.i=[],this.j=new De,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$t("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$t("baseRetryDelayMs",5e3,e),this.Za=$t("retryDelaySeedMs",1e4,e),this.Ta=$t("forwardChannelMaxRetries",2,e),this.va=$t("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new rt(e&&e.concurrentRequestLimit),this.Ba=new Lt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function en(e){if(nn(e),3==e.I){var t=e.V++,n=ht(e.J);if(gt(n,"SID",e.M),gt(n,"RID",t),gt(n,"TYPE","terminate"),an(e,n),(t=new We(e,e.j,t)).M=2,t.A=yt(ht(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.A,n=!0),n||(t.g=bn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Qe(t)}gn(e)}function tn(e){e.g&&(dn(e),e.g.cancel(),e.g=null)}function nn(e){tn(e),e.v&&(s.clearTimeout(e.v),e.v=null),hn(e),e.h.cancel(),e.m&&("number"===typeof e.m&&s.clearTimeout(e.m),e.m=null)}function rn(e){if(!it(e.h)&&!e.m){e.m=!0;var t=e.Ea;E||_(),P||(E(),P=!0),I.add(t,e),e.D=0}}function sn(e,t){var n;n=t?t.l:e.V++;const r=ht(e.J);gt(r,"SID",e.M),gt(r,"RID",n),gt(r,"AID",e.K),an(e,r),e.u&&e.o&&Wt(r,e.u,e.o),n=new We(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=on(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),ot(e.h,n),Ge(n,r,t)}function an(e,t){e.H&&U(e.H,function(e,n){gt(t,n,e)}),e.l&&U({},function(e,n){gt(t,n,e)})}function on(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var s=i[c].g;const n=i[c].map;if((s-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{s="req"+s+"_"||0;try{var o=n instanceof Map?n:Object.entries(n);for(const[t,n]of o){let r=n;a(n)&&(r=ye(n)),e.push(s+t+"="+encodeURIComponent(r))}}catch(k){throw e.push(s+"type="+encodeURIComponent("_badmap")),k}}catch(k){r&&r(n)}}if(l){o=e.join("&");break e}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function ln(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;E||_(),P||(E(),P=!0),I.add(t,e),e.A=0}}function cn(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=Re(l(e.Da,e),pn(e,e.A)),e.A++,!0)}function dn(e){null!=e.B&&(s.clearTimeout(e.B),e.B=null)}function un(e){e.g=new We(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=ht(e.na);gt(t,"RID","rpc"),gt(t,"SID",e.M),gt(t,"AID",e.K),gt(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&gt(t,"TO",e.ia),gt(t,"TYPE","xmlhttp"),an(e,t),e.u&&e.o&&Wt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=yt(ht(t)),n.u=null,n.R=!0,Je(n,e)}function hn(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function mn(e,t){var n=null;if(e.g==t){hn(e),dn(e),e.g=null;var r=2}else{if(!at(e.h,t))return;n=t.G,lt(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;de(r=Te(),new _e(r,n)),rn(e)}else ln(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(st(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=Re(l(e.Ea,e,t),pn(e,e.D)),e.D++,!0))}(e,t)||2==r&&cn(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:fn(e,5);break;case 4:fn(e,10);break;case 3:fn(e,6);break;default:fn(e,2)}}function pn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function fn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new ut(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||mt(r,"https"),yt(r),t?function(e,t){const n=new De;if(s.Image){const r=new Image;r.onload=c(Dt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Dt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Dt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Dt,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new De;const n=new AbortController,r=setTimeout(()=>{n.abort(),Dt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Dt(0,0,!0,t):Dt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Dt(0,0,!1,t)})}(r.toString(),n)}else Ie(2);e.I=0,e.l&&e.l.pa(t),gn(e),nn(e)}function gn(e){if(e.I=0,e.ja=[],e.l){const t=ct(e.h);0==t.length&&0==e.i.length||(j(e.ja,t),j(e.ja,e.i),e.h.i.length=0,N(e.i),e.i.length=0),e.l.oa()}}function yn(e,t,n){var r=n instanceof ut?ht(n):new ut(n);if(""!=r.g)t&&(r.g=t+"."+r.g),pt(r,r.u);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new ut(null);r&&mt(e,r),t&&(e.g=t),i&&pt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&gt(r,n,t),gt(r,"VER",e.ka),an(e,r),r}function bn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Ut(new Ot({ab:n})):new Ut(e.ma)).Fa(e.L),t}function xn(){}function vn(){}function wn(e,t){ce.call(this),this.g=new Zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!M(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!M(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new jn(this)}function Nn(e){ke.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function kn(){je.call(this),this.status=1}function jn(e){this.g=e}(e=Ut.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oe.g(),this.g.onreadystatechange=u(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Gt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=s.FormData&&e instanceof s.FormData,!(Array.prototype.indexOf.call(Ht,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(a){Gt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,de(this,"complete"),de(this,"abort"),Yt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yt(this,!0)),Ut.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Kt(this):this.Xa())},e.Xa=function(){Kt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Qt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),be(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Zt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){Ie(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=yn(this,null,this.W),rn(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new We(this,this.j,e);let s=this.o;if(this.U&&(s?(s=V(s),G(s,this.U)):s=this.U),null!==this.u||this.R||(i.J=s,s=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=on(this,i,t),gt(n=ht(this.J),"RID",e),gt(n,"CVER",22),this.G&&gt(n,"X-HTTP-Session-Id",this.G),an(this,n),s&&(this.R?t="headers="+ze(qt(s))+"&"+t:this.u&&Wt(n,this.u,s)),ot(this.h,i),this.Ra&&gt(n,"TYPE","init"),this.S?(gt(n,"$req",t),gt(n,"SID","null"),i.U=!0,Ge(i,n,null)):Ge(i,n,t),this.I=2}}else 3==this.I&&(e?sn(this,e):0==this.i.length||it(this.h)||sn(this))},e.Da=function(){if(this.v=null,un(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=Re(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ie(10),tn(this),un(this))},e.Va=function(){null!=this.C&&(this.C=null,tn(this),cn(this),Ie(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=xn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},vn.prototype.g=function(e,t){return new wn(e,t)},d(wn,ce),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){en(this.g)},wn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ye(e),e=n);t.i.push(new nt(t.Ya++,e)),3==t.I&&rn(t)},wn.prototype.N=function(){this.g.l=null,delete this.j,en(this.g),delete this.g,wn.Z.N.call(this)},d(Nn,ke),d(kn,je),d(jn,xn),jn.prototype.ra=function(){de(this.g,"a")},jn.prototype.qa=function(e){de(this.g,new Nn(e))},jn.prototype.pa=function(e){de(this.g,new kn)},jn.prototype.oa=function(){de(this.g,"b")},vn.prototype.createWebChannel=vn.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,x=w.createWebChannelTransport=function(){return new vn},b=w.getStatEventTarget=function(){return Te()},y=w.Event=Ce,g=w.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Me.NO_ERROR=0,Me.TIMEOUT=8,Me.HTTP_ERROR=6,f=w.ErrorCode=Me,Be.COMPLETE="complete",p=w.EventType=Be,we.EventType=Ne,Ne.OPEN="a",Ne.CLOSE="b",Ne.ERROR="c",Ne.MESSAGE="d",ce.prototype.listen=ce.prototype.J,m=w.WebChannel=we,w.FetchXmlHttpFactory=Ot,Ut.prototype.listenOnce=Ut.prototype.K,Ut.prototype.getLastError=Ut.prototype.Ha,Ut.prototype.getLastErrorCode=Ut.prototype.ya,Ut.prototype.getStatus=Ut.prototype.ca,Ut.prototype.getResponseJson=Ut.prototype.La,Ut.prototype.getResponseText=Ut.prototype.la,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Fa,h=w.XhrIo=Ut}).apply("undefined"!==typeof v?v:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const N="@firebase/firestore",k="4.9.2";class j{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}j.UNAUTHENTICATED=new j(null),j.GOOGLE_CREDENTIALS=new j("google-credentials-uid"),j.FIRST_PARTY=new j("first-party-uid"),j.MOCK_USER=new j("mock-user");let C="12.3.0";const S=new l.Vy("@firebase/firestore");function T(){return S.logLevel}function A(e){if(S.logLevel<=l.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(I);S.debug("Firestore (".concat(C,"): ").concat(e),...i)}}function E(e){if(S.logLevel<=l.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(I);S.error("Firestore (".concat(C,"): ").concat(e),...i)}}function P(e){if(S.logLevel<=l.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(I);S.warn("Firestore (".concat(C,"): ").concat(e),...i)}}function I(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function _(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,R(e,r,n)}function R(e,t,n){let r="FIRESTORE (".concat(C,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw E(r),new Error(r)}function D(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||R(t,i,r)}function L(e,t){return e}const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends c.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class B{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class F{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class z{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(j.UNAUTHENTICATED))}shutdown(){}}class q{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class W{constructor(e){this.t=e,this.currentUser=j.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){D(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new B;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new B,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new B)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(D("string"==typeof t.accessToken,31837,{l:t}),new F(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return D(null===e||"string"==typeof e,2055,{h:e}),new j(e)}}class U{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=j.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new U(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(j.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,a.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){D(void 0===this.o,3512);const n=e=>{null!=e.error&&A("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,A("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new H(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(D("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new H(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function J(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class K{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=J(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Y(e,t){return e<t?-1:e>t?1:0}function Q(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return Z(n)===Z(i)?Y(n,i):Z(n)?1:-1}return Y(e.length,t.length)}const X=55296,$=57343;function Z(e){const t=e.charCodeAt(0);return t>=X&&t<=$}function ee(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const te="__name__";class ne{constructor(e,t,n){void 0===t?t=0:t>e.length&&_(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&_(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ne.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ne?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=ne.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Y(e.length,t.length)}static compareSegments(e,t){const n=ne.isNumericId(e),r=ne.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?ne.extractNumericId(e).compare(ne.extractNumericId(t)):Q(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r.fromString(e.substring(4,e.length-2))}}class re extends ne{construct(e,t,n){return new re(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new M(O.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new re(e)}static emptyPath(){return new re([])}}const ie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class se extends ne{construct(e,t,n){return new se(e,t,n)}static isValidIdentifier(e){return ie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),se.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===te}static keyField(){return new se([te])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new M(O.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new M(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new M(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new M(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new se(t)}static emptyPath(){return new se([])}}class ae{constructor(e){this.path=e}static fromPath(e){return new ae(re.fromString(e))}static fromName(e){return new ae(re.fromString(e).popFirst(5))}static empty(){return new ae(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===re.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return re.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new re(e.slice()))}}function oe(e,t,n){if(!n)throw new M(O.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function le(e){if(!ae.isDocumentKey(e))throw new M(O.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ce(e){if(ae.isDocumentKey(e))throw new M(O.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function de(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function ue(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":_(12329,{type:typeof e})}function he(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new M(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ue(e);throw new M(O.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function me(e,t){const n={typeString:e};return t&&(n.value=t),n}function pe(e,t){if(!de(e))throw new M(O.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const a=e[r];if(i&&typeof a!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==s&&a!==s.value){n="Expected '".concat(r,"' field to equal '").concat(s.value,"'");break}}if(n)throw new M(O.INVALID_ARGUMENT,n);return!0}const fe=-62135596800,ge=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(e){return ye.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ge);return new ye(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<fe)throw new M(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ge}_compareTo(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pe(e,ye._jsonSchema))return new ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fe;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:me("string",ye._jsonSchemaVersion),seconds:me("number"),nanoseconds:me("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new ye(0,0))}static max(){return new be(new ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xe=-1;class ve{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ve.UNKNOWN_ID=-1;function we(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=be.fromTimestamp(1e9===r?new ye(n+1,0):new ye(n,r));return new ke(i,ae.empty(),t)}function Ne(e){return new ke(e.readTime,e.key,xe)}class ke{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ke(be.min(),ae.empty(),xe)}static max(){return new ke(be.max(),ae.empty(),xe)}}function je(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ae.comparator(e.documentKey,t.documentKey),0!==n?n:Y(e.largestBatchId,t.largestBatchId))}const Ce="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Se{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Te(e){if(e.code!==O.FAILED_PRECONDITION||e.message!==Ce)throw e;A("LocalStore","Unexpectedly lost primary lease")}class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ae((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ae?t:Ae.resolve(t)}catch(e){return Ae.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.reject(t)}static resolve(e){return new Ae((t,n)=>{t(e)})}static reject(e){return new Ae((t,n)=>{n(e)})}static waitFor(e){return new Ae((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Ae.resolve(!1);for(const n of e)t=t.next(e=>e?Ae.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Ae((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Ae((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Ee(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pe(e){return"IndexedDbTransactionError"===e.name}class Ie{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ie.ce=-1;const _e=-1;function Re(e){return null==e}function De(e){return 0===e&&1/e==-1/0}function Le(e){return"number"==typeof e&&Number.isInteger(e)&&!De(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Oe="\x01";function Me(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Fe(t)),t=Be(e.get(n),t);return Fe(t)}function Be(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Oe:n+="\x01\x11";break;default:n+=t}}return n}function Fe(e){return e+Oe+"\x01"}const ze="remoteDocuments",qe="owner",We="mutationQueues",Ue="mutations";const Ve="documentMutations",He="remoteDocumentsV14",Ge="remoteDocumentGlobal",Je="targets",Ke="targetDocuments",Ye="targetGlobal",Qe="collectionParents",Xe="clientMetadata",$e="bundles",Ze="namedQueries",et="indexConfiguration",tt="indexState",nt="indexEntries",rt="documentOverlays",it="globals",st=[We,Ue,Ve,ze,Je,qe,Ye,Ke,Xe,Ge,Qe,$e,Ze],at=[We,Ue,Ve,He,Je,qe,Ye,Ke,Xe,Ge,Qe,$e,Ze,rt],ot=at,lt=[...ot,et,tt,nt];function ct(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function dt(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ut(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ht{constructor(e,t){this.comparator=e,this.root=t||pt.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mt(this.root,e,this.comparator,!1)}getReverseIterator(){return new mt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mt(this.root,e,this.comparator,!0)}}class mt{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:pt.RED,this.left=null!=r?r:pt.EMPTY,this.right=null!=i?i:pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new pt(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return pt.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _(27949);return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1,pt.EMPTY=new class{constructor(){this.size=0}get key(){throw _(57766)}get value(){throw _(16141)}get color(){throw _(16727)}get left(){throw _(29726)}get right(){throw _(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new pt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ft{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gt(this.data.getIterator())}getIteratorFrom(e){return new gt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof ft))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ft(this.comparator);return t.data=e,t}}class gt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class yt{constructor(e){this.fields=e,e.sort(se.comparator)}static empty(){return new yt([])}unionWith(e){let t=new ft(se.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new yt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ee(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class bt extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new bt("Invalid base64 string: "+e):e}}(e);return new xt(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const vt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wt(e){if(D(!!e,39018),"string"==typeof e){let t=0;const n=vt.exec(e);if(D(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Nt(e.seconds),nanos:Nt(e.nanos)}}function Nt(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function kt(e){return"string"==typeof e?xt.fromBase64String(e):xt.fromUint8Array(e)}const jt="server_timestamp",Ct="__type__",St="__previous_value__",Tt="__local_write_time__";function At(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Ct])||void 0===t?void 0:t.stringValue)===jt}function Et(e){const t=e.mapValue.fields[St];return At(t)?Et(t):t}function Pt(e){const t=wt(e.mapValue.fields[Tt].timestampValue);return new ye(t.seconds,t.nanos)}class It{constructor(e,t,n,r,i,s,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const _t="(default)";class Rt{constructor(e,t){this.projectId=e,this.database=t||_t}static empty(){return new Rt("","")}get isDefaultDatabase(){return this.database===_t}isEqual(e){return e instanceof Rt&&e.projectId===this.projectId&&e.database===this.database}}const Dt="__type__",Lt="__max__",Ot={mapValue:{fields:{__type__:{stringValue:Lt}}}},Mt="__vector__",Bt="value";function Ft(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?At(e)?4:nn(e)?9007199254740991:en(e)?10:11:_(28295,{value:e})}function zt(e,t){if(e===t)return!0;const n=Ft(e);if(n!==Ft(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Pt(e).isEqual(Pt(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=wt(e.timestampValue),r=wt(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return kt(e.bytesValue).isEqual(kt(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Nt(e.geoPointValue.latitude)===Nt(t.geoPointValue.latitude)&&Nt(e.geoPointValue.longitude)===Nt(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Nt(e.integerValue)===Nt(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Nt(e.doubleValue),r=Nt(t.doubleValue);return n===r?De(n)===De(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ee(e.arrayValue.values||[],t.arrayValue.values||[],zt);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ct(n)!==ct(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!zt(n[i],r[i])))return!1;return!0}(e,t);default:return _(52216,{left:e})}}function qt(e,t){return void 0!==(e.values||[]).find(e=>zt(e,t))}function Wt(e,t){if(e===t)return 0;const n=Ft(e),r=Ft(t);if(n!==r)return Y(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Y(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Nt(e.integerValue||e.doubleValue),r=Nt(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ut(e.timestampValue,t.timestampValue);case 4:return Ut(Pt(e),Pt(t));case 5:return Q(e.stringValue,t.stringValue);case 6:return function(e,t){const n=kt(e),r=kt(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Y(n[i],r[i]);if(0!==e)return e}return Y(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Y(Nt(e.latitude),Nt(t.latitude));return 0!==n?n:Y(Nt(e.longitude),Nt(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Vt(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a[Bt])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Bt])||void 0===r?void 0:r.arrayValue,d=Y((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(s=c.values)||void 0===s?void 0:s.length)||0);return 0!==d?d:Vt(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Ot.mapValue&&t===Ot.mapValue)return 0;if(e===Ot.mapValue)return 1;if(t===Ot.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Q(r[a],s[a]);if(0!==e)return e;const t=Wt(n[r[a]],i[s[a]]);if(0!==t)return t}return Y(r.length,s.length)}(e.mapValue,t.mapValue);default:throw _(23264,{he:n})}}function Ut(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Y(e,t);const n=wt(e),r=wt(t),i=Y(n.seconds,r.seconds);return 0!==i?i:Y(n.nanos,r.nanos)}function Vt(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Wt(n[i],r[i]);if(e)return e}return Y(n.length,r.length)}function Ht(e){return Gt(e)}function Gt(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=wt(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return kt(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ae.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Gt(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Gt(e.fields[i]));return n+"}"}(e.mapValue):_(61005,{value:e})}function Jt(e){switch(Ft(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Et(e);return t?16+Jt(t):16;case 5:return 2*e.stringValue.length;case 6:return kt(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Jt(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return dt(e.fields,(e,n)=>{t+=e.length+Jt(n)}),t}(e.mapValue);default:throw _(13486,{value:e})}}function Kt(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Yt(e){return!!e&&"integerValue"in e}function Qt(e){return!!e&&"arrayValue"in e}function Xt(e){return!!e&&"nullValue"in e}function $t(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zt(e){return!!e&&"mapValue"in e}function en(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Dt])||void 0===t?void 0:t.stringValue)===Mt}function tn(e){if(e.geoPointValue)return{geoPointValue:(0,s.A)({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:(0,s.A)({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return dt(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=tn(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=tn(e.arrayValue.values[n]);return t}return(0,s.A)({},e)}function nn(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Lt}class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Zt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tn(t)}setAll(e){let t=se.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=tn(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Zt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Zt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){dt(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new rn(tn(this.value))}}function sn(e){const t=[];return dt(e.fields,(e,n)=>{const r=new se([e]);if(Zt(n)){const e=sn(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new yt(t)}class an{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new an(e,0,be.min(),be.min(),be.min(),rn.empty(),0)}static newFoundDocument(e,t,n,r){return new an(e,1,t,be.min(),n,r,0)}static newNoDocument(e,t){return new an(e,2,t,be.min(),be.min(),rn.empty(),0)}static newUnknownDocument(e,t){return new an(e,3,t,be.min(),be.min(),rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class on{constructor(e,t){this.position=e,this.inclusive=t}}function ln(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?ae.comparator(ae.fromName(a.referenceValue),n.key):Wt(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function cn(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!zt(e.position[n],t.position[n]))return!1;return!0}class dn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function un(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class hn{}class mn extends hn{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new wn(e,t,n):"array-contains"===t?new Cn(e,n):"in"===t?new Sn(e,n):"not-in"===t?new Tn(e,n):"array-contains-any"===t?new An(e,n):new mn(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Nn(e,n):new kn(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Wt(t,this.value)):null!==t&&Ft(this.value)===Ft(t)&&this.matchesComparison(Wt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pn extends hn{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new pn(e,t)}matches(e){return fn(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fn(e){return"and"===e.op}function gn(e){return yn(e)&&fn(e)}function yn(e){for(const t of e.filters)if(t instanceof pn)return!1;return!0}function bn(e){if(e instanceof mn)return e.field.canonicalString()+e.op.toString()+Ht(e.value);if(gn(e))return e.filters.map(e=>bn(e)).join(",");{const t=e.filters.map(e=>bn(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function xn(e,t){return e instanceof mn?function(e,t){return t instanceof mn&&e.op===t.op&&e.field.isEqual(t.field)&&zt(e.value,t.value)}(e,t):e instanceof pn?function(e,t){return t instanceof pn&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&xn(n,t.filters[r]),!0)}(e,t):void _(19439)}function vn(e){return e instanceof mn?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ht(e.value))}(e):e instanceof pn?function(e){return e.op.toString()+" {"+e.getFilters().map(vn).join(" ,")+"}"}(e):"Filter"}class wn extends mn{constructor(e,t,n){super(e,t,n),this.key=ae.fromName(n.referenceValue)}matches(e){const t=ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class Nn extends mn{constructor(e,t){super(e,"in",t),this.keys=jn("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class kn extends mn{constructor(e,t){super(e,"not-in",t),this.keys=jn("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function jn(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>ae.fromName(e.referenceValue))}class Cn extends mn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qt(t)&&qt(t.arrayValue,this.value)}}class Sn extends mn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qt(this.value.arrayValue,t)}}class Tn extends mn{constructor(e,t){super(e,"not-in",t)}matches(e){if(qt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!qt(this.value.arrayValue,t)}}class An extends mn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>qt(this.value.arrayValue,e))}}class En{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.Te=null}}function Pn(e){return new En(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function In(e){const t=L(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>bn(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Re(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Ht(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Ht(e)).join(",")),t.Te=e}return t.Te}function _n(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!un(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!xn(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cn(e.startAt,t.startAt)&&cn(e.endAt,t.endAt)}function Rn(e){return ae.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Dn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ln(e,t,n,r,i,s,a,o){return new Dn(e,t,n,r,i,s,a,o)}function On(e){return new Dn(e)}function Mn(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Bn(e){return null!==e.collectionGroup}function Fn(e){const t=L(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ft(se.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new dn(r,n))}),e.has(se.keyField().canonicalString())||t.Ie.push(new dn(se.keyField(),n))}return t.Ie}function zn(e){const t=L(e);return t.Ee||(t.Ee=qn(t,Fn(e))),t.Ee}function qn(e,t){if("F"===e.limitType)return Pn(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new dn(e.field,t)});const n=e.endAt?new on(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new on(e.startAt.position,e.startAt.inclusive):null;return Pn(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Wn(e,t){const n=e.filters.concat([t]);return new Dn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Un(e,t,n){return new Dn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Vn(e,t){return _n(zn(e),zn(t))&&e.limitType===t.limitType}function Hn(e){return"".concat(In(zn(e)),"|lt:").concat(e.limitType)}function Gn(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>vn(e)).join(", "),"]")),Re(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Ht(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Ht(e)).join(",")),"Target(".concat(t,")")}(zn(e)),"; limitType=").concat(e.limitType,")")}function Jn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ae.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Fn(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ln(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Fn(e),t))&&!(e.endAt&&!function(e,t,n){const r=ln(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Fn(e),t))}(e,t)}function Kn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Yn(e){return(t,n)=>{let r=!1;for(const i of Fn(e)){const e=Qn(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Qn(e,t,n){const r=e.field.isKeyField()?ae.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Wt(r,i):_(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return _(19790,{direction:e.dir})}}class Xn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){dt(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return ut(this.inner)}size(){return this.innerSize}}const $n=new ht(ae.comparator);function Zn(){return $n}const er=new ht(ae.comparator);function tr(){let e=er;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function nr(e){let t=er;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function rr(){return sr()}function ir(){return sr()}function sr(){return new Xn(e=>e.toString(),(e,t)=>e.isEqual(t))}const ar=new ht(ae.comparator),or=new ft(ae.comparator);function lr(){let e=or;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const cr=new ft(Y);function dr(){return cr}function ur(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:De(t)?"-0":t}}function hr(e){return{integerValue:""+e}}function mr(e,t){return Le(t)?hr(t):ur(e,t)}class pr{constructor(){this._=void 0}}function fr(e,t,n){return e instanceof br?function(e,t){const n={fields:{[Ct]:{stringValue:jt},[Tt]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&At(t)&&(t=Et(t)),t&&(n.fields[St]=t),{mapValue:n}}(n,t):e instanceof xr?vr(e,t):e instanceof wr?Nr(e,t):function(e,t){const n=yr(e,t),r=jr(n)+jr(e.Ae);return Yt(n)&&Yt(e.Ae)?hr(r):ur(e.serializer,r)}(e,t)}function gr(e,t,n){return e instanceof xr?vr(e,t):e instanceof wr?Nr(e,t):n}function yr(e,t){return e instanceof kr?function(e){return Yt(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class br extends pr{}class xr extends pr{constructor(e){super(),this.elements=e}}function vr(e,t){const n=Cr(t);for(const r of e.elements)n.some(e=>zt(e,r))||n.push(r);return{arrayValue:{values:n}}}class wr extends pr{constructor(e){super(),this.elements=e}}function Nr(e,t){let n=Cr(t);for(const r of e.elements)n=n.filter(e=>!zt(e,r));return{arrayValue:{values:n}}}class kr extends pr{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function jr(e){return Nt(e.integerValue||e.doubleValue)}function Cr(e){return Qt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Sr{constructor(e,t){this.field=e,this.transform=t}}class Tr{constructor(e,t){this.version=e,this.transformResults=t}}class Ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Er(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Pr{}function Ir(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new qr(e.key,Ar.none()):new Or(e.key,e.data,Ar.none());{const n=e.data,r=rn.empty();let i=new ft(se.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Mr(e.key,r,new yt(i.toArray()),Ar.none())}}function _r(e,t,n){e instanceof Or?function(e,t,n){const r=e.value.clone(),i=Fr(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Mr?function(e,t,n){if(!Er(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Fr(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Br(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Rr(e,t,n,r){return e instanceof Or?function(e,t,n,r){if(!Er(e.precondition,t))return n;const i=e.value.clone(),s=zr(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Mr?function(e,t,n,r){if(!Er(e.precondition,t))return n;const i=zr(e.fieldTransforms,r,t),s=t.data;return s.setAll(Br(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Er(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Dr(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=yr(r.transform,e||null);null!=i&&(null===n&&(n=rn.empty()),n.set(r.field,i))}return n||null}function Lr(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ee(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof xr&&t instanceof xr||e instanceof wr&&t instanceof wr?ee(e.elements,t.elements,zt):e instanceof kr&&t instanceof kr?zt(e.Ae,t.Ae):e instanceof br&&t instanceof br}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Or extends Pr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Mr extends Pr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Br(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Fr(e,t,n){const r=new Map;D(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,gr(a,o,n[i]))}return r}function zr(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,fr(e,s,t))}return r}class qr extends Pr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wr extends Pr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ur{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&_r(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Rr(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Rr(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ir();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Ir(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(be.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),lr())}isEqual(e){return this.batchId===e.batchId&&ee(this.mutations,e.mutations,(e,t)=>Lr(e,t))&&ee(this.baseMutations,e.baseMutations,(e,t)=>Lr(e,t))}}class Vr{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){D(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=ar;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Vr(e,t,n,r)}}class Hr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Gr{constructor(e,t){this.count=e,this.unchangedNames=t}}var Jr,Kr;function Yr(e){switch(e){case O.OK:return _(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return _(15467,{code:e})}}function Qr(e){if(void 0===e)return E("GRPC error has no .code"),O.UNKNOWN;switch(e){case Jr.OK:return O.OK;case Jr.CANCELLED:return O.CANCELLED;case Jr.UNKNOWN:return O.UNKNOWN;case Jr.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Jr.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Jr.INTERNAL:return O.INTERNAL;case Jr.UNAVAILABLE:return O.UNAVAILABLE;case Jr.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Jr.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Jr.NOT_FOUND:return O.NOT_FOUND;case Jr.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Jr.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Jr.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Jr.ABORTED:return O.ABORTED;case Jr.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Jr.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Jr.DATA_LOSS:return O.DATA_LOSS;default:return _(39323,{code:e})}}(Kr=Jr||(Jr={}))[Kr.OK=0]="OK",Kr[Kr.CANCELLED=1]="CANCELLED",Kr[Kr.UNKNOWN=2]="UNKNOWN",Kr[Kr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kr[Kr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kr[Kr.NOT_FOUND=5]="NOT_FOUND",Kr[Kr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kr[Kr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kr[Kr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kr[Kr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kr[Kr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kr[Kr.ABORTED=10]="ABORTED",Kr[Kr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kr[Kr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kr[Kr.INTERNAL=13]="INTERNAL",Kr[Kr.UNAVAILABLE=14]="UNAVAILABLE",Kr[Kr.DATA_LOSS=15]="DATA_LOSS";let Xr=null;function $r(){return new TextEncoder}const Zr=new r([4294967295,4294967295],0);function ei(e){const t=$r().encode(e),n=new i;return n.update(t),new Uint8Array(n.digest())}function ti(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new r([n,i],0),new r([s,a],0)]}class ni{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ri("Invalid padding: ".concat(t));if(n<0)throw new ri("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ri("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ri("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=r.fromNumber(this.ge)}ye(e,t,n){let i=e.add(t.multiply(r.fromNumber(n)));return 1===i.compare(Zr)&&(i=new r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=ei(e),[n,r]=ti(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new ni(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.ge)return;const t=ei(e),[n,r]=ti(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ri extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ii{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,si.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ii(be.min(),r,new ht(Y),Zn(),lr())}}class si{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new si(n,t,lr(),lr(),lr())}}class ai{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class oi{constructor(e,t){this.targetId=e,this.Ce=t}}class li{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xt.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ci{constructor(){this.ve=0,this.Fe=hi(),this.Me=xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=lr(),t=lr(),n=lr();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:_(38017,{changeType:i})}}),new si(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=hi()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,D(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class di{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zn(),this.Je=ui(),this.He=ui(),this.Ye=new ht(Y)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:_(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const s=r.target;if(Rn(s))if(0===n){const e=new ae(s.path);this.et(t,e,an.newNoDocument(e,be.min()))}else D(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),s=n?this.ct(n,e,r):1;if(0!==s){this.it(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=Xr)||void 0===i||i.lt(function(e,t,n,r,i){var s,a,o,l,c;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},u=t.unchangedNames;return u&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null===u||void 0===u?void 0:u.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(a=null===u||void 0===u||null===(o=u.bits)||void 0===o||null===(o=o.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(l=null===u||void 0===u||null===(c=u.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.Ce,this.Ge.ht(),n,s))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=kt(n).toUint8Array()}catch(e){if(e instanceof bt)return P("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new ni(s,r,i)}catch(e){return P(e instanceof ri?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&Rn(i.target)){const t=new ae(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,an.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=lr();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new ii(e,t,this.Ye,this.je,n);return this.je=Zn(),this.Je=ui(),this.He=ui(),this.Ye=new ht(Y),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ci,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ft(Y),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ft(Y),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||A("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ci),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ui(){return new ht(ae.comparator)}function hi(){return new ht(ae.comparator)}const mi={asc:"ASCENDING",desc:"DESCENDING"},pi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fi={and:"AND",or:"OR"};class gi{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yi(e,t){return e.useProto3Json||Re(t)?t:{value:t}}function bi(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function xi(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function vi(e,t){return bi(e,t.toTimestamp())}function wi(e){return D(!!e,49232),be.fromTimestamp(function(e){const t=wt(e);return new ye(t.seconds,t.nanos)}(e))}function Ni(e,t){return ki(e,t).canonicalString()}function ki(e,t){const n=function(e){return new re(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ji(e){const t=re.fromString(e);return D(Vi(t),10190,{key:t.toString()}),t}function Ci(e,t){return Ni(e.databaseId,t.path)}function Si(e,t){const n=ji(t);if(n.get(1)!==e.databaseId.projectId)throw new M(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new M(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ae(Pi(n))}function Ti(e,t){return Ni(e.databaseId,t)}function Ai(e){const t=ji(e);return 4===t.length?re.emptyPath():Pi(t)}function Ei(e){return new re(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Pi(e){return D(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Ii(e,t,n){return{name:Ci(e,t),fields:n.value.mapValue.fields}}function _i(e,t){let n;if(t instanceof Or)n={update:Ii(e,t.key,t.value)};else if(t instanceof qr)n={delete:Ci(e,t.key)};else if(t instanceof Mr)n={update:Ii(e,t.key,t.data),updateMask:Ui(t.fieldMask)};else{if(!(t instanceof Wr))return _(16599,{Vt:t.type});n={verify:Ci(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof br)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof xr)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof wr)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof kr)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw _(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:vi(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:_(27497)}(e,t.precondition)),n}function Ri(e,t){return{documents:[Ti(e,t.path)]}}function Di(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ti(e,i);const s=function(e){if(0!==e.length)return Wi(pn.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:zi(e.field),direction:Mi(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=yi(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function Li(e){let t=Ai(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){D(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Oi(e);return t instanceof pn&&gn(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new dn(qi(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Re(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new on(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new on(n,t)}(n.endAt)),Ln(t,i,a,s,o,"F",l,c)}function Oi(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=qi(e.unaryFilter.field);return mn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=qi(e.unaryFilter.field);return mn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=qi(e.unaryFilter.field);return mn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=qi(e.unaryFilter.field);return mn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _(61313);default:return _(60726)}}(e):void 0!==e.fieldFilter?function(e){return mn.create(qi(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _(58110);default:return _(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return pn.create(e.compositeFilter.filters.map(e=>Oi(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return _(1026)}}(e.compositeFilter.op))}(e):_(30097,{filter:e})}function Mi(e){return mi[e]}function Bi(e){return pi[e]}function Fi(e){return fi[e]}function zi(e){return{fieldPath:e.canonicalString()}}function qi(e){return se.fromServerFormat(e.fieldPath)}function Wi(e){return e instanceof mn?function(e){if("=="===e.op){if($t(e.value))return{unaryFilter:{field:zi(e.field),op:"IS_NAN"}};if(Xt(e.value))return{unaryFilter:{field:zi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($t(e.value))return{unaryFilter:{field:zi(e.field),op:"IS_NOT_NAN"}};if(Xt(e.value))return{unaryFilter:{field:zi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zi(e.field),op:Bi(e.op),value:e.value}}}(e):e instanceof pn?function(e){const t=e.getFilters().map(e=>Wi(e));return 1===t.length?t[0]:{compositeFilter:{op:Fi(e.op),filters:t}}}(e):_(54877,{filter:e})}function Ui(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Vi(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Hi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:be.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:be.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:xt.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Gi{constructor(e){this.yt=e}}function Ji(e){const t=Li({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Un(t,t.limit,"L"):t}class Ki{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Nt(e.integerValue));else if("doubleValue"in e){const n=Nt(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),De(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=wt(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(kt(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?nn(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):en(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):_(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=Bt,s=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(Nt(s)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),ae.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Ki.Kt=new Ki;class Yi{constructor(){this.Cn=new Qi}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ae.resolve()}getCollectionParents(e,t){return Ae.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ae.resolve()}deleteFieldIndex(e,t){return Ae.resolve()}deleteAllFieldIndexes(e){return Ae.resolve()}createTargetIndexes(e,t){return Ae.resolve()}getDocumentsMatchingTarget(e,t){return Ae.resolve(null)}getIndexType(e,t){return Ae.resolve(0)}getFieldIndexes(e,t){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,t){return Ae.resolve(ke.min())}getMinOffsetFromCollectionGroup(e,t){return Ae.resolve(ke.min())}updateCollectionGroup(e,t,n){return Ae.resolve()}updateIndexEntries(e,t){return Ae.resolve()}}class Qi{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ft(re.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ft(re.comparator)).toArray()}}new Uint8Array(0);const Xi={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$i=41943040;class Zi{static withCacheSize(e){return new Zi(e,Zi.DEFAULT_COLLECTION_PERCENTILE,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Zi.DEFAULT_COLLECTION_PERCENTILE=10,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zi.DEFAULT=new Zi($i,Zi.DEFAULT_COLLECTION_PERCENTILE,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zi.DISABLED=new Zi(-1,0,0);class es{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new es(0)}static cr(){return new es(-1)}}const ts="LruGarbageCollector",ns=1048576;function rs(e,t){let[n,r]=e,[i,s]=t;const a=Y(n,i);return 0===a?Y(r,s):a}class is{constructor(e){this.Ir=e,this.buffer=new ft(rs),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();rs(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ss{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){A(ts,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Pe(e)?A(ts,"Ignoring IndexedDB error during garbage collection: ",e):await Te(e)}await this.Vr(3e5)})}}class as{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Ae.resolve(Ie.ce);const n=new is(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(A("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(Xi)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(A("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Xi):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,s,a,o,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(A("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),T()<=l.$b.DEBUG&&A("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-d,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-o)+"ms\n"+"Total Duration: ".concat(c-d,"ms")),Ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function os(e,t){return new as(e,t)}class ls{constructor(){this.changes=new Xn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ae.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cs{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ds{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Rr(n.mutation,e,yt.empty(),ye.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,lr()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lr();const r=rr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=tr();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=rr();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,lr()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Zn();const s=sr(),a=sr();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Mr)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Rr(a.mutation,t,a.mutation.getFieldMask(),ye.now())):s.set(t.key,yt.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new cs(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=sr();let r=new ht((e,t)=>e-t),i=lr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||yt.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||lr()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=ir();l.forEach(e=>{if(!i.has(e)){const r=Ir(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Ae.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ae.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Bn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ae.resolve(rr());let a=xe,o=i;return s.next(t=>Ae.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Ae.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,lr())).next(e=>({batchId:a,changes:nr(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ae(t)).next(e=>{let t=tr();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=tr();return this.indexManager.getCollectionParents(e,i).next(a=>Ae.forEach(a,a=>{const o=function(e,t){return new Dn(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,an.newInvalidDocument(r)))});let n=tr();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&Rr(s.mutation,r,yt.empty(),ye.now()),Jn(t,r)&&(n=n.insert(e,r))}),n})}}class us{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ae.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:wi(e.createTime)}}(t)),Ae.resolve()}getNamedQuery(e,t){return Ae.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Ji(e.bundledQuery),readTime:wi(e.readTime)}}(t)),Ae.resolve()}}class hs{constructor(){this.overlays=new ht(ae.comparator),this.qr=new Map}getOverlay(e,t){return Ae.resolve(this.overlays.get(t))}getOverlays(e,t){const n=rr();return Ae.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Ae.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Ae.resolve()}getOverlaysForCollection(e,t,n){const r=rr(),i=t.length+1,s=new ae(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ae.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ht((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=rr(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=rr(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Ae.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Hr(t,n));let i=this.qr.get(t);void 0===i&&(i=lr(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class ms{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return Ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ae.resolve()}}class ps{constructor(){this.Qr=new ft(fs.$r),this.Ur=new ft(fs.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new fs(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new fs(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new ae(new re([])),n=new fs(t,e),r=new fs(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ae(new re([])),n=new fs(t,e),r=new fs(t,e+1);let i=lr();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new fs(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class fs{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ae.comparator(e.key,t.key)||Y(e.Yr,t.Yr)}static Kr(e,t){return Y(e.Yr,t.Yr)||ae.comparator(e.key,t.key)}}class gs{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ft(fs.$r)}checkEmpty(e){return Ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ur(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Zr=this.Zr.add(new fs(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ae.resolve(s)}lookupMutationBatch(e,t){return Ae.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return Ae.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.mutationQueue.length?_e:this.tr-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new fs(t,0),r=new fs(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),Ae.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ft(Y);return t.forEach(e=>{const t=new fs(e,0),r=new fs(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Ae.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ae.isDocumentKey(i)||(i=i.child(""));const s=new fs(new ae(i),0);let a=new ft(Y);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Yr)),!0)},s),Ae.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){D(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Ae.forEach(t.mutations,r=>{const i=new fs(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new fs(t,0),r=this.Zr.firstAfterOrEqual(n);return Ae.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ae.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ys{constructor(e){this.ri=e,this.docs=new ht(ae.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ae.resolve(n?n.document.mutableCopy():an.newInvalidDocument(t))}getEntries(e,t){let n=Zn();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():an.newInvalidDocument(e))}),Ae.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Zn();const s=t.path,a=new ae(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||je(Ne(a),n)<=0||(r.has(a.key)||Jn(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Ae.resolve(i)}getAllFromCollectionGroup(e,t,n,r){_(9500)}ii(e,t){return Ae.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new bs(this)}getSize(e){return Ae.resolve(this.size)}}class bs extends ls{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Ae.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class xs{constructor(e){this.persistence=e,this.si=new Xn(e=>In(e),_n),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new ps,this.targetCount=0,this.ai=es.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Ae.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new es(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ae.resolve()}updateTargetData(e,t){return this.Pr(t),Ae.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Ae.waitFor(i).next(()=>r)}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Ae.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Ae.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Ae.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ae.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Ae.resolve(n)}containsKey(e,t){return Ae.resolve(this._i.containsKey(t))}}class vs{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ie(0),this.li=!1,this.li=!0,this.hi=new ms,this.referenceDelegate=e(this),this.Pi=new xs(this),this.indexManager=new Yi,this.remoteDocumentCache=function(e){return new ys(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Gi(t),this.Ii=new us(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hs,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new gs(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){A("MemoryPersistence","Starting transaction:",e);const r=new ws(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Ae.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class ws extends Se{constructor(e){super(),this.currentSequenceNumber=e}}class Ns{constructor(e){this.persistence=e,this.Ri=new ps,this.Vi=null}static mi(e){return new Ns(e)}get fi(){if(this.Vi)return this.Vi;throw _(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Ae.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Ae.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ae.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.fi,n=>{const r=ae.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,be.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Ae.or([()=>Ae.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ks{constructor(e,t){this.persistence=e,this.pi=new Xn(e=>Me(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=os(this,t)}static mi(e,t){return new ks(e,t)}Ei(){}di(e){return Ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Ae.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?Ae.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,be.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ae.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ae.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Jt(e.data.value)),t}br(e,t,n){return Ae.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Ae.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class js{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=lr(),r=lr();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new js(e,t.fromCache,n,r)}}class Cs{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ss{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(0,c.nr)()?8:Ee((0,c.ZQ)())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Cs;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(T()<=l.$b.DEBUG&&A("QueryEngine","SDK will not create cache indexes for query:",Gn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ae.resolve()):(T()<=l.$b.DEBUG&&A("QueryEngine","Query:",Gn(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(T()<=l.$b.DEBUG&&A("QueryEngine","The SDK decides to create cache indexes for query:",Gn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zn(t))):Ae.resolve())}ys(e,t){if(Mn(t))return Ae.resolve(null);let n=zn(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Un(t,null,"F"),n=zn(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=lr(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.Ds(t,r);return this.Cs(t,s,i,n.readTime)?this.ys(e,Un(t,null,"F")):this.vs(e,s,t,n)}))})))}ws(e,t,n,r){return Mn(t)||r.isEqual(be.min())?Ae.resolve(null):this.ps.getDocuments(e,n).next(i=>{const s=this.Ds(t,i);return this.Cs(t,s,n,r)?Ae.resolve(null):(T()<=l.$b.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gn(t)),this.vs(e,s,t,we(r,xe)).next(e=>e))})}Ds(e,t){let n=new ft(Yn(e));return t.forEach((t,r)=>{Jn(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return T()<=l.$b.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",Gn(t)),this.ps.getDocumentsMatchingQuery(e,t,ke.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Ts="LocalStore",As=3e8;class Es{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new ht(Y),this.xs=new Xn(e=>In(e),_n),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ds(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Ps(e,t,n,r){return new Es(e,t,n,r)}async function Is(e,t){const n=L(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=lr();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:s}))})})}function _s(e){const t=L(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Rs(e,t,n){let r=lr(),i=lr();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Zn();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(be.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):A(Ts,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{ks:r,qs:i}})}function Ds(e,t){const n=L(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=_e),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Ls(e,t){const n=L(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,Ae.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new Hi(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function Os(e,t,n){const r=L(e),i=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Pe(e))throw e;A(Ts,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function Ms(e,t,n){const r=L(e);let i=be.min(),s=lr();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=L(e),i=r.xs.get(n);return void 0!==i?Ae.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,zn(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:be.min(),n?s:lr())).next(e=>(Bs(r,Kn(t),e),{documents:e,Qs:s})))}function Bs(e,t,n){let r=e.Os.get(t)||be.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class Fs{constructor(){this.activeTargetIds=dr()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zs{constructor(){this.Mo=new Fs,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Fs,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qs{Oo(e){}shutdown(){}}const Ws="ConnectivityMonitor";class Us{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){A(Ws,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){A(Ws,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Vs=null;function Hs(){return null===Vs?Vs=268435456+Math.round(2147483648*Math.random()):Vs++,"0x"+Vs.toString(16)}const Gs="RestConnection",Js={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ks{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===_t?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const s=Hs(),a=this.zo(e,t.toUriEncodedString());A(Gs,"Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,i);const{host:l}=new URL(a),d=(0,c.zJ)(l);return this.Jo(e,a,o,n,d).then(t=>(A(Gs,"Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw P(Gs,"RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}Ho(e,t,n,r,i,s){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+C,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Js[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Ys{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Qs="WebChannelConnection";class Xs extends Ks{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const s=Hs();return new Promise((i,a)=>{const o=new h;o.setWithCredentials(!0),o.listenOnce(p.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case f.NO_ERROR:const n=o.getResponseJson();A(Qs,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(n)),i(n);break;case f.TIMEOUT:A(Qs,"RPC '".concat(e,"' ").concat(s," timed out")),a(new M(O.DEADLINE_EXCEEDED,"Request time out"));break;case f.HTTP_ERROR:const r=o.getStatus();if(A(Qs,"RPC '".concat(e,"' ").concat(s," failed with status:"),r,"response text:",o.getResponseText()),r>0){var t;let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(t)>=0?t:O.UNKNOWN}(n.status);a(new M(e,n.message))}else a(new M(O.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new M(O.UNAVAILABLE,"Connection failed."));break;default:_(9055,{l_:e,streamId:s,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{A(Qs,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);A(Qs,"RPC '".concat(e,"' ").concat(s," sending request:"),r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Hs(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=x(),a=b(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");A(Qs,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const d=s.createWebChannel(c,o);this.I_(d);let u=!1,h=!1;const p=new Ys({Yo:t=>{h?A(Qs,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(u||(A(Qs,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),d.open(),u=!0),A(Qs,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),d.send(t))},Zo:()=>d.close()}),f=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return f(d,m.EventType.OPEN,()=>{h||(A(Qs,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),p.o_())}),f(d,m.EventType.CLOSE,()=>{h||(h=!0,A(Qs,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.a_(),this.E_(d))}),f(d,m.EventType.ERROR,t=>{h||(h=!0,P(Qs,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),p.a_(new M(O.UNAVAILABLE,"The operation could not be completed")))}),f(d,m.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];D(!!i,16349);const s=i,a=(null===s||void 0===s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){A(Qs,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Jr[e];if(void 0!==t)return Qr(t)}(t),i=a.message;void 0===n&&(n=O.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,p.a_(new M(n,i)),d.close()}else A(Qs,"RPC '".concat(e,"' stream ").concat(r," received:"),i),p.u_(i)}}),f(a,y.STAT_EVENT,t=>{t.stat===g.PROXY?A(Qs,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===g.NOPROXY&&A(Qs,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{p.__()},0),p}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function $s(){return"undefined"!=typeof document?document:null}function Zs(e){return new gi(e,!0)}class ea{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&A("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ta="PersistentStream";class na{constructor(e,t,n,r,i,s,a,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ea(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(E(t.toString()),E("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===O.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new M(O.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return A(ta,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(A(ta,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ra extends na{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:_(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(D(void 0===t||"string"==typeof t,58123),xt.fromBase64String(t||"")):(D(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),xt.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?O.UNKNOWN:Qr(e.code);return new M(t,e.message||"")}(a);n=new li(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Si(e,r.document.name),s=wi(r.document.updateTime),a=r.document.createTime?wi(r.document.createTime):be.min(),o=new rn({mapValue:{fields:r.document.fields}}),l=an.newFoundDocument(i,s,a,o),c=r.targetIds||[],d=r.removedTargetIds||[];n=new ai(c,d,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Si(e,r.document),s=r.readTime?wi(r.readTime):be.min(),a=an.newNoDocument(i,s),o=r.removedTargetIds||[];n=new ai([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Si(e,r.document),s=r.removedTargetIds||[];n=new ai([],s,i,null)}else{if(!("filter"in t))return _(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Gr(r,i),a=e.targetId;n=new oi(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return be.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?be.min():t.readTime?wi(t.readTime):be.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Ei(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Rn(r)?{documents:Ri(e,r)}:{query:Di(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=xi(e,t.resumeToken);const r=yi(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(be.min())>0){n.readTime=bi(e,t.snapshotVersion.toTimestamp());const r=yi(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Ei(this.serializer),t.removeTarget=e,this.q_(t)}}class ia extends na{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return D(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,D(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){D(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(D(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?wi(e.updateTime):wi(t);return n.isEqual(be.min())&&(n=wi(t)),new Tr(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=wi(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Ei(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>_i(this.serializer,e))};this.q_(t)}}class sa{}class aa extends sa{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new M(O.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Go(e,ki(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new M(O.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.Ho(e,ki(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new M(O.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class oa{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(E(t),this.aa=!1):A("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const la="RemoteStore";class ca{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{ba(this)&&(A(la,"Restarting streams for network reachability change."),await async function(e){const t=L(e);t.Ea.add(4),await ua(t),t.Ra.set("Unknown"),t.Ea.delete(4),await da(t)}(this))})}),this.Ra=new oa(n,r)}}async function da(e){if(ba(e))for(const t of e.da)await t(!0)}async function ua(e){for(const t of e.da)await t(!1)}function ha(e,t){const n=L(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),ya(n)?ga(n):Ma(n).O_()&&pa(n,t))}function ma(e,t){const n=L(e),r=Ma(n);n.Ia.delete(t),r.O_()&&fa(n,t),0===n.Ia.size&&(r.O_()?r.L_():ba(n)&&n.Ra.set("Unknown"))}function pa(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(be.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ma(e).Y_(t)}function fa(e,t){e.Va.Ue(t),Ma(e).Z_(t)}function ga(e){e.Va=new di({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Ma(e).start(),e.Ra.ua()}function ya(e){return ba(e)&&!Ma(e).x_()&&e.Ia.size>0}function ba(e){return 0===L(e).Ea.size}function xa(e){e.Va=void 0}async function va(e){e.Ra.set("Online")}async function wa(e){e.Ia.forEach((t,n)=>{pa(e,t)})}async function Na(e,t){xa(e),ya(e)?(e.Ra.ha(t),ga(e)):e.Ra.set("Unknown")}async function ka(e,t,n){if(e.Ra.set("Online"),t instanceof li&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){A(la,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ja(e,n)}else if(t instanceof ai?e.Va.Ze(t):t instanceof oi?e.Va.st(t):e.Va.tt(t),!n.isEqual(be.min()))try{const t=await _s(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(xt.EMPTY_BYTE_STRING,r.snapshotVersion)),fa(e,t);const i=new Hi(r.target,t,n,r.sequenceNumber);pa(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){A(la,"Failed to raise snapshot:",t),await ja(e,t)}}async function ja(e,t,n){if(!Pe(t))throw t;e.Ea.add(1),await ua(e),e.Ra.set("Offline"),n||(n=()=>_s(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{A(la,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await da(e)})}function Ca(e,t){return t().catch(n=>ja(e,n,t))}async function Sa(e){const t=L(e),n=Ba(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:_e;for(;Ta(t);)try{const e=await Ds(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Aa(t,e)}catch(e){await ja(t,e)}Ea(t)&&Pa(t)}function Ta(e){return ba(e)&&e.Ta.length<10}function Aa(e,t){e.Ta.push(t);const n=Ba(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Ea(e){return ba(e)&&!Ba(e).x_()&&e.Ta.length>0}function Pa(e){Ba(e).start()}async function Ia(e){Ba(e).ra()}async function _a(e){const t=Ba(e);for(const n of e.Ta)t.ea(n.mutations)}async function Ra(e,t,n){const r=e.Ta.shift(),i=Vr.from(r,t,n);await Ca(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Sa(e)}async function Da(e,t){t&&Ba(e).X_&&await async function(e,t){if(function(e){return Yr(e)&&e!==O.ABORTED}(t.code)){const n=e.Ta.shift();Ba(e).B_(),await Ca(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Sa(e)}}(e,t),Ea(e)&&Pa(e)}async function La(e,t){const n=L(e);n.asyncQueue.verifyOperationInProgress(),A(la,"RemoteStore received new credentials");const r=ba(n);n.Ea.add(3),await ua(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await da(n)}async function Oa(e,t){const n=L(e);t?(n.Ea.delete(2),await da(n)):t||(n.Ea.add(2),await ua(n),n.Ra.set("Unknown"))}function Ma(e){return e.ma||(e.ma=function(e,t,n){const r=L(e);return r.sa(),new ra(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:va.bind(null,e),t_:wa.bind(null,e),r_:Na.bind(null,e),H_:ka.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),ya(e)?ga(e):e.Ra.set("Unknown")):(await e.ma.stop(),xa(e))})),e.ma}function Ba(e){return e.fa||(e.fa=function(e,t,n){const r=L(e);return r.sa(),new ia(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Ia.bind(null,e),r_:Da.bind(null,e),ta:_a.bind(null,e),na:Ra.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Sa(e)):(await e.fa.stop(),e.Ta.length>0&&(A(la,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class Fa{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new B,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Fa(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function za(e,t){if(E("AsyncQueue","".concat(t,": ").concat(e)),Pe(e))return new M(O.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class qa{static emptySet(e){return new qa(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ae.comparator(t.key,n.key):(e,t)=>ae.comparator(e.key,t.key),this.keyedMap=tr(),this.sortedSet=new ht(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qa))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new qa;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Wa{constructor(){this.ga=new ht(ae.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):_(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Ua{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new Ua(e,t,qa.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Va{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Ha{constructor(){this.queries=Ga(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=L(e),r=n.queries;n.queries=Ga(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new M(O.ABORTED,"Firestore shutting down"))}}function Ga(){return new Xn(e=>Hn(e),Vn)}async function Ja(e,t){const n=L(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new Va,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=za(e,"Initialization of query '".concat(Gn(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&Xa(n)}async function Ka(e,t){const n=L(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Sa.indexOf(t);e>=0&&(s.Sa.splice(e,1),0===s.Sa.length?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ya(e,t){const n=L(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&Xa(n)}function Qa(e,t,n){const r=L(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function Xa(e){e.Ca.forEach(e=>{e.next()})}var $a,Za;(Za=$a||($a={})).Ma="default",Za.Cache="cache";class eo{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ua(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$a.Cache}}class to{constructor(e){this.key=e}}class no{constructor(e){this.key=e}}class ro{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=lr(),this.mutatedKeys=lr(),this.eu=Yn(e),this.tu=new qa(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Wa,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),d=Jn(this.query,t)?t:null,u=!!c&&this.mutatedKeys.has(c.key),h=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let m=!1;c&&d?c.data.isEqual(d.data)?u!==h&&(n.track({type:3,doc:d}),m=!0):this.su(c,d)||(n.track({type:2,doc:d}),m=!0,(o&&this.eu(d,o)>0||l&&this.eu(d,l)<0)&&(a=!0)):!c&&d?(n.track({type:0,doc:d}),m=!0):c&&!d&&(n.track({type:1,doc:c}),m=!0,(o||l)&&(a=!0)),m&&(d?(s=s.add(d),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:s,iu:n,Cs:a,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const a=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return this.Za=o,0!==s.length||l?{snapshot:new Ua(this.query,e.tu,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Wa,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=lr(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new no(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new to(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=lr();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ua.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const io="SyncEngine";class so{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class ao{constructor(e){this.key=e,this.hu=!1}}class oo{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Xn(e=>Hn(e),Vn),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ae.comparator),this.Au=new Map,this.Ru=new ps,this.Vu={},this.mu=new Map,this.fu=es.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function lo(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Po(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await uo(r,t,n,!0),i}async function co(e,t){const n=Po(e);await uo(n,t,!0,!1)}async function uo(e,t,n,r){const i=await Ls(e.localStore,zn(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await ho(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&ha(e.remoteStore,i),o}async function ho(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await Ms(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return jo(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const s=await Ms(e.localStore,t,!0),a=new ro(t,s.Qs),o=a.ru(s.documents),l=si.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);jo(e,n,c.au);const d=new so(t,n,a);return e.Tu.set(t,d),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function mo(e,t,n){const r=L(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(e=>!Vn(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Os(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ma(r.remoteStore,i.targetId),No(r,i.targetId)}).catch(Te)):(No(r,i.targetId),await Os(r.localStore,i.targetId,!0))}async function po(e,t){const n=L(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ma(n.remoteStore,r.targetId))}async function fo(e,t){const n=L(e);try{const e=await function(e,t){const n=L(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Pi.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(xt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=As||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&a.push(n.Pi.updateTargetData(e,c))});let o=Zn(),l=lr();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Rs(e,s,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!r.isEqual(be.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Ae.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(D(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?D(r.hu,14607):e.removedDocuments.size>0&&(D(r.hu,42227),r.hu=!1))}),await To(n,e,t)}catch(e){await Te(e)}}function go(e,t,n){const r=L(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=L(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&Xa(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function yo(e,t,n){const r=L(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let e=new ht(ae.comparator);e=e.insert(s,an.newNoDocument(s,be.min()));const n=lr().add(s),i=new ii(be.min(),new Map,new ht(Y),e,n);await fo(r,i),r.du=r.du.remove(s),r.Au.delete(t),So(r)}else await Os(r.localStore,t,!1).then(()=>No(r,t,n)).catch(Te)}async function bo(e,t){const n=L(e),r=t.batch.batchId;try{const e=await function(e,t){const n=L(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Ae.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);D(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=lr();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);wo(n,r,null),vo(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await To(n,e)}catch(e){await Te(e)}}async function xo(e,t,n){const r=L(e);try{const e=await function(e,t){const n=L(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(D(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);wo(r,t,n),vo(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await To(r,e)}catch(n){await Te(n)}}function vo(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function wo(e,t,n){const r=L(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function No(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||ko(e,t)})}function ko(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(ma(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),So(e))}function jo(e,t,n){for(const r of n)r instanceof to?(e.Ru.addReference(r.key,t),Co(e,r)):r instanceof no?(A(io,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||ko(e,r.key)):_(19791,{wu:r})}function Co(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(A(io,"New document in limbo: "+n),e.Eu.add(r),So(e))}function So(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new ae(re.fromString(t)),r=e.fu.next();e.Au.set(r,new ao(n)),e.du=e.du.insert(n,r),ha(e.remoteStore,new Hi(zn(On(n.path)),r,"TargetPurposeLimboResolution",Ie.ce))}}async function To(e,t,n){const r=L(e),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{a.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=js.As(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(e,t){const n=L(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Ae.forEach(t,t=>Ae.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Ae.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Pe(e))throw e;A(Ts,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,s))}async function Ao(e,t){const n=L(e);if(!n.currentUser.isEqual(t)){A(io,"User change. New user:",t.toKey());const e=await Is(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new M(O.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await To(n,e.Ls)}}function Eo(e,t){const n=L(e),r=n.Au.get(t);if(r&&r.hu)return lr().add(r.key);{let e=lr();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Po(e){const t=L(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=fo.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Eo.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yo.bind(null,t),t.Pu.H_=Ya.bind(null,t.eventManager),t.Pu.yu=Qa.bind(null,t.eventManager),t}function Io(e){const t=L(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bo.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xo.bind(null,t),t}class _o{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zs(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Ps(this.persistence,new Ss,e.initialUser,this.serializer)}Cu(e){return new vs(Ns.mi,this.serializer)}Du(e){return new zs}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_o.provider={build:()=>new _o};class Ro extends _o{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){D(this.persistence.referenceDelegate instanceof ks,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new ss(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Zi.withCacheSize(this.cacheSizeBytes):Zi.DEFAULT;return new vs(e=>ks.mi(e,t),this.serializer)}}class Do{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>go(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ao.bind(null,this.syncEngine),await Oa(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ha}createDatastore(e){const t=Zs(e.databaseInfo.databaseId),n=function(e){return new Xs(e)}(e.databaseInfo);return function(e,t,n,r){return new aa(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new ca(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>go(this.syncEngine,e,0),Us.v()?new Us:new qs)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new oo(e,t,n,r,i,s);return a&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=L(e);A(la,"RemoteStore shutting down."),t.Ea.add(5),await ua(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Do.provider={build:()=>new Do};class Lo{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):E("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Oo="FirestoreClient";class Mo{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=j.UNAUTHENTICATED,this.clientId=K.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{A(Oo,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(A(Oo,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new B;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=za(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Bo(e,t){e.asyncQueue.verifyOperationInProgress(),A(Oo,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Is(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Fo(e,t){e.asyncQueue.verifyOperationInProgress();const n=await zo(e);A(Oo,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>La(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>La(t.remoteStore,n)),e._onlineComponents=t}async function zo(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){A(Oo,"Using user provided OfflineComponentProvider");try{await Bo(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===O.FAILED_PRECONDITION||e.code===O.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;P("Error using user provided cache. Falling back to memory cache: "+n),await Bo(e,new _o)}}else A(Oo,"Using default OfflineComponentProvider"),await Bo(e,new Ro(void 0));return e._offlineComponents}async function qo(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(A(Oo,"Using user provided OnlineComponentProvider"),await Fo(e,e._uninitializedComponentsProvider._online)):(A(Oo,"Using default OnlineComponentProvider"),await Fo(e,new Do))),e._onlineComponents}function Wo(e){return qo(e).then(e=>e.syncEngine)}async function Uo(e){const t=await qo(e),n=t.eventManager;return n.onListen=lo.bind(null,t.syncEngine),n.onUnlisten=mo.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=co.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=po.bind(null,t.syncEngine),n}function Vo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new B;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Lo({next:o=>{s.Nu(),t.enqueueAndForget(()=>Ka(e,a));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new M(O.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new M(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new eo(On(n.path),s,{includeMetadataChanges:!0,qa:!0});return Ja(e,a)}(await Uo(e),e.asyncQueue,t,n,r)),r.promise}function Ho(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new B;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Lo({next:n=>{s.Nu(),t.enqueueAndForget(()=>Ka(e,a)),n.fromCache&&"server"===r.source?i.reject(new M(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new eo(n,s,{includeMetadataChanges:!0,qa:!0});return Ja(e,a)}(await Uo(e),e.asyncQueue,t,n,r)),r.promise}function Go(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Jo=new Map,Ko="firestore.googleapis.com",Yo=!0;class Qo{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new M(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ko,this.ssl=Yo}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Yo;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=$i;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<ns)throw new M(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new M(O.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Go(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new M(O.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new M(O.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new M(O.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xo{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qo({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new M(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qo(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new z;switch(e.type){case"firstParty":return new V(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new M(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Jo.get(e);t&&(A("ComponentProvider","Removing Datastore"),Jo.delete(e),t.terminate())}(this),Promise.resolve()}}class $o{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new $o(this.firestore,e,this._query)}}class Zo{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new el(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zo(this.firestore,e,this._key)}toJSON(){return{type:Zo._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(pe(t,Zo._jsonSchema))return new Zo(e,n||null,new ae(re.fromString(t.referencePath)))}}Zo._jsonSchemaVersion="firestore/documentReference/1.0",Zo._jsonSchema={type:me("string",Zo._jsonSchemaVersion),referencePath:me("string")};class el extends $o{constructor(e,t,n){super(e,t,On(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zo(this.firestore,null,new ae(e))}withConverter(e){return new el(this.firestore,e,this._path)}}function tl(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,c.Ku)(e),oe("collection","path",t),e instanceof Xo){const n=re.fromString(t,...r);return ce(n),new el(e,null,n)}{if(!(e instanceof Zo||e instanceof el))throw new M(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(re.fromString(t,...r));return ce(n),new el(e.firestore,null,n)}}function nl(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,c.Ku)(e),1===arguments.length&&(t=K.newId()),oe("doc","path",t),e instanceof Xo){const n=re.fromString(t,...r);return le(n),new Zo(e,null,new ae(n))}{if(!(e instanceof Zo||e instanceof el))throw new M(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(re.fromString(t,...r));return le(n),new Zo(e.firestore,e instanceof el?e.converter:null,new ae(n))}}const rl="AsyncQueue";class il{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ea(this,"async_queue_retry"),this._c=()=>{const e=$s();e&&A(rl,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=$s();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=$s();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new B;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pe(e))throw e;A(rl,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,E("INTERNAL UNHANDLED ERROR: ",sl(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Fa.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&_(47125,{Pc:sl(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function sl(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function al(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class ol extends Xo{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new il,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new il(e),this._firestoreClient=void 0,await e}}}function ll(e,t){const n="object"==typeof e?e:(0,a.Sx)(),r="string"==typeof e?e:t||_t,i=(0,a.j6)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(0,c.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=he(e,Xo);const i=(0,c.zJ)(t),a=e._getSettings(),o=(0,s.A)((0,s.A)({},a),{},{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);i&&((0,c.gE)("https://".concat(l)),(0,c.P1)("Firestore",!0)),a.host!==Ko&&a.host!==l&&P("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=(0,s.A)((0,s.A)({},a),{},{host:l,ssl:i,emulatorOptions:r});if(!(0,c.bD)(d,o)&&(e._setSettings(d),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=j.MOCK_USER;else{var u;t=(0,c.Fy)(r.mockUserToken,null===(u=e._app)||void 0===u?void 0:u.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new M(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new j(i)}e._authCredentials=new q(new F(t,n))}}(i,...e)}return i}function cl(e){if(e._terminated)throw new M(O.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||dl(e),e._firestoreClient}function dl(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new It(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Go(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Mo(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class ul{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ul(xt.fromBase64String(e))}catch(e){throw new M(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ul(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ul._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pe(e,ul._jsonSchema))return ul.fromBase64String(e.bytes)}}ul._jsonSchemaVersion="firestore/bytes/1.0",ul._jsonSchema={type:me("string",ul._jsonSchemaVersion),bytes:me("string")};class hl{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new M(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new se(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ml{constructor(e){this._methodName=e}}class pl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pl._jsonSchemaVersion}}static fromJSON(e){if(pe(e,pl._jsonSchema))return new pl(e.latitude,e.longitude)}}pl._jsonSchemaVersion="firestore/geoPoint/1.0",pl._jsonSchema={type:me("string",pl._jsonSchemaVersion),latitude:me("number"),longitude:me("number")};class fl{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:fl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pe(e,fl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new fl(e.vectorValues);throw new M(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fl._jsonSchemaVersion="firestore/vectorValue/1.0",fl._jsonSchema={type:me("string",fl._jsonSchemaVersion),vectorValues:me("object")};const gl=/^__.*__$/;class yl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Mr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Or(e,this.data,t,this.fieldTransforms)}}class bl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Mr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _(40011,{Ac:e})}}class vl{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vl((0,s.A)((0,s.A)({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fl(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(xl(this.Ac)&&gl.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class wl{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Zs(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new vl({Ac:e,methodName:t,Dc:n,path:se.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nl(e){const t=e._freezeSettings(),n=Zs(e._databaseId);return new wl(e._databaseId,!!t.ignoreUndefinedProperties,n)}function kl(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);Ll("Data must be an object, but it was:",a,r);const o=Rl(r,a);let l,c;if(s.merge)l=new yt(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Ol(t,r,n);if(!a.contains(i))throw new M(O.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));zl(e,i)||e.push(i)}l=new yt(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new yl(new rn(o),l,c)}class jl extends ml{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jl}}function Cl(e,t,n){return new vl({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Sl extends ml{_toFieldTransform(e){return new Sr(e.path,new br)}isEqual(e){return e instanceof Sl}}class Tl extends ml{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Cl(this,e,!0),n=this.vc.map(e=>_l(e,t)),r=new xr(n);return new Sr(e.path,r)}isEqual(e){return e instanceof Tl&&(0,c.bD)(this.vc,e.vc)}}class Al extends ml{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new kr(e.serializer,mr(e.serializer,this.Fc));return new Sr(e.path,t)}isEqual(e){return e instanceof Al&&this.Fc===e.Fc}}function El(e,t,n,r){const i=e.Cc(1,t,n);Ll("Data must be an object, but it was:",i,r);const s=[],a=rn.empty();dt(r,(e,r)=>{const o=Bl(t,e,n);r=(0,c.Ku)(r);const l=i.yc(o);if(r instanceof jl)s.push(o);else{const e=_l(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new yt(s);return new bl(a,o,i.fieldTransforms)}function Pl(e,t,n,r,i,s){const a=e.Cc(1,t,n),o=[Ol(t,r,n)],l=[i];if(s.length%2!=0)throw new M(O.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let c=0;c<s.length;c+=2)o.push(Ol(t,s[c])),l.push(s[c+1]);const d=[],u=rn.empty();for(let m=o.length-1;m>=0;--m)if(!zl(d,o[m])){const e=o[m];let t=l[m];t=(0,c.Ku)(t);const n=a.yc(e);if(t instanceof jl)d.push(e);else{const r=_l(t,n);null!=r&&(d.push(e),u.set(e,r))}}const h=new yt(d);return new bl(u,h,a.fieldTransforms)}function Il(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return _l(n,e.Cc(r?4:3,t))}function _l(e,t){if(Dl(e=(0,c.Ku)(e)))return Ll("Unsupported field value:",t,e),Rl(e,t);if(e instanceof ml)return function(e,t){if(!xl(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=_l(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,c.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return mr(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ye.fromDate(e);return{timestampValue:bi(t.serializer,n)}}if(e instanceof ye){const n=new ye(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:bi(t.serializer,n)}}if(e instanceof pl)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ul)return{bytesValue:xi(t.serializer,e._byteString)};if(e instanceof Zo){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Ni(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof fl)return function(e,t){return{mapValue:{fields:{[Dt]:{stringValue:Mt},[Bt]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return ur(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(ue(e)))}(e,t)}function Rl(e,t){const n={};return ut(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):dt(e,(e,r)=>{const i=_l(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Dl(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ye||e instanceof pl||e instanceof ul||e instanceof Zo||e instanceof ml||e instanceof fl)}function Ll(e,t,n){if(!Dl(n)||!de(n)){const r=ue(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Ol(e,t,n){if((t=(0,c.Ku)(t))instanceof hl)return t._internalPath;if("string"==typeof t)return Bl(e,t);throw Fl("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ml=new RegExp("[~\\*/\\[\\]]");function Bl(e,t,n){if(t.search(Ml)>=0)throw Fl("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new hl(...t.split("."))._internalPath}catch(r){throw Fl("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Fl(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new M(O.INVALID_ARGUMENT,o+e+l)}function zl(e,t){return e.some(e=>e.isEqual(t))}class ql{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Zo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Wl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ul("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Wl extends ql{data(){return super.data()}}function Ul(e,t){return"string"==typeof t?Bl(e,t):t instanceof hl?t._internalPath:t._delegate._internalPath}function Vl(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new M(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hl{}class Gl extends Hl{}function Jl(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Hl&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Yl).length,n=e.filter(e=>e instanceof Kl).length;if(t>1||t>0&&n>0)throw new M(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Kl extends Gl{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Kl(e,t,n)}_apply(e){const t=this._parse(e);return ec(e._query,t),new $o(e.firestore,e.converter,Wn(e._query,t))}_parse(e){const t=Nl(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new M(O.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Zl(a,s);const t=[];for(const n of a)t.push($l(r,e,n));o={arrayValue:{values:t}}}else o=$l(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Zl(a,s),o=Il(n,t,a,"in"===s||"not-in"===s);return mn.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Yl extends Hl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Yl(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:pn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)ec(n,i),n=Wn(n,i)}(e._query,t),new $o(e.firestore,e.converter,Wn(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ql extends Gl{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ql(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new M(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new M(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dn(t,n)}(e._query,this._field,this._direction);return new $o(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Dn(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Xl(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Ul("orderBy",e);return Ql._create(n,t)}function $l(e,t,n){if("string"==typeof(n=(0,c.Ku)(n))){if(""===n)throw new M(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bn(t)&&-1!==n.indexOf("/"))throw new M(O.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(re.fromString(n));if(!ae.isDocumentKey(r))throw new M(O.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Kt(e,new ae(r))}if(n instanceof Zo)return Kt(e,n._key);throw new M(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ue(n),"."))}function Zl(e,t){if(!Array.isArray(e)||0===e.length)throw new M(O.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function ec(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new M(O.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new M(O.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class tc{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ft(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(kt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return dt(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[Bt].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>Nt(e.doubleValue));return new fl(n)}convertGeoPoint(e){return new pl(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Et(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Pt(e));default:return null}}convertTimestamp(e){const t=wt(e);return new ye(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=re.fromString(e);D(Vi(n),9688,{name:e});const r=new Rt(n.get(1),n.get(3)),i=new ae(n.popFirst(5));return r.isEqual(t)||E("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function nc(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class rc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ic extends ql{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Ul("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new M(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ic._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}ic._jsonSchemaVersion="firestore/documentSnapshot/1.0",ic._jsonSchema={type:me("string",ic._jsonSchemaVersion),bundleSource:me("string","DocumentSnapshot"),bundleName:me("string"),bundle:me("string")};class sc extends ic{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class ac{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new rc(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new sc(this._firestore,this._userDataWriter,n.key,n,new rc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new M(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new sc(e._firestore,e._userDataWriter,n.doc.key,n.doc,new rc(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new sc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new rc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:oc(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new M(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ac._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=K.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oc(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _(61501,{type:e})}}function lc(e){e=he(e,Zo);const t=he(e.firestore,ol);return Vo(cl(t),e._key).then(n=>gc(t,e,n))}ac._jsonSchemaVersion="firestore/querySnapshot/1.0",ac._jsonSchema={type:me("string",ac._jsonSchemaVersion),bundleSource:me("string","QuerySnapshot"),bundleName:me("string"),bundle:me("string")};class cc extends tc{constructor(e){super(),this.firestore=e}convertBytes(e){return new ul(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zo(this.firestore,null,t)}}function dc(e){e=he(e,$o);const t=he(e.firestore,ol),n=cl(t),r=new cc(t);return Vl(e._query),Ho(n,e._query).then(n=>new ac(t,r,e,n))}function uc(e,t,n){e=he(e,Zo);const r=he(e.firestore,ol),i=nc(e.converter,t,n);return fc(r,[kl(Nl(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ar.none())])}function hc(e,t,n){e=he(e,Zo);const r=he(e.firestore,ol),i=Nl(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=(0,c.Ku)(t))||t instanceof hl?Pl(i,"updateDoc",e._key,t,n,o):El(i,"updateDoc",e._key,t),fc(r,[s.toMutation(e._key,Ar.exists(!0))])}function mc(e){return fc(he(e.firestore,ol),[new qr(e._key,Ar.none())])}function pc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=(0,c.Ku)(e);let i={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof n[s]||al(n[s])||(i=n[s++]);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(al(n[s])){var o,l,d;const e=n[s];n[s]=null===(o=e.next)||void 0===o?void 0:o.bind(e),n[s+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[s+2]=null===(d=e.complete)||void 0===d?void 0:d.bind(e)}let u,h,m;if(e instanceof Zo)h=he(e.firestore,ol),m=On(e._key.path),u={next:t=>{n[s]&&n[s](gc(h,e,t))},error:n[s+1],complete:n[s+2]};else{const t=he(e,$o);h=he(t.firestore,ol),m=t._query;const r=new cc(h);u={next:e=>{n[s]&&n[s](new ac(h,r,t,e))},error:n[s+1],complete:n[s+2]},Vl(e._query)}return function(e,t,n,r){const i=new Lo(r),s=new eo(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Ja(await Uo(e),s)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>Ka(await Uo(e),s))}}(cl(h),m,a,u)}function fc(e,t){return function(e,t){const n=new B;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Io(e);try{const e=await function(e,t){const n=L(e),r=ye.now(),i=t.reduce((e,t)=>e.add(t.key),lr());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Zn(),l=lr();return n.Ns.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=Dr(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Mr(e.key,t,sn(t.value.mapValue),Ar.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:nr(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new ht(Y)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await To(r,e.changes),await Sa(r.remoteStore)}catch(e){const t=za(e,"Failed to persist write");n.reject(t)}}(await Wo(e),t,n)),n.promise}(cl(e),t)}function gc(e,t,n){const r=n.docs.get(t._key),i=new cc(e);return new ic(e,i,t._key,r,new rc(n.hasPendingWrites,n.fromCache),t.converter)}function yc(){return new Sl("serverTimestamp")}function bc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Tl("arrayUnion",t)}function xc(e){return new Al("increment",e)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){C=e}(a.MF),(0,a.om)(new o.uA("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),o=new ol(new W(e.getProvider("auth-internal")),new G(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new M(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rt(e.options.projectId,t)}(a,r),a);return i=(0,s.A)({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),(0,a.KO)(N,k,e),(0,a.KO)(N,k,"esm2020")}()},672:(e,t,n)=>{"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.0"},776:(e,t,n)=>{"use strict";n.d(t,{cY:()=>f,FA:()=>D,g:()=>R,u:()=>l,Uj:()=>o,Fy:()=>b,tD:()=>W,bD:()=>M,hp:()=>q,T9:()=>m,Tj:()=>u,yU:()=>h,XA:()=>p,mS:()=>c,Ku:()=>H,ZQ:()=>N,sr:()=>S,zJ:()=>g,c1:()=>C,Im:()=>O,lT:()=>A,zW:()=>I,jZ:()=>k,lV:()=>T,nr:()=>E,Ov:()=>P,gE:()=>y,Am:()=>F,I9:()=>z,P1:()=>w,eX:()=>_});var r=n(555);const i=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,d=(3&t)<<4|a>>4;let u=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(u=64)),r.push(n[c],n[d],n[u],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==l)throw new a;const c=t<<2|s>>4;if(r.push(c),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==l){const e=o<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class a extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o=function(e){return function(e){const t=i(e);return s.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const d=()=>{try{return c().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAILJS_SERVICE_ID:"your_service_id_here",REACT_APP_EMAILJS_TEMPLATE_ID:"your_template_id_here",REACT_APP_EMAILJS_PUBLIC_KEY:"your_public_key_here",REACT_APP_EMAIL_MODE:"demo",REACT_APP_FIREBASE_API_KEY:"AIzaSyDvYAi4EMGSfBTysKVsgIvw-dk26kpa4Us",REACT_APP_FIREBASE_AUTH_DOMAIN:"church-explorer-20e5a.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"church-explorer-20e5a",REACT_APP_FIREBASE_STORAGE_BUCKET:"church-explorer-20e5a.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"359510802923",REACT_APP_FIREBASE_APP_ID:"1:359510802923:web:1c9e7c335f63d8ef3659ae",REACT_APP_AI_API_ENDPOINT:"https://churchexplorer-server.vercel.app/api/ai",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_test_51SPSs3CfXNPvR4vp5FSY3BTqRVXnNVG7nlcfNXO2h22SyIUi6AKQe4LG38j2uvPoGBlMDbkzjr2CeE4ZJzdePCD000cKl77IK5"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&l(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},u=e=>{var t;return null===(t=d())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},h=e=>{const t=u(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},m=()=>{var e;return null===(e=d())||void 0===e?void 0:e.config},p=e=>{var t;return null===(t=d())||void 0===t?void 0:t["_".concat(e)]};class f{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function g(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function y(e){return(await fetch(e,{credentials:"include"})).ok}function b(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=(0,r.A)({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(a)),""].join(".")}const x={};let v=!1;function w(e,t){if("undefined"===typeof window||"undefined"===typeof document||!g(window.location.host)||x[e]===t||x[e]||v)return;function n(e){return"__firebase__banner__".concat(e)}x[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(x))x[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{v=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),d=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(d,c),t.append(d,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",d.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(d.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function N(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function k(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(N())}function j(){var e;const t=null===(e=d())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function C(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function S(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function T(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function A(){const e=N();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function E(){return!j()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P(){return!j()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function I(){try{return"object"===typeof indexedDB}catch(e){return!1}}function _(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class R extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,R.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,D.prototype.create)}}class D{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(L,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new R(n,s,t)}}const L=/\{\$([^}]+)}/g;function O(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function M(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(B(n)&&B(s)){if(!M(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function B(e){return null!==e&&"object"===typeof e}function F(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function z(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function q(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function W(e,t){const n=new U(e,t);return n.subscribe.bind(n)}class U{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=V),void 0===r.error&&(r.error=V),void 0===r.complete&&(r.complete=V);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V(){}function H(e){return e&&e._delegate?e._delegate:e}},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{"use strict";e.exports=n(896)},856:(e,t,n)=>{var r,i;!function(s){if(void 0===(i="function"===typeof(r=s)?r.call(t,n,t,e):r)||(e.exports=i),e.exports=s(),!!0){var a=window.Cookies,o=window.Cookies=s();o.noConflict=function(){return window.Cookies=a,o}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function s(t,n,s){if("undefined"!==typeof document){"number"===typeof(s=e({path:"/"},i.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(c){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o="";for(var l in s)s[l]&&(o+="; "+l,!0!==s[l]&&(o+="="+s[l].split(";")[0]));return document.cookie=t+"="+n+o}}function a(e,n){if("undefined"!==typeof document){for(var i={},s=document.cookie?document.cookie.split("; "):[],a=0;a<s.length;a++){var o=s[a].split("="),l=o.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(o[0]);if(l=(r.read||r)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(d){}if(i[c]=l,e===c)break}catch(d){}}return e?i[e]:i}}return i.set=s,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){s(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}(function(){})})},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>s(l,n))c<i&&0>s(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,p=!1,f=!1,g=!1,y=!1,b="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(d);null!==t;){if(null===t.callback)i(d);else{if(!(t.startTime<=e))break;i(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function N(e){if(g=!1,w(e),!f)if(null!==r(c))f=!0,j||(j=!0,k());else{var t=r(d);null!==t&&_(N,t.startTime-e)}}var k,j=!1,C=-1,S=5,T=-1;function A(){return!!y||!(t.unstable_now()-T<S)}function E(){if(y=!1,j){var e=t.unstable_now();T=e;var n=!0;try{e:{f=!1,g&&(g=!1,x(C),C=-1),p=!0;var s=m;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&A());){var a=h.callback;if("function"===typeof a){h.callback=null,m=h.priorityLevel;var o=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===r(c)&&i(c),w(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(d);null!==l&&_(N,l.startTime-e),n=!1}}break e}finally{h=null,m=s,p=!1}n=void 0}}finally{n?k():j=!1}}}if("function"===typeof v)k=function(){v(E)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,I=P.port2;P.port1.onmessage=E,k=function(){I.postMessage(null)}}else k=function(){b(E,0)};function _(e,n){C=b(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(d,e),null===r(c)&&e===r(d)&&(g?(x(C),C=-1):g=!0,_(N,s-a))):(e.sortIndex=o,n(c,e),f||p||(f=!0,j||(j=!0,k()))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},965:(e,t,n)=>{"use strict";n.d(t,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},a=i.INFO,o={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=o[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class c{constructor(e){this.name=e,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},986:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{A:()=>r})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(43),t=n(391),r=n(555),i=n(986);const s=["sri"],a=["page"],o=["page","matches"],l=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],c=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],d=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var u="popstate";function h(){return x(function(e,t){let{pathname:n="/",search:r="",hash:i=""}=b(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),g("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:y(t))},function(e,t){p("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push(".concat(JSON.stringify(t),")"))},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function m(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function p(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function g(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return(0,r.A)((0,r.A)({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?b(t):t),{},{state:n,key:t&&t.key||i||Math.random().toString(36).substring(2,10)})}function y(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function b(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function x(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:s=document.defaultView,v5Compat:a=!1}=i,o=s.history,l="POP",c=null,d=h();function h(){return(o.state||{idx:null}).idx}function m(){l="POP";let e=h(),t=null==e?null:e-d;d=e,c&&c({action:l,location:y.location,delta:t})}function p(e){return v(e)}null==d&&(d=0,o.replaceState((0,r.A)((0,r.A)({},o.state),{},{idx:d}),""));let y={get action(){return l},get location(){return e(s,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(u,m),c=e,()=>{s.removeEventListener(u,m),c=null}},createHref:e=>t(s,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let r=g(y.location,e,t);n&&n(r,e),d=h()+1;let i=f(r,d),u=y.createHref(r);try{o.pushState(i,"",u)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;s.location.assign(u)}a&&c&&c({action:l,location:y.location,delta:1})},replace:function(e,t){l="REPLACE";let r=g(y.location,e,t);n&&n(r,e),d=h();let i=f(r,d),s=y.createHref(r);o.replaceState(i,"",s),a&&c&&c({action:l,location:y.location,delta:0})},go:e=>o.go(e)};return y}function v(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),m(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:y(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function w(e,t){return N(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function N(e,t,n,r){let i=M(("string"===typeof t?b(t):t).pathname||"/",n);if(null==i)return null;let s=k(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=O(i);a=R(s[o],e,r)}return a}function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&a)return;m(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=W([r,l.relativePath]),d=n.concat(l);e.children&&e.children.length>0&&(m(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),k(e.children,t,d,c,a)),(null!=e.path||e.index)&&t.push({path:c,score:_(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of j(e.path))s(e,t,!0,r);else s(e,t)}),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=j(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var C=/^:[\w-]+$/,S=3,T=2,A=1,E=10,P=-2,I=e=>"*"===e;function _(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=P),t&&(r+=T),n.filter(e=>!I(e)).reduce((e,t)=>e+(C.test(t)?S:""===t?A:E),r)}function R(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",d=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:W([s,d.pathname]),pathnameBase:U(W([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=W([s,d.pathnameBase]))}return a}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=L(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:a,pattern:e}}function L(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];p("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function O(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return p(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function B(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function F(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function z(e){let t=F(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function q(e,t,n){let i,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?i=b(e):(i=(0,r.A)({},e),m(!i.pathname||!i.pathname.includes("?"),B("?","pathname","search",i)),m(!i.pathname||!i.pathname.includes("#"),B("#","pathname","hash",i)),m(!i.search||!i.search.includes("#"),B("#","search","hash",i)));let a,o=""===e||""===i.pathname,l=o?"/":i.pathname;if(null==l)a=n;else{let e=t.length-1;if(!s&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?b(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:V(r),hash:H(i)}}(i,a),d=l&&"/"!==l&&l.endsWith("/"),u=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!u||(c.pathname+="/"),c}var W=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",H=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function G(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var J=["POST","PUT","PATCH","DELETE"],K=(new Set(J),["GET",...J]);new Set(K),Symbol("ResetLoaderData");var Y=e.createContext(null);Y.displayName="DataRouter";var Q=e.createContext(null);Q.displayName="DataRouterState";var X=e.createContext(!1);var $=e.createContext({isTransitioning:!1});$.displayName="ViewTransition";var Z=e.createContext(new Map);Z.displayName="Fetchers";var ee=e.createContext(null);ee.displayName="Await";var te=e.createContext(null);te.displayName="Navigation";var ne=e.createContext(null);ne.displayName="Location";var re=e.createContext({outlet:null,matches:[],isDataRoute:!1});re.displayName="Route";var ie=e.createContext(null);ie.displayName="RouteError";function se(){return null!=e.useContext(ne)}function ae(){return m(se(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(ne).location}var oe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function le(t){e.useContext(te).static||e.useLayoutEffect(t)}function ce(){let{isDataRoute:t}=e.useContext(re);return t?function(){let{router:t}=xe("useNavigate"),n=we("useNavigate"),i=e.useRef(!1);le(()=>{i.current=!0});let s=e.useCallback(async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(i.current,oe),i.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,(0,r.A)({fromRouteId:n},s)))},[t,n]);return s}():function(){m(se(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(Y),{basename:n,navigator:r}=e.useContext(te),{matches:i}=e.useContext(re),{pathname:s}=ae(),a=JSON.stringify(z(i)),o=e.useRef(!1);le(()=>{o.current=!0});let l=e.useCallback(function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(p(o.current,oe),!o.current)return;if("number"===typeof e)return void r.go(e);let l=q(e,JSON.parse(a),s,"path"===i.relative);null==t&&"/"!==n&&(l.pathname="/"===l.pathname?n:W([n,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)},[n,r,a,s,t]);return l}()}e.createContext(null);function de(){let{matches:t}=e.useContext(re),n=t[t.length-1];return n?n.params:{}}function ue(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext(re),{pathname:i}=ae(),s=JSON.stringify(z(r));return e.useMemo(()=>q(t,JSON.parse(s),i,"path"===n),[t,s,i,n])}function he(t,n,i,s,a){m(se(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=e.useContext(te),{matches:l}=e.useContext(re),c=l[l.length-1],d=c?c.params:{},u=c?c.pathname:"/",h=c?c.pathnameBase:"/",f=c&&c.route;{let e=f&&f.path||"";je(u,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let g,y=ae();if(n){var x;let e="string"===typeof n?b(n):n;m("/"===h||(null===(x=e.pathname)||void 0===x?void 0:x.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),g=e}else g=y;let v=g.pathname||"/",N=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");N="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let k=w(t,{pathname:N});p(f||null!=k,'No routes matched location "'.concat(g.pathname).concat(g.search).concat(g.hash,'" ')),p(null==k||void 0!==k[k.length-1].route.element||void 0!==k[k.length-1].route.Component||void 0!==k[k.length-1].route.lazy,'Matched leaf route at location "'.concat(g.pathname).concat(g.search).concat(g.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let j=ye(k&&k.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:W([h,o.encodeLocation?o.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:W([h,o.encodeLocation?o.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),l,i,s,a);return n&&j?e.createElement(ne.Provider,{value:{location:(0,r.A)({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:"POP"}},j):j}function me(){let t=Ne(),n=G(t)?"".concat(t.status," ").concat(t.statusText):t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:a},"ErrorBoundary")," or"," ",e.createElement("code",{style:a},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:s},r):null,o)}var pe=e.createElement(me,null),fe=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?e.createElement(re.Provider,{value:this.props.routeContext},e.createElement(ie.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ge(t){let{routeContext:n,match:r,children:i}=t,s=e.useContext(Y);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(re.Provider,{value:n},i)}function ye(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let s=t,a=null===r||void 0===r?void 0:r.errors;if(null!=a){let e=s.findIndex(e=>e.route.id&&void 0!==(null===a||void 0===a?void 0:a[e.route.id]));m(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(a).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let o=!1,l=-1;if(r)for(let e=0;e<s.length;e++){let t=s[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:n}=r,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||i){o=!0,s=l>=0?s.slice(0,l+1):[s[0]];break}}}return s.reduceRight((t,c,d)=>{let u,h=!1,m=null,p=null;r&&(u=a&&c.route.id?a[c.route.id]:void 0,m=c.route.errorElement||pe,o&&(l<0&&0===d?(je("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):l===d&&(h=!0,p=c.route.hydrateFallbackElement||null)));let f=n.concat(s.slice(0,d+1)),g=()=>{let n;return n=u?m:h?p:c.route.Component?e.createElement(c.route.Component,null):c.route.element?c.route.element:t,e.createElement(ge,{match:c,routeContext:{outlet:t,matches:f,isDataRoute:null!=r},children:n})};return r&&(c.route.ErrorBoundary||c.route.errorElement||0===d)?e.createElement(fe,{location:r.location,revalidation:r.revalidation,component:m,error:u,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0},unstable_onError:i}):g()},null)}function be(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function xe(t){let n=e.useContext(Y);return m(n,be(t)),n}function ve(t){let n=e.useContext(Q);return m(n,be(t)),n}function we(t){let n=function(t){let n=e.useContext(re);return m(n,be(t)),n}(t),r=n.matches[n.matches.length-1];return m(r.route.id,"".concat(t,' can only be used on routes that contain a unique "id"')),r.route.id}function Ne(){var t;let n=e.useContext(ie),r=ve("useRouteError"),i=we("useRouteError");return void 0!==n?n:null===(t=r.errors)||void 0===t?void 0:t[i]}var ke={};function je(e,t,n){t||ke[e]||(ke[e]=!0,p(!1,n))}var Ce={};function Se(e,t){e||Ce[t]||(Ce[t]=!0,console.warn(t))}e.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:i}=e;return he(t,void 0,r,i,n)});function Te(e){m(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ae(t){let{basename:n="/",children:r=null,location:i,navigationType:s="POP",navigator:a,static:o=!1}=t;m(!se(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=e.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);"string"===typeof i&&(i=b(i));let{pathname:d="/",search:u="",hash:h="",state:f=null,key:g="default"}=i,y=e.useMemo(()=>{let e=M(d,l);return null==e?null:{location:{pathname:e,search:u,hash:h,state:f,key:g},navigationType:s}},[l,d,u,h,f,g,s]);return p(null!=y,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(d).concat(u).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==y?null:e.createElement(te.Provider,{value:c},e.createElement(ne.Provider,{children:r,value:y}))}function Ee(e){let{children:t,location:n}=e;return he(Pe(t),n)}e.Component;function Pe(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return e.Children.forEach(t,(t,i)=>{if(!e.isValidElement(t))return;let s=[...n,i];if(t.type===e.Fragment)return void r.push.apply(r,Pe(t.props.children,s));m(t.type===Te,"[".concat("string"===typeof t.type?t.type:t.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),m(!t.props.index||!t.props.children,"An index route cannot have child routes.");let a={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,middleware:t.props.middleware,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(a.children=Pe(t.props.children,s)),r.push(a)}),r}var Ie="get",_e="application/x-www-form-urlencoded";function Re(e){return null!=e&&"string"===typeof e.tagName}var De=null;var Le=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Oe(e){return null==e||Le.has(e)?e:(p(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(_e,'"')),null)}function Me(e,t){let n,r,i,s,a;if(Re(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?M(a,t):null,n=e.getAttribute("method")||Ie,i=Oe(e.getAttribute("enctype"))||_e,s=new FormData(e)}else if(function(e){return Re(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Re(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?M(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Ie,i=Oe(e.getAttribute("formenctype"))||Oe(a.getAttribute("enctype"))||_e,s=new FormData(a,e),!function(){if(null===De)try{new FormData(document.createElement("form"),0),De=!1}catch(e){De=!0}return De}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(Re(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ie,r=null,i=_e,a=e}var o;return s&&"text/plain"===i&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Be(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Fe(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===M(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function ze(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qe(e){return null!=e&&"string"===typeof e.page}function We(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ue(e,t,n,r,i,s){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>a(e,t)||o(e,t)):"data"===s?t.filter((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Ve(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function He(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!qe(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e},[])}function Ge(e,t){return"lazy"===e.mode&&!0===t}function Je(){let t=e.useContext(Y);return Be(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ke(){let t=e.useContext(Q);return Be(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ye=e.createContext(void 0);function Qe(){let t=e.useContext(Ye);return Be(t,"You must render this element inside a <HydratedRouter> element"),t}function Xe(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function $e(e,t,n){if(n&&!nt)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}Ye.displayName="FrameworkContext";function Ze(t){let{page:n}=t,s=(0,i.A)(t,a),{router:o}=Je(),l=e.useMemo(()=>w(o.routes,n,o.basename),[o.routes,n,o.basename]);return l?e.createElement(tt,(0,r.A)({page:n,matches:l},s)):null}function et(t){let{manifest:n,routeModules:i}=Qe(),[s,a]=e.useState([]);return e.useEffect(()=>{let e=!1;return async function(e,t,n){return He((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await ze(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(We).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?(0,r.A)((0,r.A)({},e),{},{rel:"prefetch",as:"style"}):(0,r.A)((0,r.A)({},e),{},{rel:"prefetch"})))}(t,n,i).then(t=>{e||a(t)}),()=>{e=!0}},[t,n,i]),s}function tt(t){let{page:n,matches:s}=t,a=(0,i.A)(t,o),l=ae(),{manifest:c,routeModules:d}=Qe(),{basename:u}=Je(),{loaderData:h,matches:m}=Ke(),p=e.useMemo(()=>Ue(n,s,m,c,l,"data"),[n,s,m,c,l]),f=e.useMemo(()=>Ue(n,s,m,c,l,"assets"),[n,s,m,c,l]),g=e.useMemo(()=>{if(n===l.pathname+l.search+l.hash)return[];let e=new Set,t=!1;if(s.forEach(n=>{var r;let i=c.routes[n.route.id];i&&i.hasLoader&&(!p.some(e=>e.route.id===n.route.id)&&n.route.id in h&&null!==(r=d[n.route.id])&&void 0!==r&&r.shouldRevalidate||i.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let r=Fe(n,u,"data");return t&&e.size>0&&r.searchParams.set("_routes",s.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[r.pathname+r.search]},[u,h,l,c,p,s,n,d]),y=e.useMemo(()=>Ve(f,c),[f,c]),b=et(f);return e.createElement(e.Fragment,null,g.map(t=>e.createElement("link",(0,r.A)({key:t,rel:"prefetch",as:"fetch",href:t},a))),y.map(t=>e.createElement("link",(0,r.A)({key:t,rel:"modulepreload",href:t},a))),b.map(t=>{let{key:n,link:i}=t;return e.createElement("link",(0,r.A)({key:n,nonce:a.nonce},i))}))}var nt=!1;function rt(t){let{manifest:n,serverHandoffString:a,isSpaMode:o,renderMeta:l,routeDiscovery:c,ssr:d}=Qe(),{router:u,static:h,staticContext:m}=Je(),{matches:p}=Ke(),f=e.useContext(X),g=Ge(c,d);l&&(l.didRenderScripts=!0);let y=$e(p,null,o);e.useEffect(()=>{0},[]);let b=e.useMemo(()=>{var o;if(f)return null;let l=m?"window.__reactRouterContext = ".concat(a,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=h?"".concat(null!==n.hmr&&void 0!==o&&o.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(y.map((e,t)=>{let r="route".concat(t),i=n.routes[e.route.id];Be(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:a,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=i,d=[...s?[{module:s,varName:"".concat(r,"_clientAction")}]:[],...a?[{module:a,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===d.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[d.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(d.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,a=(0,i.A)(e,s),o=new Set(t.state.matches.map(e=>e.route.id)),l=t.state.location.pathname.split("/").filter(Boolean),c=["/"];for(l.pop();l.length>0;)c.push("/".concat(l.join("/"))),l.pop();c.forEach(e=>{let n=w(t.routes,e,t.basename);n&&n.forEach(e=>o.add(e.route.id))});let d=[...o].reduce((e,t)=>Object.assign(e,{[t]:a.routes[t]}),{});return(0,r.A)((0,r.A)({},a),{},{routes:d,sri:!!n||void 0})}(n,u),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(y.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return e.createElement(e.Fragment,null,e.createElement("script",(0,r.A)((0,r.A)({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:l},type:void 0})),e.createElement("script",(0,r.A)((0,r.A)({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:c},type:"module",async:!0})))},[]),x=nt||f?[]:(n.entry.imports.concat(Ve(y,n,{includeHydrateFallback:!0})),[...new Set(v)]);var v;let N="object"===typeof n.sri?n.sri:{};return Se(!f,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),nt||f?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:N})}}):null,g?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:N[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:N[n.entry.module],suppressHydrationWarning:!0}),x.map(n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:N[n],suppressHydrationWarning:!0})),b)}function it(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}e.Component;function st(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let i,s=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(G(n))return e.createElement(at,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),s);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(at,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function at(t){var n;let{title:r,renderScripts:i,isOutsideRemixApp:s,children:a}=t,{routeModules:o}=Qe();return null!==o.root&&void 0!==n&&n.Layout&&!s?a:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,r)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,i?e.createElement(rt,null):null)))}var ot="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ot&&(window.__reactRouterVersion="7.9.5")}catch(Ui){}function lt(t){let{basename:n,children:r,window:i}=t,s=e.useRef();null==s.current&&(s.current=h({window:i,v5Compat:!0}));let a=s.current,[o,l]=e.useState({action:a.action,location:a.location}),c=e.useCallback(t=>{e.startTransition(()=>l(t))},[l]);return e.useLayoutEffect(()=>a.listen(c),[a,c]),e.createElement(Ae,{basename:n,children:r,location:o.location,navigationType:o.action,navigator:a})}var ct=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=e.forwardRef(function(t,n){let s,{onClick:a,discover:o="render",prefetch:c="none",relative:d,reloadDocument:u,replace:h,state:f,target:g,to:b,preventScrollReset:x,viewTransition:v}=t,w=(0,i.A)(t,l),{basename:N}=e.useContext(te),k="string"===typeof b&&ct.test(b),j=!1;if("string"===typeof b&&k&&(s=b,ot))try{let e=new URL(window.location.href),t=b.startsWith("//")?new URL(e.protocol+b):new URL(b),n=M(t.pathname,N);t.origin===e.origin&&null!=n?b=n+t.search+t.hash:j=!0}catch(Ui){p(!1,'<Link to="'.concat(b,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let C=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(se(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=e.useContext(te),{hash:s,pathname:a,search:o}=ue(t,{relative:n}),l=a;return"/"!==r&&(l="/"===a?r:W([r,a])),i.createHref({pathname:l,search:o,hash:s})}(b,{relative:d}),[S,T,A]=function(t,n){let r=e.useContext(Ye),[i,s]=e.useState(!1),[a,o]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=n,m=e.useRef(null);e.useEffect(()=>{if("render"===t&&o(!0),"viewport"===t){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return m.current&&e.observe(m.current),()=>{e.disconnect()}}},[t]),e.useEffect(()=>{if(i){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[i]);let p=()=>{s(!0)},f=()=>{s(!1),o(!1)};return r?"intent"!==t?[a,m,{}]:[a,m,{onFocus:Xe(l,p),onBlur:Xe(c,f),onMouseEnter:Xe(d,p),onMouseLeave:Xe(u,f),onTouchStart:Xe(h,p)}]:[!1,m,{}]}(c,w),E=function(t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ce(),c=ae(),d=ue(t,{relative:a});return e.useCallback(e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==r?r:y(c)===y(d);l(t,{replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,d,r,i,n,t,s,a,o])}(b,{replace:h,state:f,target:g,preventScrollReset:x,relative:d,viewTransition:v});let P=e.createElement("a",(0,r.A)((0,r.A)((0,r.A)({},w),A),{},{href:s||C,onClick:j||u?a:function(e){a&&a(e),e.defaultPrevented||E(e)},ref:it(n,T),target:g,"data-discover":k||"render"!==o?void 0:"true"}));return S&&!k?e.createElement(e.Fragment,null,P,e.createElement(Ze,{page:C})):P});dt.displayName="Link",e.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:a=!1,className:o="",end:l=!1,style:d,to:u,viewTransition:h,children:p}=t,f=(0,i.A)(t,c),g=ue(u,{relative:f.relative}),y=ae(),b=e.useContext(Q),{navigator:x,basename:v}=e.useContext(te),w=null!=b&&function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext($);m(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=mt("useViewTransitionState"),s=ue(t,{relative:n});if(!r.isTransitioning)return!1;let a=M(r.currentLocation.pathname,i)||r.currentLocation.pathname,o=M(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=D(s.pathname,o)||null!=D(s.pathname,a)}(g)&&!0===h,N=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,k=y.pathname,j=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;a||(k=k.toLowerCase(),j=j?j.toLowerCase():null,N=N.toLowerCase()),j&&v&&(j=M(j,v)||j);const C="/"!==N&&N.endsWith("/")?N.length-1:N.length;let S,T=k===N||!l&&k.startsWith(N)&&"/"===k.charAt(C),A=null!=j&&(j===N||!l&&j.startsWith(N)&&"/"===j.charAt(N.length)),E={isActive:T,isPending:A,isTransitioning:w},P=T?s:void 0;S="function"===typeof o?o(E):[o,T?"active":null,A?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let I="function"===typeof d?d(E):d;return e.createElement(dt,(0,r.A)((0,r.A)({},f),{},{"aria-current":P,className:S,ref:n,style:I,to:u,viewTransition:h}),"function"===typeof p?p(E):p)}).displayName="NavLink";var ut=e.forwardRef((t,n)=>{let{discover:s="render",fetcherKey:a,navigate:o,reloadDocument:l,replace:c,state:u,method:h=Ie,action:p,onSubmit:f,relative:g,preventScrollReset:b,viewTransition:x}=t,v=(0,i.A)(t,d),w=gt(),N=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:i}=e.useContext(te),s=e.useContext(re);m(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o=(0,r.A)({},ue(t||".",{relative:n})),l=ae();if(null==t){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?"?".concat(n):""}}t&&"."!==t||!a.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==i&&(o.pathname="/"===o.pathname?i:W([i,o.pathname]));return y(o)}(p,{relative:g}),k="get"===h.toLowerCase()?"get":"post",j="string"===typeof p&&ct.test(p);return e.createElement("form",(0,r.A)((0,r.A)({ref:n,method:k,action:N,onSubmit:l?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||h;w(t||e.currentTarget,{fetcherKey:a,method:n,navigate:o,replace:c,state:u,relative:g,preventScrollReset:b,viewTransition:x})}},v),{},{"data-discover":j||"render"!==s?void 0:"true"}))});function ht(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function mt(t){let n=e.useContext(Y);return m(n,ht(t)),n}ut.displayName="Form";var pt=0,ft=()=>"__".concat(String(++pt),"__");function gt(){let{router:t}=mt("useSubmit"),{basename:n}=e.useContext(te),r=we("useRouteId");return e.useCallback(async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:a,encType:o,formData:l,body:c}=Me(e,n);if(!1===i.navigate){let e=i.fetcherKey||ft();await t.fetch(e,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,n,r])}var yt=n(856),bt=n.n(yt),xt=function(e){var t=e.condition,n=e.wrapper,r=e.children;return t?n(r):r};function vt(){return vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vt.apply(this,arguments)}function wt(e,t){return wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wt(e,t)}var Nt,kt="top",jt="bottom";!function(e){e.STRICT="strict",e.LAX="lax",e.NONE="none"}(Nt||(Nt={}));var Ct="hidden",St="byCookieValue",Tt="CookieConsent",At=["children"],Et={disableStyles:!1,hideOnAccept:!0,hideOnDecline:!0,location:jt,visible:St,onAccept:function(e){},onDecline:function(){},cookieName:Tt,cookieValue:"true",declineCookieValue:"false",setDeclineCookie:!0,buttonText:"I understand",declineButtonText:"I decline",debug:!1,expires:365,containerClasses:"CookieConsent",contentClasses:"",buttonClasses:"",buttonWrapperClasses:"",declineButtonClasses:"",buttonId:"rcc-confirm-button",declineButtonId:"rcc-decline-button",extraCookieOptions:{},disableButtonStyles:!1,enableDeclineButton:!1,flipButtons:!1,sameSite:Nt.LAX,ButtonComponent:function(t){var n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,At);return e.createElement("button",Object.assign({},r),n)},overlay:!1,overlayClasses:"",onOverlayClick:function(){},acceptOnOverlayClick:!1,ariaAcceptLabel:"Accept cookies",ariaDeclineLabel:"Decline cookies",acceptOnScroll:!1,acceptOnScrollPercentage:25,customContentAttributes:{},customContainerAttributes:{},customButtonProps:{},customDeclineButtonProps:{},customButtonWrapperAttributes:{},style:{},buttonStyle:{},declineButtonStyle:{},contentStyle:{},overlayStyle:{}},Pt={visible:!1,style:{alignItems:"baseline",background:"#353535",color:"white",display:"flex",flexWrap:"wrap",justifyContent:"space-between",left:"0",position:"fixed",width:"100%",zIndex:"999"},buttonStyle:{background:"#ffd42d",border:"0",borderRadius:"0px",boxShadow:"none",color:"black",cursor:"pointer",flex:"0 0 auto",padding:"5px 10px",margin:"15px"},declineButtonStyle:{background:"#c12a2a",border:"0",borderRadius:"0px",boxShadow:"none",color:"#e5e5e5",cursor:"pointer",flex:"0 0 auto",padding:"5px 10px",margin:"15px"},contentStyle:{flex:"1 0 300px",margin:"15px"},overlayStyle:{position:"fixed",left:0,top:0,width:"100%",height:"100%",zIndex:"999",backgroundColor:"rgba(0,0,0,0.3)"}},It=function(e){return e+"-legacy"},_t=function(t){var n,r;function i(){var e;return(e=t.apply(this,arguments)||this).state=Pt,e.handleScroll=function(){var t=vt({},Et,e.props).acceptOnScrollPercentage,n=document.documentElement,r=document.body,i="scrollTop",s="scrollHeight";(n[i]||r[i])/((n[s]||r[s])-n.clientHeight)*100>t&&e.accept(!0)},e.removeScrollListener=function(){e.props.acceptOnScroll&&window.removeEventListener("scroll",e.handleScroll)},e}r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,wt(n,r);var s=i.prototype;return s.componentDidMount=function(){var e=this.props.debug;(void 0===this.getCookieValue()||e)&&(this.setState({visible:!0}),this.props.acceptOnScroll&&window.addEventListener("scroll",this.handleScroll,{passive:!0}))},s.componentWillUnmount=function(){this.removeScrollListener()},s.accept=function(e){var t;void 0===e&&(e=!1);var n=vt({},Et,this.props),r=n.cookieName,i=n.cookieValue,s=n.hideOnAccept,a=n.onAccept;this.setCookie(r,i),a(null!=(t=e)&&t),s&&(this.setState({visible:!1}),this.removeScrollListener())},s.overlayClick=function(){var e=vt({},Et,this.props),t=e.acceptOnOverlayClick,n=e.onOverlayClick;t&&this.accept(),n()},s.decline=function(){var e=vt({},Et,this.props),t=e.cookieName,n=e.declineCookieValue,r=e.hideOnDecline,i=e.onDecline;e.setDeclineCookie&&this.setCookie(t,n),i(),r&&this.setState({visible:!1})},s.setCookie=function(e,t){var n=this.props,r=n.extraCookieOptions,i=n.expires,s=n.sameSite,a=this.props.cookieSecurity;void 0===a&&(a=!window.location||"https:"===window.location.protocol);var o=vt({expires:i},r,{sameSite:s,secure:a});s===Nt.NONE&&bt().set(It(e),t,o),bt().set(e,t,o)},s.getCookieValue=function(){return function(e){void 0===e&&(e=Tt);var t=bt().get(e);return void 0===t?bt().get(It(e)):t}(this.props.cookieName)},s.render=function(){var t=this;switch(this.props.visible){case Ct:return null;case St:if(!this.state.visible)return null}var n=this.props,r=n.location,i=n.style,s=n.buttonStyle,a=n.declineButtonStyle,o=n.contentStyle,l=n.disableStyles,c=n.buttonText,d=n.declineButtonText,u=n.containerClasses,h=n.contentClasses,m=n.buttonClasses,p=n.buttonWrapperClasses,f=n.declineButtonClasses,g=n.buttonId,y=n.declineButtonId,b=n.disableButtonStyles,x=n.enableDeclineButton,v=n.flipButtons,w=n.ButtonComponent,N=n.overlay,k=n.overlayClasses,j=n.overlayStyle,C=n.ariaAcceptLabel,S=n.ariaDeclineLabel,T=n.customContainerAttributes,A=n.customContentAttributes,E=n.customButtonProps,P=n.customDeclineButtonProps,I=n.customButtonWrapperAttributes,_={},R={},D={},L={},O={};switch(l?(_=Object.assign({},i),R=Object.assign({},s),D=Object.assign({},a),L=Object.assign({},o),O=Object.assign({},j)):(_=Object.assign({},vt({},this.state.style,i)),L=Object.assign({},vt({},this.state.contentStyle,o)),O=Object.assign({},vt({},this.state.overlayStyle,j)),b?(R=Object.assign({},s),D=Object.assign({},a)):(R=Object.assign({},vt({},this.state.buttonStyle,s)),D=Object.assign({},vt({},this.state.declineButtonStyle,a)))),r){case kt:_.top="0";break;case jt:_.bottom="0"}var M=[];return x&&M.push(e.createElement(w,Object.assign({key:"declineButton",style:D,className:f,id:y,"aria-label":S,onClick:function(){t.decline()}},P),d)),M.push(e.createElement(w,Object.assign({key:"acceptButton",style:R,className:m,id:g,"aria-label":C,onClick:function(){t.accept()}},E),c)),v&&M.reverse(),e.createElement(xt,{condition:N,wrapper:function(n){return e.createElement("div",{style:O,className:k,onClick:function(){t.overlayClick()}},n)}},e.createElement("div",Object.assign({className:""+u,style:_},T),e.createElement("div",Object.assign({style:L,className:h},A),this.props.children),e.createElement("div",Object.assign({className:""+p},I),M.map(function(e){return e}))))},i}(e.Component);_t.defaultProps=Et;const Rt=_t,Dt=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Lt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var Ot={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Mt=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Bt=(0,e.forwardRef)((t,n)=>{let{color:s="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:u}=t,h=(0,i.A)(t,Mt);return(0,e.createElement)("svg",(0,r.A)((0,r.A)((0,r.A)({ref:n},Ot),{},{width:a,height:a,stroke:s,strokeWidth:l?24*Number(o)/Number(a):o,className:Lt("lucide",c)},!d&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...u.map(t=>{let[n,r]=t;return(0,e.createElement)(n,r)}),...Array.isArray(d)?d:[d]])}),Ft=["className"],zt=(t,n)=>{const s=(0,e.forwardRef)((s,a)=>{let{className:o}=s,l=(0,i.A)(s,Ft);return(0,e.createElement)(Bt,(0,r.A)({ref:a,iconNode:n,className:Lt("lucide-".concat((c=Dt(t),c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(t),o)},l));var c});return s.displayName=Dt(t),s},qt=zt("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Wt=zt("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Ut=zt("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Vt=zt("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Ht=zt("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),Gt=zt("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var Jt=n(579);const Kt=t=>{let{initialView:n,onNavigate:r}=t;const[i,s]=(0,e.useState)(null),[a,o]=(0,e.useState)(null),[l,c]=(0,e.useState)(!1),[d,u]=(0,e.useState)(!1),[h,m]=(0,e.useState)(!1),[p,f]=(0,e.useState)(!1),[g,y]=(0,e.useState)(!1),[b,x]=(0,e.useState)(!1),[v,w]=(0,e.useState)(!1),[N,k]=(0,e.useState)([]),[j,C]=(0,e.useState)(!1),[S,T]=(0,e.useState)(null),A={catholic:{name:"Catholic",year:"33 AD",members:"1.3B",fullName:"Roman Catholic Church",description:"The Catholic Church developed highly centralized papal monarchy, with the pope claiming universal jurisdiction as 'Vicar of Christ.' Catholic ecclesiology emphasizes apostolic succession\u2014authority passed through unbroken chain of bishops from Peter. The West embraced Scholasticism, integrating Aristotelian philosophy with theology, epitomized by Thomas Aquinas's Summa Theologica. Papal authority reached its zenith under Innocent III (1198-1216), though later crises damaged prestige.",beliefs:["Seven Sacraments (defined at Fourth Lateran Council, 1215)","Real Presence in Eucharist (Transubstantiation)","Papal primacy and infallibility (Vatican I, 1870)","Scripture and Tradition as dual sources","Veneration of Mary and saints","Purgatory and prayers for the dead"],color:"#d4af37",timeline:[{year:"325",event:"Council of Nicaea",details:"First ecumenical council condemns Arianism, produces Nicene Creed affirming Christ as 'homoousios' (same substance) with the Father."},{year:"1054",event:"East-West Schism",details:"Cardinal Humbert places excommunication on Hagia Sophia's altar July 16, 1054.",contested:!0,contention:"The schism was almost accidental\u2014Pope Leo IX died April 19, 1054 during negotiations, technically voiding his legates' authority. Humbert excommunicated Patriarch Michael Cerularius anyway. Cerularius responded by excommunicating Humbert and the legates\u2014not the pope or entire Western Church. Contemporary sources suggest ordinary Christians remained largely unaware; the schism only gradually hardened. The Fourth Crusade's brutal sack of Constantinople (1204) made reconciliation impossible\u2014Crusaders pillaged for three days, destroying churches and stealing relics. Orthodox view this as the West's ultimate betrayal."},{year:"1215",event:"Fourth Lateran Council",details:"Formally defines seven sacraments and transubstantiation."},{year:"1517",event:"Protestant Reformation",details:"Luther posts 95 Theses October 31, targeting indulgences sold to fund St. Peter's Basilica.",contested:!0,contention:"By 1517, accumulated corruption created revolutionary conditions: simony (buying church offices), clerical concubinage, rampant indulgence sales, pluralism, and absenteeism. Renaissance popes like Alexander VI (Rodrigo Borgia, 1492-1503) openly acknowledged illegitimate children. The church owned approximately one-third of European land. Catholics argue Luther misunderstood Catholic teaching\u2014the Church always taught salvation by grace, with good works as fruit not cause. Protestants argue the medieval church fundamentally corrupted the gospel, presenting salvation as dependent on human merit and church mediation rather than grace through faith alone. The fundamental debate: Was the Reformation a necessary recovery of biblical truth, or a tragic fracturing of Christian unity over misunderstandings?"},{year:"1545-63",event:"Council of Trent",details:"Counter-Reformation systematically responds to Protestant challenges, affirming justification by faith AND works, Scripture AND tradition, seven sacraments, transubstantiation, purgatory."},{year:"1962-65",event:"Vatican II",details:"Major reforms in liturgy, ecumenism, religious liberty. Decree Unitatis Redintegratio commits Catholics to ecumenism."},{year:"2013",event:"Pope Francis",details:"First Jesuit and Latin American pope, draws from liberation theology concerns."}],keyFigures:["St. Peter","St. Augustine of Hippo","St. Thomas Aquinas","St. Francis of Assisi","Pope Innocent III","Pope John Paul II","Pope Francis"],geography:"In 1900, Europe contained 66% of the world's Christians. By 2020, Sub-Saharan Africa alone contains 31%. Latin America remains Catholic stronghold but declining to Pentecostals.",geographicDistribution:[{region:"Latin America",percentage:"40%",trend:"declining",explanation:"Still plurality but steep decline to Pentecostals\u2014especially in Brazil."},{region:"Europe",percentage:"24%",trend:"declining",explanation:"From 95% Christian (1900) to 76% (2020). Rapid secularization, most affiliated are non-practicing."},{region:"Sub-Saharan Africa",percentage:"17%",trend:"rapid-growth",explanation:"Explosive growth through missions and indigenous clergy. By 2050, Africa projected to have 38% of global Christians."},{region:"Asia-Pacific",percentage:"12%",trend:"growing",explanation:"Strong growth in Philippines (83 million Catholics) and parts of India, Vietnam."},{region:"North America",percentage:"6%",trend:"declining",explanation:"From 97% Christian (1900) to 72% (2020). Declining attendance especially among younger Catholics."},{region:"Middle East/North Africa",percentage:"1%",trend:"stable",explanation:"Small ancient communities holding steady despite persecution and emigration."}],debates:["Protestants contest Catholic institutional continuity claims and reject papal supremacy","Orthodox reject papal supremacy and filioque addition to Creed","Pre-Reformation reformers (Waldensians, Wycliffe, Hus) anticipated Protestant themes","Internal debates over Vatican II interpretation and implementation","Liberation theology's relationship to Marxism debated within Catholicism"],sources:[{title:"Vatican Official",url:"https://www.vatican.va/"},{title:"Catechism",url:"https://www.vatican.va/archive/ENG0015/_INDEX.HTM"}]},orthodox:{name:"Orthodox",year:"1054",members:"220M",fullName:"Eastern Orthodox Church",description:"Eastern Orthodoxy maintained conciliar governance, with Constantinople holding honorary primacy as 'first among equals.' They emphasized mystical theology and theosis (becoming one with God), preserved the original Nicene Creed without filioque, and used vernacular languages in liturgy. Saints Cyril and Methodius created Slavonic alphabets enabling indigenous worship. Missionary expansion reached Bulgaria (864), Serbia (9th century), and Kievan Rus (988).",beliefs:["Seven Ecumenical Councils (325-787) define faith","Rejection of papal supremacy and filioque","Theosis (deification) as salvation goal","Icons as 'windows to divine'","Mystical theology and liturgical continuity","Divine Liturgy unchanged from early church"],color:"#8b5cf6",timeline:[{year:"325-787",event:"Seven Councils",details:"Ecumenical councils define Orthodox faith: Nicaea (325), Constantinople (381), Ephesus (431), Chalcedon (451), Constantinople II (553), Constantinople III (680-681), Nicaea II (787)."},{year:"863-885",event:"Cyril and Methodius",details:"Create Slavonic alphabets, translate Bible and liturgy, enabling vernacular worship\u2014model for Orthodox missionary approach."},{year:"988",event:"Baptism of Rus",details:"Prince Vladimir of Kiev converts, bringing Christianity to Russia. Orthodox Christianity becomes integral to Russian identity."},{year:"1054",event:"Great Schism",details:"Formal split from Rome formalized centuries of drift.",contested:!0,contention:"Historians debate whether 1054 represents the actual break or merely formalized centuries of drift. The division of the Roman Empire in 395 created divergent contexts: Byzantine caesaropapism versus Western papal independence. Greek East and Latin West increasingly struggled to communicate as bilingualism declined. The filioque controversy became definitive\u2014the West added 'and the Son' to the Nicene Creed (Spain 589, officially Rome 1014), teaching the Holy Spirit proceeds from both Father and Son. The East condemned this as unauthorized alteration and theological error. The Orthodox argue Rome gradually departed from conciliar governance, elevating the Pope above councils and introducing unauthorized innovations. Catholics argue they maintained the fullness of apostolic faith while the East rejected legitimate development of doctrine. The mutual excommunications were lifted in 1965, but fundamental ecclesiological disagreements remain."},{year:"1204",event:"Fourth Crusade",details:"Crusaders brutally sack Constantinople for three days, destroying churches, stealing relics, establishing Latin Empire (1204-1261). This violence traumatized Orthodox world\u2014Byzantine historian Nicetas Choniates contrasted Saladin's mercy in Jerusalem with Crusaders' brutality toward fellow Christians. Made reconciliation with West impossible."},{year:"1453",event:"Fall of Constantinople",details:"Ottoman conquest ends Byzantine Empire. Constantinople becomes Istanbul. Orthodox Christianity continues under Ottoman millet system."},{year:"1917",event:"Russian Revolution",details:"Bolsheviks close 98% of churches, execute clergy. Severe persecution continues until 1991. Estimated 100,000+ priests and believers martyred."},{year:"2016",event:"Pan-Orthodox Council",details:"First major council attempt in 1000 years held in Crete.",contested:!0,contention:"The Council of Crete (2016) aimed to be a 'Great and Holy Council' uniting all Orthodox churches, but four major churches (Russian, Georgian, Bulgarian, and Antiochian) boycotted\u2014representing roughly half of world Orthodoxy. Participants argue it validly expressed Orthodox consensus on relations with other Christians and diaspora issues. Critics argue a council without Russia (largest Orthodox church) and other major churches lacks the universality required for conciliar authority. This raises fundamental questions: What makes an Orthodox council truly 'ecumenical' and binding? Can major decisions be made without universal Orthodox participation?"}],keyFigures:["St. John Chrysostom","St. Basil the Great","St. Gregory Palamas","St. Cyril and Methodius"],geography:"Eastern Europe, Russia, Greece, Middle East. Recovering from Soviet persecution.",geographicDistribution:[{region:"Eastern Europe",percentage:"42%",trend:"stable",explanation:"Post-communist recovery complete."},{region:"Russia & Former Soviet",percentage:"35%",trend:"growing",explanation:"Significant recovery after Soviet persecution that killed 100,000+ priests and believers."},{region:"Middle East",percentage:"10%",trend:"declining",explanation:"Emigration due to persecution and war."},{region:"Greece & Balkans",percentage:"8%",trend:"stable",explanation:"Deeply rooted but facing secularization."},{region:"North America",percentage:"3%",trend:"growing",explanation:"Immigration and converts."},{region:"Western Europe",percentage:"2%",trend:"growing",explanation:"Diaspora communities growing."}],debates:["Catholics argue Orthodox lack unity without papal authority binding churches together","Orthodox argue Catholics added unauthorized innovations (filioque, papal supremacy)","Fourth Crusade's sack of Constantinople (1204) remains unhealed wound","2016 Pan-Orthodox Council boycotted by Russian, Georgian, Bulgarian, Antiochian churches","East-West mutual excommunications lifted 1965 but ecclesiological disagreements remain"],sources:[{title:"OCA",url:"https://www.oca.org/"},{title:"Greek Orthodox",url:"https://www.goarch.org/"}]},lutheran:{name:"Lutheran",year:"1517",members:"75M",fullName:"Lutheran Church",description:"Martin Luther posted 95 Theses at Wittenberg Castle Church October 31, 1517, initially intending academic debate about indulgences. The printing press enabled rapid dissemination across Europe. Excommunicated by Pope Leo X and declared outlaw by Emperor Charles V at Diet of Worms (1521), Luther developed comprehensive theological reformation grounded in sola scriptura (Scripture alone), sola fide (justification by faith alone), and sola gratia (salvation by grace alone). By mid-16th century, Lutheranism dominated northern Europe under cuius regio, eius religio (whose realm, his religion).",beliefs:["Justification by faith alone (sola fide)","Scripture as sole authority (sola scriptura)","Two sacraments: Baptism and Eucharist","Real Presence\u2014Christ's body and blood 'in, with, and under' bread and wine","Priesthood of all believers","Salvation by grace alone (sola gratia)"],color:"#3b82f6",timeline:[{year:"1517",event:"95 Theses",details:"Luther posts theses at Wittenberg October 31, targeting indulgences sold to fund St. Peter's Basilica renovation.",contested:!0,contention:"By 1517, accumulated corruption created revolutionary conditions: simony (buying church offices), clerical concubinage, rampant indulgence sales, pluralism, and absenteeism. Renaissance popes like Alexander VI (Rodrigo Borgia, 1492-1503) openly acknowledged illegitimate children. The church owned approximately one-third of European land. Catholics argue Luther misunderstood Catholic teaching on justification\u2014that good works are the fruit, not the cause, of salvation. They claim he overreacted to local abuses (like Johann Tetzel's indulgence preaching 'When a coin in the coffer rings, a soul from purgatory springs') and caused unnecessary division rather than seeking reform within church structures. Protestants argue the medieval church fundamentally corrupted the gospel by presenting salvation as dependent on human merit and church mediation rather than grace through faith alone. Luther saw himself not as a revolutionary but as recovering authentic Pauline and Augustinian theology."},{year:"1521",event:"Diet of Worms",details:"Luther refuses to recant unless proven wrong from Scripture: 'Here I stand, I can do no other.' Declared outlaw by Emperor Charles V."},{year:"1530",event:"Augsburg Confession",details:"Definitive Lutheran statement codifies Lutheran theology, written primarily by Philip Melanchthon."},{year:"1555",event:"Peace of Augsburg",details:"Establishes cuius regio, eius religio\u2014rulers determine their territories' religion. Recognizes only Lutheranism and Catholicism, excluding Calvinism."},{year:"1577",event:"Formula of Concord",details:"Resolves internal Lutheran disputes over original sin, free will, and Lord's Supper."},{year:"1999",event:"Joint Declaration on Justification",details:"Agreement with Catholics that justification by faith and grace doesn't contradict Catholic teaching\u2014major ecumenical breakthrough."}],keyFigures:["Martin Luther","Philip Melanchthon","Johann Sebastian Bach","Dietrich Bonhoeffer"],geography:"Germany, Scandinavia, US Midwest. Growing explosively in Africa.",geographicDistribution:[{region:"Northern Europe",percentage:"35%",trend:"declining",explanation:"Rapid secularization in Scandinavia."},{region:"Sub-Saharan Africa",percentage:"28%",trend:"rapid-growth",explanation:"Explosive growth in Ethiopia, Tanzania."},{region:"North America",percentage:"20%",trend:"declining",explanation:"Both liberal and conservative branches declining."},{region:"Asia-Pacific",percentage:"12%",trend:"growing",explanation:"Strong growth in Indonesia."},{region:"Latin America",percentage:"3%",trend:"stable",explanation:"Small immigrant communities."},{region:"Other",percentage:"2%",trend:"stable",explanation:"Diaspora communities."}],debates:["Catholics argue Luther misunderstood justification theology and overreacted to abuses","Reformed critique Lutheran retention of 'Catholic elements' like real presence","1999 Joint Declaration with Catholics on justification was major ecumenical breakthrough","Internal tensions between confessional Lutherans and more liberal expressions"],sources:[{title:"Book of Concord",url:"https://bookofconcord.org/"},{title:"Lutheran World Federation",url:"https://www.lutheranworld.org/"}]},reformed:{name:"Reformed",year:"1536",members:"75M",fullName:"Reformed/Presbyterian",description:"John Calvin (1509-1564) developed systematic Reformed theology in his Institutes of the Christian Religion (first edition 1536, final 1559). Calvinist theology centered on God's absolute sovereignty, expressed in TULIP: Total depravity, Unconditional election, Limited atonement, Irresistible grace, Perseverance of saints. Predestination\u2014God's predetermined choice of the elect\u2014distinguished Reformed from Lutheran theology. Presbyterian polity features governance by elected elders through sessions, presbyteries, synods, and general assemblies. Reformed worship embraced radical simplicity, rejecting images and ceremony, with preaching central.",beliefs:["Unconditional election and predestination","Total depravity of humanity","Irresistible grace for the elect","Limited atonement (Christ died for elect only)","Covenant theology","Presbyterian polity\u2014governance by elders"],color:"#6366f1",timeline:[{year:"1536",event:"Calvin's Institutes",details:"First edition of Institutes of the Christian Religion published. Final edition 1559 provides systematic Reformed theology."},{year:"1560",event:"Scottish Reformation",details:"John Knox establishes Presbyterian Church of Scotland, creating Reformed stronghold."},{year:"1618-19",event:"Synod of Dort",details:"International Reformed synod affirms TULIP doctrines against Arminianism.",contested:!0,contention:"The Synod of Dort's affirmation of unconditional election and limited atonement sparked debate continuing today. Arminians argue predestination makes God the author of evil, denies human free will, and contradicts biblical statements that God desires all to be saved (1 Timothy 2:4). They claim it makes evangelism meaningless if salvation is already determined and presents God as arbitrarily choosing some for salvation and others for damnation. Reformed theologians respond that unconditional election magnifies God's grace and sovereignty, that human 'free will' is enslaved to sin apart from grace (total depravity), and that God's foreknowledge doesn't violate his desire for all to be saved\u2014his revealed will (general call to all) differs from his decretive will (effectual call to elect). They argue that without unconditional election, salvation would ultimately depend on human choice rather than divine grace. The debate centers on reconciling divine sovereignty with human responsibility, God's love with particular election."},{year:"1643-47",event:"Westminster Assembly",details:"English Parliament convenes assembly producing Westminster Confession, Larger and Shorter Catechisms\u2014definitive Reformed standards still used today."},{year:"1648",event:"Peace of Westphalia",details:"Thirty Years' War ends, finally recognizing Calvinism alongside Catholicism and Lutheranism in Holy Roman Empire."}],keyFigures:["John Calvin","John Knox","Jonathan Edwards"],geography:"Netherlands, Scotland, Korea (Presbyterian powerhouse), United States.",geographicDistribution:[{region:"North America",percentage:"32%",trend:"stable",explanation:"Strong Presbyterian presence."},{region:"East Asia",percentage:"25%",trend:"growing",explanation:"South Korea Presbyterian powerhouse."},{region:"Western Europe",percentage:"18%",trend:"declining",explanation:"Dutch and Scottish churches declining."},{region:"Sub-Saharan Africa",percentage:"15%",trend:"rapid-growth",explanation:"Strong missions work."},{region:"Latin America",percentage:"6%",trend:"growing",explanation:"Middle class appeal."},{region:"Other",percentage:"4%",trend:"stable",explanation:"Heritage communities."}],debates:["Arminians argue predestination makes God arbitrary and denies human free will","Synod of Dort (1618-19) vs Arminian Remonstrants remains central debate","Debates over extent of atonement (limited vs unlimited)","Presbyterian Church (USA) experienced splits over sexuality issues (ECO formed 2012)","Westminster Standards remain authoritative but interpreted differently across traditions"],sources:[{title:"Westminster Confession",url:"https://www.pcaac.org/"},{title:"Calvin's Institutes",url:"https://www.ccel.org/ccel/calvin/institutes"}]},anglican:{name:"Anglican",year:"1534",members:"85M",fullName:"Anglican Communion",description:"The English Reformation's political origins distinguished it from continental movements. Henry VIII's desire to annul his marriage to Catherine of Aragon prompted the 1534 Act of Supremacy establishing the Church of England with the king as supreme head. Thomas Cranmer compiled the Book of Common Prayer (1549, revised 1552, 1662) and 39 Articles (1563, 1571) defining Anglican theology. Anglicanism developed as via media ('middle way') between Protestantism and Catholicism, retaining episcopal governance with bishops claiming apostolic succession while adopting Protestant doctrines. The Elizabethan Settlement (1559) established this comprehensive approach, tolerating a range from High Church (more Catholic) to Low Church (more Protestant).",beliefs:["Via media between Catholic and Protestant","Book of Common Prayer as worship foundation","Episcopal polity with apostolic succession","Scripture-Tradition-Reason (three-legged stool)","'Broad church' flexibility on theology","39 Articles of Religion"],color:"#22c55e",timeline:[{year:"1534",event:"Act of Supremacy",details:"Henry VIII breaks from Rome after Pope refuses marriage annulment.",contested:!0,contention:"Anglican origins are deeply contested. Critics argue it began as political convenience\u2014Henry VIII wanted an annulment the Pope refused, so he created his own church to get his way. This makes Anglicanism's foundation worldly rather than theological, and suggests its claims to apostolic authority are illegitimate. Defenders argue that while Henry's personal motivations were mixed, the English Reformation had genuine theological substance beyond royal politics: rejection of papal supremacy (which many English had long questioned), translation of Scripture into English (enabling lay Bible reading), and reformation of church abuses (simony, clerical corruption, monastic laxity). The Elizabethan Settlement later established a via media (middle way) between Catholic and Protestant theology with theological depth. The question remains: Can a church founded primarily on political expediency legitimately claim authentic apostolic authority, or did the English Reformation represent a legitimate recovery of catholicity without papal oversight?"},{year:"1549",event:"Book of Common Prayer",details:"Thomas Cranmer's prayer book becomes foundation of Anglican worship. Revised 1552, 1662."},{year:"1559",event:"Elizabethan Settlement",details:"Elizabeth I establishes via media, tolerating both High Church and Low Church perspectives within one communion."},{year:"1571",event:"39 Articles",details:"Defined Anglican theology\u2014Protestant in doctrine, Catholic in liturgy and governance."},{year:"2003",event:"Gene Robinson",details:"First openly gay bishop in same-sex relationship consecrated.",contested:!0,contention:"Gene Robinson's consecration created the deepest Anglican crisis since the Reformation. Theological conservatives argue this violates clear biblical teaching (Leviticus 18:22, Romans 1:26-27, 1 Corinthians 6:9) and 2,000 years of Christian consensus, representing capitulation to secular culture rather than faithfulness to Scripture and tradition. They note that all previous Christian interpretation across cultures and centuries condemned homosexual practice. Progressives argue the church has reinterpreted Scripture before (on slavery, women's ordination, usury, divorce) as understanding deepened, and that committed same-sex relationships reflect the biblical call to love, covenant, and fidelity. They claim exclusion causes harm and that the gospel is inclusive. The conflict fractured the Anglican Communion, with African and Asian provinces (representing the majority of world Anglicans) rejecting Western provinces' stances and breaking communion. Conservative parishes formed ACNA (2009). At stake: the authority of Scripture, the nature of marriage, whether traditional sexual ethics are cultural accretions or unchangeable moral teachings, and who interprets Scripture authoritatively."}],keyFigures:["Thomas Cranmer","Richard Hooker","C.S. Lewis","Desmond Tutu"],geography:"UK declining, USA declining. Anglican future is African\u201445% now in Sub-Saharan Africa.",geographicDistribution:[{region:"Sub-Saharan Africa",percentage:"45%",trend:"rapid-growth",explanation:"Anglican future is African."},{region:"United Kingdom",percentage:"22%",trend:"declining",explanation:"Rapid attendance decline."},{region:"North America",percentage:"15%",trend:"declining",explanation:"Sharp decline in membership."},{region:"Asia-Pacific",percentage:"10%",trend:"growing",explanation:"Growing through missions."},{region:"Latin America",percentage:"5%",trend:"growing",explanation:"Middle class appeal."},{region:"Other",percentage:"3%",trend:"stable",explanation:"Diaspora communities."}],debates:["Catholics reject Anglican orders as invalid\u2014no valid apostolic succession","Political origins (Henry VIII's annulment) questioned as legitimate church foundation","Gene Robinson consecration (2003) created deepest crisis since Reformation","African provinces (majority of Anglicans) reject Western progressive stances on sexuality","ACNA formed (2009) after conservative parishes broke communion over LGBT issues"],sources:[{title:"Book of Common Prayer",url:"https://www.churchofengland.org/"},{title:"Anglican Communion",url:"https://www.anglicancommunion.org/"}]},baptist:{name:"Baptist",year:"1609",members:"100M",fullName:"Baptist Churches",description:"Baptists emerged in early 17th century with two streams: General Baptists (Arminian, 1609) teaching Christ died for all, and Particular Baptists (Calvinist, 1630s-40s) teaching Christ died for elect only. Both emphasized believer's baptism by immersion as cardinal distinctive, soul competency (individual accountability before God), congregational polity, and separation of church and state. Roger Williams founded first American Baptist church in Rhode Island (1638). Baptists became America's largest Protestant group through circuit riders, revivals, and frontier missions. The Southern Baptist Convention formed in 1845 over slavery.",beliefs:["Believer's baptism by immersion only","Congregational autonomy (local church independence)","Separation of church and state","Soul competency\u2014individual accountability to God","Priesthood of all believers","Bible as sole authority"],color:"#06b6d4",timeline:[{year:"1609",event:"First Baptist church",details:"John Smyth founds first Baptist church in Amsterdam.",contested:!0,contention:"Baptist origins are hotly disputed. Some trace a 'trail of blood'\u2014an unbroken succession of believer-baptizing churches from the apostles through medieval groups like Waldensians, Paulicians, and Anabaptists\u2014making Baptists the most ancient Christians who never compromised. Most historians reject this, showing these groups differed theologically from Baptists and the documentary evidence is thin. Others trace Baptist origins to English Separatists like John Smyth who, influenced by Dutch Mennonites, adopted believer's baptism around 1609. A third view sees Baptists emerging independently from English Puritanism's emphasis on regenerate church membership, with believer's baptism as logical conclusion. The debate matters for Baptist identity: Are they restorationists recovering the apostolic pattern lost for centuries, or a 17th-century innovation? Do they share Anabaptist radical roots (with pacifism and separation), or represent moderate Reformed Christianity that happens to practice believer's baptism?"},{year:"1638",event:"Roger Williams",details:"Founded first American Baptist church in Providence, Rhode Island. Championed religious liberty and separation of church and state."},{year:"1845",event:"SBC formed",details:"Southern Baptists split from northern Baptists over slavery after northerners refused to appoint slaveholding missionaries.",contested:!0,contention:"The Southern Baptist split over slavery reveals deep tensions about Scripture, ethics, and cultural accommodation. Southern Baptists defended slavery using biblical texts (Ephesians 6:5, Colossians 3:22, Philemon), arguing Northern abolitionists imposed modern sentiments onto Scripture and violated biblical authority. They saw themselves as faithful to what the Bible plainly taught. Northern Baptists argued the gospel's spirit of freedom and equality (Galatians 3:28, 'neither slave nor free') condemned slavery as incompatible with human dignity and Christian love, and that Southern interpretations represented cultural captivity rather than biblical fidelity. They accused Southerners of reading Scripture through economic self-interest. This raises enduring hermeneutical questions: How do Christians distinguish between biblical principles and cultural accommodation? Can Bible-believing Christians using the same hermeneutics reach opposite ethical conclusions? The SBC formally repudiated its pro-slavery origins and apologized in 1995, but the questions about biblical interpretation and cultural captivity remain relevant for contemporary ethical debates."},{year:"1925",event:"Scopes Trial",details:"Baptist fundamentalism gains national attention during Tennessee trial over teaching evolution."},{year:"1979",event:"Conservative Resurgence",details:"SBC fundamentalist takeover begins, lasting through 2000.",contested:!0,contention:"The Southern Baptist Conservative Resurgence (1979-2000) saw organized conservatives systematically gain control of SBC institutions, seminaries, and agencies through coordinated voting campaigns. Conservatives argue the denomination had drifted toward theological liberalism\u2014questioning biblical inerrancy, adopting historical-critical methods that undermined Scripture's authority, and accommodating feminist theology and moral relativism. They saw their efforts as rescuing the SBC from the same liberal decline that hollowed out mainline denominations (Episcopal, Presbyterian, Methodist), making them theologically incoherent and numerically declining. Moderates argue conservatives confused theological diversity with liberalism, imposed narrow interpretations (especially dispensational eschatology and complementarian gender roles) as tests of orthodoxy, conducted ideological purges violating Baptist principles of soul competency and local church autonomy, and turned the SBC into a fundamentalist denomination rather than a broad evangelical body. They claim the takeover elevated politics over theology and pastoral care. The conflict raises questions: What constitutes the boundaries of theological orthodoxy within a denomination? How much diversity can Baptist polity sustain? Did the resurgence save or damage the SBC?"}],keyFigures:["Roger Williams","William Carey","Charles Spurgeon","Billy Graham"],geography:"American South dominant (SBC largest Protestant denomination). Global growth explosive.",geographicDistribution:[{region:"North America",percentage:"42%",trend:"stable",explanation:"SBC dominant but plateauing."},{region:"Sub-Saharan Africa",percentage:"25%",trend:"rapid-growth",explanation:"Explosive indigenous growth."},{region:"Asia-Pacific",percentage:"18%",trend:"growing",explanation:"Strong in India, Myanmar, China."},{region:"Latin America",percentage:"10%",trend:"growing",explanation:"Slower than Pentecostals."},{region:"Europe",percentage:"3%",trend:"stable",explanation:"Small but stable."},{region:"Other",percentage:"2%",trend:"stable",explanation:"Global missions presence."}],debates:["Paedobaptists argue believer's baptism severs children from covenant promises","Disputed origins: 'trail of blood' vs. English Separatist roots vs. Puritan emergence","1845 split over slavery created North-South divide that largely remains","Calvinist (Particular) vs Arminian (General) Baptists have theological tensions","Conservative Resurgence (1979-2000) reshaped SBC, creating ongoing liberal-conservative divide"],sources:[{title:"SBC",url:"https://www.sbc.net/"},{title:"Baptist World Alliance",url:"https://www.baptistworld.org/"}]},methodist:{name:"Methodist",year:"1738",members:"80M",fullName:"Methodist Movement",description:"Methodism originated in the 1730s 'Holy Club' at Oxford with John Wesley, Charles Wesley, and George Whitefield. After John Wesley's Aldersgate experience (1738) where his heart was 'strangely warmed,' he began open-air preaching and developed Arminian theology emphasizing universal grace, free will, and entire sanctification ('Christian perfection')\u2014belief that believers can be perfected in love in this life. Methodism separated from Church of England after Wesley's death (1791) and became America's largest denomination by the 1820s through circuit riders, camp meetings, and strong social reform emphasis (temperance, abolition, poverty relief).",beliefs:["Prevenient grace\u2014God's grace preceding human decision","Arminian soteriology\u2014universal atonement, free will","Entire sanctification or Christian perfection","Social holiness\u2014faith expressing itself through social reform","Wesleyan Quadrilateral: Scripture, Tradition, Reason, Experience","Connectional polity with bishops"],color:"#ef4444",timeline:[{year:"1738",event:"Aldersgate Experience",details:"John Wesley's heart 'strangely warmed' at Aldersgate Street meeting, May 24. Catalyzes Methodist revival."},{year:"1784",event:"Christmas Conference",details:"American Methodists organize as separate church in Baltimore.",contested:!0,contention:"John Wesley ordained Thomas Coke and others for American ministry, claiming authority as a 'scriptural episcopos' (bishop) though he was only an Anglican priest and had never received episcopal consecration. Anglican authorities rejected this as invalid\u2014only bishops can ordain in apostolic succession, and Wesley had no episcopal authority to confer. Wesley argued that in the New Testament, 'presbyter' (priest/elder) and 'episkopos' (bishop/overseer) were originally the same office (citing patristic evidence), and extraordinary circumstances\u2014the American Revolution cutting off Anglican episcopal oversight\u2014justified his emergency actions for the new American church. This raises fundamental questions about apostolic succession and ordained ministry: Is valid ordination only through bishops in historic succession? Can a priest ordain in exceptional circumstances? Did Wesley's ordinations break with Anglican apostolic succession or express a more primitive understanding of ministry? This debate affects Methodist identity: Are they a church with valid sacraments and apostolic succession, or merely a renewal movement within Anglicanism that departed from proper order?"},{year:"1844",event:"North-South split",details:"Methodist Episcopal Church divides over Bishop James O. Andrew owning enslaved people. Creates Northern and Southern branches.",contested:!0,contention:"The Methodist split over slavery revealed whether Christian unity could be maintained across fundamental moral disagreements. Southern Methodists argued for states' rights and claimed the Bible accepted slavery when properly practiced, citing numerous texts. Northern Methodists argued slavery violated Christian principles of human dignity and the gospel's liberating message. Unlike some who claim doctrinal purity and church unity can be maintained despite moral disagreement, the Methodists acknowledged they couldn't stay united\u2014the moral divide was too deep, making shared governance impossible. This poses ongoing ecclesiological questions: What issues justify denominational division? Can churches remain united while disagreeing on fundamental ethics? Should church polity allow regional moral differences, or must there be universal moral standards? The split wasn't healed until 1939 (forming The Methodist Church), and the moral questions about unity and compromise remain relevant today."},{year:"1968",event:"United Methodist Church",details:"Methodist Church merges with Evangelical United Brethren, forming UMC with 11 million members."},{year:"2019",event:"Traditional Plan",details:"Special General Conference\u2014African and conservative delegates pass Traditional Plan maintaining prohibition on same-sex marriage and non-celibate LGBT clergy, defeating more inclusive 'One Church Plan.'",contested:!0,contention:"At a special 2019 General Conference, African and conservative delegates passed the 'Traditional Plan' maintaining Methodist prohibitions on same-sex marriage and non-celibate LGBT clergy (438-384 vote), defeating the 'One Church Plan' that would have allowed regional differences. Progressive Western Methodists argue this represents colonialism in reverse\u2014African churches imposing conservative sexual ethics on the West, despite being funded by Western money and shaped by Western missionaries' theology. They claim biblical inclusion and justice demand LGBT affirmation, and that excluding LGBT persons causes spiritual harm. Conservatives argue progressives are the real colonialists, dismissing African theological agency and voice as mere 'internalized colonialism' when Africans disagree with Western progressive positions. African delegates emphasized their independent reading of Scripture (Romans 1, 1 Corinthians 6), not Western influence, drives their views. They resent being patronized. This conflict raises questions: Do Western progressives genuinely respect African theological voice, or only when Africans agree with them? Can a global denomination maintain unity with such fundamental disagreement? The conflict led to massive denominational fracture: 6,000-7,000 churches (20-25%) disaffiliated 2020-2024, forming Global Methodist Church (2022)."}],keyFigures:["John Wesley","Charles Wesley (6,000+ hymns)","Francis Asbury","Phoebe Palmer"],geography:"USA, UK (both declining), West Africa (growing), Philippines.",geographicDistribution:[{region:"North America",percentage:"35%",trend:"declining",explanation:"UMC facing significant losses\u20146,000-7,000 churches disaffiliated 2020-2024."},{region:"Sub-Saharan Africa",percentage:"28%",trend:"growing",explanation:"Strong West African growth."},{region:"Asia-Pacific",percentage:"20%",trend:"growing",explanation:"Growing in Philippines and Asia."},{region:"United Kingdom",percentage:"12%",trend:"declining",explanation:"British Methodism declining."},{region:"Latin America",percentage:"3%",trend:"stable",explanation:"Small presence."},{region:"Other",percentage:"2%",trend:"stable",explanation:"Diaspora communities."}],debates:["Calvinists critique Arminian theology as giving too much power to human will","1844 North-South split over slavery not healed until 1939","Wesley's ordinations raised questions about apostolic succession and Anglican validity","Global tensions over sexuality\u20142019 Traditional Plan passed, but 6,000-7,000 churches disaffiliated 2020-2024","Entire sanctification doctrine contested by Reformed theologians"],sources:[{title:"UMC",url:"https://www.umc.org/"},{title:"Wesley's Sermons",url:"https://www.umcmission.org/"}]},pentecostal:{name:"Pentecostal",year:"1906",members:"280M",fullName:"Pentecostal Movement",description:"The Azusa Street Revival (1906-1909) in Los Angeles, led by African-American preacher William J. Seymour, featured interracial worship, speaking in tongues as evidence of Holy Spirit baptism, and continuous services running nearly 24/7 for three years with peak attendance of 1,500. By 1907, Pentecostalism had spread to 50+ nations across six continents\u2014Mexico, Canada, Western Europe, Middle East, West Africa, and Asia. By 2020, there were estimated 500+ million Pentecostal and Charismatic believers worldwide, making it the fastest-growing form of Christianity globally. Explosive growth continues in Global South, particularly Africa, Latin America, and Asia.",beliefs:["Spirit baptism evidenced by speaking in tongues","Continuation of all spiritual gifts (prophecy, healing, miracles)","Divine healing through faith and prayer","Premillennial eschatology\u2014Christ's imminent return","Experiential faith and emotional worship","Evangelism and missionary zeal"],color:"#fb923c",timeline:[{year:"1906",event:"Azusa Street Revival",details:"William J. Seymour leads revival at 312 Azusa Street, Los Angeles. Services run continuously nearly 24/7 for three years. Peak attendance 1,500. Features interracial worship, tongues-speaking, healings. Spreads globally within months."},{year:"1907",event:"Global Spread Begins",details:"Within one year of Azusa, Pentecostalism reaches 50+ nations: Mexico, Canada, Western Europe, Middle East, West Africa, Asia. Fastest missionary expansion in Christian history."},{year:"1914",event:"Assemblies of God",details:"Largest Pentecostal denomination formed in Hot Springs, Arkansas. Now 69+ million members globally."},{year:"1960",event:"Charismatic Renewal",details:"Episcopal priest Dennis J. Bennett speaks in tongues April 3, 1960, sparking movement into mainline churches: Lutherans, Presbyterians, Methodists, Anglicans."},{year:"1967",event:"Catholic Charismatic Renewal",details:"'Duquesne Weekend' (February 17-19) launches Catholic Charismatic movement. By 1983, approximately 15 million Catholics in 120 countries participate."},{year:"1994",event:"Toronto Blessing",details:"Controversial revival featuring laughter, animal sounds, spiritual drunkenness.",contested:!0,contention:"The Toronto Blessing at Toronto Airport Vineyard featured controversial manifestations: uncontrollable laughter (sometimes called 'holy laughter'), animal sounds (roaring like lions, barking like dogs), people falling or shaking violently, and claims of spiritual drunkenness. Services could last for hours with people unable to stand or speak coherently. Proponents argued these were genuine Holy Spirit movements breaking through religious formalism and dead tradition, citing biblical precedents: Acts 2's mocking of 'drunk' disciples at Pentecost, Ezekiel's unusual prophetic signs, and accounts of people falling before God's presence in Scripture. They reported lives dramatically transformed, marriages healed, and renewed passion for God and evangelism. Cessationist critics argued spiritual gifts ceased after the apostolic age, making any such manifestations either psychological phenomena, group hysteria, or potentially demonic deception. Even continuationist Pentecostals and Charismatics debated whether these manifestations were genuinely from God's Spirit or fleshly emotionalism that brought reproach on the charismatic movement and distracted from genuine gospel ministry. The controversy raises enduring questions: How do we discern genuine Spirit activity from emotional excess or psychological phenomena? Should corporate worship be orderly (1 Corinthians 14:40) or allow spontaneous, even bizarre, manifestations?"}],keyFigures:["William J. Seymour","Aimee Semple McPherson","Oral Roberts","Dennis J. Bennett (Charismatic)"],geography:"By 2020, 500+ million Pentecostal/Charismatic believers worldwide\u2014fastest-growing form of Christianity. Dominates Global South with explosive growth in Africa, Latin America, and Asia.",geographicDistribution:[{region:"Latin America",percentage:"38%",trend:"rapid-growth",explanation:"Transforming religious landscape\u2014Brazil alone has 42 million Pentecostals. Challenging Catholic dominance."},{region:"Sub-Saharan Africa",percentage:"32%",trend:"rapid-growth",explanation:"Becoming dominant form of African Christianity. Nigeria has 50+ million Pentecostals."},{region:"Asia-Pacific",percentage:"18%",trend:"rapid-growth",explanation:"Strong in Philippines, Indonesia, South Korea. Chinese house churches largely Pentecostal."},{region:"North America",percentage:"8%",trend:"growing",explanation:"Growing primarily in immigrant communities\u2014Latino, African, Asian."},{region:"Europe",percentage:"3%",trend:"growing",explanation:"Immigrant-led churches reversing European secularization in urban areas."},{region:"Other",percentage:"1%",trend:"growing",explanation:"Expanding to every continent with missionary zeal."}],debates:["Cessationists argue spiritual gifts ceased after apostolic age","Continuationists debate: are tongues required evidence of Spirit baptism?","Prosperity gospel concerns\u2014especially in megachurch contexts","Toronto Blessing (1994) created controversy even among Pentecostals","Traditional churches question emphasis on experience over doctrine"],sources:[{title:"Assemblies of God",url:"https://ag.org/"},{title:"Church of God",url:"https://www.churchofgod.org/"}]},restorationist:{name:"Restorationist",year:"1832",members:"5M",fullName:"Stone-Campbell Movement",description:"The Restoration Movement emerged during the Second Great Awakening (1790-1840) on the American frontier, seeking to unify Christians by restoring New Testament church patterns without denominational labels or human creeds ('No creed but Christ, no book but the Bible'). Barton W. Stone's 'Christians' and Alexander Campbell's 'Disciples of Christ' united in 1832. The movement fragmented over instrumental music and theological modernism: non-instrumental Churches of Christ separated (1906), and independent Christian Churches separated from the more liberal Christian Church (Disciples of Christ) (1920s-1971).",beliefs:["Restoration of New Testament pattern","Baptism by immersion for remission of sins","Weekly Lord's Supper (every Sunday)","'No creed but Christ, no book but the Bible'","Congregational autonomy","Believer's baptism essential for salvation"],color:"#0891b2",timeline:[{year:"1801",event:"Cane Ridge Revival",details:"Massive Kentucky revival draws 10,000-25,000 people."},{year:"1832",event:"Stone-Campbell merge",details:"Barton W. Stone's 'Christians' unite with Alexander Campbell's 'Disciples of Christ,' creating unified restoration movement."},{year:"1906",event:"Churches of Christ separate",details:"Split over instrumental music.",contested:!0,contention:"The Churches of Christ separated from Christian Churches over instrumental music in worship, applying the 'regulative principle'\u2014only what Scripture explicitly authorizes is permitted in worship. They argue the New Testament only mentions singing (Ephesians 5:19, Colossians 3:16) and never mentions instruments in Christian worship. Therefore, adding instruments violates the pattern of New Testament worship and constitutes unauthorized innovation. Christian Churches argue this misapplies the principle: Scripture's silence permits rather than prohibits. They point to Old Testament worship (Psalms 150) and argue instruments are aids to singing, not a different kind of worship. The debate centers on hermeneutical questions: Is biblical silence permission or prohibition? Does the New Testament establish a strict pattern for worship, or provide flexible principles? This reflects the Restoration Movement's core tension: seeking to restore New Testament Christianity while interpreting what that requires."}],keyFigures:["Barton W. Stone","Alexander Campbell","Thomas Campbell"],geography:"American South and Midwest dominant. Declining in traditional areas.",geographicDistribution:[{region:"North America",percentage:"72%",trend:"declining",explanation:"Declining in traditional areas."},{region:"Sub-Saharan Africa",percentage:"12%",trend:"growing",explanation:"Missions establishing churches."},{region:"Asia-Pacific",percentage:"8%",trend:"growing",explanation:"Growing missions presence."},{region:"Latin America",percentage:"4%",trend:"stable",explanation:"Small presence."},{region:"Europe",percentage:"2%",trend:"stable",explanation:"Limited."},{region:"Other",percentage:"2%",trend:"stable",explanation:"Scattered."}],debates:["Internal 1906 division over instrumental music\u2014Churches of Christ separated","'No creed but the Bible' is itself a creedal statement\u2014can't escape interpretation","Further divisions: Christian Church (Disciples) vs independent Christian Churches","Hermeneutical question: Is biblical silence prohibition or permission?","Claim to restore NT Christianity contested\u2014which NT pattern to follow?"],sources:[{title:"Churches of Christ",url:"https://www.churchofchrist.org/"}]},holiness:{name:"Holiness",year:"1867",members:"12M",fullName:"Holiness Movement",description:"The Holiness movement emerged from Methodism in late 1800s, emphasizing John Wesley's doctrine of entire sanctification as a second work of grace following conversion. They believed believers could be purified from the sin nature and live in perfect love. This movement set the theological and experiential stage for Pentecostalism\u2014when Pentecostals added tongues as 'initial physical evidence' of Spirit baptism, many holiness adherents embraced it while traditional holiness churches rejected it, causing a major split.",beliefs:["Entire sanctification as second work of grace","Eradication of inborn sin nature possible","Holy living and personal holiness","Arminian soteriology (free will, universal grace)","Wesleyan understanding of perfection","Separation from worldliness"],color:"#c026d3",timeline:[{year:"1867",event:"National Camp Meeting",details:"National Camp Meeting Association for Promotion of Holiness organized, systematizing holiness movement."},{year:"1895",event:"Church of Nazarene",details:"Largest holiness denomination formed through mergers of various holiness groups."},{year:"1906",event:"Pentecostalism emerges",details:"Pentecostalism adds tongues to holiness theology.",contested:!0,contention:"When Pentecostalism emerged at Azusa Street (1906), it claimed to complete holiness teaching by identifying Spirit baptism with tongues-speaking as 'initial physical evidence'\u2014the biblical sign that one had received the baptism of the Holy Spirit. Many holiness adherents embraced this, becoming Pentecostals and forming denominations like Church of God (Cleveland, TN) and Pentecostal Holiness Church. But traditional holiness churches like the Church of the Nazarene firmly rejected this addition, arguing that Spirit baptism is for sanctification and empowerment for service, not necessarily accompanied by tongues. They maintained Wesley's two-stage doctrine: conversion (justification) and entire sanctification are distinct works of grace, but tongues aren't required evidence of either. The debate split the holiness movement permanently: Does Spirit baptism always produce tongues as initial evidence, or can it occur without visible manifestations? Are tongues available to all Spirit-filled believers today, or were they temporary apostolic signs? The Holiness churches that rejected tongues saw Pentecostalism as adding an unbiblical requirement to Spirit baptism; Pentecostals saw it as recovering the full New Testament experience that had been lost."}],keyFigures:["Phoebe Palmer","Phineas Bresee"],geography:"US Midwest and South, Caribbean. Stable in traditional areas.",geographicDistribution:[{region:"North America",percentage:"58%",trend:"stable",explanation:"Stable in traditional areas."},{region:"Caribbean",percentage:"18%",trend:"stable",explanation:"Strong Caribbean presence."},{region:"Sub-Saharan Africa",percentage:"15%",trend:"growing",explanation:"Growing through missions."},{region:"Latin America",percentage:"5%",trend:"growing",explanation:"Modest growth."},{region:"Asia-Pacific",percentage:"3%",trend:"stable",explanation:"Small presence."},{region:"Other",percentage:"1%",trend:"stable",explanation:"Scattered."}],debates:["Reformed theologians reject entire sanctification\u2014argue sin nature remains until death","1906 split when Pentecostals added tongues as evidence of Spirit baptism","Can believers be 'perfected in love' in this life? Wesleyan vs Reformed anthropology","Traditional Holiness churches rejected Pentecostal tongues doctrine"],sources:[{title:"Nazarene",url:"https://nazarene.org/"}]},anabaptist:{name:"Anabaptist",year:"1525",members:"2.1M",fullName:"Anabaptist Tradition",description:"On January 21, 1525, Conrad Grebel baptized George Blaurock in Zurich\u2014the first believer baptism, launching the Anabaptist movement during the Radical Reformation. Anabaptists insisted only adults who confessed faith could be baptized, considering infant baptism invalid. They demanded complete separation of church and state, practiced nonresistance and pacifism, refused oath-taking, and emphasized visible holy community with church discipline. Both Catholics and Protestants brutally persecuted Anabaptists\u2014drowning ('third baptism') was common execution. Thousands died 1525-1660, documented in Martyrs Mirror. Despite persecution, they survived in distinct branches: Swiss Brethren, Mennonites, Hutterites, and Amish.",beliefs:["Believer's baptism only (rejecting infant baptism)","Pacifism and nonresistance","Complete separation of church and state","Simple living and community","Church discipline and excommunication","Voluntary church membership"],color:"#65a30d",timeline:[{year:"1525",event:"First adult baptisms",details:"January 21\u2014Conrad Grebel baptizes George Blaurock in Zurich, launching Anabaptism.",contested:!0,contention:"The Anabaptist practice of believers-only baptism sparked violent opposition from both Catholics and magisterial Reformers (Lutherans, Reformed). The latter argued Anabaptists severed children from covenant promises, fundamentally misunderstood the unity of God's covenant across Old and New Testaments, and created false division in Christian families where parents are baptized members but children are excluded from the covenant community until they can profess faith. Infant baptism, they argued, is the New Testament equivalent of Old Testament circumcision\u2014the sign of covenant inclusion given to children of believers (Colossians 2:11-12). It doesn't save, but marks children as part of the covenant community. Anabaptists responded that New Testament baptism consistently and explicitly follows faith and repentance (Acts 2:38, 8:36-38), that infant baptism lacks any biblical example or command, and that covenant inclusion doesn't require the covenant sign (Abraham believed before receiving circumcision, Romans 4:11). They argued baptism should signify conscious commitment and regeneration, not automatic membership based on birth. The debate centers on covenant theology, the relationship between church and society (Christendom model vs. free church), and whether regeneration precedes or follows baptism. The issue was so divisive that Anabaptists faced execution from both Catholic and Protestant authorities for 'rebaptizing'\u2014considered heresy and sedition."},{year:"1527",event:"Schleitheim Confession",details:"Seven articles define Anabaptist distinctives: believer's baptism, ban (excommunication), Lord's Supper, separation from world, pastors, pacifism, oath refusal."},{year:"1536",event:"Menno Simons",details:"Former Catholic priest Menno Simons (1496-1561) joins Anabaptists, provides theological leadership and organizational stability. Mennonites named after him."},{year:"1525-1660",event:"Martyrdom Era",details:"Both Catholics and Protestants brutally persecute Anabaptists. Drowning\u2014called 'third baptism'\u2014common execution. Thousands die. Martyrs Mirror (1660) documents their testimonies."},{year:"1693",event:"Amish Split",details:"Jacob Ammann leads stricter group separating from Swiss Mennonites over shunning practices and other issues, forming Amish."}],keyFigures:["Conrad Grebel","Menno Simons","Jacob Ammann","Michael Sattler"],geography:"Pennsylvania, Ohio, Indiana (Amish). Global Mennonites growing.",geographicDistribution:[{region:"North America",percentage:"45%",trend:"growing",explanation:"High birth rates among Amish and conservative Mennonites."},{region:"Sub-Saharan Africa",percentage:"25%",trend:"rapid-growth",explanation:"Strong missions work."},{region:"Latin America",percentage:"15%",trend:"growing",explanation:"Growing communities."},{region:"Europe",percentage:"10%",trend:"stable",explanation:"Historic communities."},{region:"Asia-Pacific",percentage:"4%",trend:"growing",explanation:"Missions work."},{region:"Other",percentage:"1%",trend:"stable",explanation:"Scattered."}],debates:["Magisterial Reformers (Lutheran, Reformed) argued Anabaptists severed children from covenant","Both Catholics and Protestants brutally persecuted Anabaptists\u2014thousands executed 1525-1660","Just war theorists critique pacifism as impractical and unbiblical","Covenant theology debate: Is baptism NT equivalent of circumcision?","Internal divisions: Amish (1693), various Mennonite branches over separation strictness"],sources:[{title:"Mennonite Church USA",url:"https://www.mennoniteusa.org/"}]},nondenominational:{name:"Non-Denom",year:"1970s",members:"40M+",fullName:"Non-Denominational Churches",description:"Non-denominational churches exploded from less than 3% of American adults (1972) to 13% of Protestants by 2014, making them the third-largest Christian group after Catholics and Southern Baptists. If considered a single denomination, non-denominationals would be America's largest Protestant group. American megachurches (2,000+ weekly attendance) grew from approximately 350 (1990) to 1,800 (2020), predominantly suburban, evangelical, and nondenominational. They emphasize contemporary worship, local evangelism, and congregational autonomy while avoiding formal denominational affiliation and historic theological disputes.",beliefs:["Bible as sole authority without denominational creeds","Local church autonomy and independence","Evangelical theology (though specifics vary)","Contemporary worship styles","Emphasis on personal relationship with Jesus","Pragmatic approach to ministry"],color:"#94a3b8",timeline:[{year:"1968-74",event:"Jesus Movement",details:"Countercultural revival creates non-denominational template."},{year:"1975",event:"Willow Creek",details:"Bill Hybels pioneers seeker-sensitive model that becomes megachurch blueprint."},{year:"2000s",event:"Megachurch explosion",details:"Multi-site campuses proliferate. Growth from 350 (1990) to 1,800 (2020)."}],keyFigures:["Chuck Smith (Calvary Chapel)","Bill Hybels (Willow Creek)","Rick Warren (Saddleback)"],geography:"Predominantly US suburbs. Increasingly global\u2014megachurches appearing in Asia, Latin America.",geographicDistribution:[{region:"North America",percentage:"65%",trend:"rapid-growth",explanation:"Explosive suburban growth. Now 3rd largest Christian group in US."},{region:"Asia-Pacific",percentage:"15%",trend:"rapid-growth",explanation:"Megachurches in South Korea, Singapore, Philippines."},{region:"Latin America",percentage:"8%",trend:"growing",explanation:"Model spreading rapidly."},{region:"Sub-Saharan Africa",percentage:"7%",trend:"growing",explanation:"Independent evangelicals growing."},{region:"Europe",percentage:"4%",trend:"growing",explanation:"Urban churches growing."},{region:"Other",percentage:"1%",trend:"growing",explanation:"Expanding globally."}],debates:["Traditional denominations argue non-denoms lack accountability structures","Celebrity pastor culture concerns in megachurches","'No denomination' is itself a denomination with implicit theology and practice","Theological drift concerns without confessional standards","Grew from <3% (1972) to 13% of Protestants (2014)\u2014now 3rd largest Christian group in US","Question: Can churches maintain orthodoxy without formal structures and historic creeds?"],sources:[{title:"The Gospel Coalition",url:"https://www.thegospelcoalition.org/"}]}};(0,e.useEffect)(()=>{"bible"===n&&(x(!0),c(!1),u(!1),m(!1),f(!1),y(!1)),"church"===n&&x(!1)},[n]);const E={writing:[{period:"1400-400 BC",books:"Old Testament",details:"Torah/Pentateuch (1400-1200 BC\u2014traditional dating, though scholars debate), Historical books (Joshua-Esther), Prophets (Isaiah-Malachi), Wisdom literature (Job, Psalms, Proverbs, Ecclesiastes, Song of Songs)",note:"Dates are approximate and heavily debated among scholars\u2014traditional vs. critical scholarship"},{period:"50-100 AD",books:"New Testament",details:"Paul's letters (50-65 AD\u2014earliest NT writings), Gospels (Mark ~65-70 AD, Matthew & Luke ~80-85 AD, John ~90-95 AD), Acts, General Epistles (James, Peter, John, Jude), Revelation (~95 AD)",note:"Written in Greek (koine\u2014common Greek), circulated among early churches, copied by hand for centuries"}],canonization:[{year:"~90-100 AD",event:"Council of Jamnia (disputed)",details:"Traditionally thought to be when Jewish rabbis finalized Hebrew Bible canon after Temple destruction (70 AD). Recent scholarship questions whether this council actually occurred as traditionally described.",contested:!0,contention:"The traditional view held that Jewish rabbis met at Jamnia (Yavneh) around 90 AD to officially close the Hebrew Bible canon, establishing the 39 books that later became the Protestant Old Testament. This would explain why Jews and Protestants share the same OT canon while Catholics and Orthodox include additional books. However, modern scholarship increasingly doubts this council occurred as traditionally described\u2014no ancient Jewish sources describe a canon-fixing council at Jamnia. Evidence suggests the Hebrew canon developed gradually through usage and consensus rather than by formal decree, with debates about books like Esther, Ecclesiastes, and Song of Songs continuing into the 2nd century. Some scholars argue 'Jamnia' is essentially a scholarly myth created to provide convenient explanation for Protestant rejection of deuterocanonical books. The question matters theologically: if there was no formal Jewish closure of canon around 90 AD, it weakens the Protestant argument that only books in the 'official Jewish canon' are authoritative Scripture\u2014since there may have been no such official closure."},{year:"~140 AD",event:"Marcion's Canon",details:"Heretic Marcion creates radically truncated canon (Gospel of Luke and 10 Paul letters only, edited), rejecting Old Testament entirely. His heresy spurs orthodox church to define its own authoritative canon in response."},{year:"~170 AD",event:"Muratorian Fragment",details:"Earliest known list of NT books, discovered 1740. Includes 22 of 27 books (missing Hebrews, James, 1-2 Peter), debates some others. Shows canon still developing but core already recognized."},{year:"367 AD",event:"Athanasius' Easter Letter",details:"Bishop Athanasius of Alexandria lists 27 NT books in his 39th Easter Letter\u2014first complete list matching modern Protestant NT canon exactly. Distinguishes canonical from useful but non-canonical books."},{year:"393 AD",event:"Council of Hippo",details:"Regional North African council of bishops affirms biblical canon including deuterocanonical books (Tobit, Judith, Wisdom, Sirach, Baruch, 1-2 Maccabees) as Scripture."},{year:"397 AD",event:"Council of Carthage",details:"Larger regional council reaffirms Hippo's canon with same 73 books.",contested:!0,contention:"Catholics and Orthodox cite Carthage as authoritative because it was ratified by multiple subsequent councils and popes, representing the church's consensus on the full 73-book canon (46 OT + 27 NT). These councils explicitly listed books like Tobit, Judith, Wisdom of Solomon, Sirach (Ecclesiasticus), Baruch, and 1-2 Maccabees as canonical Scripture to be read in churches. Protestants respond that Carthage was only a regional North African council, not an ecumenical (universal) council binding on the whole church, and therefore lacks authority over Christians in other regions. They argue the early church had no universal consensus\u2014Eastern and Western canons differed, and church fathers like Jerome (translator of the Latin Vulgate) explicitly questioned the deuterocanonical books, calling them useful for edification but not for establishing doctrine. Additionally, Protestants note that these councils made errors (including books eventually rejected even by Catholics), proving councils aren't infallible. The fundamental dispute centers on ecclesiology: Can regional councils bind the universal church? Who has authority to determine the biblical canon\u2014the church through councils, or does Scripture's authority precede and transcend church authority?"},{year:"~405 AD",event:"Jerome completes Vulgate",details:"Jerome translates Bible into Latin. Notably, he questioned deuterocanonical books' status, though he included them. Called them 'Apocrypha'\u2014useful but not canonical for doctrine."},{year:"1442 AD",event:"Council of Florence",details:"Ecumenical council formally defines Catholic canon including deuterocanonical books. Attempt to reunify with Eastern churches (ultimately failed)."},{year:"1546 AD",event:"Council of Trent",details:"In response to Protestant Reformation, Catholic Church definitively declares 73-book canon, pronouncing anathema on anyone who rejects it.",contested:!0,contention:"The Council of Trent (1545-1563) definitively declared the deuterocanonical books to be Scripture with equal authority to other books, pronouncing anathema (condemnation) on anyone who rejected them. Catholics argue Trent simply reaffirmed the church's ancient practice\u2014the deuterocanonical books were in the Septuagint (Greek OT) used by Jesus and the apostles, quoted or alluded to in the New Testament (Hebrews 11 references Maccabean martyrs, Wisdom influences NT theology), accepted by church fathers, and affirmed at Hippo (393) and Carthage (397). The church has always recognized these books' authority. Protestants argue Trent made a polemical decision against the Reformation rather than reflecting genuine tradition\u2014the early church widely debated these books' status, Jerome (the great biblical scholar) explicitly rejected them as non-canonical, and the Hebrew Bible (Jesus' Bible as a Jew) excluded them. They claim the Catholic Church added books to defend doctrines like purgatory (2 Maccabees 12:45-46 mentions prayers for the dead) that Protestants rejected on biblical grounds. The timing troubles Protestants: Why did it take 1,500 years for an 'infallible' definition if these books were always recognized Scripture? Shouldn't Scripture's authority be self-evident? The debate reflects deeper questions about church authority, tradition's role, and how the canon was determined\u2014by church decree or by Spirit-led recognition?"},{year:"~1520s",event:"Luther's German Bible",details:"Luther translates Bible into German (NT 1522, OT 1534), placing deuterocanonical books in separate appendix between testaments labeled 'Apocrypha'\u2014'books useful and good to read but not equal to Holy Scripture.'"},{year:"1611 AD",event:"King James Version",details:"Includes Apocrypha between testaments in original 1611 edition. Many later Protestant editions omit it entirely. By 1800s, most Protestant Bibles excluded deuterocanonicals completely."}],canons:[{tradition:"Protestant",books:66,details:"39 OT + 27 NT. Follows Hebrew Bible for OT (no deuterocanonical books).",rationale:"Only books in original Hebrew/Aramaic and accepted by ancient Jews"},{tradition:"Catholic",books:73,details:"46 OT + 27 NT. Includes 7 deuterocanonical books (Tobit, Judith, Wisdom, Sirach, Baruch, 1-2 Maccabees) plus additions to Esther and Daniel.",rationale:"Books in Septuagint (Greek OT) used by early church and cited by Church Fathers"},{tradition:"Orthodox",books:"Varies",details:"Generally includes Catholic canon plus 1 Esdras, Prayer of Manasseh, Psalm 151, 3 Maccabees. Some add 2 Esdras, 4 Maccabees.",rationale:"Follows Septuagint and broader ancient Christian usage"},{tradition:"Ethiopian Orthodox",books:81,details:"Broadest canon, includes Book of Enoch, Jubilees, and other ancient texts.",rationale:"Preserves ancient Ethiopian Christian traditions"}],criteria:[{criterion:"Apostolicity",description:"Written by or connected to apostles"},{criterion:"Orthodoxy",description:"Consistent with recognized Christian teaching"},{criterion:"Catholicity",description:"Widely accepted and used across churches"},{criterion:"Inspiration",description:"Recognized as divinely inspired through use in worship"}]},P={catholic:{serviceName:"Mass (Holy Eucharist)",typicalLength:"45-60 minutes",schedule:"Daily Mass available; Sunday obligation for members",serviceStructure:["Introductory Rites: Procession, Sign of Cross, Penitential Act","Liturgy of the Word: Old Testament, Psalm, New Testament, Gospel, Homily","Liturgy of the Eucharist: Offertory, Eucharistic Prayer, Consecration","Communion Rite: Lord's Prayer, Sign of Peace, Communion","Concluding Rites: Blessing and Dismissal"],musicStyle:"Ranges from traditional Latin chant and organ to contemporary; varies by parish",dressExpectation:"Modest and respectful; business casual to formal common",communionDetails:"Weekly. Only baptized Catholics in state of grace may receive. Others may come forward for blessing (arms crossed)",participation:"Congregation responds in dialogue, sits/stands/kneels at specific times",uniqueElements:["Genuflection (brief kneeling) when entering/leaving pews","Holy water fonts at entrance","Kneeling during consecration","Sign of the Cross used frequently","Statues, icons, and artwork throughout"],firstTimeVisitor:"Arrive early. Sit toward back if unsure about postures. Following along appreciated but not required. You may remain seated during communion."},orthodox:{serviceName:"Divine Liturgy",typicalLength:"90 minutes to 2 hours",schedule:"Sunday morning primary; Saturday evening Vespers common",serviceStructure:["Liturgy of the Word: Antiphons, Little Entrance, Epistle, Gospel","Liturgy of the Faithful: Great Entrance, Creed, Anaphora","Communion: Preparation and Distribution (bread and wine on spoon)","Dismissal: Thanksgiving prayers, Veneration of Cross"],musicStyle:"A cappella chanting - no instruments. Byzantine or Slavonic chant traditions",dressExpectation:"Modest and formal. Women often cover heads (scarves usually provided); men wear suits",communionDetails:"Weekly. Only Orthodox Christians who have fasted may receive. Others observe",participation:"Mostly standing (few pews in traditional churches). Make sign of cross. Venerate icons",uniqueElements:["Iconostasis (icon wall) separating altar from congregation","Extensive incense use throughout","Icons everywhere - kissed upon entering","Priest often behind icon screen during prayers","Antidoron (blessed bread) distributed to all after"],firstTimeVisitor:"Expect to stand most of service. OK to sit if needed. Don't take communion unless Orthodox. Venerate icons when others do. Beautiful but unfamiliar to most Westerners."},anglican:{serviceName:"Holy Eucharist / Holy Communion",typicalLength:"60-75 minutes",schedule:"Sunday morning primary; some offer Wednesday or daily services",serviceStructure:["Gathering: Procession, Opening Hymn, Collect","Word: Old Testament, Psalm, Epistle, Gospel, Sermon","Prayers: Prayers of the People, Confession, Peace","Eucharist: Offertory, Great Thanksgiving, Communion","Sending Forth: Post-communion prayer, Blessing, Dismissal"],musicStyle:"Traditional hymns with organ or piano; some parishes more contemporary. Often very good choirs",dressExpectation:"Business casual to formal. 'Sunday best' still common in traditional parishes",communionDetails:"Weekly in most parishes. Open to baptized Christians. Kneel or stand at altar rail or come forward in line",participation:"Liturgical responses from Book of Common Prayer. Stand for Gospel, kneel for prayers (varies)",uniqueElements:["Book of Common Prayer used extensively","Processions with cross and candles","Vestments (robes) for clergy","May use incense in 'high church' parishes","Balance of Catholic liturgy with Protestant theology"],firstTimeVisitor:"Feels Catholic but more relaxed. Take a bulletin and Book of Common Prayer. Follow along with congregation. All baptized Christians welcome at communion."},lutheran:{serviceName:"Divine Service / Worship Service",typicalLength:"60-75 minutes",schedule:"Sunday morning; some offer Saturday evening or midweek",serviceStructure:["Gathering: Confession/Absolution, Hymn of Praise","Word: Scripture Readings, Sermon","Response: Creed, Prayers, Offering","Sacrament: Communion liturgy, Distribution","Sending: Blessing, Closing Hymn"],musicStyle:"Traditional Lutheran chorales and hymns. Organ music. Some contemporary in less traditional congregations",dressExpectation:"Business casual to smart casual. Less formal than previous generations",communionDetails:"Usually weekly or every other week. Varies by congregation. Believe in Real Presence. Some close communion (members only), others open",participation:"Liturgical with responsive readings. Stand for Gospel. Kneeling for communion common in traditional churches",uniqueElements:["Strong emphasis on preaching and Scripture","Liturgical order similar to Catholic/Anglican but simpler","Rich musical heritage (Bach, chorales)","Confession and Absolution emphasized","Formal but warm atmosphere"],firstTimeVisitor:"Very liturgical yet accessible. Take a bulletin and hymnal. Check if communion is open or closed. Preaching is central - expect 15-20 minute sermon."},reformed:{serviceName:"Worship Service",typicalLength:"60-90 minutes",schedule:"Sunday morning; some offer Sunday evening services",serviceStructure:["Call to Worship and Opening Prayer","Praise: Psalm or Hymn singing","Confession of Sin and Assurance of Pardon","Scripture Reading and Preaching (central focus)","Response: Prayers, Offering, Closing Hymn"],musicStyle:"Traditional: Psalm singing (sometimes a cappella), hymns. Contemporary in some churches. Varies widely",dressExpectation:"Business casual to smart casual. Varies by congregation",communionDetails:"Monthly or quarterly (less frequent). Believe in spiritual presence. Usually open to baptized believers",participation:"Corporate prayer and singing. Attentive listening to sermon. May be less responsive liturgy than Lutheran/Anglican",uniqueElements:["Sermon is center of service (30-45 minutes common)","Strong emphasis on God's sovereignty in worship","Presbyterian governance means elders oversee","Psalm singing in some traditions","Intellectually rigorous preaching"],firstTimeVisitor:"Word-centered service. Come prepared for substantial sermon. Less ritual than liturgical churches. Friendly and welcoming atmosphere."},methodist:{serviceName:"Sunday Worship Service",typicalLength:"60-75 minutes",schedule:"Sunday morning; many offer contemporary and traditional services",serviceStructure:["Gathering: Welcome, Opening Hymns, Prayer","Proclamation: Scripture Readings, Sermon","Response: Offering, Prayers, Hymns","Communion: Monthly or weekly in many congregations","Sending Forth: Closing Hymn, Benediction"],musicStyle:"Wide variety: Traditional hymns (especially Charles Wesley's), contemporary worship, gospel. Often both services offered",dressExpectation:"Casual to business casual. Very relaxed in most congregations",communionDetails:"Monthly common, some weekly. Open table - all who love Christ welcome. Come forward or served in pews",participation:"Responsive readings, corporate prayer, hymn singing. Welcoming and participatory",uniqueElements:["Strong emphasis on social holiness and service","John Wesley's theology influences everything","Open communion - all welcome","Mix of liturgical and free church elements","Connection system - accountability groups"],firstTimeVisitor:"Very welcoming and accessible. Mix of formal and informal. Check if contemporary or traditional service. Expect warmth and emphasis on Christian living."},baptist:{serviceName:"Worship Service",typicalLength:"60-90 minutes",schedule:"Sunday morning and evening common; Wednesday night prayer meeting traditional",serviceStructure:["Welcome and Announcements","Worship: Hymns or Contemporary Praise","Prayer Time","Scripture Reading and Preaching (central)","Invitation/Altar Call: Response time for decisions","Closing"],musicStyle:"Varies widely: Traditional hymns with piano/organ in traditional churches; contemporary worship bands in modern churches; Southern gospel in some",dressExpectation:"Casual to business casual. 'Come as you are' in most churches",communionDetails:"Monthly or quarterly. Symbolic memorial. Open to baptized believers (believer's baptism)",participation:"Congregational singing, responsive 'Amen' during preaching in some traditions, altar calls for decisions",uniqueElements:["Believer's baptism by immersion (baptistery visible in church)","Congregational autonomy - each church independent","Altar calls/invitations common after sermon","No formal liturgy or prayer book","Strong emphasis on evangelism and missions"],firstTimeVisitor:"Informal and friendly. Sermon is central (30-45 min). You may be asked to stand as a visitor. No pressure to respond to altar call. Very accessible."},pentecostal:{serviceName:"Worship Service / Celebration",typicalLength:"90 minutes to 2+ hours (flexible)",schedule:"Sunday morning and evening; often midweek services. Times less rigid",serviceStructure:["Extended Praise and Worship (30-45 minutes)","Manifestations of the Spirit: Tongues, prophecy, healing","Offering and Testimonies","Preaching: Passionate, evangelistic message","Altar Call: Prayer for salvation, healing, Holy Spirit","Ministry Time: Individual prayer"],musicStyle:"Contemporary praise and worship, very energetic. Live band, drums, electric guitars. Upbeat and emotional",dressExpectation:"Ranges from very casual to formal 'Sunday best' depending on congregation. Generally relaxed",communionDetails:"Monthly or less frequent. Open to believers. Secondary to Spirit baptism",participation:"Very active! Raise hands, clap, dance, shout 'Amen', speak in tongues, prophesy. High energy and participation expected",uniqueElements:["Speaking in tongues encouraged","Healing services and prayer for sick","Prophecy and words of knowledge","Laying on of hands for Spirit baptism","Spontaneous, Spirit-led worship (less structured)","Very emotional and experiential"],firstTimeVisitor:"Expect loud, long, and expressive worship. Don't feel pressured to speak in tongues or participate in manifestations. Very welcoming. Prepare for intense, emotional experience. Services often run long."},anabaptist:{serviceName:"Worship Service / Meeting",typicalLength:"60-90 minutes",schedule:"Sunday morning; some have Sunday evening or midweek meetings",serviceStructure:["Gathering and Welcome","Congregational Singing (often a cappella in some traditions)","Prayer","Scripture Reading and Teaching","Testimony or Sharing Time (common in some groups)","Closing Prayer and Dismissal"],musicStyle:"Varies widely: Traditional a cappella four-part harmony in conservative groups; contemporary with instruments in progressive churches; emphasis on congregational participation",dressExpectation:"Very modest - Conservative groups require head coverings for women, plain dress, no jewelry. Progressive Anabaptists more casual but still modest",communionDetails:"Monthly or quarterly. Symbolic memorial. Often preceded by foot washing service. Closed or restricted communion in conservative groups",participation:"Simple and participatory. Emphasis on community. Testimony sharing common. Less formal liturgy",uniqueElements:["Believer's baptism (adult baptism by pouring or immersion)","Foot washing services with communion","Emphasis on pacifism and nonviolence","Simple, plain worship spaces (no crosses or decorations in conservative groups)","Strong community accountability and discipline","Head coverings for women (in conservative groups)"],firstTimeVisitor:"Expect simplicity and modesty. Conservative groups very plain (Amish, Old Order Mennonite) - women cover heads, men wear plain suits. Progressive groups more contemporary. Strong emphasis on community and peace. Very welcoming but culturally distinct."},restorationist:{serviceName:"Worship Assembly / Church Service",typicalLength:"60-75 minutes",schedule:"Sunday morning primary; many have Sunday evening and Wednesday services",serviceStructure:["Opening Prayer","Congregational Singing (a cappella in Churches of Christ)","Lord's Supper (weekly, central to service)","Offering","Scripture Reading and Preaching","Invitation and Closing Prayer"],musicStyle:"Churches of Christ: A cappella only (no instruments). Christian Churches: Often use instruments. Four-part harmony singing. Emphasis on congregational participation",dressExpectation:"Business casual to formal. Generally conservative and modest",communionDetails:"Weekly - every Sunday without exception. Central act of worship. Open to all Christians. Bread and grape juice distributed in pews or by coming forward",participation:"Active congregational singing. Weekly communion participation. Multiple men may lead prayers. Less clergy-centered than other traditions",uniqueElements:["Weekly communion (Lord's Supper) as central act","A cappella singing only (Churches of Christ - no instruments)","Multiple men lead different parts of service","Strong emphasis on New Testament pattern","Baptism by immersion for forgiveness of sins (essential)","No creeds - 'Bible only' approach","Elder-led (no single pastor in many congregations)"],firstTimeVisitor:"Simple, Bible-centered worship. Expect weekly communion (every Sunday). Churches of Christ have no instruments - only singing. Welcoming but theologically specific about baptism and church practices. Communion open to Christians. Preaching is central and Scripture-heavy."},nondenominational:{serviceName:"Worship Service / Sunday Celebration",typicalLength:"60-90 minutes",schedule:"Multiple Sunday services common (contemporary, traditional); midweek small groups",serviceStructure:["Welcome and Announcements","Extended Worship Set (20-30 minutes of contemporary music)","Offering","Sermon / Teaching (practical, application-focused)","Response / Prayer Time","Dismissal"],musicStyle:"Predominantly contemporary worship with full band (drums, guitars, keys). Hillsong/Bethel style common. Professional sound and lighting. Very polished production",dressExpectation:"Casual - jeans and t-shirts common and encouraged. 'Come as you are' philosophy",communionDetails:"Monthly or less frequent. Open to all believers. Often served in seats or stations. Not central focus",participation:"Hands raised during worship common but optional. Casual and relaxed atmosphere. Coffee often available during service",uniqueElements:["Contemporary, seeker-friendly approach","High production value (lights, screens, graphics)","Practical, life-application preaching","Small groups emphasized over Sunday service","Minimal religious symbols or tradition","Often meets in renovated warehouses, schools, or theaters","Very accessible to unchurched visitors"],firstTimeVisitor:"Most accessible for newcomers. Casual dress, contemporary music, relevant teaching. Often feels more like a concert than traditional church. No pressure, very welcoming. Coffee usually available. Expect screens, lights, and modern worship band. Perfect for those unfamiliar with church."}};return(0,Jt.jsxs)("div",{className:"w-full min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100",children:[(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-16 px-4",children:(0,Jt.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Jt.jsx)("h1",{className:"text-4xl md:text-5xl font-black mb-3",children:"bible"===n?"Bible Timeline":"Church Timeline"}),(0,Jt.jsx)("p",{className:"text-lg md:text-xl text-blue-100 max-w-3xl",children:"A modern, coherent look\u2014same rich content and interactions."})]})}),(0,Jt.jsxs)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-8 sm:py-12",children:[(0,Jt.jsx)("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-4 mb-8 shadow",children:(0,Jt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Jt.jsxs)("button",{onClick:()=>r&&r("explorer"),className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl border-2 border-slate-200 text-slate-700 hover:bg-slate-50 transition","aria-label":"Back to Explore",children:[(0,Jt.jsx)("span",{className:"-ml-1",children:"\u2190"}),(0,Jt.jsx)("span",{children:"Back to Explore"})]}),(0,Jt.jsx)("span",{className:"text-sm font-semibold text-slate-500",children:"bible"===n?"Bible Timeline":"Church Timeline"})]})}),(!n||"church"===n)&&(0,Jt.jsxs)("div",{className:"relative bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-6 sm:p-10 mb-8 sm:mb-16 border-2 border-slate-200",children:[(0,Jt.jsxs)("div",{className:"text-center mb-8 sm:mb-12",children:[(0,Jt.jsx)("h2",{className:"text-3xl sm:text-4xl font-black text-slate-900 mb-2",children:"A Contested History"}),(0,Jt.jsx)("p",{className:"text-sm sm:text-base text-slate-600",children:"Each claims authentic continuity\u2014but define it differently"})]}),(0,Jt.jsxs)("div",{className:"max-w-3xl mx-auto relative",children:[(0,Jt.jsx)("div",{className:"relative mb-8",children:(0,Jt.jsxs)("div",{className:"flex gap-4 items-start",children:[(0,Jt.jsxs)("div",{className:"w-20 text-right pt-4",children:[(0,Jt.jsx)("div",{className:"text-2xl font-bold text-amber-800",children:"33"}),(0,Jt.jsx)("div",{className:"text-xs text-slate-500 font-semibold",children:"AD"})]}),(0,Jt.jsxs)("button",{onClick:()=>c(!0),className:"flex-1 bg-gradient-to-br from-amber-100 to-amber-50 border-2 border-amber-400 rounded-xl p-4 sm:p-5 relative shadow-md hover:shadow-xl transition-all hover:-translate-y-0.5 text-left",children:[(0,Jt.jsx)("div",{className:"absolute -left-2 top-5 w-4 h-4 bg-amber-600 rounded-full border-2 border-white"}),(0,Jt.jsx)("h3",{className:"text-lg sm:text-xl font-serif text-amber-900 mb-1",children:"Apostolic Church"}),(0,Jt.jsx)("p",{className:"text-sm text-amber-800 mb-3",children:"All traditions claim this root\u2014click to see how"}),(0,Jt.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs font-medium",children:[(0,Jt.jsx)("span",{className:"bg-amber-200 text-amber-900 px-2.5 py-1 rounded-lg",children:"Institutional"}),(0,Jt.jsx)("span",{className:"bg-amber-200 text-amber-900 px-2.5 py-1 rounded-lg",children:"Liturgical"}),(0,Jt.jsx)("span",{className:"bg-amber-200 text-amber-900 px-2.5 py-1 rounded-lg",children:"Doctrinal"})]})]})]})}),(0,Jt.jsx)("div",{className:"flex ml-20 mb-8",children:(0,Jt.jsx)("div",{className:"w-1 h-10 bg-gradient-to-b from-amber-400 to-red-300 relative",children:(0,Jt.jsx)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-white text-amber-700 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold border-2 border-amber-400 shadow-sm",children:"?"})})}),(0,Jt.jsx)("div",{className:"relative mb-8",children:(0,Jt.jsxs)("div",{className:"flex gap-4 items-start",children:[(0,Jt.jsx)("div",{className:"w-20 text-right pt-4",children:(0,Jt.jsx)("div",{className:"text-2xl font-bold text-slate-700",children:"1054"})}),(0,Jt.jsxs)("div",{className:"flex-1",children:[(0,Jt.jsxs)("button",{onClick:()=>u(!0),className:"w-full bg-red-50 border-2 border-red-300 rounded-xl p-3 mb-3 relative hover:shadow-lg transition-all hover:-translate-y-0.5 cursor-pointer text-left",children:[(0,Jt.jsx)("div",{className:"absolute -left-2 top-1/2 -translate-y-1/2 w-4 h-4 bg-red-500 rounded-full border-2 border-white animate-pulse"}),(0,Jt.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Jt.jsx)(qt,{className:"w-4 h-4 text-red-600"}),(0,Jt.jsx)("span",{className:"font-bold text-red-900 text-sm",children:"Great Schism"}),(0,Jt.jsx)("span",{className:"text-xs text-red-700",children:"Real break or formalization?"})]})]}),(0,Jt.jsxs)("div",{className:"grid sm:grid-cols-2 gap-2.5",children:[(0,Jt.jsxs)("div",{className:"relative",children:[(0,Jt.jsxs)("button",{onClick:()=>s("catholic"),className:"w-full p-3 rounded-xl border-2 bg-white hover:shadow-xl transition-all hover:-translate-y-0.5 text-left",style:{borderColor:A.catholic.color},children:[(0,Jt.jsx)("div",{className:"font-serif text-base text-slate-900 mb-0.5",children:"Catholic"}),(0,Jt.jsx)("div",{className:"text-xs text-slate-600",children:"1.3B \u2022 Papal authority"})]}),(0,Jt.jsx)("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-0.5 h-6 bg-gradient-to-b from-amber-400 to-orange-400 sm:block hidden"})]}),(0,Jt.jsxs)("button",{onClick:()=>s("orthodox"),className:"p-3 rounded-xl border-2 bg-white hover:shadow-xl transition-all hover:-translate-y-0.5 text-left",style:{borderColor:A.orthodox.color},children:[(0,Jt.jsx)("div",{className:"font-serif text-base text-slate-900 mb-0.5",children:"Orthodox"}),(0,Jt.jsx)("div",{className:"text-xs text-slate-600",children:"220M \u2022 Conciliar unity"}),(0,Jt.jsx)("div",{className:"text-xs text-slate-400 italic mt-1",children:"Continues separately"})]})]})]})]})}),(0,Jt.jsx)("div",{className:"flex ml-20 mb-8",children:(0,Jt.jsx)("div",{className:"w-1 h-10 bg-gradient-to-b from-amber-400 to-orange-400 relative ml-[calc(50%-2px)] sm:ml-0",children:(0,Jt.jsx)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-orange-50 text-orange-700 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold border-2 border-orange-400 shadow-sm",children:"\u2192"})})}),(0,Jt.jsx)("div",{className:"relative mb-8",children:(0,Jt.jsxs)("div",{className:"flex gap-4 items-start",children:[(0,Jt.jsx)("div",{className:"w-20 text-right pt-4",children:(0,Jt.jsx)("div",{className:"text-2xl font-bold text-slate-700",children:"1517"})}),(0,Jt.jsxs)("div",{className:"flex-1",children:[(0,Jt.jsxs)("button",{onClick:()=>m(!0),className:"w-full bg-orange-50 border-2 border-orange-300 rounded-xl p-3 mb-3 relative hover:shadow-lg transition-all hover:-translate-y-0.5 cursor-pointer text-left",children:[(0,Jt.jsx)("div",{className:"absolute -left-2 top-1/2 -translate-y-1/2 w-4 h-4 bg-orange-500 rounded-full border-2 border-white animate-pulse"}),(0,Jt.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Jt.jsx)(qt,{className:"w-4 h-4 text-orange-600"}),(0,Jt.jsx)("span",{className:"font-bold text-orange-900 text-sm",children:"Protestant Reformation"}),(0,Jt.jsx)("span",{className:"text-xs text-orange-700",children:"From Catholicism"})]}),(0,Jt.jsx)("p",{className:"text-xs text-orange-800",children:"Luther challenges Catholic practices \u2022 Reformed from within the Western church"})]}),(0,Jt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:["lutheran","reformed","anglican","anabaptist"].map(e=>(0,Jt.jsxs)("button",{onClick:()=>s(e),className:"p-2.5 rounded-lg border-2 bg-white hover:shadow-lg transition-all hover:-translate-y-0.5",style:{borderColor:A[e].color},children:[(0,Jt.jsx)("div",{className:"font-serif text-sm text-slate-900",children:A[e].name}),(0,Jt.jsx)("div",{className:"text-xs text-slate-500",children:A[e].year})]},e))})]})]})}),(0,Jt.jsx)("div",{className:"flex ml-20 mb-8",children:(0,Jt.jsx)("div",{className:"w-1 h-10 bg-gradient-to-b from-orange-300 to-blue-300"})}),(0,Jt.jsx)("div",{className:"relative mb-8",children:(0,Jt.jsxs)("div",{className:"flex gap-4 items-start",children:[(0,Jt.jsxs)("div",{className:"w-20 text-right pt-4",children:[(0,Jt.jsx)("div",{className:"text-base font-bold text-slate-700",children:"1600s\u2013"}),(0,Jt.jsx)("div",{className:"text-base font-bold text-slate-700",children:"1800s"})]}),(0,Jt.jsxs)("div",{className:"flex-1",children:[(0,Jt.jsxs)("button",{onClick:()=>f(!0),className:"w-full bg-blue-50 border-2 border-blue-300 rounded-xl p-3 mb-3 relative hover:shadow-lg transition-all hover:-translate-y-0.5 cursor-pointer text-left",children:[(0,Jt.jsx)("div",{className:"absolute -left-2 top-1/2 -translate-y-1/2 w-4 h-4 bg-blue-500 rounded-full border-2 border-white"}),(0,Jt.jsx)("span",{className:"font-bold text-blue-900 text-sm",children:"Revival & Restoration"}),(0,Jt.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:"After the devastating Thirty Years' War (1618-1648), new movements sought spiritual renewal"})]}),(0,Jt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:["baptist","methodist","restorationist","holiness"].map(e=>(0,Jt.jsxs)("button",{onClick:()=>s(e),className:"p-2.5 rounded-lg border-2 bg-white hover:shadow-lg transition-all hover:-translate-y-0.5",style:{borderColor:A[e].color},children:[(0,Jt.jsx)("div",{className:"font-serif text-sm text-slate-900",children:A[e].name}),(0,Jt.jsx)("div",{className:"text-xs text-slate-500",children:A[e].year})]},e))})]})]})}),(0,Jt.jsx)("div",{className:"flex ml-20 mb-8",children:(0,Jt.jsx)("div",{className:"w-1 h-10 bg-gradient-to-b from-blue-300 to-purple-300"})}),(0,Jt.jsx)("div",{className:"relative mb-6",children:(0,Jt.jsxs)("div",{className:"flex gap-4 items-start",children:[(0,Jt.jsxs)("div",{className:"w-20 text-right pt-4",children:[(0,Jt.jsx)("div",{className:"text-base font-bold text-slate-700",children:"1900s\u2013"}),(0,Jt.jsx)("div",{className:"text-base font-bold text-slate-700",children:"Today"})]}),(0,Jt.jsxs)("div",{className:"flex-1",children:[(0,Jt.jsxs)("button",{onClick:()=>y(!0),className:"w-full bg-purple-50 border-2 border-purple-300 rounded-xl p-3 mb-3 relative hover:shadow-lg transition-all hover:-translate-y-0.5 cursor-pointer text-left",children:[(0,Jt.jsx)("div",{className:"absolute -left-2 top-1/2 -translate-y-1/2 w-4 h-4 bg-purple-500 rounded-full border-2 border-white"}),(0,Jt.jsx)("span",{className:"font-bold text-purple-900 text-sm",children:"Spirit & Post-Denominational"})]}),(0,Jt.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["pentecostal","nondenominational"].map(e=>(0,Jt.jsxs)("button",{onClick:()=>s(e),className:"p-2.5 rounded-lg border-2 bg-white hover:shadow-lg transition-all hover:-translate-y-0.5",style:{borderColor:A[e].color},children:[(0,Jt.jsx)("div",{className:"font-serif text-sm text-slate-900",children:A[e].name}),(0,Jt.jsx)("div",{className:"text-xs text-slate-500",children:A[e].year})]},e))})]})]})}),(0,Jt.jsxs)("div",{className:"mt-10 flex items-center justify-center gap-2 text-sm text-slate-600",children:[(0,Jt.jsx)(qt,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{children:"Click any tradition to explore their perspective"})]})]})]}),(!n||"bible"===n)&&(0,Jt.jsxs)("div",{className:"relative bg-gradient-to-b from-white to-blue-50 rounded-2xl sm:rounded-3xl shadow-2xl p-6 sm:p-10 mb-8 sm:mb-16 border border-blue-200",children:[(0,Jt.jsxs)("div",{className:"text-center mb-6",children:[(0,Jt.jsx)("div",{className:"inline-block mb-4",children:(0,Jt.jsx)(Wt,{className:"w-10 h-10 sm:w-12 sm:h-12 text-blue-700 mx-auto"})}),(0,Jt.jsx)("h2",{className:"text-2xl sm:text-4xl font-serif text-slate-900 mb-2",children:"How the Bible Was Compiled"}),(0,Jt.jsx)("p",{className:"text-sm sm:text-base text-slate-600 mb-4",children:"Understanding biblical canonization helps explain denominational differences"}),(0,Jt.jsx)("button",{onClick:()=>x(!b),className:"bg-blue-600 text-white px-6 py-2.5 rounded-full hover:bg-blue-700 transition-colors text-sm font-medium shadow-md hover:shadow-lg",children:b?"Hide Timeline":"Explore the Process"})]}),b&&(0,Jt.jsxs)("div",{className:"max-w-4xl mx-auto mt-8 space-y-8",children:[(0,Jt.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-blue-100",children:[(0,Jt.jsxs)("h3",{className:"text-xl sm:text-2xl font-serif text-slate-900 mb-4 flex items-center gap-2",children:[(0,Jt.jsx)(Ut,{className:"w-5 h-5 text-blue-600"}),"When the Books Were Written"]}),(0,Jt.jsx)("div",{className:"space-y-4",children:E.writing.map((e,t)=>(0,Jt.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4 py-2",children:[(0,Jt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-1",children:[(0,Jt.jsx)("span",{className:"text-lg font-bold text-blue-900",children:e.period}),(0,Jt.jsx)("span",{className:"text-sm font-semibold text-slate-700",children:e.books})]}),(0,Jt.jsx)("p",{className:"text-sm text-slate-600 mb-1",children:e.details}),(0,Jt.jsx)("p",{className:"text-xs text-slate-500 italic",children:e.note})]},t))})]}),(0,Jt.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-blue-100",children:[(0,Jt.jsx)("h3",{className:"text-xl sm:text-2xl font-serif text-slate-900 mb-4",children:"The Canonization Timeline"}),(0,Jt.jsx)("p",{className:"text-sm text-slate-600 mb-6",children:'The process of determining which books were "canonical" (authoritative Scripture) took centuries and involved debate, councils, and regional differences.'}),(0,Jt.jsx)("div",{className:"relative pl-10 border-l-2 border-blue-400 ml-4",children:E.canonization.map((e,t)=>(0,Jt.jsx)("div",{className:"mb-6 relative",children:(0,Jt.jsxs)("div",{children:[(0,Jt.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[(0,Jt.jsx)("span",{className:"font-semibold text-slate-900 text-sm",children:e.year}),e.contested&&(0,Jt.jsx)("button",{onClick:t=>{t.stopPropagation(),o(e)},className:"text-xs bg-amber-100 text-amber-800 px-2 py-0.5 rounded-full border border-amber-300 hover:bg-amber-200 transition-colors cursor-pointer",children:"\u26a0\ufe0f Debated"})]}),(0,Jt.jsx)("div",{className:"text-base font-serif text-slate-900 mb-1",children:e.event}),(0,Jt.jsx)("div",{className:"text-sm text-slate-600",children:e.details})]})},t))})]}),(0,Jt.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-xl p-6 shadow-lg border border-blue-200",children:[(0,Jt.jsx)("h3",{className:"text-xl font-serif text-slate-900 mb-4",children:"How Books Were Judged Canonical"}),(0,Jt.jsx)("p",{className:"text-sm text-slate-600 mb-4",children:"Early Christians used several criteria to determine which books belonged in Scripture:"}),(0,Jt.jsx)("div",{className:"grid sm:grid-cols-2 gap-4",children:E.criteria.map((e,t)=>(0,Jt.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[(0,Jt.jsxs)("h4",{className:"font-bold text-slate-900 mb-1 flex items-center gap-2",children:[(0,Jt.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-600"}),e.criterion]}),(0,Jt.jsx)("p",{className:"text-sm text-slate-600",children:e.description})]},t))})]}),(0,Jt.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-blue-100",children:[(0,Jt.jsxs)("h3",{className:"text-xl sm:text-2xl font-serif text-slate-900 mb-4 flex items-center gap-2",children:[(0,Jt.jsx)(qt,{className:"w-5 h-5 text-amber-600"}),"Why Different Traditions Have Different Bibles"]}),(0,Jt.jsx)("p",{className:"text-sm text-slate-600 mb-6",children:"The Protestant Reformation reignited debates about the Old Testament canon. Here's what each tradition accepts:"}),(0,Jt.jsx)("div",{className:"space-y-4",children:E.canons.map((e,t)=>(0,Jt.jsxs)("div",{className:"border-2 rounded-xl p-4 hover:shadow-md transition-shadow",style:{borderColor:"Protestant"===e.tradition?"#3b82f6":"Catholic"===e.tradition?"#d4af37":"Orthodox"===e.tradition?"#8b5cf6":"#65a30d"},children:[(0,Jt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-2",children:[(0,Jt.jsx)("h4",{className:"font-bold text-lg text-slate-900",children:e.tradition}),(0,Jt.jsxs)("span",{className:"text-2xl font-bold",style:{color:"Protestant"===e.tradition?"#3b82f6":"Catholic"===e.tradition?"#d4af37":"Orthodox"===e.tradition?"#8b5cf6":"#65a30d"},children:[e.books," ","number"===typeof e.books?"books":""]})]}),(0,Jt.jsx)("p",{className:"text-sm text-slate-700 mb-2",children:e.details}),(0,Jt.jsxs)("div",{className:"text-xs text-slate-600 bg-slate-50 px-3 py-2 rounded border-l-2",style:{borderColor:"Protestant"===e.tradition?"#3b82f6":"Catholic"===e.tradition?"#d4af37":"Orthodox"===e.tradition?"#8b5cf6":"#65a30d"},children:[(0,Jt.jsx)("strong",{children:"Rationale:"})," ",e.rationale]})]},t))})]}),(0,Jt.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-6 border-2 border-amber-300",children:[(0,Jt.jsxs)("h3",{className:"text-lg font-serif text-slate-900 mb-3 flex items-center gap-2",children:[(0,Jt.jsx)(qt,{className:"w-5 h-5 text-amber-700"}),"Why This Matters for Understanding Denominations"]}),(0,Jt.jsxs)("div",{className:"text-sm text-slate-700 space-y-2",children:[(0,Jt.jsxs)("p",{children:[(0,Jt.jsx)("strong",{children:"Catholics and Orthodox"})," argue that the Church (guided by the Holy Spirit through councils and tradition) determined the canon. The Bible came from the Church."]}),(0,Jt.jsxs)("p",{children:[(0,Jt.jsx)("strong",{children:"Protestants"})," argue that the Bible's authority is self-evident and precedes church authority. They returned to the Hebrew Bible canon, rejecting books only in Greek."]}),(0,Jt.jsxs)("p",{className:"pt-2 border-t border-amber-200",children:["This disagreement reflects the deeper question: ",(0,Jt.jsx)("em",{children:"Does the Church define Scripture, or does Scripture define the Church?"})," This philosophical difference underlies many denominational divisions."]})]})]})]})]}),(!n||"church"===n)&&(0,Jt.jsxs)(Jt.Fragment,{children:[i&&(0,Jt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50 overflow-auto p-2 sm:p-4",onClick:()=>s(null),children:(0,Jt.jsxs)("div",{className:"max-w-5xl mx-auto my-4 sm:my-8 bg-white rounded-xl sm:rounded-2xl shadow-2xl overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,Jt.jsxs)("div",{className:"p-4 sm:p-8 text-white relative",style:{backgroundColor:A[i].color},children:[(0,Jt.jsx)("button",{onClick:()=>s(null),className:"absolute top-2 right-2 sm:top-4 sm:right-4 text-white text-2xl sm:text-3xl font-bold hover:opacity-80 transition-opacity",children:"\xd7"}),(0,Jt.jsx)("h2",{className:"text-2xl sm:text-4xl font-serif mb-2 pr-8",children:A[i].fullName}),(0,Jt.jsxs)("div",{className:"flex gap-2 sm:gap-4 text-xs sm:text-sm opacity-90",children:[(0,Jt.jsxs)("span",{children:["Founded ",A[i].year]}),(0,Jt.jsxs)("span",{children:[A[i].members," members"]})]})]}),(0,Jt.jsxs)("div",{className:"p-4 sm:p-8 max-h-[70vh] overflow-y-auto",children:[(0,Jt.jsx)("p",{className:"text-sm sm:text-base text-slate-700 mb-6",children:A[i].description}),(0,Jt.jsx)("h3",{className:"text-lg sm:text-xl font-serif text-slate-900 mb-3",children:"Core Beliefs"}),(0,Jt.jsx)("ul",{className:"space-y-2 mb-6",children:A[i].beliefs.map((e,t)=>(0,Jt.jsxs)("li",{className:"flex gap-2",children:[(0,Jt.jsx)("div",{className:"w-2 h-2 rounded-full mt-2 flex-shrink-0",style:{backgroundColor:A[i].color}}),(0,Jt.jsx)("span",{className:"text-sm text-slate-700",children:e})]},t))}),(0,Jt.jsx)("h3",{className:"text-lg sm:text-xl font-serif text-slate-900 mb-3",children:"Key Figures"}),(0,Jt.jsx)("ul",{className:"space-y-2 mb-6",children:A[i].keyFigures.map((e,t)=>(0,Jt.jsxs)("li",{className:"flex gap-2",children:[(0,Jt.jsx)("div",{className:"w-2 h-2 rounded-full mt-2 flex-shrink-0",style:{backgroundColor:A[i].color}}),(0,Jt.jsx)("span",{className:"text-sm text-slate-700",children:e})]},t))}),(0,Jt.jsx)("h3",{className:"text-lg sm:text-xl font-serif text-slate-900 mb-2",children:"Geography"}),(0,Jt.jsx)("p",{className:"text-sm text-slate-700 mb-4",children:A[i].geography}),A[i].geographicDistribution&&(0,Jt.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200 mb-6",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Jt.jsx)(Vt,{className:"w-4 h-4 text-slate-600"}),(0,Jt.jsx)("h4",{className:"text-sm sm:text-base font-semibold text-slate-800",children:"Regional Distribution"})]}),(0,Jt.jsx)("div",{className:"space-y-3",children:A[i].geographicDistribution.map((e,t)=>{const n={"rapid-growth":"bg-emerald-500",growing:"bg-green-500",stable:"bg-blue-500",declining:"bg-orange-500"};return(0,Jt.jsxs)("div",{className:"space-y-1",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between text-xs sm:text-sm",children:[(0,Jt.jsx)("span",{className:"text-slate-700 font-medium",children:e.region}),(0,Jt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jt.jsx)("span",{className:"px-2 py-0.5 rounded text-xs text-white ".concat(n[e.trend]),children:{"rapid-growth":"Rapid Growth",growing:"Growing",stable:"Stable",declining:"Declining"}[e.trend]}),(0,Jt.jsx)("span",{className:"text-slate-600",children:e.percentage})]})]}),(0,Jt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Jt.jsx)("div",{className:"h-2 rounded-full ".concat(n[e.trend]),style:{width:e.percentage}})}),(0,Jt.jsx)("p",{className:"text-xs text-slate-600",children:e.explanation})]},t)})})]}),(0,Jt.jsxs)("div",{className:"bg-amber-50 rounded-xl p-4 border border-amber-200 mb-6",children:[(0,Jt.jsxs)("h3",{className:"text-lg font-serif text-slate-900 mb-3 flex items-center gap-2",children:[(0,Jt.jsx)(qt,{className:"w-4 h-4 text-amber-600"}),"Points of Debate"]}),(0,Jt.jsx)("ul",{className:"space-y-2",children:A[i].debates.map((e,t)=>(0,Jt.jsxs)("li",{className:"flex gap-2",children:[(0,Jt.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-600 mt-1.5 flex-shrink-0"}),(0,Jt.jsx)("span",{className:"text-sm text-slate-700",children:e})]},t))})]}),(0,Jt.jsx)("h3",{className:"text-xl font-serif text-slate-900 mb-4",children:"Historical Timeline"}),(0,Jt.jsx)("div",{className:"relative pl-6 border-l-2 mb-6",style:{borderColor:A[i].color},children:A[i].timeline.map((e,t)=>(0,Jt.jsxs)("div",{className:"mb-6 relative",children:[(0,Jt.jsx)("div",{className:"absolute -left-7 top-0 w-3 h-3 rounded-full border-2 bg-white",style:{borderColor:A[i].color}}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Jt.jsx)("span",{className:"font-semibold text-slate-900 text-sm",children:e.year}),e.contested&&(0,Jt.jsx)("button",{onClick:t=>{t.stopPropagation(),o(e)},className:"text-xs bg-amber-100 text-amber-800 px-2 py-0.5 rounded-full hover:bg-amber-200 border border-amber-300",children:"\u26a0\ufe0f Contested"})]}),(0,Jt.jsx)("div",{className:"text-base font-serif text-slate-900 mb-1",children:e.event}),(0,Jt.jsx)("div",{className:"text-sm text-slate-600",children:e.details})]})]},t))}),(0,Jt.jsxs)("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200",children:[(0,Jt.jsxs)("h3",{className:"text-lg font-serif text-slate-900 mb-3 flex items-center gap-2",children:[(0,Jt.jsx)(Ht,{className:"w-4 h-4",style:{color:A[i].color}}),"Resources"]}),(0,Jt.jsx)("div",{className:"space-y-2",children:A[i].sources.map((e,t)=>(0,Jt.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-slate-700 hover:text-slate-900 text-sm group",children:[(0,Jt.jsx)(Ht,{className:"w-3 h-3 text-slate-400 group-hover:text-slate-600"}),(0,Jt.jsx)("span",{className:"group-hover:underline",children:e.title})]},t))})]})]})]})}),a&&(0,Jt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-start sm:items-center justify-center p-2 sm:p-4 z-50 overflow-y-auto",onClick:()=>o(null),children:(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-2xl my-4 flex flex-col max-h-[95vh]",onClick:e=>e.stopPropagation(),children:[(0,Jt.jsx)("div",{className:"p-4 sm:p-6 flex-shrink-0 border-b border-slate-200",children:(0,Jt.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Jt.jsxs)("div",{children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Jt.jsx)(qt,{className:"w-5 h-5 text-amber-600"}),(0,Jt.jsx)("h3",{className:"text-lg sm:text-xl font-serif text-slate-900",children:"Contested Event"})]}),(0,Jt.jsxs)("div",{className:"text-xs sm:text-sm text-slate-500",children:[a.year," \u2022 ",a.event]})]}),(0,Jt.jsx)("button",{onClick:()=>o(null),className:"text-slate-400 hover:text-slate-600 text-2xl font-bold flex-shrink-0",children:"\xd7"})]})}),(0,Jt.jsxs)("div",{className:"p-4 sm:p-6 overflow-y-auto flex-1",children:[(0,Jt.jsx)("div",{className:"bg-amber-50 border-l-4 border-amber-500 p-3 sm:p-4 rounded",children:(0,Jt.jsx)("p",{className:"text-xs sm:text-sm text-slate-700 leading-relaxed",children:a.contention})}),(0,Jt.jsx)("div",{className:"mt-4 text-xs text-slate-500 italic",children:"This represents ongoing scholarly and theological debate."})]})]})}),l&&(0,Jt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 overflow-y-auto",onClick:()=>c(!1),children:(0,Jt.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full shadow-2xl my-8",onClick:e=>e.stopPropagation(),children:[(0,Jt.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-amber-600 to-amber-700 text-white p-6 flex justify-between items-center z-10 rounded-t-2xl",children:[(0,Jt.jsx)("h3",{className:"text-2xl font-serif",children:"The Apostolic Foundation (33-313 AD)"}),(0,Jt.jsx)("button",{onClick:()=>c(!1),className:"text-white hover:text-amber-200 transition-colors text-3xl font-bold",children:"\xd7"})]}),(0,Jt.jsxs)("div",{className:"p-6 max-h-[70vh] overflow-y-auto space-y-6",children:[(0,Jt.jsx)("p",{className:"text-slate-700 leading-relaxed",children:"Christianity emerged from an apocalyptic Jewish messianic sect following Jesus's crucifixion around 33 CE. The Jerusalem church under James the Just, Peter, and John initially maintained Jewish observances while believing Jesus's resurrection signaled imminent end times."}),(0,Jt.jsxs)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded",children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-2",children:"Paul's Transformation"}),(0,Jt.jsxs)("p",{className:"text-slate-700 text-sm leading-relaxed",children:[(0,Jt.jsx)("strong",{children:"Paul of Tarsus fundamentally transformed this movement by opening it to Gentiles."})," The Council of Jerusalem (c. 50 CE) determined that non-Jewish converts need not follow Mosaic law\u2014a decision that enabled Christianity to transcend its ethnic origins and become a universal religion."]})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:"Apostolic Succession"}),(0,Jt.jsx)("p",{className:"text-slate-700 text-sm leading-relaxed mb-3",children:"By the second century, a three-fold ministry emerged: bishops (episkopos), presbyters, and deacons. The Apostolic Fathers\u2014Clement of Rome, Ignatius of Antioch, Polycarp\u2014established the doctrine of apostolic succession to ensure legitimate authority."}),(0,Jt.jsx)("p",{className:"text-slate-700 text-sm italic",children:'Ignatius of Antioch advocated that "all are to respect the deacons as Jesus Christ and the bishop as a copy of the Father."'})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:"Seven Ecumenical Councils"}),(0,Jt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Jt.jsxs)("div",{className:"bg-slate-50 p-3 rounded",children:[(0,Jt.jsx)("strong",{children:"Nicaea (325):"}),' Condemned Arianism, affirmed Christ as "homoousios" (same substance) with the Father']}),(0,Jt.jsxs)("div",{className:"bg-slate-50 p-3 rounded",children:[(0,Jt.jsx)("strong",{children:"Constantinople (381):"})," Affirmed the Holy Spirit's divinity"]}),(0,Jt.jsxs)("div",{className:"bg-slate-50 p-3 rounded",children:[(0,Jt.jsx)("strong",{children:"Ephesus (431):"})," Proclaimed Mary as Theotokos (God-bearer)"]}),(0,Jt.jsxs)("div",{className:"bg-slate-50 p-3 rounded",children:[(0,Jt.jsx)("strong",{children:"Chalcedon (451):"})," Defined Christ as having two natures\u2014fully divine and fully human"]})]})]}),(0,Jt.jsxs)("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-lg p-4",children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:"How Traditions Define Apostolic Continuity"}),(0,Jt.jsxs)("div",{className:"space-y-3",children:[(0,Jt.jsxs)("div",{className:"border-l-4 border-amber-600 pl-3",children:[(0,Jt.jsx)("strong",{className:"text-amber-900",children:"Catholic:"}),(0,Jt.jsx)("p",{className:"text-slate-700 text-sm mt-1",children:"Institutional succession through papal primacy and unbroken chain of bishops from Peter"})]}),(0,Jt.jsxs)("div",{className:"border-l-4 border-purple-600 pl-3",children:[(0,Jt.jsx)("strong",{className:"text-purple-900",children:"Orthodox:"}),(0,Jt.jsx)("p",{className:"text-slate-700 text-sm mt-1",children:"Liturgical and conciliar continuity, preserving ancient worship unchanged"})]}),(0,Jt.jsxs)("div",{className:"border-l-4 border-blue-600 pl-3",children:[(0,Jt.jsx)("strong",{className:"text-blue-900",children:"Protestant:"}),(0,Jt.jsx)("p",{className:"text-slate-700 text-sm mt-1",children:"Doctrinal continuity\u2014recovering authentic biblical teaching obscured by medieval accretions"})]})]})]})]})]})})}),d&&(0,Jt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 overflow-y-auto",onClick:()=>u(!1),children:(0,Jt.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full shadow-2xl my-8",onClick:e=>e.stopPropagation(),children:[(0,Jt.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-red-600 to-red-700 text-white p-6 flex justify-between items-center z-10 rounded-t-2xl",children:[(0,Jt.jsx)("h3",{className:"text-2xl font-serif",children:"The Great Schism of 1054"}),(0,Jt.jsx)("button",{onClick:()=>u(!1),className:"text-white hover:text-red-200 transition-colors text-3xl font-bold",children:"\xd7"})]}),(0,Jt.jsxs)("div",{className:"p-6 max-h-[70vh] overflow-y-auto space-y-6",children:[(0,Jt.jsx)("p",{className:"text-slate-700 leading-relaxed",children:"Political, linguistic, and theological tensions accumulated for centuries before the formal rupture. The division of the Roman Empire in 395 created divergent contexts: Byzantine caesaropapism versus Western papal independence."}),(0,Jt.jsxs)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:[(0,Jt.jsx)("h4",{className:"font-bold text-red-900 mb-2",children:"The Events of July 1054"}),(0,Jt.jsx)("p",{className:"text-slate-700 text-sm leading-relaxed",children:"The schism was almost accidental. Pope Leo IX died April 19, 1054 during negotiations, technically voiding his legates' authority. Nevertheless, Cardinal Humbert placed a bull of excommunication on Hagia Sophia's altar July 16, 1054. Patriarch Michael Cerularius responded by excommunicating Humbert and the legates\u2014not the pope or entire Western Church. Contemporary sources suggest ordinary Christians remained largely unaware; the schism only gradually hardened."})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:"The Filioque Controversy"}),(0,Jt.jsx)("p",{className:"text-slate-700 text-sm leading-relaxed",children:'The Western Church added "and the Son" (filioque) to the Nicene Creed\u2014first in Spain (589), officially adopted in Rome (1014)\u2014teaching that the Holy Spirit proceeds from both Father and Son. The East condemned this as unauthorized alteration of conciliar decree and theological error.'})]}),(0,Jt.jsxs)("div",{className:"bg-slate-100 rounded-lg p-4",children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-2",children:"The Fourth Crusade (1204): Point of No Return"}),(0,Jt.jsxs)("p",{className:"text-slate-700 text-sm leading-relaxed",children:[(0,Jt.jsx)("strong",{children:"The Fourth Crusade's sack of Constantinople in 1204 made reconciliation impossible."})," Crusaders brutally pillaged the city for three days, destroying churches, stealing relics, and establishing a Latin Empire (1204-1261). Byzantine historian Nicetas Choniates contrasted Saladin's mercy in Jerusalem with Crusaders' brutality toward fellow Christians. The Orthodox still view this as the West's ultimate betrayal."]})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:"Competing Perspectives"}),(0,Jt.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Jt.jsxs)("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200",children:[(0,Jt.jsx)("h5",{className:"font-bold text-amber-900 mb-2",children:"Catholic View"}),(0,Jt.jsxs)("ul",{className:"text-sm text-slate-700 space-y-1",children:[(0,Jt.jsx)("li",{children:"\u2022 Papal primacy divinely instituted (Matthew 16:18)"}),(0,Jt.jsx)("li",{children:"\u2022 Filioque was legitimate theological clarification"}),(0,Jt.jsx)("li",{children:"\u2022 Rome maintained fullness of apostolic faith"}),(0,Jt.jsx)("li",{children:"\u2022 East rejected legitimate development of doctrine"})]})]}),(0,Jt.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[(0,Jt.jsx)("h5",{className:"font-bold text-purple-900 mb-2",children:"Orthodox View"}),(0,Jt.jsxs)("ul",{className:"text-sm text-slate-700 space-y-1",children:[(0,Jt.jsx)("li",{children:"\u2022 Rome elevated Pope above ecumenical councils"}),(0,Jt.jsx)("li",{children:"\u2022 Filioque added without conciliar approval"}),(0,Jt.jsx)("li",{children:"\u2022 Unilateral Western change to ecumenical statement"}),(0,Jt.jsx)("li",{children:"\u2022 Rome gradually departed from conciliar governance"})]})]})]})]}),(0,Jt.jsx)("p",{className:"text-sm text-slate-500 italic",children:"The mutual excommunications were lifted in 1965, but fundamental ecclesiological disagreements remain."})]})]})})}),h&&(0,Jt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 overflow-y-auto",onClick:()=>m(!1),children:(0,Jt.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full shadow-2xl my-8",onClick:e=>e.stopPropagation(),children:[(0,Jt.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-orange-600 to-orange-700 text-white p-6 flex justify-between items-center z-10 rounded-t-2xl",children:[(0,Jt.jsx)("h3",{className:"text-2xl font-serif",children:"The Protestant Reformation (1517)"}),(0,Jt.jsx)("button",{onClick:()=>m(!1),className:"text-white hover:text-orange-200 transition-colors text-3xl font-bold",children:"\xd7"})]}),(0,Jt.jsxs)("div",{className:"p-6 max-h-[70vh] overflow-y-auto space-y-6",children:[(0,Jt.jsxs)("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 rounded",children:[(0,Jt.jsx)("h4",{className:"font-bold text-orange-900 mb-2",children:"October 31, 1517"}),(0,Jt.jsx)("p",{className:"text-slate-700 text-sm leading-relaxed",children:"Martin Luther posted his 95 Theses at Wittenberg Castle Church, initially intending academic debate about indulgences. The printing press enabled rapid dissemination across Europe. Excommunicated by Pope Leo X and declared outlaw by Emperor Charles V at the Diet of Worms (1521), Luther developed comprehensive theological reformation."})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:"Revolutionary Conditions by 1517"}),(0,Jt.jsxs)("div",{className:"bg-slate-100 rounded-lg p-4 space-y-2 text-sm",children:[(0,Jt.jsxs)("p",{children:[(0,Jt.jsx)("strong",{children:"Simony:"})," Buying and selling church offices was rampant"]}),(0,Jt.jsxs)("p",{children:[(0,Jt.jsx)("strong",{children:"Clerical corruption:"})," Concubinage, pluralism (holding multiple offices), absenteeism"]}),(0,Jt.jsxs)("p",{children:[(0,Jt.jsx)("strong",{children:"Indulgence sales:"}),' Johann Tetzel famously preached "When a coin in the coffer rings, a soul from purgatory springs"']}),(0,Jt.jsxs)("p",{children:[(0,Jt.jsx)("strong",{children:"Papal excess:"})," Renaissance popes like Alexander VI (Rodrigo Borgia, 1492-1503) openly acknowledged illegitimate children"]}),(0,Jt.jsxs)("p",{children:[(0,Jt.jsx)("strong",{children:"Church wealth:"})," The church owned approximately one-third of European land"]})]})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:"The Five Solas"}),(0,Jt.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,Jt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[(0,Jt.jsx)("strong",{className:"text-blue-900",children:"Sola Scriptura"}),(0,Jt.jsx)("p",{className:"text-sm text-slate-700 mt-1",children:"Scripture alone as authority"})]}),(0,Jt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[(0,Jt.jsx)("strong",{className:"text-blue-900",children:"Sola Fide"}),(0,Jt.jsx)("p",{className:"text-sm text-slate-700 mt-1",children:"Justification by faith alone"})]}),(0,Jt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[(0,Jt.jsx)("strong",{className:"text-blue-900",children:"Sola Gratia"}),(0,Jt.jsx)("p",{className:"text-sm text-slate-700 mt-1",children:"Salvation by grace alone"})]}),(0,Jt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[(0,Jt.jsx)("strong",{className:"text-blue-900",children:"Solus Christus"}),(0,Jt.jsx)("p",{className:"text-sm text-slate-700 mt-1",children:"Christ alone as mediator"})]}),(0,Jt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200 md:col-span-2",children:[(0,Jt.jsx)("strong",{className:"text-blue-900",children:"Soli Deo Gloria"}),(0,Jt.jsx)("p",{className:"text-sm text-slate-700 mt-1",children:"Glory to God alone"})]})]})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:"The Catholic Counter-Reformation"}),(0,Jt.jsx)("p",{className:"text-slate-700 text-sm leading-relaxed",children:"The Council of Trent (1545-1563) systematically responded to Protestant challenges: affirming justification by faith AND works, Scripture AND tradition as authoritative, seven sacraments, transubstantiation, purgatory, and veneration of saints. The Jesuits, founded by Ignatius of Loyola in 1540, became Catholicism's shock troops\u2014establishing schools, conducting global missions, and taking special vows of obedience to the pope."})]}),(0,Jt.jsxs)("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-300",children:[(0,Jt.jsx)("p",{className:"text-slate-700 text-sm font-medium mb-2",children:"Was the Reformation..."}),(0,Jt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Jt.jsxs)("p",{children:[(0,Jt.jsx)("strong",{className:"text-green-700",children:"Protestants:"})," A necessary recovery of biblical truth, rescuing the gospel from medieval corruption"]}),(0,Jt.jsxs)("p",{children:[(0,Jt.jsx)("strong",{className:"text-amber-700",children:"Catholics:"})," A tragic fracturing of Christian unity over misunderstandings and overreactions to local abuses"]})]})]})]})]})})}),p&&(0,Jt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 overflow-y-auto",onClick:()=>f(!1),children:(0,Jt.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full shadow-2xl my-8",onClick:e=>e.stopPropagation(),children:[(0,Jt.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 flex justify-between items-center z-10 rounded-t-2xl",children:[(0,Jt.jsx)("h3",{className:"text-2xl font-serif",children:"Revival & Restoration (1600s-1800s)"}),(0,Jt.jsx)("button",{onClick:()=>f(!1),className:"text-white hover:text-blue-200 transition-colors text-3xl font-bold",children:"\xd7"})]}),(0,Jt.jsxs)("div",{className:"p-6 max-h-[70vh] overflow-y-auto space-y-6",children:[(0,Jt.jsx)("p",{className:"text-slate-700 leading-relaxed",children:"After the devastating Thirty Years' War (1618-1648)\u2014which killed 20-40% of the German population\u2014new movements sought spiritual renewal and practical Christianity beyond doctrinal warfare."}),(0,Jt.jsxs)("div",{className:"bg-cyan-50 border-l-4 border-cyan-500 p-4 rounded",children:[(0,Jt.jsx)("h4",{className:"font-bold text-cyan-900 mb-2",children:"Baptist Movement (1609)"}),(0,Jt.jsx)("p",{className:"text-slate-700 text-sm mb-3 leading-relaxed",children:"Baptists emerged with two streams: General Baptists (Arminian, 1609) teaching Christ died for all, and Particular Baptists (Calvinist, 1630s-1640s) teaching Christ died for the elect only. Both emphasized believer's baptism by immersion, soul competency, and separation of church and state."}),(0,Jt.jsxs)("p",{className:"text-slate-700 text-sm",children:[(0,Jt.jsx)("strong",{children:"Roger Williams"})," founded the first American Baptist church in Rhode Island (1638), championing religious liberty. The Southern Baptist Convention formed in 1845 over slavery\u2014a split that largely remains today."]})]}),(0,Jt.jsxs)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:[(0,Jt.jsx)("h4",{className:"font-bold text-red-900 mb-2",children:"Methodist Revival (1738)"}),(0,Jt.jsxs)("p",{className:"text-slate-700 text-sm mb-3 leading-relaxed",children:['After John Wesley\'s Aldersgate experience (1738) where his heart was "strangely warmed," he began open-air preaching and developed Arminian theology emphasizing universal grace, free will, and ',(0,Jt.jsx)("strong",{children:"entire sanctification"}),"\u2014the belief that believers can be perfected in love in this life."]}),(0,Jt.jsx)("p",{className:"text-slate-700 text-sm",children:"Methodism became America's largest denomination by the 1820s through circuit riders, camp meetings, and strong emphasis on social reform (temperance, abolition, poverty relief). Charles Wesley wrote over 6,000 hymns that shaped Protestant worship."})]}),(0,Jt.jsxs)("div",{className:"bg-slate-100 rounded-lg p-4",children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:"The Slavery Schisms (1840s)"}),(0,Jt.jsx)("p",{className:"text-slate-700 text-sm mb-2",children:"American denominations split over slavery in the 1840s-1860s, creating divisions that largely remain:"}),(0,Jt.jsxs)("ul",{className:"text-sm text-slate-700 space-y-2",children:[(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Methodist Episcopal Church:"})," Divided in 1844 over Bishop James O. Andrew owning enslaved people"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Southern Baptist Convention:"})," Formed in 1845 after splitting from northern Baptists over missionary appointments"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Presbyterian Church:"})," Also split in 1861"]})]}),(0,Jt.jsx)("p",{className:"text-slate-700 text-sm mt-3 italic",children:"These splits revealed deep tensions about Scripture, ethics, and cultural accommodation that remain relevant for contemporary debates."})]})]})]})})}),g&&(0,Jt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 overflow-y-auto",onClick:()=>y(!1),children:(0,Jt.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full shadow-2xl my-8",onClick:e=>e.stopPropagation(),children:[(0,Jt.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-purple-700 text-white p-6 flex justify-between items-center z-10 rounded-t-2xl",children:[(0,Jt.jsx)("h3",{className:"text-2xl font-serif",children:"Global Christianity & Modern Movements"}),(0,Jt.jsx)("button",{onClick:()=>y(!1),className:"text-white hover:text-purple-200 transition-colors text-3xl font-bold",children:"\xd7"})]}),(0,Jt.jsxs)("div",{className:"p-6 max-h-[70vh] overflow-y-auto space-y-6",children:[(0,Jt.jsxs)("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 rounded",children:[(0,Jt.jsx)("h4",{className:"font-bold text-orange-900 mb-2",children:"The Pentecostal Explosion (1906)"}),(0,Jt.jsx)("p",{className:"text-slate-700 text-sm mb-3 leading-relaxed",children:"The Azusa Street Revival (1906-1909) in Los Angeles, led by African-American preacher William J. Seymour, featured interracial worship, speaking in tongues as evidence of Holy Spirit baptism, and continuous services running nearly 24/7 for three years."}),(0,Jt.jsx)("p",{className:"text-slate-700 text-sm font-bold",children:"By 1907, Pentecostalism had spread to 50+ nations across six continents\u2014the fastest missionary expansion in Christian history. By 2020: 500+ million Pentecostal and Charismatic believers worldwide."})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:"The Geographic Revolution"}),(0,Jt.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Jt.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[(0,Jt.jsx)("h5",{className:"font-bold text-green-900 mb-2",children:"Africa's Transformation"}),(0,Jt.jsxs)("p",{className:"text-sm text-slate-700 mb-2",children:["From less than 10 million Christians (9% of population) in 1900 to ",(0,Jt.jsx)("strong",{children:"697 million (62%)"})," by 2020. The DRC shifted from 1% Christian (1900) to 95% (2020)."]}),(0,Jt.jsx)("p",{className:"text-sm text-slate-700 font-medium",children:"By 2050, Africa projected to contain 38% of global Christians\u20141.25 billion people."})]}),(0,Jt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[(0,Jt.jsx)("h5",{className:"font-bold text-blue-900 mb-2",children:"Europe's Decline"}),(0,Jt.jsx)("p",{className:"text-sm text-slate-700 mb-2",children:"From 95% Christian (1900) to 76% (2020), declining at -0.54% annually. Most affiliated Europeans are non-practicing."}),(0,Jt.jsx)("p",{className:"text-sm text-slate-700",children:"North America similarly declined from 97% Christian (1900) to 72% (2020)."})]})]})]}),(0,Jt.jsxs)("div",{className:"bg-slate-100 rounded-lg p-4",children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-2",children:"Non-Denominational Explosion"}),(0,Jt.jsx)("p",{className:"text-slate-700 text-sm mb-3 leading-relaxed",children:"Non-denominational churches exploded from less than 3% of American adults (1972) to 13% of Protestants by 2014, making them the third-largest Christian group after Catholics and Southern Baptists."}),(0,Jt.jsx)("p",{className:"text-slate-700 text-sm",children:"American megachurches (2,000+ weekly attendance) grew from approximately 350 (1990) to 1,800 (2020), predominantly suburban, evangelical, and nondenominational."})]}),(0,Jt.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[(0,Jt.jsx)("h4",{className:"font-bold text-purple-900 mb-2",children:"21st Century Realignments"}),(0,Jt.jsx)("p",{className:"text-slate-700 text-sm mb-3",children:"LGBTQ+ inclusion has driven massive denominational realignment, eerily paralleling 19th-century slavery splits:"}),(0,Jt.jsxs)("ul",{className:"text-sm text-slate-700 space-y-2",children:[(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"United Methodist Church:"})," 6,000-7,000 churches (20-25%) disaffiliated 2020-2024, forming Global Methodist Church (2022)"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Episcopal Church:"})," Gene Robinson consecrated as first openly gay bishop (2003), leading to Anglican Church in North America (2009)"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Presbyterian Church (USA):"})," ECO: A Covenant Order of Evangelical Presbyterians formed (2012)"]})]})]}),(0,Jt.jsxs)("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-lg p-4 border-2 border-amber-300",children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-2",children:"The Future Trajectory"}),(0,Jt.jsx)("p",{className:"text-slate-700 text-sm leading-relaxed",children:"Christianity will be predominantly African, Asian, and Latin American by mid-century, with radically different cultural expressions than the European Christianity that dominated for 1,500 years. Pentecostal and Charismatic forms will likely continue expanding. The next chapters of Christianity's story will be written in Lagos, Manila, and S\xe3o Paulo rather than Rome, Geneva, or Canterbury."})]})]})]})})}),v&&(0,Jt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 overflow-y-auto",onClick:()=>w(!1),children:(0,Jt.jsx)("div",{className:"min-h-screen md:flex md:items-center md:justify-center md:p-4",children:(0,Jt.jsxs)("div",{className:"bg-white md:rounded-2xl max-w-7xl w-full shadow-2xl md:my-8 min-h-screen md:min-h-0",onClick:e=>e.stopPropagation(),children:[(0,Jt.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white p-4 md:p-6 flex justify-between items-center z-10 md:rounded-t-2xl",children:[(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h3",{className:"text-xl md:text-2xl font-serif mb-1",children:"Compare Denominations"}),(0,Jt.jsx)("p",{className:"text-xs md:text-sm text-indigo-100",children:"Select 2-3 denominations to compare side-by-side"})]}),(0,Jt.jsx)("button",{onClick:()=>{w(!1),k([])},className:"text-white hover:text-indigo-200 transition-colors text-3xl font-bold",children:"\xd7"})]}),(0,Jt.jsxs)("div",{className:"p-4 md:p-6 md:max-h-[75vh] overflow-y-auto",children:[N.length<3&&(0,Jt.jsxs)("div",{className:"mb-6",children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:0===N.length?"Select denominations to compare:":"Select ".concat(3-N.length," more:")}),(0,Jt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:Object.keys(A).filter(e=>!N.includes(e)).map(e=>(0,Jt.jsxs)("button",{onClick:()=>k([...N,e]),className:"p-3 rounded-lg border-2 bg-white hover:shadow-lg transition-all hover:-translate-y-0.5 text-left",style:{borderColor:A[e].color},children:[(0,Jt.jsx)("div",{className:"font-serif text-sm text-slate-900",children:A[e].name}),(0,Jt.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:A[e].year})]},e))})]}),N.length>=2&&(0,Jt.jsxs)("div",{className:"space-y-6",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,Jt.jsx)("span",{className:"font-bold text-slate-900",children:"Comparing:"}),N.map(e=>(0,Jt.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full border-2",style:{borderColor:A[e].color,backgroundColor:"".concat(A[e].color,"20")},children:[(0,Jt.jsx)("span",{className:"font-medium text-slate-900",children:A[e].name}),(0,Jt.jsx)("button",{onClick:()=>k(N.filter(t=>t!==e)),className:"text-slate-500 hover:text-slate-700 font-bold",children:"\xd7"})]},e)),N.length<3&&(0,Jt.jsx)("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"+ Add another"})]}),(0,Jt.jsxs)("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 rounded-xl p-4 border border-slate-200",children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-4 text-lg",children:"Basic Information"}),(0,Jt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===N.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:N.map(e=>(0,Jt.jsxs)("div",{className:"bg-white rounded-lg p-4 border-2",style:{borderColor:A[e].color},children:[(0,Jt.jsx)("h5",{className:"font-bold text-lg mb-2",style:{color:A[e].color},children:A[e].fullName}),(0,Jt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("strong",{children:"Founded:"})," ",A[e].year]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("strong",{children:"Members:"})," ",A[e].members]})]})]},e))})]}),(0,Jt.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-5 border-2 border-green-400 shadow-sm",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Jt.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,Jt.jsx)("span",{className:"text-white text-lg font-bold",children:"\u2713"})}),(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 text-lg",children:"What We Share: Common Christian Beliefs"})]}),(0,Jt.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Jt.jsx)("p",{className:"text-sm text-slate-600 italic mb-4",children:"Despite our differences, all Christians confess these foundational truths together:"}),(0,Jt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-3",children:[(0,Jt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("span",{className:"font-semibold text-slate-900",children:"Trinity:"}),(0,Jt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"One God in three persons (Father, Son, Holy Spirit)"})]})]}),(0,Jt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("span",{className:"font-semibold text-slate-900",children:"Jesus Christ:"}),(0,Jt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Fully God and fully human, born of Virgin Mary"})]})]}),(0,Jt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("span",{className:"font-semibold text-slate-900",children:"Salvation:"}),(0,Jt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Through Jesus Christ's death and resurrection"})]})]}),(0,Jt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("span",{className:"font-semibold text-slate-900",children:"Resurrection:"}),(0,Jt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Christ physically rose from the dead"})]})]}),(0,Jt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("span",{className:"font-semibold text-slate-900",children:"Second Coming:"}),(0,Jt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Christ will return in glory to judge the living and the dead"})]})]}),(0,Jt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("span",{className:"font-semibold text-slate-900",children:"Scripture:"}),(0,Jt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"The Bible is God's inspired Word"})]})]}),(0,Jt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("span",{className:"font-semibold text-slate-900",children:"Baptism:"}),(0,Jt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Essential sacrament of Christian initiation"})]})]}),(0,Jt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("span",{className:"font-semibold text-slate-900",children:"Communion:"}),(0,Jt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Remembering and encountering Christ's sacrifice"})]})]})]})]})]}),(0,Jt.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-200",children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-4 text-lg",children:"Belief Comparison by Topic"}),(0,Jt.jsx)("p",{className:"text-sm text-slate-600 mb-4 italic",children:"Here's how these traditions understand key aspects of Christian faith:"}),(0,Jt.jsxs)("div",{className:"space-y-4",children:[(0,Jt.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Jt.jsx)("h5",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wide border-b-2 border-blue-200 pb-2",children:"\ud83d\udcd6 Scripture & Authority"}),(0,Jt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===N.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:N.map(e=>{let t="";return t="catholic"===e?"Scripture and Sacred Tradition through Church Magisterium":"orthodox"===e?"Scripture interpreted through Tradition and Seven Ecumenical Councils":"anglican"===e?"Scripture, Tradition, and Reason (three-legged stool)":"methodist"===e?"Scripture primary, supported by Tradition, Reason, Experience (Wesleyan Quadrilateral)":"lutheran"===e||"reformed"===e||"baptist"===e?"Sola Scriptura - Scripture alone as final authority":"pentecostal"===e?"Scripture as inspired, inerrant Word of God":"Scripture-centered (approaches vary)",(0,Jt.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 border-l-4",style:{borderColor:A[e].color},children:[(0,Jt.jsx)("div",{className:"font-semibold text-sm mb-2",style:{color:A[e].color},children:A[e].name}),(0,Jt.jsx)("div",{className:"text-sm text-slate-700",children:t})]},e)})}),(0,Jt.jsx)("div",{className:"mt-3 bg-green-50 border-l-4 border-green-500 rounded p-3",children:(0,Jt.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold",children:"\u2713 Agreement:"})," All affirm the Bible as God's inspired Word; differences lie in the role of tradition and church authority in interpretation"]})})]}),(0,Jt.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Jt.jsx)("h5",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wide border-b-2 border-blue-200 pb-2",children:"\u2728 Salvation & Grace"}),(0,Jt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===N.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:N.map(e=>{let t="";return t="catholic"===e?"Grace through faith and works cooperating; sacraments as channels of grace":"orthodox"===e?"Theosis (becoming one with God) through grace; synergy of divine and human will":"anglican"===e?"Salvation by grace through faith; works as evidence of living faith":"lutheran"===e?"Sola Fide - justification by faith alone through grace alone":"reformed"===e?"Total depravity; unconditional election; salvation entirely by grace (TULIP)":"methodist"===e?"Prevenient grace enables response; salvation by grace through faith (Arminian)":"baptist"===e?"Salvation by grace through faith alone; believer makes conscious decision":"pentecostal"===e?"Salvation by grace through faith; emphasis on personal conversion experience":"Salvation through Christ (various emphases)",(0,Jt.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 border-l-4",style:{borderColor:A[e].color},children:[(0,Jt.jsx)("div",{className:"font-semibold text-sm mb-2",style:{color:A[e].color},children:A[e].name}),(0,Jt.jsx)("div",{className:"text-sm text-slate-700",children:t})]},e)})}),(0,Jt.jsx)("div",{className:"mt-3 bg-green-50 border-l-4 border-green-500 rounded p-3",children:(0,Jt.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold",children:"\u2713 Agreement:"})," All affirm salvation is ultimately by God's grace through Christ, not by human merit alone; differences lie in how faith and works relate"]})})]}),(0,Jt.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Jt.jsx)("h5",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wide border-b-2 border-blue-200 pb-2",children:"\ud83c\udf5e Sacraments/Ordinances"}),(0,Jt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===N.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:N.map(e=>{let t="";return t="catholic"===e?"Seven sacraments; Real Presence (Transubstantiation) in Eucharist":"orthodox"===e?"Seven holy mysteries; Real Presence in Divine Liturgy":"anglican"===e?"Two sacraments ordained by Christ (Baptism, Eucharist) + five sacramental rites":"lutheran"===e?"Two sacraments (Baptism, Communion); Real Presence (Sacramental Union)":"reformed"===e?"Two sacraments as signs and seals; spiritual presence in Communion":"methodist"===e?"Two sacraments as means of grace; open table for Communion":"baptist"===e?"Two ordinances (symbolic): Believer's baptism by immersion, Lord's Supper":"pentecostal"===e?"Two ordinances (symbolic); emphasis on baptism in Holy Spirit with tongues":"Baptism and Communion observed (approaches vary)",(0,Jt.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 border-l-4",style:{borderColor:A[e].color},children:[(0,Jt.jsx)("div",{className:"font-semibold text-sm mb-2",style:{color:A[e].color},children:A[e].name}),(0,Jt.jsx)("div",{className:"text-sm text-slate-700",children:t})]},e)})}),(0,Jt.jsx)("div",{className:"mt-3 bg-green-50 border-l-4 border-green-500 rounded p-3",children:(0,Jt.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold",children:"\u2713 Agreement:"})," All practice Baptism and Communion/Eucharist as central acts commanded by Christ; differences lie in number, nature, and understanding"]})})]}),(0,Jt.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Jt.jsx)("h5",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wide border-b-2 border-blue-200 pb-2",children:"\u26ea Church Governance"}),(0,Jt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===N.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:N.map(e=>{let t="";return t="catholic"===e?"Papal monarchy: Pope as successor of Peter, bishops in apostolic succession":"orthodox"===e?"Conciliar: Patriarchs and bishops in apostolic succession, no single head":"anglican"===e?"Episcopal: Bishops, priests, deacons; autonomous provinces in communion":"lutheran"===e?"Varies: Episcopal (bishops) or congregational structure by region":"reformed"===e?"Presbyterian: Elders govern through councils and presbyteries":"methodist"===e?"Connexional: Bishops provide oversight; connected conferences":"baptist"===e?"Congregational: Each local church is fully autonomous and self-governing":"pentecostal"===e?"Varies widely: From episcopal to congregational structures":"Various structures (local autonomy common)",(0,Jt.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 border-l-4",style:{borderColor:A[e].color},children:[(0,Jt.jsx)("div",{className:"font-semibold text-sm mb-2",style:{color:A[e].color},children:A[e].name}),(0,Jt.jsx)("div",{className:"text-sm text-slate-700",children:t})]},e)})}),(()=>{const e=N.filter(e=>["catholic","orthodox","anglican","methodist"].includes(e)).length>=2,t=N.filter(e=>["baptist","pentecostal","nondenominational"].includes(e)).length>=2;return e?(0,Jt.jsx)("div",{className:"mt-3 bg-green-50 border-l-4 border-green-500 rounded p-3",children:(0,Jt.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold",children:"\u2713 Agreement:"})," Episcopal traditions share belief in apostolic succession through bishops"]})}):t?(0,Jt.jsx)("div",{className:"mt-3 bg-green-50 border-l-4 border-green-500 rounded p-3",children:(0,Jt.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold",children:"\u2713 Agreement:"})," Congregational traditions share emphasis on local church autonomy"]})}):null})()]})]})]}),(0,Jt.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-slate-200",children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-4 text-lg",children:"Geographic Distribution (2025)"}),(0,Jt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===N.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:N.map(e=>(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h5",{className:"font-bold mb-3",style:{color:A[e].color},children:A[e].name}),(0,Jt.jsx)("div",{className:"space-y-2",children:A[e].geographicDistribution.slice(0,4).map((t,n)=>(0,Jt.jsxs)("div",{className:"text-sm",children:[(0,Jt.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,Jt.jsx)("span",{className:"text-slate-700 text-xs",children:t.region}),(0,Jt.jsx)("span",{className:"font-semibold text-xs",children:t.percentage})]}),(0,Jt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,Jt.jsx)("div",{className:"h-1.5 rounded-full",style:{width:t.percentage,backgroundColor:A[e].color}})})]},n))})]},e))})]}),(0,Jt.jsxs)("div",{className:"bg-amber-50 rounded-xl p-4 border border-amber-200",children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-4 text-lg",children:"Points of Debate & Distinctives"}),(0,Jt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===N.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:N.map(e=>(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h5",{className:"font-bold mb-2",style:{color:A[e].color},children:A[e].name}),(0,Jt.jsx)("ul",{className:"space-y-1.5",children:A[e].debates.slice(0,4).map((e,t)=>(0,Jt.jsxs)("li",{className:"flex gap-2 text-sm",children:[(0,Jt.jsx)("div",{className:"w-1 h-1 rounded-full bg-amber-600 mt-1.5 flex-shrink-0"}),(0,Jt.jsx)("span",{className:"text-slate-700",children:e})]},t))})]},e))})]}),(0,Jt.jsxs)("div",{className:"flex justify-center gap-3 pt-4",children:[(0,Jt.jsx)("button",{onClick:()=>k([]),className:"px-6 py-2 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-lg font-medium transition-colors",children:"Clear Selection"}),(0,Jt.jsx)("button",{onClick:()=>{w(!1),k([])},className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:"Done"})]})]}),1===N.length&&(0,Jt.jsxs)("div",{className:"text-center py-12 text-slate-500",children:[(0,Jt.jsx)("p",{className:"mb-2",children:"Select at least one more denomination to begin comparison"}),(0,Jt.jsx)("p",{className:"text-sm",children:"You can compare up to 3 denominations at once"})]}),0===N.length&&(0,Jt.jsxs)("div",{className:"text-center py-12 text-slate-500",children:[(0,Jt.jsx)(Gt,{className:"w-16 h-16 mx-auto mb-4 text-slate-300"}),(0,Jt.jsx)("p",{className:"text-lg font-medium mb-2",children:"Compare Denominations Side-by-Side"}),(0,Jt.jsx)("p",{className:"text-sm",children:"Select 2-3 denominations above to see detailed comparisons of their beliefs, governance, and geographic presence"})]})]})]})})}),j&&(0,Jt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 overflow-y-auto",onClick:()=>{C(!1),T(null)},children:(0,Jt.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl max-w-6xl w-full shadow-2xl my-8",onClick:e=>e.stopPropagation(),children:[(0,Jt.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-emerald-600 to-teal-600 text-white p-6 flex justify-between items-center z-10 rounded-t-2xl",children:[(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h2",{className:"text-2xl font-serif mb-1",children:"Worship Experiences"}),(0,Jt.jsx)("p",{className:"text-sm text-emerald-100",children:"What does Sunday morning look like in each tradition?"})]}),(0,Jt.jsx)("button",{onClick:()=>{C(!1),T(null)},className:"text-white hover:text-emerald-200 transition-colors text-3xl font-bold",children:"\xd7"})]}),(0,Jt.jsxs)("div",{className:"p-6 max-h-[75vh] overflow-y-auto",children:[!S&&(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("p",{className:"text-slate-600 mb-6",children:"Select a denomination to explore what their worship services are like:"}),(0,Jt.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.keys(P).map(e=>(0,Jt.jsxs)("button",{onClick:()=>T(e),className:"p-4 rounded-xl border-2 hover:shadow-lg transition-all hover:-translate-y-1",style:{borderColor:A[e].color},children:[(0,Jt.jsx)("div",{className:"font-serif text-lg mb-1",style:{color:A[e].color},children:A[e].name}),(0,Jt.jsx)("div",{className:"text-sm text-slate-600",children:A[e].members})]},e))})]}),S&&P[S]&&(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("button",{onClick:()=>T(null),className:"mb-4 text-emerald-600 hover:text-emerald-700 flex items-center gap-2 font-medium",children:"\u2190 Back to all denominations"}),(0,Jt.jsxs)("div",{className:"space-y-6",children:[(0,Jt.jsxs)("div",{className:"border-l-4 pl-4",style:{borderColor:A[S].color},children:[(0,Jt.jsx)("h3",{className:"text-2xl font-serif mb-1",style:{color:A[S].color},children:A[S].name}),(0,Jt.jsx)("p",{className:"text-lg text-slate-700 font-medium",children:P[S].serviceName}),(0,Jt.jsxs)("div",{className:"flex flex-wrap gap-4 mt-2 text-sm text-slate-600",children:[(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("span",{className:"font-semibold",children:"Length:"})," ",P[S].typicalLength]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("span",{className:"font-semibold",children:"Schedule:"})," ",P[S].schedule]})]})]}),(0,Jt.jsxs)("div",{className:"bg-emerald-50 border-2 border-emerald-300 rounded-xl p-4",children:[(0,Jt.jsxs)("h4",{className:"font-bold text-emerald-900 mb-2 flex items-center gap-2",children:[(0,Jt.jsx)("span",{className:"text-xl",children:"\ud83d\udc4b"})," First Time Visitor Tips"]}),(0,Jt.jsx)("p",{className:"text-sm text-emerald-900",children:P[S].firstTimeVisitor})]}),(0,Jt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,Jt.jsxs)("div",{className:"bg-slate-50 rounded-xl p-4",children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wide border-b pb-2",children:"\ud83d\udccb Service Structure"}),(0,Jt.jsx)("ol",{className:"space-y-2",children:P[S].serviceStructure.map((e,t)=>(0,Jt.jsxs)("li",{className:"flex gap-3 text-sm",children:[(0,Jt.jsxs)("span",{className:"font-bold text-slate-400 flex-shrink-0",children:[t+1,"."]}),(0,Jt.jsx)("span",{className:"text-slate-700",children:e})]},t))})]}),(0,Jt.jsxs)("div",{className:"space-y-4",children:[(0,Jt.jsxs)("div",{className:"bg-slate-50 rounded-xl p-4",children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-2 text-sm uppercase tracking-wide",children:"\ud83c\udfb5 Music Style"}),(0,Jt.jsx)("p",{className:"text-sm text-slate-700",children:P[S].musicStyle})]}),(0,Jt.jsxs)("div",{className:"bg-slate-50 rounded-xl p-4",children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-2 text-sm uppercase tracking-wide",children:"\ud83d\udc54 Dress Expectation"}),(0,Jt.jsx)("p",{className:"text-sm text-slate-700",children:P[S].dressExpectation})]})]})]}),(0,Jt.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[(0,Jt.jsxs)("h4",{className:"font-bold text-blue-900 mb-2 flex items-center gap-2",children:[(0,Jt.jsx)("span",{className:"text-xl",children:"\ud83c\udf5e"})," Communion / Eucharist"]}),(0,Jt.jsx)("p",{className:"text-sm text-blue-900 mb-2",children:P[S].communionDetails}),(0,Jt.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Jt.jsx)("span",{className:"font-semibold",children:"Participation:"})," ",P[S].participation]})]}),(0,Jt.jsxs)("div",{className:"bg-amber-50 rounded-xl p-4 border border-amber-200",children:[(0,Jt.jsxs)("h4",{className:"font-bold text-amber-900 mb-3 flex items-center gap-2",children:[(0,Jt.jsx)("span",{className:"text-xl",children:"\u2728"})," Unique Elements"]}),(0,Jt.jsx)("ul",{className:"space-y-2",children:P[S].uniqueElements.map((e,t)=>(0,Jt.jsxs)("li",{className:"flex gap-2 text-sm",children:[(0,Jt.jsx)("span",{className:"text-amber-600 flex-shrink-0",children:"\u2022"}),(0,Jt.jsx)("span",{className:"text-amber-900",children:e})]},t))})]})]})]})]})]})})})]})]})]})},Yt=zt("scroll",[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]),Qt=zt("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Xt=zt("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),$t=zt("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Zt=zt("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),en=zt("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),tn=zt("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),nn=zt("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),rn=zt("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),sn=zt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),an=zt("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),on=e=>{if(!e)return e;return e.split(/(\*\*[^*]+\*\*)/g).map((e,t)=>e.startsWith("**")&&e.endsWith("**")?(0,Jt.jsx)("strong",{children:e.slice(2,-2)},t):e)},ln=e=>{let{card:t,cardIndex:n,isAcknowledged:r,onAcknowledge:i}=e;return(0,Jt.jsxs)("div",{className:"p-10",children:[(0,Jt.jsx)("h2",{className:"text-4xl font-black text-gray-900 mb-3",children:t.title}),t.subtitle&&(0,Jt.jsx)("p",{className:"text-xl text-purple-600 font-semibold mb-8",children:on(t.subtitle)}),(0,Jt.jsx)("div",{className:"prose prose-lg max-w-none",children:t.content.map((e,t)=>(0,Jt.jsx)("p",{className:"text-gray-700 text-lg leading-relaxed mb-5",children:on(e)},t))}),t.highlight&&(0,Jt.jsx)("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-purple-50 border-l-4 border-purple-500 p-5 rounded-xl",children:(0,Jt.jsx)("p",{className:"text-purple-900 font-semibold text-lg",children:on(t.highlight)})}),t.requireAcknowledgment&&!r&&(0,Jt.jsx)("div",{className:"mt-8 text-center",children:(0,Jt.jsx)("button",{onClick:i,className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl font-bold hover:from-blue-600 hover:to-purple-700 transition shadow-lg",children:"Got it! \u2713"})})]})},cn=t=>{let{card:n,cardIndex:r,answer:i,showFeedback:s,onAnswer:a}=t;const[o,l]=(0,e.useState)(i);return(0,Jt.jsxs)("div",{className:"p-10",children:[(0,Jt.jsx)("h3",{className:"text-3xl font-black text-gray-900 mb-2",children:"Knowledge Check"}),(0,Jt.jsx)("p",{className:"text-gray-600 text-lg mb-8",children:"Test your understanding of what you just learned!"}),(0,Jt.jsxs)("div",{className:"mb-8",children:[(0,Jt.jsx)("p",{className:"text-xl font-bold text-gray-800 mb-6",children:on(n.question)}),(0,Jt.jsx)("div",{className:"space-y-3",children:n.options.map((e,t)=>{const i=o===t,c=t===n.correctAnswer;let d="w-full text-left p-5 rounded-xl border-2 transition font-medium text-gray-800 shadow-sm ";return d+=s?c?"border-green-500 bg-green-50 text-green-900":i&&!c?"border-red-500 bg-red-50 text-red-900":"border-gray-200 bg-gray-50":i?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 hover:border-purple-300 hover:bg-purple-50 hover:shadow-md",(0,Jt.jsxs)("button",{onClick:()=>!s&&(e=>{l(e);const t=e===n.correctAnswer;a(r,e,t)})(t),disabled:s,className:d,children:[(0,Jt.jsxs)("span",{className:"font-bold mr-3 text-gray-600",children:[String.fromCharCode(65+t),"."]}),on(e)]},t)})})]}),s&&(0,Jt.jsxs)("div",{className:"p-5 rounded-xl border-l-4 ".concat(o===n.correctAnswer?"bg-green-50 border-green-500":"bg-blue-50 border-blue-500"),children:[(0,Jt.jsx)("p",{className:"font-bold text-lg mb-2",children:o===n.correctAnswer?"\u2713 Correct! +10 XP":"Explanation:"}),(0,Jt.jsx)("p",{className:"text-gray-800 text-lg leading-relaxed",children:on(n.explanation)})]})]})},dn=t=>{let{card:n,cardIndex:i,onComplete:s}=t;const[a,o]=(0,e.useState)({}),[l,c]=(0,e.useState)(null),[d,u]=(0,e.useState)(!1),[h,m]=(0,e.useState)(null),p=(0,e.useMemo)(()=>{const e=n.pairs.map(e=>e.definition);for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e},[n.pairs]);return(0,Jt.jsxs)("div",{className:"p-10",children:[(0,Jt.jsx)("h3",{className:"text-3xl font-black text-gray-900 mb-2",children:"Match the Terms"}),(0,Jt.jsx)("p",{className:"text-gray-600 text-lg mb-8",children:"Click a term, then click its matching definition!"}),(0,Jt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,Jt.jsxs)("div",{className:"space-y-3",children:[(0,Jt.jsx)("h4",{className:"font-bold text-gray-800 text-lg mb-4",children:"Terms"}),n.pairs.map((e,t)=>{const n=h&&h.term===e.term;return(0,Jt.jsx)("button",{onClick:()=>{return t=e.term,void(d||a[t]||c(t));var t},disabled:a[e.term]||d,className:"w-full text-left p-5 rounded-xl border-2 transition font-medium shadow-sm ".concat(n?"border-red-500 bg-red-50 text-red-900 shake":l===e.term?"border-purple-500 bg-purple-50 shadow-md":a[e.term]?"border-green-500 bg-green-50 text-green-900":"border-gray-200 hover:border-purple-300 hover:bg-purple-50 hover:shadow-md"),children:(0,Jt.jsx)("span",{className:"font-semibold",children:e.term})},t)})]}),(0,Jt.jsxs)("div",{className:"space-y-3",children:[(0,Jt.jsx)("h4",{className:"font-bold text-gray-800 text-lg mb-4",children:"Definitions"}),p.map((e,t)=>{const i=h&&h.definition===e,p=Object.values(a).includes(e);return(0,Jt.jsx)("button",{onClick:()=>(e=>{if(d||!l||Object.values(a).includes(e))return;const t=n.pairs.find(e=>e.term===l);if(t&&t.definition===e){const t=(0,r.A)((0,r.A)({},a),{},{[l]:e});o(t),c(null),m(null),Object.keys(t).length===n.pairs.length&&(u(!0),s())}else m({term:l,definition:e}),setTimeout(()=>{m(null),c(null)},1500)})(e),disabled:p||d,className:"w-full text-left p-5 rounded-xl border-2 transition font-medium shadow-sm ".concat(i?"border-red-500 bg-red-50 text-red-900 shake":p?"border-green-500 bg-green-50 text-green-900":"border-gray-200 hover:border-blue-300 hover:bg-blue-50 hover:shadow-md"),children:(0,Jt.jsx)("span",{className:"text-base",children:e})},t)})]})]}),h&&(0,Jt.jsx)("div",{className:"mt-6 p-4 bg-red-50 border-l-4 border-red-500 rounded-xl",children:(0,Jt.jsx)("p",{className:"text-red-800 font-bold",children:"\u274c Not quite! Try again."})}),d&&(0,Jt.jsx)("div",{className:"mt-8 p-5 bg-green-50 border-l-4 border-green-500 rounded-xl",children:(0,Jt.jsx)("p",{className:"text-green-800 font-bold text-lg",children:"\ud83c\udf89 Perfect! All matched correctly! +10 XP"})})]})},un=t=>{let{card:n,cardIndex:r,answer:i,showFeedback:s,onAnswer:a}=t;const[o,l]=(0,e.useState)(i||"");return(0,Jt.jsxs)("div",{className:"p-10",children:[(0,Jt.jsx)("h3",{className:"text-3xl font-black text-gray-900 mb-2",children:"Fill in the Blank"}),(0,Jt.jsx)("p",{className:"text-gray-600 text-lg mb-8",children:"Complete the sentence with the correct term."}),(0,Jt.jsxs)("div",{className:"mb-8",children:[(0,Jt.jsx)("p",{className:"text-xl font-semibold text-gray-800 mb-6",children:on(n.prompt)}),(0,Jt.jsx)("input",{type:"text",value:o,onChange:e=>l(e.target.value),disabled:s,placeholder:"Type your answer...",className:"w-full p-5 text-lg border-2 border-gray-300 rounded-xl focus:border-purple-500 focus:outline-none disabled:bg-gray-100 shadow-sm transition"}),!s&&(0,Jt.jsx)("button",{onClick:()=>{const e=o.trim().toLowerCase()===n.correctAnswer.toLowerCase();a(r,o,e)},disabled:!o.trim(),className:"mt-6 px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl font-bold hover:from-blue-600 hover:to-purple-700 transition shadow-lg hover:shadow-xl disabled:from-gray-300 disabled:to-gray-300 disabled:shadow-none",children:"Check Answer"})]}),s&&(0,Jt.jsxs)("div",{className:"p-5 rounded-xl border-l-4 ".concat(o.trim().toLowerCase()===n.correctAnswer.toLowerCase()?"bg-green-50 border-green-500":"bg-blue-50 border-blue-500"),children:[(0,Jt.jsx)("p",{className:"font-bold text-lg mb-2",children:o.trim().toLowerCase()===n.correctAnswer.toLowerCase()?"\u2713 Correct! +10 XP":"The answer is: ".concat(n.correctAnswer)}),(0,Jt.jsx)("p",{className:"text-gray-800 text-lg leading-relaxed",children:on(n.explanation)})]})]})},hn=t=>{let{card:n}=t;const[r,i]=(0,e.useState)(""),[s,a]=(0,e.useState)(!1);return(0,Jt.jsxs)("div",{className:"p-10",children:[(0,Jt.jsx)("h3",{className:"text-3xl font-black text-gray-900 mb-2",children:"\ud83d\udcad Pause & Reflect"}),(0,Jt.jsx)("p",{className:"text-gray-600 text-lg mb-8",children:"Take a moment to think about what you've learned."}),(0,Jt.jsxs)("div",{className:"mb-8",children:[(0,Jt.jsx)("p",{className:"text-xl font-bold text-gray-800 mb-6",children:on(n.question)}),(0,Jt.jsxs)("div",{className:"bg-purple-50 border-2 border-purple-200 rounded-xl p-6 mb-6",children:[(0,Jt.jsxs)("p",{className:"text-purple-900 text-sm mb-4",children:[(0,Jt.jsx)("span",{className:"font-bold",children:"\ud83d\udca1 This is just for you\u2014"})," there's no right or wrong answer. Reflecting helps you remember and apply what you've learned."]}),(0,Jt.jsx)("textarea",{value:r,onChange:e=>i(e.target.value),placeholder:"Share your thoughts here (optional)...",className:"w-full p-4 border-2 border-purple-300 rounded-lg focus:border-purple-500 focus:outline-none resize-none",rows:4})]}),n.prompts&&(0,Jt.jsxs)("div",{className:"bg-blue-50 border-l-4 border-blue-500 rounded-xl p-5 mb-6",children:[(0,Jt.jsx)("p",{className:"text-blue-900 font-bold mb-3",children:"\ud83d\udcac Think about:"}),(0,Jt.jsx)("ul",{className:"space-y-2",children:n.prompts.map((e,t)=>(0,Jt.jsxs)("li",{className:"text-blue-800 text-base",children:["\u2022 ",e]},t))})]}),!s&&(0,Jt.jsx)("button",{onClick:()=>a(!0),className:"w-full px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl font-bold hover:from-blue-600 hover:to-purple-700 transition shadow-lg",children:"Continue \u2192"})]})]})},mn=t=>{let{card:n,xp:r,onComplete:i}=t;const[s,a]=(0,e.useState)(!1);return(0,Jt.jsx)("div",{className:"p-10 text-center",children:s?(0,Jt.jsxs)("div",{className:"animate-bounce py-10",children:[(0,Jt.jsx)($t,{className:"w-36 h-36 text-green-500 mx-auto mb-6"}),(0,Jt.jsx)("h2",{className:"text-5xl font-black text-green-600",children:"Lesson Complete!"})]}):(0,Jt.jsxs)(Jt.Fragment,{children:[(0,Jt.jsxs)("div",{className:"mb-8",children:[(0,Jt.jsx)(Xt,{className:"w-28 h-28 text-yellow-500 mx-auto mb-6"}),(0,Jt.jsx)("h2",{className:"text-4xl font-black text-gray-900 mb-4",children:n.title}),(0,Jt.jsx)("p",{className:"text-xl text-gray-600 leading-relaxed",children:n.message})]}),n.keyTakeaways&&(0,Jt.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-8 mb-8 border-2 border-blue-200 shadow-lg text-left max-w-2xl mx-auto",children:[(0,Jt.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-4 text-center",children:"\ud83c\udfaf Key Takeaways"}),(0,Jt.jsx)("ul",{className:"space-y-3",children:n.keyTakeaways.map((e,t)=>(0,Jt.jsxs)("li",{className:"flex items-start gap-3",children:[(0,Jt.jsx)("span",{className:"text-blue-600 font-bold text-xl mt-0.5",children:"\u2022"}),(0,Jt.jsx)("span",{className:"text-gray-700 text-lg leading-relaxed",children:e})]},t))})]}),(0,Jt.jsxs)("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 rounded-2xl p-8 mb-8 border-2 border-yellow-200 shadow-lg",children:[(0,Jt.jsx)("p",{className:"text-2xl font-bold text-gray-800 mb-3",children:"Total XP Earned"}),(0,Jt.jsx)("p",{className:"text-6xl font-black text-yellow-600",children:r})]}),n.badge&&(0,Jt.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 rounded-2xl p-8 mb-8 border-2 border-purple-200 shadow-lg",children:[(0,Jt.jsx)("p",{className:"text-xl font-bold text-gray-800 mb-3",children:"Badge Unlocked!"}),(0,Jt.jsx)("p",{className:"text-5xl mb-3",children:n.badge.icon}),(0,Jt.jsx)("p",{className:"text-2xl font-black text-purple-700",children:n.badge.name}),(0,Jt.jsx)("p",{className:"text-base text-gray-600 mt-2",children:n.badge.description})]}),(0,Jt.jsx)("button",{onClick:()=>{a(!0),i()},className:"px-10 py-5 bg-gradient-to-r from-blue-500 to-purple-600 text-white text-xl rounded-2xl font-black hover:from-blue-600 hover:to-purple-700 transition shadow-xl hover:shadow-2xl",children:"Complete Lesson! \ud83c\udf89"})]})})},pn=t=>{let{lessonData:n,onComplete:i,onExit:s}=t;const[a,o]=(0,e.useState)(0),[l,c]=(0,e.useState)(0),[d,u]=(0,e.useState)({}),[h,m]=(0,e.useState)({}),[p,f]=(0,e.useState)(new Set),[g,y]=(0,e.useState)(new Set),b=n.cards.length,x=(a+1)/b*100;(0,e.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[a]);const v=(e,t,n)=>{u(n=>(0,r.A)((0,r.A)({},n),{},{[e]:t})),m(t=>(0,r.A)((0,r.A)({},t),{},{[e]:!0})),n&&!p.has(e)&&c(e=>e+10)},w=n.cards[a];return(0,Jt.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-20",children:[(0,Jt.jsx)("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10 shadow-sm",children:(0,Jt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Jt.jsxs)("button",{onClick:s,className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 transition font-medium",children:[(0,Jt.jsx)(sn,{className:"w-5 h-5"}),(0,Jt.jsx)("span",{className:"hidden sm:inline",children:"Exit"})]}),(0,Jt.jsx)("div",{className:"flex items-center gap-3",children:(0,Jt.jsxs)("div",{className:"flex items-center gap-2 bg-gradient-to-r from-yellow-400 to-yellow-500 px-4 py-2 rounded-2xl shadow-md",children:[(0,Jt.jsx)(en,{className:"w-5 h-5 text-white fill-white"}),(0,Jt.jsx)("span",{className:"font-bold text-white text-lg",children:l})]})})]}),(0,Jt.jsx)("div",{className:"relative",children:(0,Jt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-4 rounded-full transition-all duration-500 shadow-lg",style:{width:"".concat(x,"%")}})})}),(0,Jt.jsxs)("div",{className:"text-center mt-2 text-sm font-semibold text-gray-600",children:[a+1," / ",b]})]})}),(0,Jt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,Jt.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden min-h-[500px]",children:["content"===w.type&&(0,Jt.jsx)(ln,{card:w,cardIndex:a,isAcknowledged:g.has(a),onAcknowledge:()=>y(e=>new Set([...e,a]))}),"quiz"===w.type&&(0,Jt.jsx)(cn,{card:w,cardIndex:a,answer:d[a],showFeedback:h[a],onAnswer:v}),"matching"===w.type&&(0,Jt.jsx)(dn,{card:w,cardIndex:a,onComplete:()=>v(a,"completed",!0)}),"fillblank"===w.type&&(0,Jt.jsx)(un,{card:w,cardIndex:a,answer:d[a],showFeedback:h[a],onAnswer:v}),"reflection"===w.type&&(0,Jt.jsx)(hn,{card:w}),"completion"===w.type&&(0,Jt.jsx)(mn,{card:w,xp:l,onComplete:()=>{c(e=>e+50),setTimeout(()=>{i(l+50)},1500)}})]}),(0,Jt.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,Jt.jsxs)("button",{onClick:()=>{a>0&&o(a-1)},disabled:0===a,className:"flex items-center gap-2 px-6 py-4 rounded-2xl font-bold transition text-lg ".concat(0===a?"bg-gray-100 text-gray-300 cursor-not-allowed":"bg-white text-gray-700 border-2 border-gray-300 hover:border-blue-500 hover:text-blue-600 shadow-md hover:shadow-lg"),children:[(0,Jt.jsx)(an,{className:"w-5 h-5"}),"Back"]}),a<b-1?(0,Jt.jsxs)("button",{onClick:()=>{a<b-1&&(f(e=>new Set([...e,a])),o(a+1))},className:"flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-2xl font-bold hover:from-blue-600 hover:to-purple-700 transition shadow-lg hover:shadow-xl text-lg",children:["Continue",(0,Jt.jsx)(rn,{className:"w-5 h-5"})]}):null]})]})]})};var fn=n(144),gn=n(667),yn=n(662);const bn=()=>yn.j.currentUser,xn=[1,3,7,14],vn=(e,t)=>"ai_generated"===e?"ai-".concat(t):"".concat(e,"-").concat(t),wn=async(e,t)=>{const n=bn();if(!n)return void console.warn("Cannot schedule reviews - user not logged in");const r=vn(e,t),i=(new Date).toISOString();try{const s=(0,gn.doc)(yn.db,"users",n.uid,"reviewSchedule",r);if((await(0,gn.x7)(s)).exists())return void console.log("Review schedule already exists for",r);const a={path:e,lessonNumber:t,completedDate:i,reviews:xn.map((e,t)=>{const n=new Date;return n.setDate(n.getDate()+e),{dueDate:n.toISOString(),completed:!1,completedDate:null,interval:e,reviewNumber:t+1}}),masteryLevel:0};await(0,gn.BN)(s,a),console.log("\u2705 Review schedule created in Firestore:",r)}catch(s){console.error("Error scheduling reviews:",s)}},Nn=async()=>{const e=bn();if(!e)return{};try{const t=(0,gn.collection)(yn.db,"users",e.uid,"reviewSchedule"),n=(0,gn.query)(t),r=await(0,gn.getDocs)(n),i={};return r.forEach(e=>{i[e.id]=e.data()}),i}catch(t){return console.error("Error loading review schedule:",t),{}}},kn=async()=>{const e=await Nn(),t=new Date;t.setHours(0,0,0,0);const n=[];return Object.entries(e).forEach(e=>{let[r,i]=e;const s=i.reviews.find(e=>!e.completed);if(s){const e=new Date(s.dueDate);e.setHours(0,0,0,0),e<=t&&n.push({lessonKey:r,path:i.path,lessonNumber:i.lessonNumber,reviewNumber:s.reviewNumber,dueDate:s.dueDate,masteryLevel:i.masteryLevel,isOverdue:e<t})}}),n.sort((e,t)=>new Date(e.dueDate)-new Date(t.dueDate))},jn=e=>{if(!e)return e;return e.split(/(\*\*[^*]+\*\*)/g).map((e,t)=>e.startsWith("**")&&e.endsWith("**")?(0,Jt.jsx)("strong",{children:e.slice(2,-2)},t):e)},Cn=t=>{let{card:n,questionIndex:r,answer:i,showFeedback:s,onAnswer:a}=t;const[o,l]=(0,e.useState)(i);return(0,Jt.jsxs)("div",{className:"p-10",children:[(0,Jt.jsx)("h3",{className:"text-3xl font-black text-gray-900 mb-2",children:"\ud83d\udcd6 Review Question"}),(0,Jt.jsx)("p",{className:"text-gray-600 text-lg mb-8",children:"Test your retention of this topic."}),(0,Jt.jsxs)("div",{className:"mb-8",children:[(0,Jt.jsx)("p",{className:"text-xl font-bold text-gray-800 mb-6",children:jn(n.question)}),(0,Jt.jsx)("div",{className:"space-y-3",children:n.options.map((e,t)=>{const i=o===t,c=t===n.correctAnswer;let d="w-full text-left p-5 rounded-xl border-2 transition font-medium text-gray-800 shadow-sm ";return d+=s?c?"border-green-500 bg-green-50 text-green-900":i&&!c?"border-red-500 bg-red-50 text-red-900":"border-gray-200 bg-gray-50":i?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 hover:border-purple-300 hover:bg-purple-50 hover:shadow-md",(0,Jt.jsxs)("button",{onClick:()=>!s&&(e=>{l(e);const t=e===n.correctAnswer;a(r,e,t)})(t),disabled:s,className:d,children:[(0,Jt.jsxs)("span",{className:"font-bold mr-3 text-gray-600",children:[String.fromCharCode(65+t),"."]}),jn(e)]},t)})})]}),s&&(0,Jt.jsxs)("div",{className:"p-5 rounded-xl border-l-4 ".concat(o===n.correctAnswer?"bg-green-50 border-green-500":"bg-blue-50 border-blue-500"),children:[(0,Jt.jsx)("p",{className:"font-bold text-lg mb-2",children:o===n.correctAnswer?"\u2713 Correct! +5 XP":"Not quite!"}),(0,Jt.jsx)("p",{className:"text-gray-800 text-lg leading-relaxed",children:jn(n.explanation)})]})]})},Sn=t=>{let{card:n,questionIndex:r,answer:i,showFeedback:s,onAnswer:a}=t;const[o,l]=(0,e.useState)(i||"");return(0,Jt.jsxs)("div",{className:"p-10",children:[(0,Jt.jsx)("h3",{className:"text-3xl font-black text-gray-900 mb-2",children:"\ud83d\udcd6 Fill in the Blank"}),(0,Jt.jsx)("p",{className:"text-gray-600 text-lg mb-8",children:"Complete the sentence with the correct term."}),(0,Jt.jsxs)("div",{className:"mb-8",children:[(0,Jt.jsx)("p",{className:"text-xl font-semibold text-gray-800 mb-6",children:jn(n.prompt)}),(0,Jt.jsx)("input",{type:"text",value:o,onChange:e=>l(e.target.value),disabled:s,placeholder:"Type your answer...",className:"w-full p-5 text-lg border-2 border-gray-300 rounded-xl focus:border-purple-500 focus:outline-none disabled:bg-gray-100 shadow-sm transition"}),!s&&(0,Jt.jsx)("button",{onClick:()=>{const e=o.trim().toLowerCase()===n.correctAnswer.toLowerCase();a(r,o,e)},disabled:!o.trim(),className:"mt-6 px-8 py-4 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-xl font-bold hover:from-purple-600 hover:to-pink-700 transition shadow-lg hover:shadow-xl disabled:from-gray-300 disabled:to-gray-300 disabled:shadow-none",children:"Check Answer"})]}),s&&(0,Jt.jsxs)("div",{className:"p-5 rounded-xl border-l-4 ".concat(o.trim().toLowerCase()===n.correctAnswer.toLowerCase()?"bg-green-50 border-green-500":"bg-blue-50 border-blue-500"),children:[(0,Jt.jsx)("p",{className:"font-bold text-lg mb-2",children:o.trim().toLowerCase()===n.correctAnswer.toLowerCase()?"\u2713 Correct! +5 XP":"The answer is: ".concat(n.correctAnswer)}),(0,Jt.jsx)("p",{className:"text-gray-800 text-lg leading-relaxed",children:jn(n.explanation)})]})]})},Tn=t=>{let{lessonData:n,path:i,lessonNumber:s,onComplete:a,onExit:o}=t;const[l,c]=(0,e.useState)(0),[d,u]=(0,e.useState)({}),[h,m]=(0,e.useState)({}),[p,f]=(0,e.useState)(0),[g,y]=(0,e.useState)(!1),b=e.useMemo(()=>{const e=n.cards.filter(e=>"quiz"===e.type||"fillblank"===e.type),t=[...e];for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t.slice(0,Math.min(5,t.length))},[n]),x=b.length,v=(l+1)/x*100;(0,e.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[l]);const w=(e,t,n)=>{u(n=>(0,r.A)((0,r.A)({},n),{},{[e]:t})),m(t=>(0,r.A)((0,r.A)({},t),{},{[e]:!0})),n&&!h[e]&&f(e=>e+1)},N=()=>{a(5*p)},k=b[l];if(g){const e=Math.round(p/x*100),t=5*p;return(0,Jt.jsx)("div",{className:"min-h-screen bg-gray-50 pb-20",children:(0,Jt.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,Jt.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden p-10 text-center",children:[(0,Jt.jsx)(Zt,{className:"w-28 h-28 text-yellow-500 mx-auto mb-6"}),(0,Jt.jsx)("h2",{className:"text-4xl font-black text-gray-900 mb-4",children:"Review Complete! \ud83c\udf89"}),(0,Jt.jsx)("p",{className:"text-xl text-gray-600 mb-8",children:"Great work reinforcing your knowledge!"}),(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-6 sm:p-8 mb-8 border-2 border-blue-200 shadow-lg",children:(0,Jt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 sm:gap-6",children:[(0,Jt.jsxs)("div",{className:"text-center sm:text-left",children:[(0,Jt.jsx)("p",{className:"text-gray-600 text-sm mb-2",children:"Score"}),(0,Jt.jsxs)("p",{className:"text-2xl sm:text-4xl font-black text-blue-600",children:[e,"%"]})]}),(0,Jt.jsxs)("div",{className:"text-center sm:text-left",children:[(0,Jt.jsx)("p",{className:"text-gray-600 text-sm mb-2",children:"Correct"}),(0,Jt.jsxs)("p",{className:"text-2xl sm:text-4xl font-black text-green-600",children:[p,"/",x]})]}),(0,Jt.jsxs)("div",{className:"text-center sm:text-left",children:[(0,Jt.jsx)("p",{className:"text-gray-600 text-sm mb-2",children:"XP Earned"}),(0,Jt.jsxs)("p",{className:"text-2xl sm:text-4xl font-black text-yellow-600",children:["+",t]})]})]})}),e>=80?(0,Jt.jsx)("p",{className:"text-lg text-green-700 mb-6",children:"\u2b50 Excellent! You've mastered this material."}):e>=60?(0,Jt.jsx)("p",{className:"text-lg text-blue-700 mb-6",children:"\ud83c\udf3f Good work! Keep reviewing to strengthen your understanding."}):(0,Jt.jsx)("p",{className:"text-lg text-yellow-700 mb-6",children:"\ud83c\udf31 Consider reviewing this lesson again to improve retention."}),(0,Jt.jsx)("button",{onClick:N,className:"px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-2xl font-bold hover:from-blue-600 hover:to-purple-700 transition shadow-lg text-lg",children:"Continue"})]})})})}return(0,Jt.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-20",children:[(0,Jt.jsx)("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10 shadow-sm",children:(0,Jt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Jt.jsxs)("button",{onClick:o,className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 transition font-medium",children:[(0,Jt.jsx)(sn,{className:"w-5 h-5"}),(0,Jt.jsx)("span",{className:"hidden sm:inline",children:"Exit"})]}),(0,Jt.jsx)("div",{className:"flex items-center gap-3",children:(0,Jt.jsxs)("div",{className:"flex items-center gap-2 bg-gradient-to-r from-purple-400 to-purple-500 px-4 py-2 rounded-2xl shadow-md",children:[(0,Jt.jsx)(en,{className:"w-5 h-5 text-white fill-white"}),(0,Jt.jsxs)("span",{className:"font-bold text-white text-lg",children:[5*p," XP"]})]})})]}),(0,Jt.jsx)("div",{className:"relative",children:(0,Jt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-600 h-4 rounded-full transition-all duration-500 shadow-lg",style:{width:"".concat(v,"%")}})})}),(0,Jt.jsxs)("div",{className:"text-center mt-2 text-sm font-semibold text-gray-600",children:["Question ",l+1," / ",x]})]})}),(0,Jt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,Jt.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden min-h-[500px]",children:["quiz"===k.type&&(0,Jt.jsx)(Cn,{card:k,questionIndex:l,answer:d[l],showFeedback:h[l],onAnswer:w}),"fillblank"===k.type&&(0,Jt.jsx)(Sn,{card:k,questionIndex:l,answer:d[l],showFeedback:h[l],onAnswer:w})]}),(0,Jt.jsx)("div",{className:"flex justify-end mt-8",children:h[l]&&(0,Jt.jsxs)("button",{onClick:()=>{if(l<x-1)c(l+1);else{const e=Math.round(p/x*100);(async(e,t,n)=>{const r=bn();if(!r)return void console.warn("Cannot mark review complete - user not logged in");const i=vn(e,t);try{const e=(0,gn.doc)(yn.db,"users",r.uid,"reviewSchedule",i),t=await(0,gn.x7)(e);if(!t.exists())return void console.warn("Review schedule not found for",i);const s=t.data(),a=s.reviews.find(e=>!e.completed);if(a){a.completed=!0,a.completedDate=(new Date).toISOString(),a.score=n;const t=s.reviews.filter(e=>e.completed).length;s.masteryLevel=t,await(0,gn.BN)(e,s),console.log("\u2705 Review marked complete in Firestore:",i)}}catch(s){console.error("Error marking review complete:",s)}})(i,s,e),y(!0)}},className:"flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-2xl font-bold hover:from-purple-600 hover:to-pink-700 transition shadow-lg hover:shadow-xl text-lg",children:[l<x-1?"Next Question":"Finish Review",(0,Jt.jsx)(rn,{className:"w-5 h-5"})]})})]})]})},An={id:1,title:"The Beginning: Early Christianity",subtitle:"How it all started (33-313 AD)",duration:"8 min",cards:[{type:"content",title:"Welcome to Church History",subtitle:"\u23f1\ufe0f About 8 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand how Christianity began after Jesus's resurrection and grew from a small Jewish sect into the Roman Empire's official religion.","Welcome to your journey through church history. This lesson explores how Christianity began and grew in its first few centuries.","We'll discover how Jesus's disciples became the apostles, how Christianity spread across the Roman Empire despite persecution, and how early Christians established the foundations of faith we still follow today.","If you're new to this topic, we'll start with the basics and build from there."],highlight:"\ud83d\udcad Curious: What do you already know about early Christianity?",requireAcknowledgment:!0},{type:"content",title:"The Apostolic Age (33-100 AD)",content:["After Jesus's resurrection and ascension, his disciples (now called apostles) began spreading his teachings.","The Day of Pentecost (Acts 2) marked the birth of the church, where the Holy Spirit empowered the apostles to preach boldly. Peter emerged as a key leader in Jerusalem.",'Meanwhile, Paul (formerly Saul, a persecutor of Christians) became the "apostle to the Gentiles" after his dramatic conversion. His missionary journeys throughout the Roman Empire established churches in major cities like Corinth, Ephesus, and Rome.',"The apostles wrote letters (epistles) to these churches, many of which became books of the New Testament."]},{type:"quiz",question:"What event marked the birth of the Christian church?",options:["The resurrection of Jesus","The Day of Pentecost","The Council of Nicaea","Paul's conversion"],correctAnswer:1,explanation:"The Day of Pentecost (Acts 2) is considered the birthday of the church, when the Holy Spirit came upon the apostles and Peter preached his first sermon, resulting in 3,000 new believers."},{type:"quiz",question:'Who was known as the "apostle to the Gentiles"?',options:["Peter","John","Paul","James"],correctAnswer:2,explanation:"Paul (formerly Saul) became known as the apostle to the Gentiles after his conversion. He went on extensive missionary journeys throughout the Roman Empire, establishing churches and writing many New Testament letters."},{type:"content",title:"Persecution and Growth (100-313 AD)",content:["Christianity was illegal in the Roman Empire and faced periodic persecution. Romans viewed Christians with suspicion because they refused to worship the emperor or Roman gods.","Despite this, Christianity grew rapidly among slaves, women, and the urban poor. Christians met secretly in homes and catacombs.","Martyrs like Polycarp and Perpetua inspired others through their faithful deaths. By 300 AD, an estimated 10% of the Roman Empire was Christian."],highlight:"\ud83d\udca1 Key Insight: Persecution didn't stop Christianity - it actually helped it grow as people were inspired by believers' courage."},{type:"content",title:"The Ecumenical Councils",content:["As Christianity grew, disagreements arose about core beliefs. The Council of Nicaea (325 AD) was convened by Emperor Constantine to address the Arian controversy.","The debate: Was Jesus fully God or a created being?",'The council produced the **Nicene Creed**, affirming Jesus as "true God from true God, begotten not made."',"Later councils clarified the nature of the Trinity, the person of Christ (fully God and fully human), and which books belonged in the Bible."]},{type:"quiz",question:"What was the main issue addressed at the Council of Nicaea in 325 AD?",options:["Which books belong in the Bible","Whether Christians should worship on Saturday or Sunday","Whether Jesus was fully God or a created being","How to organize church leadership"],correctAnswer:2,explanation:'The Council of Nicaea addressed the Arian controversy, which questioned whether Jesus was fully God or a created being. The council affirmed that Jesus is "true God from true God, begotten not made," establishing the doctrine of Christ\'s full divinity.'},{type:"matching",title:"Match the Historical Events",pairs:[{term:"Day of Pentecost",definition:"Birth of the Christian church"},{term:"Paul's journeys",definition:"Spread Christianity across Roman Empire"},{term:"Council of Nicaea",definition:"Affirmed Jesus is fully God (325 AD)"},{term:"Edict of Milan",definition:"Legalized Christianity (313 AD)"}]},{type:"content",title:"From Persecution to Power",content:["Everything changed in **313 AD** when Emperor Constantine legalized Christianity with the Edict of Milan.","By 380 AD, Christianity became the official religion of the Roman Empire under Emperor Theodosius.","This shift brought both blessings and challenges. Churches could worship openly and own property, but the faith also became intertwined with political power.","Some Christians fled to the desert to become monks, seeking a purer faith away from worldly influence."]},{type:"quiz",question:"When did Christianity become legal in the Roman Empire?",options:["33 AD","313 AD","380 AD","476 AD"],correctAnswer:1,explanation:"In 313 AD, Emperor Constantine issued the Edict of Milan, which legalized Christianity and ended persecution. This was a major turning point that allowed Christians to worship openly."},{type:"fillblank",prompt:"In _______ AD, Christianity became the official religion of the Roman Empire.",correctAnswer:"380",explanation:"In 380 AD, Emperor Theodosius made Christianity the official religion of the Roman Empire, completing the transformation from a persecuted minority to the dominant faith."},{type:"quiz",question:"Why did some Christians become desert monks in the 4th century?",options:["They were fleeing persecution","They wanted to find gold in the desert","They sought a purer faith away from the church's new political power","They were spreading Christianity to nomadic tribes"],correctAnswer:2,explanation:"When Christianity became the official religion of Rome in 380 AD, some Christians felt the faith had become too worldly and politically entangled. They fled to the desert to live as monks, seeking a simpler, purer spiritual life focused on prayer and devotion."},{type:"content",title:"Connecting to Today",content:["The early church established patterns that still shape Christianity:","\u2022 The **apostolic succession** claimed by Catholic and Orthodox churches","\u2022 The **creeds** (like the Nicene Creed) we still recite","\u2022 The **New Testament** books chosen by early church councils","\u2022 The tradition of **martyrdom** as ultimate witness to faith","When you recite the Apostles' Creed or Nicene Creed, you're speaking words that unite you with Christians across 2,000 years."],highlight:"\ud83d\udcad Reflection: What surprises you most about how Christianity began?"},{type:"completion",title:"Lesson Complete!",message:"You've learned about the birth and early growth of Christianity from the Day of Pentecost to becoming the Roman Empire's official religion. Great work!",keyTakeaways:["Christianity began at Pentecost (33 AD) and spread rapidly despite severe persecution","Paul's missionary journeys established churches across the Roman Empire","Constantine's Edict of Milan (313 AD) ended persecution and made Christianity legal, eventually becoming the empire's official religion"],badge:{icon:"\ud83c\udfdb\ufe0f",name:"Early Church Explorer",description:"Completed The Beginning: Early Christianity"}}]},En={id:2,title:"The Great Divide: East vs West",subtitle:"Understanding the 1054 split",duration:"7 min",cards:[{type:"content",title:"Welcome to Lesson 2!",subtitle:"\u23f1\ufe0f About 7 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand the causes and consequences of the 1054 split between Eastern Orthodox and Western Catholic Christianity.","This lesson explores one of Christianity's most significant moments: when the church split into Eastern (Orthodox) and Western (Catholic) branches.","This wasn't a sudden break but rather centuries of growing differences in culture, language, and theology.","By the end, you'll understand why the church divided and how Orthodox and Catholic traditions differ today."],highlight:"\ud83d\udcad Wonder: Have you noticed differences between Catholic and Orthodox churches?",requireAcknowledgment:!0},{type:"content",title:"Two Worlds Drifting Apart",content:["When the Roman Empire split into East and West in **395 AD**, it created two distinct Christian cultures.","The **Western church** (centered in Rome) used Latin and was influenced by Roman legal thinking.","The **Eastern church** (centered in Constantinople) used Greek and was influenced by Greek philosophy.","As Germanic tribes overran the West and new Islamic empires rose in the East, the two halves of Christianity had increasingly different experiences."]},{type:"quiz",question:"When did the Roman Empire split into East and West, creating two distinct Christian cultures?",options:["313 AD","395 AD","1054 AD","1517 AD"],correctAnswer:1,explanation:"The Roman Empire officially split into Eastern and Western halves in 395 AD. This political division eventually led to cultural and theological differences between Eastern and Western Christianity."},{type:"content",title:"The Filioque Controversy",content:['The breaking point came over a single Latin word: **"filioque"** - meaning "and the Son."','The Nicene Creed originally said the Holy Spirit proceeds "from the Father." Western churches added "and the Son" (filioque) without consulting the East.',"To Eastern Christians, this wasn't just about grammar - it changed the doctrine of the Trinity and violated the principle that only ecumenical councils could modify creeds.","The West argued the addition clarified orthodox belief and had been used for centuries."],highlight:"\ud83d\udca1 This seemingly technical debate represented a fundamental disagreement about church authority."},{type:"quiz",question:'What does the Latin word "filioque" mean?',options:["From the Father","And the Son","Holy Spirit","One God"],correctAnswer:1,explanation:'"Filioque" means "and the Son." This was added to the Nicene Creed by Western churches to say the Holy Spirit proceeds from the Father "and the Son," which became a major point of contention with the East.'},{type:"content",title:"The 1054 Split",content:["In 1054, tensions exploded. Pope Leo IX sent Cardinal Humbert to Constantinople to assert papal authority.","Patriarch Michael Cerularius of Constantinople refused to acknowledge the Pope's supremacy.","On **July 16, 1054**, Humbert stormed into the Hagia Sophia during worship and slammed a bull of excommunication on the altar, condemning Cerularius.","The Patriarch responded by excommunicating the papal legates. The Great Schism had begun.","Crusaders sacking Constantinople in 1204 deepened the wound, making reconciliation even more difficult."]},{type:"quiz",question:"What happened on July 16, 1054, that symbolized the Great Schism?",options:["The Pope died","Cardinal Humbert excommunicated Patriarch Cerularius","Constantinople was conquered","A new creed was written"],correctAnswer:1,explanation:"On July 16, 1054, Cardinal Humbert entered the Hagia Sophia and placed a bull of excommunication against Patriarch Michael Cerularius on the altar. The Patriarch responded with his own excommunication, marking the formal beginning of the Great Schism."},{type:"matching",title:"Match the Key Figures",pairs:[{term:"Filioque",definition:'Latin phrase meaning "and the Son"'},{term:"Patriarch Cerularius",definition:"Eastern Orthodox leader excommunicated in 1054"},{term:"Cardinal Humbert",definition:"Papal representative who placed excommunication on altar"},{term:"Hagia Sophia",definition:"Great cathedral in Constantinople where split occurred"}]},{type:"content",title:"Different Paths Forward",content:["After 1054, Eastern Orthodoxy and Roman Catholicism developed separately.","**Orthodox structure:** Multiple patriarchs with no single earthly head of the church (conciliar leadership).","**Catholic structure:** Centralized power in the papacy.","**Orthodox theology:** Emphasized mysticism, theosis (becoming one with God), and continuity with the early church.","**Catholic theology:** Developed systematic scholasticism, particularly through Thomas Aquinas."]},{type:"quiz",question:"How is church leadership structured differently in Orthodoxy versus Catholicism?",options:["Orthodox have a Pope, Catholics have patriarchs","Both have identical structures","Orthodox have multiple patriarchs with no single earthly head, Catholics have papal centralization","Orthodox churches have no leaders"],correctAnswer:2,explanation:"Eastern Orthodoxy maintains a conciliar structure with multiple patriarchs (Constantinople, Moscow, Alexandria, etc.) and no single earthly head of the church. Roman Catholicism centralizes authority in the Pope as the head of the worldwide church."},{type:"fillblank",prompt:"In _______ AD, Catholic Crusaders sacked Constantinople, deepening the rift between East and West.",correctAnswer:"1204",explanation:"In 1204, Catholic Crusaders on the Fourth Crusade sacked Constantinople, pillaging the Orthodox capital and desecrating churches. This betrayal deepened hostility between East and West."},{type:"content",title:"Understanding Today",content:["Despite their split, Eastern Orthodox and Roman Catholic churches share much in common:","\u2713 Both affirm the ancient creeds","\u2713 Both practice seven sacraments","\u2713 Both claim apostolic succession","\u2713 Both honor Mary and the saints","The main differences lie in church governance (papal vs. conciliar), some theological nuances (like the filioque), and worship styles."],highlight:"\ud83d\udcad Reflection: Can you think of examples where language and cultural differences led to divisions?"},{type:"completion",title:"Well Done!",message:"You've learned about the Great Schism of 1054 and how Eastern Orthodox and Western Catholic Christianity developed differently. You understand the historical, cultural, and theological factors behind this split.",keyTakeaways:["The 1054 Great Schism split Christianity into Eastern (Orthodox) and Western (Catholic) branches","Key differences included the Filioque controversy, papal authority, and worship practices","Cultural and linguistic differences (Greek East vs. Latin West) contributed to the growing divide"],badge:{icon:"\u26ea",name:"Schism Scholar",description:"Completed The Great Divide: East vs West"}}]},Pn={id:3,title:"The Reformation: A Revolution in Faith",subtitle:"Martin Luther and the Protestant movement",duration:"9 min",cards:[{type:"content",title:"Welcome to Lesson 3!",subtitle:"\u23f1\ufe0f About 9 minutes",content:['**Learning Objective:** By the end of this lesson, you will understand how Martin Luther sparked the Protestant Reformation and what the "Five Solas" mean.',"This lesson covers one of history's most dramatic religious movements.","In 1517, a German monk named Martin Luther challenged the Catholic Church's practices and sparked a revolution that would reshape Christianity forever.","You'll discover why it happened, what changed, and how the Protestant Reformation split Western Christianity permanently."],highlight:"\ud83d\udcad Think: What would it take to challenge a powerful institution like the medieval Church?",requireAcknowledgment:!0},{type:"content",title:"The Spark: Indulgences",content:["In 1517, Pope Leo X needed money to rebuild St. Peter's Basilica in Rome. He authorized the sale of **indulgences** - certificates that supposedly reduced time in purgatory.",'Johann Tetzel, a monk selling indulgences in Germany, allegedly used the slogan: "As soon as a coin in the coffer rings, a soul from purgatory springs!"',"Martin Luther, a professor and monk in Wittenberg, was outraged. On **October 31, 1517**, he posted 95 Theses (academic arguments) on the church door.","He argued that salvation couldn't be bought - it was a free gift from God received through faith."]},{type:"quiz",question:"What were indulgences that Martin Luther opposed?",options:["Certificates to skip church services","Payments to reduce time in purgatory","Tickets to visit holy sites","Donations for new church buildings only"],correctAnswer:1,explanation:"Indulgences were certificates sold by the Catholic Church that supposedly reduced time in purgatory for the buyer or deceased loved ones. Luther opposed them as a corruption that made salvation something that could be purchased."},{type:"content",title:"The Five Solas",content:['Luther\'s theology coalesced into five Latin slogans called the "Five Solas":',"1. **Sola Scriptura** (Scripture Alone) - the Bible, not church tradition, is the final authority","2. **Sola Fide** (Faith Alone) - we're saved by trusting Christ, not by good works","3. **Sola Gratia** (Grace Alone) - salvation is entirely God's unmerited gift","4. **Solus Christus** (Christ Alone) - Jesus is the only mediator, no need for saints or priests","5. **Soli Deo Gloria** (Glory to God Alone) - all praise goes to God, not the church"],highlight:"\ud83d\udca1 These principles became the foundation for all Protestant theology."},{type:"quiz",question:'What does "Sola Scriptura" mean?',options:["Faith Alone","Grace Alone","Scripture Alone","Christ Alone"],correctAnswer:2,explanation:'"Sola Scriptura" means "Scripture Alone," teaching that the Bible - not church tradition or papal decrees - is the final authority for Christian faith and practice.'},{type:"content",title:"Luther's Stand at Worms",content:["In 1521, Luther was summoned to the Diet of Worms (an imperial assembly) to recant his teachings.","When asked to renounce his writings, Luther famously replied:",'"Unless I am convinced by Scripture and plain reason, I cannot and will not recant. **Here I stand, I can do no other. God help me. Amen.**"',"He was declared an outlaw and heretic, but German princes protected him.","While hiding in Wartburg Castle, Luther translated the New Testament into German, making the Bible accessible to ordinary people."]},{type:"quiz",question:'Where did Luther famously say "Here I stand, I can do no other"?',options:["At the church door in Wittenberg","At the Diet of Worms","In Wartburg Castle","At the Vatican"],correctAnswer:1,explanation:"Luther made this famous statement at the Diet of Worms in 1521 when he was ordered to recant his teachings. He refused to renounce his beliefs unless convinced by Scripture and reason."},{type:"matching",title:"Match the Reformers",pairs:[{term:"Martin Luther",definition:"Posted 95 Theses, translated Bible to German"},{term:"Johann Tetzel",definition:"Sold indulgences with catchy slogans"},{term:"John Calvin",definition:"Developed systematic theology emphasizing predestination"},{term:"Ulrich Zwingli",definition:"Led reform in Zurich, Switzerland"}]},{type:"quiz",question:"What did Luther translate while hiding in Wartburg Castle?",options:["The Catholic Mass into German","Ancient Greek philosophy","The New Testament into German","The Pope's letters"],correctAnswer:2,explanation:"While in hiding at Wartburg Castle, Luther translated the New Testament from Greek into German, making the Bible accessible to ordinary German-speaking people for the first time."},{type:"content",title:"The Spread of Reform",content:["Luther wasn't alone. Ulrich Zwingli led reform in Zurich, Switzerland. John Calvin in Geneva developed a more systematic Protestant theology.","Calvin emphasized God's sovereignty and **predestination** (the doctrine that God has already chosen who will be saved).","Calvin's ideas spread to Scotland (Presbyterianism), the Netherlands (Dutch Reformed), France (Huguenots), and eventually America.","The Reformation fractured Western Christianity permanently. By 1555, the Peace of Augsburg established that each prince would decide whether his territory would be Catholic or Lutheran."]},{type:"fillblank",prompt:"Martin Luther posted his 95 Theses on October 31, _______.",correctAnswer:"1517",explanation:"October 31, 1517, is the date Luther posted his 95 Theses challenging indulgences - the traditional start of the Protestant Reformation."},{type:"quiz",question:"Who developed the systematic Protestant theology emphasizing predestination?",options:["Martin Luther","Ulrich Zwingli","John Calvin","Henry VIII"],correctAnswer:2,explanation:"John Calvin, working in Geneva, developed a more systematic Protestant theology that emphasized God's sovereignty and predestination. His ideas became the foundation for Reformed and Presbyterian churches."},{type:"content",title:"The Reformation Today",content:["The Reformation's impact is still felt:","\u2713 Protestant denominations emphasize **Scripture alone** as authority","\u2713 The concept of the **priesthood of all believers** - every Christian can approach God directly","\u2713 **Vernacular Bibles** - Scripture in everyday languages","\u2713 Emphasis on **personal faith** rather than ritual alone"],highlight:"\ud83d\udcad Reflection: Why do you think Luther's message resonated with so many people?"},{type:"completion",title:"Reformation Complete!",message:"You've learned about Martin Luther, the 95 Theses, the Five Solas, and how the Protestant Reformation permanently changed Christianity. Excellent work!",keyTakeaways:["Martin Luther's 95 Theses (1517) challenged indulgences and sparked the Protestant Reformation","The Five Solas (Scripture Alone, Faith Alone, Grace Alone, Christ Alone, Glory to God Alone) became Protestant theology's foundation","The Reformation split Western Christianity into Catholic and Protestant branches"],badge:{icon:"\ud83d\udcdc",name:"Reformation Scholar",description:"Completed The Reformation Explosion"}}]},In={id:4,title:"The Middle Way: Anglicans & Methodists",subtitle:"Finding balance between Catholic and Protestant",duration:"8 min",cards:[{type:"content",title:"Welcome to Lesson 4!",subtitle:"\u23f1\ufe0f About 8 minutes",content:['**Learning Objective:** By the end of this lesson, you will understand how Anglicanism and Methodism emerged as "middle way" traditions between Catholicism and Protestantism.',"Not all reformers wanted to completely break from Catholic tradition.",'This lesson explores two traditions that tried to find a "middle way" - keeping some Catholic practices while embracing Protestant theology.',"You'll learn about the English Reformation under Henry VIII and the Methodist revival led by John Wesley."],highlight:'\ud83d\udcad Consider: Can you find a "middle way" between opposing views?',requireAcknowledgment:!0},{type:"content",title:"Henry VIII and the English Reformation",content:["The English Reformation began for political, not theological reasons.","King Henry VIII wanted to annul his marriage to Catherine of Aragon (who hadn't given him a male heir), but Pope Clement VII refused.","So Henry broke from Rome in **1534**, declaring himself Supreme Head of the Church of England.","Initially, Henry remained theologically Catholic - he just rejected papal authority. The church became more Protestant under his successors."]},{type:"quiz",question:"Why did the English Reformation begin under Henry VIII?",options:["He wanted to reform church theology","He wanted to annul his marriage but the Pope refused","He was converting to Protestantism","He wanted to spread the gospel to England"],correctAnswer:1,explanation:"Henry VIII broke from Rome primarily because Pope Clement VII refused to annul his marriage to Catherine of Aragon. The English Reformation began for political/personal reasons, not theological ones."},{type:"content",title:"The Anglican Via Media",content:['Anglicanism is sometimes called "reformed Catholicism." It retained:',"\u2713 Bishops in apostolic succession","\u2713 Liturgical worship (the Book of Common Prayer)","\u2713 Beautiful church architecture","But adopted Protestant theology:","\u2713 Scripture as supreme authority","\u2713 Justification by faith","\u2713 Only two sacraments (Baptism and Eucharist)",'The Anglican "three-legged stool" balances Scripture, Tradition, and Reason.'],highlight:'\ud83d\udca1 "Via media" means "middle way" - a balance between Catholic and Protestant'},{type:"quiz",question:'What does the Anglican "via media" mean?',options:["Mass in Latin","The middle way between Catholic and Protestant","The path to heaven","Weekly communion"],correctAnswer:1,explanation:'"Via media" means "middle way" - Anglicanism\'s attempt to balance Catholic structure and ritual with Protestant theology.'},{type:"quiz",question:"What are the three sources of authority in Anglican theology?",options:["Pope, Bishops, Priests","Faith, Hope, Love","Scripture, Tradition, Reason","Prayer, Fasting, Almsgiving"],correctAnswer:2,explanation:'Anglicanism balances three sources of authority in its "three-legged stool": Scripture (the Bible), Tradition (church history and practice), and Reason (rational thought and experience).'},{type:"matching",title:"Match the English Reformation Figures",pairs:[{term:"Henry VIII",definition:"Broke from Rome to annul his marriage"},{term:"Elizabeth I",definition:"Established the Elizabethan Settlement"},{term:"Thomas Cranmer",definition:"Created the Book of Common Prayer"},{term:"Mary I",definition:'Tried to restore Catholicism, earned "Bloody Mary" nickname'}]},{type:"content",title:"John Wesley and Methodist Revival",content:['John Wesley (1703-1791), an Anglican priest, experienced a spiritual awakening in 1738 when his heart was "strangely warmed" at a meeting on Aldersgate Street, London.',"He began preaching about personal conversion, holiness, and social reform.","When Anglican churches closed their doors to him, Wesley took his message outdoors, preaching to coal miners and the poor.","Wesley emphasized: God's grace enables everyone to respond, personal holiness should follow justification, and faith without works is dead."]},{type:"quiz",question:"Where did John Wesley have his spiritual awakening in 1738?",options:["Oxford University","Aldersgate Street, London","Georgia, America","Canterbury Cathedral"],correctAnswer:1,explanation:'Wesley\'s heart was "strangely warmed" at a meeting on Aldersgate Street in London in 1738. This experience led to his evangelical awakening and the Methodist movement.'},{type:"content",title:"Social Holiness",content:['Wesley famously said, "There is no holiness but social holiness."',"Methodists pioneered social reform:","\u2022 Opposing slavery","\u2022 Improving prison conditions","\u2022 Educating the poor","\u2022 Caring for widows and orphans","This emphasis on both personal piety and social justice became Methodist DNA.","In America, Methodism exploded during the Second Great Awakening, becoming the largest Protestant denomination."]},{type:"quiz",question:'What did Wesley mean by "social holiness"?',options:["Christians should avoid society","Holiness includes serving the poor and reforming society","Church services should be social events","Only monks can be truly holy"],correctAnswer:1,explanation:'Wesley taught "there is no holiness but social holiness" - meaning genuine Christian faith must express itself in serving others and working for social reform, not just personal piety.'},{type:"fillblank",prompt:"Henry VIII broke from Rome in _______, declaring himself Supreme Head of the Church of England.",correctAnswer:"1534",explanation:"In 1534, Henry VIII passed the Act of Supremacy, declaring himself Supreme Head of the Church of England and breaking from papal authority."},{type:"content",title:"Their Legacy Today",content:['**Anglicans** maintain formal liturgy while allowing theological diversity - "High Church" looks Catholic, "Low Church" looks Protestant.',"**Methodists** continue emphasizing personal transformation and social action - they built universities (Duke, Emory, Northwestern) and countless social service organizations.","Both traditions show you can be reformed without abandoning all tradition, and you can be liturgical without being rigid."],highlight:"\ud83d\udcad Reflection: What are the advantages of trying to blend Catholic and Protestant elements?"},{type:"completion",title:"Middle Way Mastered!",message:"You've learned about the Anglican via media and Methodist social holiness - two traditions that sought balance between Catholic tradition and Protestant reform.",keyTakeaways:['Anglicanism began with Henry VIII\'s break from Rome (1534) for political reasons, developing into a "via media" between Catholic and Protestant',"John Wesley founded Methodism emphasizing personal holiness, small group accountability, and social justice","Both traditions show you can blend Catholic liturgical elements with Protestant theology"],badge:{icon:"\ud83d\udd4a\ufe0f",name:"Middle Way Explorer",description:"Completed Anglicans & Methodists"}}]},_n={id:5,title:"Believer's Baptism: Baptists & Anabaptists",subtitle:"Radical reformation and religious freedom",duration:"7 min",cards:[{type:"content",title:"Welcome to Lesson 5",subtitle:"\u23f1\ufe0f About 7 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand believer's baptism, Anabaptist principles, and how these radical reformers shaped religious freedom.","Some reformers believed Luther and others didn't go far enough in their reforms.","This lesson explores traditions that took more radical stances on baptism, church-state separation, and religious freedom.","These groups were often persecuted, but their ideas eventually shaped modern concepts of religious liberty."],highlight:"\ud83d\udcad Question: Should church and state be completely separate?",requireAcknowledgment:!0},{type:"content",title:"The Radical Reformation: Anabaptists",content:["While Luther and Calvin reformed the church, a more radical group emerged in Switzerland in the 1520s.",'Called **"Anabaptists"** (re-baptizers) by their opponents, they rejected infant baptism. Only believers who consciously chose to follow Christ should be baptized.',"Anabaptists believed the church should be a voluntary community of committed believers, separate from the state.","They refused to swear oaths, serve in the military, or hold government office.","Both Catholics and Protestants saw this as dangerous. Thousands of Anabaptists were martyred - ironically, many were drowned in mockery of their baptism practices."]},{type:"quiz",question:'What does "Anabaptist" literally mean?',options:["Against baptism","Re-baptizer","Water believers","True baptism"],correctAnswer:1,explanation:'"Anabaptist" means "re-baptizer." This name was given by their opponents because Anabaptists baptized adults who had already been baptized as infants, which others saw as rebaptism.'},{type:"content",title:"Baptist Origins and Growth",content:["Baptists emerged independently in England in the early 1600s.","John Smyth, an Anglican priest turned Separatist, baptized himself and then his congregation in Amsterdam in 1609, forming the first Baptist church.","Baptists emphasized:","1. Believer's baptism by immersion","2. **Soul competency** - each person can read Scripture for themselves","3. Priesthood of all believers","4. Congregational autonomy - each church governs itself","5. Religious liberty for ALL"]},{type:"quiz",question:'What is "soul competency" in Baptist theology?',options:["Only educated people can be saved","Each person can read and understand Scripture for themselves","Souls must compete for salvation","Priests must interpret the Bible for laypeople"],correctAnswer:1,explanation:"Soul competency is the Baptist belief that each individual can read, understand, and apply Scripture for themselves without needing a priest or church hierarchy to interpret it for them."},{type:"content",title:"Church-State Separation",content:["Both Anabaptists and Baptists pioneered the radical idea that church and state should be completely separate.","In their era, this was revolutionary. Most believed society needed one official religion.","But Baptists argued that faith coerced isn't genuine faith.",'Thomas Helwys wrote to King James I: "The king is a mortal man, and not God, therefore hath no power over immortal souls."',"This bold statement landed Helwys in prison, where he died. Yet Baptist ideas influenced the American founders."],highlight:'\ud83d\udca1 The "wall of separation" between church and state reflected Baptist theology'},{type:"quiz",question:"Who founded Rhode Island as a haven for religious freedom?",options:["John Smyth","Menno Simons","Roger Williams","Thomas Helwys"],correctAnswer:2,explanation:"Roger Williams, a Baptist minister, founded Rhode Island in 1636 as a colony based on religious freedom after being expelled from Massachusetts for his radical views on liberty of conscience."},{type:"matching",title:"Match the Terms",pairs:[{term:"Anabaptist",definition:"Re-baptizers who rejected infant baptism"},{term:"Soul Competency",definition:"Each person can understand Scripture for themselves"},{term:"Mennonites",definition:"Anabaptist group following Menno Simons"},{term:"Roger Williams",definition:"Founded Rhode Island for religious freedom"}]},{type:"quiz",question:"How did many Anabaptists die during persecution?",options:["Burning at the stake","Drowning (in mockery of their baptism practices)","Beheading","Exile to distant lands"],correctAnswer:1,explanation:"Many Anabaptists were drowned by both Catholic and Protestant authorities, ironically mocking their emphasis on baptism by immersion. Thousands were martyred in the 1500s."},{type:"content",title:"Baptist Diversity & Anabaptist Community",content:["**Today's Baptists** are remarkably diverse:","\u2022 Southern Baptists emphasize evangelism","\u2022 American Baptists are more moderate","\u2022 Black Baptist churches have been centers of civil rights activism","**Anabaptist communities** like the Amish, Mennonites, and Hutterites maintain distinctive lifestyles:","\u2022 Distinctive dress","\u2022 Resist modern technology (especially Amish)","\u2022 Practice pacifism","\u2022 Emphasize community discipline"]},{type:"quiz",question:"Which modern groups descended from the Anabaptist movement?",options:["Presbyterians and Methodists","Amish, Mennonites, and Hutterites","Lutherans and Anglicans","Pentecostals and Charismatics"],correctAnswer:1,explanation:"The Amish, Mennonites, and Hutterites all descended from the Anabaptist movement. They maintain distinctive communities emphasizing pacifism, simple living, and separation from mainstream society."},{type:"fillblank",prompt:"John Smyth baptized himself and formed the first Baptist church in _______ in 1609.",correctAnswer:"Amsterdam",explanation:"John Smyth baptized himself and his congregation in Amsterdam in 1609, forming the first recognizably Baptist church."},{type:"content",title:"Their Legacy",content:["Both Anabaptists and Baptists contributed crucial ideas we now take for granted:","\u2713 Voluntary church membership","\u2713 Separation of church and state","\u2713 Religious freedom for all","\u2713 Individual interpretation of Scripture","The First Amendment's guarantee of religious freedom owes much to Baptist advocacy."],highlight:"\ud83d\udcad Reflection: Why do you think baptism became such a divisive issue?"},{type:"completion",title:"Radical Reformation Complete!",message:"You've learned about Anabaptists and Baptists, their commitment to believer's baptism, and their pioneering role in establishing religious freedom!",keyTakeaways:["Anabaptists rejected infant baptism, insisting only believers who can make a conscious choice should be baptized","Baptists championed separation of church and state and voluntary church membership",'These "radical" reformers laid groundwork for modern religious freedom despite facing persecution'],badge:{icon:"\ud83d\udca7",name:"Freedom Fighter",description:"Completed Believer's Baptism lesson"}}]},Rn={id:6,title:"The Spirit Moves: Pentecostals & Holiness",subtitle:"Revival, spiritual gifts, and transformation",duration:"8 min",cards:[{type:"content",title:"Welcome to Lesson 6",subtitle:"\u23f1\ufe0f About 8 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand the Holiness movement's emphasis on sanctification and Pentecostalism's focus on spiritual gifts.","In the late 1800s and early 1900s, powerful revival movements swept across America and beyond.","These movements emphasized emotional worship, spiritual gifts, and complete personal transformation.","You'll learn about the Holiness movement and the rapid growth of Pentecostalism."],highlight:"\ud83d\udcad Reflect: What role do emotions play in your worship?",requireAcknowledgment:!0},{type:"content",title:"The Holiness Movement",content:["The Holiness movement emerged in the mid-1800s, mainly within Methodism.",'They emphasized Wesley\'s teaching about **"entire sanctification"** or "Christian perfection."','Holiness preachers taught that after conversion, believers could experience a "second work of grace" - a moment when God completely cleansed them from the inclination to sin.',"Camp meetings featured fervent preaching, emotional testimonies, and altar calls.","Women found leadership opportunities often denied in other traditions. Phoebe Palmer became a leading Holiness evangelist in the 1850s."]},{type:"quiz",question:'What is "entire sanctification" in Holiness theology?',options:["Being baptized as an infant","A second work of grace that completely cleanses from the inclination to sin","Becoming a church member","Reading the entire Bible"],correctAnswer:1,explanation:'Entire sanctification is the Holiness teaching that after conversion, believers can experience a "second work of grace" where God completely cleanses them from the inclination to sin, enabling them to live in holiness.'},{type:"content",title:"Azusa Street: Pentecostalism is Born",content:["On **April 9, 1906**, at a humble mission on Azusa Street in Los Angeles, something unprecedented happened.","Under William J. Seymour, an African American Holiness preacher and son of freed slaves, believers began **speaking in tongues** - utterances in languages they'd never learned.",'Seymour taught this was evidence of "baptism in the Holy Spirit," a third experience after conversion and sanctification.',"The Azusa Street Revival ran for three years, with services sometimes lasting all day.",'Remarkably for segregated America, the revival was racially integrated. Seymour\'s vision: "The color line was washed away by the blood."']},{type:"quiz",question:"Where and when did the famous Azusa Street Revival take place?",options:["New York City, 1890","Los Angeles, 1906","Chicago, 1920","Atlanta, 1915"],correctAnswer:1,explanation:"The Azusa Street Revival began on April 9, 1906, in Los Angeles at a humble mission led by William J. Seymour. It ran for three years and launched global Pentecostalism."},{type:"quiz",question:"Who led the Azusa Street Revival?",options:["Billy Graham","Charles Finney","William J. Seymour","John Wesley"],correctAnswer:2,explanation:"William J. Seymour, an African American Holiness preacher and son of freed slaves, led the Azusa Street Revival. His leadership was remarkable in segregated America, and he advocated for racial integration."},{type:"content",title:"Pentecostal Beliefs and Practices",content:["Pentecostals affirm standard Christian doctrine but add distinctive emphases:","1. **Baptism in the Holy Spirit** as a separate experience from conversion, evidenced by speaking in tongues","2. All spiritual gifts listed in 1 Corinthians 12 are available today - prophecy, healing, miracles, tongues, interpretation","3. **Divine healing** is part of the atonement","4. Expectation of Jesus's imminent return","Worship is spontaneous, emotional, and participatory - with raised hands, dancing, shouting, and prophecies shared during services."]},{type:"quiz",question:"What do Pentecostals believe is the initial evidence of baptism in the Holy Spirit?",options:["Prophesying","Healing the sick","Speaking in tongues","Feeling peaceful"],correctAnswer:2,explanation:"Pentecostals believe that speaking in tongues (glossolalia) - utterances in languages unknown to the speaker - is the initial physical evidence of being baptized in the Holy Spirit."},{type:"matching",title:"Match the Key Terms",pairs:[{term:"Entire Sanctification",definition:"Second work of grace cleansing from sin"},{term:"Speaking in Tongues",definition:"Evidence of baptism in the Holy Spirit"},{term:"Azusa Street",definition:"Los Angeles revival that birthed Pentecostalism"},{term:"William J. Seymour",definition:"African American leader of Azusa Street Revival"}]},{type:"content",title:"Global Pentecostal Explosion",content:["Pentecostalism became Christianity's fastest-growing movement.","Starting from nothing in 1900, Pentecostals and Charismatics now number **over 600 million worldwide** - about a quarter of all Christians.","Growth has been spectacular in Latin America, sub-Saharan Africa, and Asia.","\u2022 In Brazil, Pentecostals grow by 15,000 per day","\u2022 South Korea's Yoido Full Gospel Church has over 800,000 members","Why such growth? Pentecostalism offers direct personal experience of God's power, healing, deliverance, hope for the poor, and opportunities for lay leadership."],highlight:"\ud83d\udca1 In the Global South, Pentecostalism represents a major portion of Christianity."},{type:"quiz",question:"Approximately how many Pentecostals and Charismatics are there worldwide today?",options:["10 million","100 million","Over 600 million","1 billion"],correctAnswer:2,explanation:"Pentecostals and Charismatics now number over 600 million worldwide - about a quarter of all Christians - making Pentecostalism one of the fastest-growing religious movements in history."},{type:"fillblank",prompt:"The Azusa Street Revival began on April 9, _______.",correctAnswer:"1906",explanation:"The Azusa Street Revival began on April 9, 1906, marking the birth of modern Pentecostalism."},{type:"content",title:"Understanding Today",content:["**Holiness churches** (Church of the Nazarene, Church of God Anderson) emphasize personal holiness and simple living.","**Pentecostal churches** (Assemblies of God, Church of God in Christ) emphasize spiritual gifts and energetic worship.","Both movements show that Christianity can be experiential and emotional, not just intellectual.","They've made Christianity accessible to the poor and marginalized worldwide."],highlight:"\ud83d\udcad Reflection: Why do you think Pentecostalism appeals to so many people worldwide?"},{type:"completion",title:"Spirit-Filled Success!",message:"You've learned about the Holiness movement's emphasis on sanctification and Pentecostalism's explosive growth through spiritual gifts and experiential worship!",keyTakeaways:['The Holiness movement emphasized "entire sanctification" - complete transformation and holy living',"Pentecostalism began at Azusa Street Revival (1906) emphasizing speaking in tongues and spiritual gifts","Pentecostalism has grown to over 600 million members worldwide, making it one of Christianity's fastest-growing movements"],badge:{icon:"\ud83d\udd25",name:"Revival Scholar",description:"Completed The Spirit Moves lesson"}}]},Dn={id:7,title:"Back to Basics: Restorationists & Non-Denominational",subtitle:"Simplifying and reimagining church",duration:"7 min",cards:[{type:"content",title:"Welcome to Lesson 7!",subtitle:"\u23f1\ufe0f About 7 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand the Restoration Movement's goal to return to New Testament Christianity and the rise of non-denominational churches.","Some Christians asked: What if we went back to the New Testament and started over?",'They rejected all traditions and creeds, seeking to restore "simple, biblical Christianity."',"You'll learn about the Restoration Movement and today's non-denominational churches!"],highlight:'\ud83d\udcad Question: Is it possible to have "just the Bible" without traditions?',requireAcknowledgment:!0},{type:"content",title:"The Restoration Movement",content:["In early 1800s America, several preachers independently called Christians to abandon all denominations.",'Thomas Campbell declared: **"Where the Scriptures speak, we speak; where the Scriptures are silent, we are silent."**','His son Alexander Campbell and Barton Stone led thousands to reject creeds and restore "New Testament Christianity."','They refused names like "Baptist" or "Methodist," calling themselves simply "Christians" or "Disciples."','Their motto: **"Christians only, not the only Christians."**']},{type:"quiz",question:"What was Thomas Campbell's famous motto?",options:['"Grace alone, faith alone"','"Where the Scriptures speak, we speak; where they are silent, we are silent"','"The Bible says it, I believe it"','"No creed but Christ"'],correctAnswer:1,explanation:"Thomas Campbell's motto \"Where the Scriptures speak, we speak; where the Scriptures are silent, we are silent\" captured the Restoration Movement's commitment to follow only what the Bible explicitly teaches."},{type:"content",title:"Stone-Campbell Movement Beliefs",content:["The Restoration Movement, also called the Stone-Campbell Movement, emphasized:","1. **No creeds** - the Bible alone as authority","2. **Autonomy of local churches** - no centralized denominational control","3. **Believer's baptism by immersion** for the forgiveness of sins","4. **Weekly communion** on the Lord's Day","5. Return to simple worship - singing, prayer, preaching, communion",'They believed denominations divided Christians and violated Jesus\'s prayer "that they may be one" (John 17:21).']},{type:"quiz",question:"How often do Restoration Movement churches typically observe communion?",options:["Once a year","Monthly","Weekly","Only at Easter"],correctAnswer:2,explanation:"Restoration Movement churches practice weekly communion on the Lord's Day (Sunday), believing this follows the New Testament pattern seen in Acts 20:7."},{type:"content",title:"The Movement Divides",content:['Ironically, the "unity movement" itself eventually divided into three main groups:',"**Churches of Christ** - Conservative, often oppose instrumental music in worship, emphasize baptism for salvation","**Christian Church (Disciples of Christ)** - Liberal, mainline denomination, practice infant baptism and open communion","**Christian Churches/Churches of Christ** - Middle ground, evangelical, use instruments, autonomous congregations","Together they number about 5 million in North America."]},{type:"quiz",question:"Which Restoration Movement group is known for opposing instrumental music?",options:["Disciples of Christ","Christian Churches","Churches of Christ","All Restoration churches oppose instruments"],correctAnswer:2,explanation:"Churches of Christ are the conservative wing of the Restoration Movement and typically oppose instrumental music in worship, believing only a cappella singing follows the New Testament pattern."},{type:"matching",title:"Match the Key Terms",pairs:[{term:"Restoration Movement",definition:'Sought to restore "New Testament Christianity"'},{term:"No Creed but Christ",definition:"Restorationist rejection of written creeds"},{term:"Churches of Christ",definition:"Conservative group opposing instrumental music"},{term:"Stone-Campbell",definition:"Leaders who founded the Restoration Movement"}]},{type:"content",title:"The Rise of Non-Denominational Churches",content:["Since the 1970s, thousands of **non-denominational churches** have formed.",'They share the Restorationist impulse: reject denominational labels and traditions, follow "just the Bible."',"Often these are **megachurches** - large congregations with 2,000+ members.","They feature contemporary worship bands, casual atmosphere, practical teaching, extensive programs.","Famous examples: Willow Creek (Chicago), Saddleback (California), North Point (Atlanta).","Critics worry about lack of accountability and theological depth. Supporters celebrate freedom and relevance."],highlight:"\ud83d\udca1 About 1 in 5 American evangelicals now attend non-denominational churches."},{type:"quiz",question:"What defines a megachurch?",options:["A church with a large building","A church with 2,000+ members","A church on television","A church with multiple locations"],correctAnswer:1,explanation:"A megachurch is typically defined as a church with 2,000 or more weekly attendees. These large congregations often feature contemporary worship and extensive programming."},{type:"content",title:"Contemporary Worship Revolution",content:["Non-denominational churches pioneered **contemporary worship** - a huge shift in how many Christians worship:","\u2022 Worship bands with drums, guitars, keyboards instead of organs","\u2022 Projection screens instead of hymnals","\u2022 Casual dress, coffee in the sanctuary","\u2022 Song lyrics focus on personal experience of God",'\u2022 Services designed to be "seeker-friendly"',"This style has now spread to many denominational churches too."]},{type:"quiz",question:"What characterizes contemporary worship services?",options:["Traditional hymns sung from hymnals","Pipe organs and robed choirs","Worship bands with guitars and drums, projection screens","Complete silence and meditation"],correctAnswer:2,explanation:"Contemporary worship features worship bands with modern instruments (guitars, drums, keyboards), projection screens for lyrics, and a more casual, participatory atmosphere."},{type:"fillblank",prompt:"Thomas Campbell and Barton _______ led the Restoration Movement.",correctAnswer:"Stone",explanation:"Barton Stone, along with Thomas and Alexander Campbell, were the primary leaders of the Restoration Movement, which is also known as the Stone-Campbell Movement."},{type:"content",title:"Understanding Today",content:['The impulse to "get back to basics" appears throughout church history.',"Restorationists believe they can recreate first-century Christianity by following the Bible alone.","Critics argue we can never fully escape our own cultural context and need tradition to interpret Scripture.","Non-denominational churches offer freedom and relevance but may lack historical wisdom and accountability.","The debate continues: Should we preserve tradition or start fresh in each generation?"],highlight:"\ud83d\udcad Reflection: What are the advantages and disadvantages of having no denominational connection?"},{type:"completion",title:"Restoration Completed!",message:"You've learned about the Restoration Movement's quest to return to New Testament Christianity and the rise of contemporary non-denominational churches!",keyTakeaways:['Restorationists (Churches of Christ, Disciples of Christ) sought to restore "simple New Testament Christianity" by rejecting all creeds and traditions',"Non-denominational churches emphasize local autonomy, contemporary worship, and practical preaching","Contemporary worship (worship bands, projection screens, casual atmosphere) has become mainstream across many traditions"],badge:{icon:"\ud83d\udcd6",name:"Restoration Expert",description:"Completed Back to Basics lesson"}}]},Ln={id:8,title:"Your Journey: Understanding & Choosing",subtitle:"Finding your church home",duration:"9 min",cards:[{type:"content",title:"Welcome to the Final Lesson!",subtitle:"\u23f1\ufe0f About 9 minutes",content:["**Learning Objective:** By the end of this lesson, you will be able to identify what Christians share, understand denominational differences, and know how to find a church home.","You've journeyed through 2,000 years of church history!","Now it's time to think about YOUR place in this ongoing story.","This lesson helps you understand what different churches share, what divides them, and how to find a church home."],highlight:"\ud83d\udcad Reflect: What questions do you have about finding a church?",requireAcknowledgment:!0},{type:"content",title:"What All Christians Share",content:["Despite our divisions, all Christians affirm core beliefs from the **Apostles' Creed**:","\u2022 **One God** in three persons - Father, Son, and Holy Spirit","\u2022 **Jesus Christ** is fully God and fully human","\u2022 Jesus was **born of the Virgin Mary**, died on the cross, and rose from the dead","\u2022 Salvation comes through **Jesus alone**","\u2022 The **Bible** is God's inspired word","\u2022 Jesus will **return** to judge the living and the dead","These essentials unite Christians across all denominations!"],highlight:'\ud83d\udca1 "In essentials unity, in non-essentials liberty, in all things charity"'},{type:"quiz",question:"Which statement would ALL Christians affirm?",options:["Baptism should be by immersion only","Jesus Christ is fully God and fully human","We must worship on Saturday","Only adults should be baptized"],correctAnswer:1,explanation:"All Christians across denominations affirm that Jesus Christ is both fully God and fully human. Baptism practices, worship days, and other details vary, but Christ's divine and human nature is essential to Christian faith."},{type:"content",title:"The Major Dividing Lines",content:["Christians disagree on important secondary issues:","**1. Church Authority:** Does authority rest in the Pope, bishops, local churches, or individual believers?","**2. Salvation:** Do we contribute to salvation through good works, or is it entirely God's grace?","**3. Sacraments:** Are baptism and communion symbolic or do they convey actual grace?","**4. Baptism:** Should we baptize infants or only believing adults? Immersion or sprinkling?","**5. Worship Style:** Should worship be liturgical and formal, or spontaneous and contemporary?","Understanding these issues helps you recognize different traditions."]},{type:"quiz",question:'What is a "sacrament" or "ordinance"?',options:["A church law or rule","A sacred act like baptism or communion","A worship song","A type of prayer"],correctAnswer:1,explanation:"A sacrament (Catholic/Orthodox) or ordinance (Protestant) is a sacred act instituted by Jesus, like baptism and communion. Churches disagree on whether these acts convey grace or are symbolic remembrances."},{type:"matching",title:"Match Church Traditions",pairs:[{term:"Catholic",definition:"Pope as head, seven sacraments, apostolic succession"},{term:"Orthodox",definition:"Icons, liturgy, national churches, mystical theology"},{term:"Protestant",definition:"Scripture alone, faith alone, priesthood of believers"},{term:"Pentecostal",definition:"Spiritual gifts, speaking in tongues, experiential worship"}]},{type:"content",title:"Visiting Churches Respectfully",content:["As you explore different churches, remember:","**Catholic/Orthodox Mass:** Stand, sit, and kneel when others do. Non-Catholics/non-Orthodox should not take communion.",'**Liturgical Protestant:** Follow along in the bulletin. Communion policies vary - some are "open" (all welcome), others "closed."',"**Evangelical/Pentecostal:** Expect contemporary music, casual dress, hands raised in worship. Altar calls may happen.","**Traditional Protestant:** Hymns from hymnals, formal liturgy, robed ministers.","Always be respectful, participate where appropriate, and ask questions after the service!"],highlight:"\ud83d\udcad Tip: Visit 3-4 times before judging - every church has off days!"},{type:"quiz",question:"When visiting a Catholic or Orthodox church, what should non-members NOT do?",options:["Stand when others stand","Take communion","Sing along with hymns","Pray during the service"],correctAnswer:1,explanation:"Non-Catholics should not take communion at Catholic Mass, and non-Orthodox should not take communion in Orthodox churches. These traditions reserve communion for baptized, confirmed members in good standing."},{type:"content",title:"Questions to Ask When Choosing",content:["Finding a church home? Ask yourself:","1. **Biblical Teaching:** Does the church teach the Bible faithfully and clearly?","2. **Authentic Community:** Will I find genuine relationships and support?","3. **Worship Style:** Does the worship help me connect with God?","4. **Mission & Service:** Is the church serving the community and sharing the gospel?","5. **Doctrine:** Do I agree with their core beliefs on baptism, communion, salvation?","6. **Opportunities:** Can I use my gifts and grow spiritually?","No church is perfect - look for a church family where you can both give and receive."]},{type:"quiz",question:"What is the most important factor when choosing a church?",options:["The music style you prefer","How close it is to your house","Whether they teach the Bible faithfully","How big the congregation is"],correctAnswer:2,explanation:"While personal preferences matter, the most important factor is whether the church teaches the Bible faithfully. Other factors like community, worship style, and mission are also important but should be evaluated alongside sound biblical teaching."},{type:"fillblank",prompt:'The phrase "In essentials unity, in non-essentials _______, in all things charity" guides Christian relationships.',correctAnswer:"liberty",explanation:'The famous saying "In essentials unity, in non-essentials liberty, in all things charity" reminds Christians to unite on core doctrines, allow freedom on secondary issues, and treat everyone with love.'},{type:"content",title:"Denominations Are a Family",content:["Think of denominations like siblings in a family:","\u2022 We share the same Father and the same foundational faith","\u2022 We emphasize different aspects of our shared heritage","\u2022 We sometimes argue, but we're still family","\u2022 Our diversity can be a strength, not just a weakness","Different traditions preserve different treasures:","\u2022 Catholics: Historical continuity and sacramental depth","\u2022 Orthodox: Mystical beauty and ancient liturgy","\u2022 Lutherans: Grace-centered theology","\u2022 Reformed: God's sovereignty and Scripture","\u2022 Baptists: Religious liberty and believer's baptism","\u2022 Pentecostals: Experiential faith and Spirit-empowerment"],highlight:"\ud83d\udca1 You can appreciate all traditions while finding your home in one!"},{type:"content",title:"You Are Part of This Story",content:["Church history didn't end - YOU are part of it!","The decisions you make, the church you join, the faith you live - all of it continues the story that began at Pentecost.","Will you preserve ancient traditions or pioneer new expressions of faith?","Will you build bridges between divided Christians?","Will you share the gospel in your generation?","The 21st century chapter of church history is being written right now. **You're writing it.**"],highlight:"\ud83c\udf1f Your faith journey matters to God and to His church!"},{type:"quiz",question:"What makes you part of church history?",options:["Only if you become a pastor or missionary","Only if you do something famous","Your faith and life contribute to the ongoing story of God's church","You have to be part of a specific denomination"],correctAnswer:2,explanation:"Every believer is part of church history! Your faith journey, the church you join, and how you live out your faith all contribute to the ongoing story of God's people. You don't need to be famous or hold an official position."},{type:"completion",title:"Congratulations, Church History Scholar!",message:"You've completed the entire Church History journey! From Pentecost to today, you now understand the rich, complex story of Christianity. May this knowledge help you find your place in God's ongoing story!",keyTakeaways:["All Christians share core beliefs (Trinity, Jesus as Savior, Bible's authority, resurrection)","Denominational differences are often about secondary issues - we can disagree charitably while maintaining unity on essentials","You are part of church history! Your faith journey contributes to the ongoing story of God's people"],badge:{icon:"\ud83c\udf93",name:"Church History Graduate",description:"Completed the entire Church History study guide!"}}]};var On=n(54);const Mn=t=>{let{userProgress:n,onNavigate:i,onGoBack:s,onProgressUpdate:a}=t;const o=ae(),[l,c]=(0,e.useState)(null),[d,u]=(0,e.useState)([]),[h,m]=(0,e.useState)({}),[p,f]=(0,e.useState)({}),[g,y]=(0,e.useState)(null),[b,x]=(0,e.useState)(null);(0,e.useEffect)(()=>{var e;null!==(e=o.state)&&void 0!==e&&e.reviewMode&&"church"===o.state.reviewMode.path&&x(o.state.reviewMode)},[o.state]),(0,e.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),(0,e.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);(0,e.useEffect)(()=>{var e,t;null!==n&&void 0!==n&&null!==(e=n.courses)&&void 0!==e&&null!==(t=e.church)&&void 0!==t&&t.completedLessons&&u(n.courses.church.completedLessons)},[n]);const v=e=>{if(!d.includes(e)){const t=[...d,e];u(t)}},w=async(e,t)=>{if(v(e),wn("church",e),t){const n=bn();n&&(await(0,On.lr)(n.uid,"church",e,t),a&&a())}y(null),window.scrollTo({top:0,behavior:"smooth"})},N=()=>{y(null),window.scrollTo({top:0,behavior:"smooth"})},k=[{lesson:1,title:"The Beginning: Early Christianity",subtitle:"How it all started",introduction:"Welcome to your journey through church history! This week, we'll explore how Christianity began and grew in its first few centuries. Don't worry if you're new to this - we'll start with the basics and build from there."},{lesson:2,title:"The Great Divide: East vs. West",subtitle:"Understanding the 1054 split",introduction:"This lesson explores one of Christianity's most significant moments: when the church split into Eastern (Orthodox) and Western (Catholic) branches. This wasn't a sudden break but rather centuries of growing differences in culture, language, and theology."},{lesson:3,title:"The Reformation: A Revolution in Faith",subtitle:"Martin Luther and the Protestant movement",introduction:"Get ready for one of history's most dramatic religious movements! In 1517, a German monk named Martin Luther challenged the Catholic Church's practices and sparked a revolution that would reshape Christianity forever. This lesson explores why it happened and what changed."},{lesson:4,title:"The Middle Way: Anglicans & Methodists",subtitle:"Finding balance between Catholic and Protestant",introduction:"Not all reformers wanted to completely break from Catholic tradition. This lesson explores two traditions that tried to find a 'middle way' - keeping some Catholic practices while embracing Protestant theology. We'll also learn about John Wesley and the Methodist revival."},{lesson:5,title:"Believer's Baptism: Baptists & Anabaptists",subtitle:"Radical reformation and religious freedom",introduction:"Some reformers thought Luther and others didn't go far enough. This lesson explores traditions that took more radical stances on baptism, church-state separation, and religious freedom. These groups were often persecuted but their ideas eventually shaped modern concepts of religious liberty."},{lesson:6,title:"The Spirit Moves: Pentecostals & Holiness Churches",subtitle:"Revival, spiritual gifts, and personal transformation",introduction:"In the late 1800s and early 1900s, powerful revival movements swept across America and beyond, emphasizing emotional worship, spiritual gifts, and complete transformation. This lesson explores two related but distinct movements that dramatically changed Christianity's landscape."},{lesson:7,title:"Back to Basics: Restorationists & Non-Denominational Churches",subtitle:"Simplifying Christianity in the modern era",introduction:"Some Christians look at denominational divisions and say, 'Let's just get back to what the Bible says!' This lesson explores movements that seek to restore 'simple' New Testament Christianity and modern churches that reject denominational labels altogether."},{lesson:8,title:"Your Journey: Understanding & Choosing",subtitle:"Putting it all together",introduction:"Congratulations on completing seven lessons of church history! This final lesson is about synthesis - understanding how all these traditions relate to each other and thinking about your own spiritual journey. There's no 'right' denomination, but understanding the options helps you make informed choices."}],j={completed:d.length,total:k.length,percentage:Math.round(d.length/k.length*100),badges:d.length,masteryLevel:((e,t)=>{const n=e/t*100;return 0===n?"Beginner":n<38?"Novice":n<63?"Scholar":n<88?"Expert":"Master"})(d.length,k.length),xp:(()=>{var e,t;return(null===n||void 0===n||null===(e=n.courses)||void 0===e||null===(t=e.church)||void 0===t?void 0:t.totalXP)||0})(),maxXP:800};if(b){const e={1:An,2:En,3:Pn,4:In,5:_n,6:Rn,7:Dn,8:Ln}[b.lessonNumber];if(e)return(0,Jt.jsx)(Tn,{lessonData:e,path:"church",lessonNumber:b.lessonNumber,onComplete:async e=>{x(null),window.scrollTo({top:0,behavior:"smooth"})},onExit:()=>{x(null),window.scrollTo({top:0,behavior:"smooth"})}})}return 1===g?(0,Jt.jsx)(pn,{lessonData:An,onComplete:e=>w(1,e),onExit:N}):2===g?(0,Jt.jsx)(pn,{lessonData:En,onComplete:e=>w(2,e),onExit:N}):3===g?(0,Jt.jsx)(pn,{lessonData:Pn,onComplete:e=>w(3,e),onExit:N}):4===g?(0,Jt.jsx)(pn,{lessonData:In,onComplete:e=>w(4,e),onExit:N}):5===g?(0,Jt.jsx)(pn,{lessonData:_n,onComplete:e=>w(5,e),onExit:N}):6===g?(0,Jt.jsx)(pn,{lessonData:Rn,onComplete:e=>w(6,e),onExit:N}):7===g?(0,Jt.jsx)(pn,{lessonData:Dn,onComplete:e=>w(7,e),onExit:N}):8===g?(0,Jt.jsx)(pn,{lessonData:Ln,onComplete:e=>w(8,e),onExit:N}):(0,Jt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-orange-50",children:[(0,Jt.jsxs)("div",{className:"relative overflow-hidden text-white py-16 px-4",children:[(0,Jt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500 via-orange-500 to-amber-700 animate-gradient-shift"}),(0,Jt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tl from-orange-500 via-amber-500 to-orange-700 opacity-60 animate-gradient-shift-reverse"}),(0,Jt.jsxs)("div",{className:"relative max-w-4xl mx-auto text-center z-10",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,Jt.jsx)(Yt,{className:"w-12 h-12 mr-3"}),(0,Jt.jsx)("h1",{className:"text-4xl md:text-5xl font-bold",children:"Church History Study Guide"})]}),(0,Jt.jsx)("p",{className:"text-xl md:text-2xl text-amber-100 mb-6",children:"An 8-Lesson Journey from Early Christianity to Modern Churches"}),(0,Jt.jsx)("p",{className:"text-lg text-amber-50 max-w-2xl mx-auto",children:"Discover how the Christian church grew, split, and evolved over 2,000 years. Track your progress as you learn."})]})]}),(0,Jt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,Jt.jsxs)("button",{onClick:()=>s?s():i("paths"),className:"inline-flex items-center gap-2 px-4 py-2 mb-6 rounded-xl border-2 border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition",children:[(0,Jt.jsx)(Qt,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{children:"Back"})]}),(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-12 border-2 border-amber-100",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center",children:[(0,Jt.jsx)(Xt,{className:"w-8 h-8 text-amber-600 mr-3"}),(0,Jt.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Your Progress"})]}),(0,Jt.jsxs)("span",{className:"text-3xl md:text-4xl font-bold text-amber-600",children:[j.percentage,"%"]})]}),(0,Jt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-6",children:(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 h-4 rounded-full transition-all duration-500",style:{width:"".concat(j.percentage,"%")}})}),(0,Jt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Jt.jsxs)("div",{className:"bg-amber-50 rounded-lg p-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2 text-amber-700 mb-1",children:[(0,Jt.jsx)($t,{className:"w-5 h-5"}),(0,Jt.jsx)("span",{className:"font-semibold",children:"Completed"})]}),(0,Jt.jsxs)("p",{className:"text-2xl font-bold text-amber-900",children:[j.completed,"/",j.total]})]}),(0,Jt.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2 text-purple-700 mb-1",children:[(0,Jt.jsx)(Zt,{className:"w-5 h-5"}),(0,Jt.jsx)("span",{className:"font-semibold",children:"Badges Earned"})]}),(0,Jt.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:j.badges})]}),(0,Jt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2 text-blue-700 mb-1",children:[(0,Jt.jsx)(Xt,{className:"w-5 h-5"}),(0,Jt.jsx)("span",{className:"font-semibold",children:"Mastery Level"})]}),(0,Jt.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:j.masteryLevel})]}),(0,Jt.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2 text-green-700 mb-1",children:[(0,Jt.jsx)(en,{className:"w-5 h-5"}),(0,Jt.jsx)("span",{className:"font-semibold",children:"Total XP"})]}),(0,Jt.jsxs)("p",{className:"text-2xl font-bold text-green-900",children:[j.xp,"/",j.maxXP]})]})]})]}),(0,Jt.jsxs)("div",{className:"mb-12",children:[(0,Jt.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Jt.jsx)(Ut,{className:"w-8 h-8 text-orange-600 mr-3"}),(0,Jt.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"8-Lesson Curriculum"})]}),(0,Jt.jsx)("p",{className:"text-gray-700 mb-8 text-lg",children:"Click any lesson below to explore the content. Each lesson builds on the previous one, taking you from the early church through major schisms and reformations to today's denominations and worship styles."}),(0,Jt.jsx)("div",{className:"space-y-4",children:k.map(t=>{const n=l===t.lesson,s=d.includes(t.lesson),a=p[t.lesson],o=t.lesson>=1&&t.lesson<=8,u=t.lesson>1&&!d.includes(t.lesson-1);return(0,Jt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border-2 transition-all ".concat(s?"border-green-400":u?"border-gray-300 opacity-60":"border-gray-200"),children:[(0,Jt.jsx)("button",{onClick:()=>{u||(o?y(t.lesson):c(n?null:t.lesson))},disabled:u,className:"w-full p-6 transition ".concat(u?"cursor-not-allowed":"hover:bg-gray-50 cursor-pointer"),children:(0,Jt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Jt.jsx)("div",{className:"w-12 h-12 min-w-[3rem] rounded-full flex items-center justify-center text-xl font-bold flex-shrink-0 ".concat(s?"bg-green-100 text-green-700":u?"bg-gray-200 text-gray-400":"bg-amber-100 text-amber-700"),children:s?(0,Jt.jsx)($t,{className:"w-6 h-6"}):t.lesson}),(0,Jt.jsxs)("div",{className:"text-left",children:[(0,Jt.jsx)("h3",{className:"text-xl font-bold ".concat(u?"text-gray-400":"text-gray-800"),children:t.title}),(0,Jt.jsx)("p",{className:"".concat(u?"text-gray-400":"text-gray-600"),children:t.subtitle})]})]}),u?(0,Jt.jsx)("div",{className:"flex items-center justify-center",children:(0,Jt.jsx)(tn,{className:"w-6 h-6 text-gray-400 flex-shrink-0"})}):s?(0,Jt.jsx)("span",{className:"text-sm font-bold text-green-600 bg-green-100 px-4 py-2 rounded-full",children:"Complete"}):o?(0,Jt.jsx)("span",{className:"text-sm font-bold text-purple-600 bg-purple-100 px-4 py-2 rounded-full",children:"Start"}):n?(0,Jt.jsx)(nn,{className:"w-6 h-6"}):(0,Jt.jsx)(rn,{className:"w-6 h-6"})]})}),!o&&n&&(0,Jt.jsxs)("div",{className:"px-6 pb-6 border-t-2 border-gray-100 pt-6",children:[(0,Jt.jsxs)("div",{className:"mb-6",children:[(0,Jt.jsx)("h4",{className:"font-semibold text-gray-800 mb-2 text-lg",children:"Introduction"}),(0,Jt.jsx)("p",{className:"text-gray-700 leading-relaxed",children:t.introduction})]}),(0,Jt.jsxs)("div",{className:"mb-6",children:[(0,Jt.jsx)("h4",{className:"font-semibold text-gray-800 mb-3 text-lg",children:"Key Topics This Lesson"}),(0,Jt.jsx)("ul",{className:"space-y-2",children:t.keyTopics.map((e,t)=>(0,Jt.jsxs)("li",{className:"flex items-start",children:[(0,Jt.jsx)("div",{className:"w-2 h-2 bg-amber-500 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,Jt.jsx)("span",{className:"text-gray-700",children:e})]},t))})]}),(0,Jt.jsxs)("div",{className:"mb-6 bg-amber-50 rounded-lg p-4 border-l-4 border-amber-500",children:[(0,Jt.jsx)("h4",{className:"font-semibold text-gray-800 mb-2 text-lg",children:"Simple Explanation"}),(0,Jt.jsx)("p",{className:"text-gray-700 leading-relaxed",children:t.beginnerExplanation})]}),t.detailedContent&&(0,Jt.jsxs)("div",{className:"mb-6",children:[(0,Jt.jsx)("h4",{className:"font-semibold text-gray-800 mb-4 text-lg",children:"In-Depth Study"}),(0,Jt.jsx)("div",{className:"space-y-4",children:t.detailedContent.map((t,n)=>{return(0,Jt.jsxs)("div",{className:"bg-white rounded-lg p-4 border-2 border-gray-200",children:[(0,Jt.jsx)("h5",{className:"font-bold text-gray-900 mb-2",children:t.heading}),(0,Jt.jsx)("p",{className:"text-gray-700 leading-relaxed",children:(r=t.text,r.split(/(\(\d+\)\s|\d+\.\s)/).map((t,n)=>{const r=t.split(/(\*\*[^*]+\*\*)/g).map((e,t)=>e.startsWith("**")&&e.endsWith("**")?(0,Jt.jsx)("strong",{children:e.slice(2,-2)},"b-".concat(n,"-").concat(t)):e);return n>0&&/(\(\d+\)\s|\d+\.\s)/.test(t)?(0,Jt.jsxs)(e.Fragment,{children:[(0,Jt.jsx)("br",{}),(0,Jt.jsx)("br",{}),r]},"p-".concat(n)):(0,Jt.jsx)(e.Fragment,{children:r},"p-".concat(n))}))})]},n);var r})})]}),(0,Jt.jsxs)("div",{className:"mb-6",children:[(0,Jt.jsx)("h4",{className:"font-semibold text-gray-800 mb-3 text-lg",children:"Questions to Consider"}),(0,Jt.jsx)("ul",{className:"space-y-2",children:t.reflectionQuestions.map((e,t)=>(0,Jt.jsxs)("li",{className:"flex items-start",children:[(0,Jt.jsxs)("span",{className:"text-orange-600 font-bold mr-3 flex-shrink-0",children:[t+1,"."]}),(0,Jt.jsx)("span",{className:"text-gray-700 italic",children:e})]},t))})]}),(0,Jt.jsxs)("div",{className:"mb-6 bg-orange-50 rounded-lg p-4 border-l-4 border-orange-500",children:[(0,Jt.jsx)("h4",{className:"font-semibold text-gray-800 mb-2 text-lg",children:"This Lesson's Practice"}),(0,Jt.jsx)("p",{className:"text-gray-700 leading-relaxed",children:t.practicalApplication})]}),(0,Jt.jsxs)("div",{className:"mb-6",children:[(0,Jt.jsx)("h4",{className:"font-semibold text-gray-800 mb-3 text-lg",children:"Explore in the App"}),(0,Jt.jsx)("div",{className:"flex flex-wrap gap-2",children:t.appLinks.map((e,t)=>(0,Jt.jsx)("button",{onClick:()=>(e=>{e.includes("Bible Timeline")||e.includes("Denomination")?(i("explorer"),window.scrollTo({top:0,behavior:"smooth"})):e.includes("Church History Guide")&&(i("study-guide"),window.scrollTo({top:0,behavior:"smooth"}))})(e),className:"inline-block bg-gradient-to-r from-amber-100 to-orange-100 text-amber-800 px-4 py-2 rounded-full text-sm font-medium border border-amber-200 hover:from-amber-200 hover:to-orange-200 hover:shadow-md transition cursor-pointer",children:e},t))})]}),t.quiz&&(0,Jt.jsxs)("div",{className:"mb-6 bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-6 border-2 border-amber-200",children:[(0,Jt.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Jt.jsx)("div",{className:"bg-amber-500 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold mr-3",children:"?"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsxs)("h4",{className:"font-bold text-gray-900 text-lg",children:["Lesson ",t.lesson," Quiz"]}),(0,Jt.jsx)("p",{className:"text-sm text-gray-600",children:"Test your understanding with 5 questions"})]})]}),a?(0,Jt.jsxs)(Jt.Fragment,{children:[(0,Jt.jsx)("div",{className:"space-y-6",children:t.quiz.map((e,n)=>{const r=h["".concat(t.lesson,"-").concat(n)],i=r===e.correctAnswer;return(0,Jt.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[(0,Jt.jsxs)("p",{className:"font-semibold text-gray-900 mb-3",children:[n+1,". ",e.question]}),(0,Jt.jsx)("div",{className:"space-y-2",children:e.options.map((t,n)=>{const s=r===n;let a="w-full text-left p-3 rounded-lg border-2 cursor-default ";return a+=n===e.correctAnswer?"border-green-500 bg-green-50":s&&!i?"border-red-500 bg-red-50":"border-gray-200 bg-gray-50",(0,Jt.jsxs)("div",{className:a,children:[(0,Jt.jsxs)("span",{className:"font-medium text-gray-700 mr-2",children:[String.fromCharCode(65+n),"."]}),t]},n)})}),(0,Jt.jsxs)("div",{className:"mt-3 p-3 rounded-lg ".concat(i?"bg-green-100 border-l-4 border-green-500":"bg-blue-100 border-l-4 border-blue-500"),children:[(0,Jt.jsx)("p",{className:"text-sm font-semibold text-gray-900 mb-1",children:i?"\u2713 Correct!":"Explanation:"}),(0,Jt.jsx)("p",{className:"text-sm text-gray-800",children:e.explanation})]})]},n)})}),(0,Jt.jsxs)("div",{className:"mt-6 p-4 bg-white rounded-lg border-2 border-amber-300",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Jt.jsx)("span",{className:"text-lg font-bold text-gray-800",children:"Your Score:"}),(0,Jt.jsxs)("span",{className:"text-2xl font-bold text-amber-600",children:[a.score," / ",a.total]})]}),a.score>=.7*a.total?(0,Jt.jsxs)("p",{className:"text-green-700 font-semibold flex items-center",children:[(0,Jt.jsx)($t,{className:"w-5 h-5 mr-2"}),"Great job! You passed this lesson! \u2713"]}):(0,Jt.jsx)("p",{className:"text-orange-700",children:"Review the material and try again (need 70% to pass)"})]}),(0,Jt.jsx)("div",{className:"mt-6",children:(0,Jt.jsx)("button",{onClick:()=>{f(e=>{const n=(0,r.A)({},e);return delete n[t.lesson],n}),m(e=>{const n=(0,r.A)({},e);return t.quiz.forEach((e,r)=>{delete n["".concat(t.lesson,"-").concat(r)]}),n})},className:"w-full bg-gray-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-gray-700 transition shadow-md hover:shadow-lg",children:"Retake Quiz"})})]}):(0,Jt.jsxs)(Jt.Fragment,{children:[(0,Jt.jsx)("div",{className:"space-y-6",children:t.quiz.map((e,n)=>{const i=h["".concat(t.lesson,"-").concat(n)];return(0,Jt.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[(0,Jt.jsxs)("p",{className:"font-semibold text-gray-900 mb-3",children:[n+1,". ",e.question]}),(0,Jt.jsx)("div",{className:"space-y-2",children:e.options.map((e,s)=>{const a=i===s;return(0,Jt.jsxs)("button",{onClick:()=>{return e=t.lesson,i=n,a=s,void m(t=>(0,r.A)((0,r.A)({},t),{},{["".concat(e,"-").concat(i)]:a}));var e,i,a},className:"w-full text-left p-3 rounded-lg border-2 transition ".concat(a?"border-amber-500 bg-amber-50":"border-gray-200 hover:border-amber-300 hover:bg-gray-50"),children:[(0,Jt.jsxs)("span",{className:"font-medium text-gray-700 mr-2",children:[String.fromCharCode(65+s),"."]}),e]},s)})})]},n)})}),(0,Jt.jsx)("div",{className:"mt-6",children:(0,Jt.jsx)("button",{onClick:()=>((e,t)=>{let n=0;t.forEach((t,r)=>{h["".concat(e,"-").concat(r)]===t.correctAnswer&&n++});const i={score:n,total:t.length};f(t=>(0,r.A)((0,r.A)({},t),{},{[e]:i})),n>=.7*t.length&&v(e)})(t.lesson,t.quiz),className:"w-full bg-amber-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-amber-700 transition shadow-md hover:shadow-lg",children:"Submit Quiz"})})]})]}),!s&&(0,Jt.jsx)("button",{onClick:()=>v(t.lesson),className:"mt-6 w-full bg-green-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-green-700 transition",children:"Mark as Complete"})]})]},t.lesson)})})]})]})]})},Bn={id:1,title:"From Mouth to Manuscript",subtitle:"How oral tradition became written text",duration:"6 min",cards:[{type:"content",title:"From Mouth to Manuscript",subtitle:"\u23f1\ufe0f About 6 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand how oral traditions became the written Scriptures we read today.","Long before the printing press, before paper, even before parchment was common, the stories that would become the Bible were passed down by word of mouth.","Imagine sitting around a campfire as an elder recounts the story of Moses parting the Red Sea, or Jesus feeding the 5,000. These weren't just stories\u2014they were sacred memories, carefully preserved and passed from generation to generation."],highlight:"\ud83d\udcad Quick reflection: Have you ever memorized a Bible verse or passage? Think about how you did it as we explore ancient memorization techniques.",requireAcknowledgment:!0},{type:"content",title:"The Power of Oral Tradition",content:['In the ancient Near East, oral tradition wasn\'t like the "telephone game" we played as children. It was a carefully practiced discipline.',"Professional memorizers and storytellers trained for years to preserve sacred texts with remarkable accuracy. Jewish rabbis could recite the entire Torah from memory.","Early Christian communities passed down Jesus's teachings orally for decades before they were written down. This oral period wasn't a weakness\u2014it was a feature of ancient culture where memorization was prized."],highlight:"\ud83d\udca1 Fun Fact: Professional memorizers could recall thousands of lines with 99%+ accuracy."},{type:"quiz",question:"Why was oral tradition considered reliable in ancient cultures?",options:["People had better memories than we do today","Professional memorizers trained for years to preserve texts accurately","There were no other options available","Stories were shorter and easier to remember"],correctAnswer:1,explanation:"Ancient cultures trained professional memorizers who could accurately preserve and transmit sacred texts. This wasn't casual storytelling\u2014it was a skilled profession with rigorous standards."},{type:"content",title:"Ancient Writing Materials",subtitle:"From Stone to Skin",content:["The earliest biblical texts were written on materials that seem foreign to us today.","\ud83d\udcdc **Papyrus**: Made from Egyptian reeds, lighter and cheaper but fragile\u2014it crumbled in damp climates.","\ud83e\udea8 **Stone tablets**: Durable but heavy (like the Ten Commandments!).","\ud83d\udcd6 **Parchment**: Treated animal skin, expensive but lasted longer. This became the preferred material.",'Around the 2nd-4th centuries AD, Christians pioneered the "codex" format (pages bound together like a modern book) instead of scrolls.'],highlight:"The codex format was revolutionary \u2014 you could flip directly to John's Gospel instead of unrolling through Matthew, Mark, and Luke first."},{type:"matching",title:"Match the Writing Material",pairs:[{term:"Papyrus",definition:"Made from Egyptian reeds, cheap but fragile"},{term:"Parchment",definition:"Treated animal skin, expensive but durable"},{term:"Codex",definition:"Pages bound together like a modern book"},{term:"Scroll",definition:"Long sheet rolled up, had to unroll to read"}]},{type:"content",title:"The Scribes: Ancient Copy Machines",content:["Before photocopiers and printing presses, every Bible had to be copied by hand\u2014letter by letter, word by word.","\u270d\ufe0f **Jewish scribes (sopherim)** followed strict rules:","\u2022 They counted every letter to ensure accuracy","\u2022 They washed before writing God's name","\u2022 They destroyed any manuscript with errors","\ud83d\udcdd **Christian scribes** were similarly careful but not always as strict. They worked in scriptoriums (writing rooms), often copying from dictation.",'This meticulous work is why we have variants in manuscripts\u2014a scribe might mishear a word, skip a line accidentally, or even "correct" what seemed like an error.']},{type:"fillblank",prompt:"Before printing presses, every Bible had to be copied by hand by professional ________.",correctAnswer:"scribes",explanation:"Scribes were the professionals who painstakingly copied biblical manuscripts by hand, following strict rules to maintain accuracy."},{type:"content",title:"Why Copying Errors Matter (and Don't)",content:['It sounds alarming: "There are thousands of variants in Bible manuscripts!" But context matters.',"\u2705 **Most variants are minor**:","\u2022 Spelling differences","\u2022 Word order changes",'\u2022 Missing articles like "the"',"\ud83d\udd0d **Scholars can usually determine the original wording** by comparing manuscripts.","\ud83d\udccc **The major variants** (like the ending of Mark or the woman caught in adultery in John 8) are clearly marked in modern Bibles.","\u2728 **No core Christian doctrine depends on a disputed text.**"],highlight:"\ud83d\udcaa Strength, not weakness: The abundance of manuscripts actually makes it easier to reconstruct the original."},{type:"quiz",question:"What is true about the abundance of biblical manuscripts?",options:["It makes it harder to know what the original said","It shows the text is unreliable","It actually helps scholars reconstruct the original text more accurately","It proves there were many different versions of the Bible"],correctAnswer:2,explanation:"Having thousands of manuscripts is a strength, not a weakness. The more copies we have, the easier it is to compare them and determine the original wording. The Bible has far more manuscript evidence than any other ancient text."},{type:"reflection",question:"How does learning about the Bible's journey from oral tradition to manuscript change your view of Scripture?",prompts:["What surprised you most about how the Bible was preserved?","How does knowing about manuscript variants affect your confidence in the Bible?",'What would you tell someone who says "the Bible has been changed over time"?']},{type:"completion",title:"Lesson Complete! \ud83c\udf89",message:'You\'ve mastered "From Mouth to Manuscript"! You now understand how the Bible transitioned from oral tradition to written text.',keyTakeaways:["Oral tradition was highly reliable\u2014professional memorizers preserved texts with 99%+ accuracy","Biblical manuscripts were copied on papyrus, parchment, and eventually the revolutionary codex format","Manuscript variants exist, but most are minor and don't affect any core Christian doctrine"],badge:{icon:"\ud83d\udcdc",name:"Scroll Scholar",description:"Completed Lesson 1: From Mouth to Manuscript"}}]},Fn={id:2,title:"The Manuscript Detective Story",subtitle:"Recovering the original text from thousands of copies",duration:"7 min",cards:[{type:"content",title:"Welcome, Detective!",subtitle:"\u23f1\ufe0f About 7 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand how scholars reconstruct the original biblical text from thousands of ancient manuscript copies.","Imagine you're a detective, but instead of solving crimes, you're solving a textual mystery: What did the original biblical authors actually write?","We don't have Paul's original letter to the Romans or Matthew's first draft of his Gospel. What we have are copies of copies of copies\u2014thousands of them.","Welcome to the fascinating world of **textual criticism**, where scholars piece together the original text like assembling a jigsaw puzzle."],highlight:"\ufffd Quick thought: How confident can we be in the Bible if we don't have the originals?",requireAcknowledgment:!0},{type:"content",title:"The Mystery: Where Are the Originals?",content:["Here's a surprising fact: Not a single original biblical manuscript exists today. Why?","\ud83d\udcdc **Papyrus and parchment decay over time**, especially in humid climates.","\ud83d\ude4f Once a manuscript became worn from use, it was **reverently buried or destroyed** (to prevent misuse of God's name) and replaced with a fresh copy.","The earliest New Testament fragment we have (John 18:31-33) dates to around **125 AD**\u2014just 30-40 years after John wrote his Gospel.","\ud83c\udfc6 That's incredibly close compared to other ancient texts. Most classical works have 1,000+ year gaps between composition and earliest copies."]},{type:"quiz",question:"Why don't we have any original biblical manuscripts today?",options:["They were all destroyed in early Christian persecutions","Ancient writing materials decayed over time, and worn copies were replaced","The Catholic Church deliberately destroyed them","They were lost during the fall of Rome"],correctAnswer:1,explanation:"Papyrus and parchment naturally decay, especially in humid climates. Worn manuscripts were reverently replaced with fresh copies. This was normal practice for ancient texts."},{type:"content",title:"Textual Criticism: The Science of Recovery",content:['Textual criticism sounds destructive, but **"criticism" here means "careful evaluation"**, not "finding fault."',"Scholars compare thousands of manuscripts to determine the most likely original wording.","\ud83d\udd2c **The Method**:","1. Collect all manuscript evidence","2. Identify where manuscripts differ","3. Apply principles to determine which reading is original","\ud83d\udccf **Key Principles**:","\u2022 **Prefer the harder reading** (scribes tended to simplify difficulties)","\u2022 **Prefer the shorter reading** (scribes added explanations)","\u2022 **Prefer the reading that explains the others** (the variant that best explains how other variants arose is likely original)"],highlight:"\ud83d\udca1 It's like solving a puzzle where you have all the pieces, but some pieces are slightly different!"},{type:"content",title:"Manuscript Families: Three Main Lines",content:['Manuscripts cluster into "families" based on shared characteristics\u2014like genetic family trees.',"\ud83c\udfdb\ufe0f **Alexandrian text** (Egypt, 2nd-4th centuries): Generally shorter and considered more accurate. Egypt's dry climate preserved early manuscripts beautifully.","\ud83c\udf0d **Western text** (North Africa, Europe, 3rd-9th centuries): Has more paraphrasing and explanatory additions.","\u26ea **Byzantine text** (Constantinople, 5th-15th centuries): Represents the majority of manuscripts and became the basis for the King James Version.","Modern translations like NIV and ESV primarily follow **Alexandrian texts** while noting significant Byzantine variants."]},{type:"matching",title:"Match the Manuscript Family",pairs:[{term:"Alexandrian",definition:"Egypt, generally shorter and more accurate"},{term:"Western",definition:"North Africa/Europe, more paraphrasing"},{term:"Byzantine",definition:"Constantinople, basis for King James Version"},{term:"Textual Criticism",definition:"Careful evaluation to determine original text"}]},{type:"content",title:"Dead Sea Scrolls: Game-Changing Discovery",content:["In **1947**, a Bedouin shepherd threw a rock into a cave near Qumran and heard pottery shatter. Inside were jars containing scrolls over **2,000 years old**!","\ud83c\udfaf **Why This Matters**:","Before this, our earliest complete Hebrew Old Testament dated to **1008 AD**. The Dead Sea Scrolls pushed that back to **200 BC** for some books.","\u2728 **The Shocking Result**:","The text had been preserved with **remarkable accuracy**. Isaiah scrolls from 125 BC match medieval manuscripts almost perfectly.","\ud83d\ude4c This discovery silenced critics who claimed the Old Testament had been corrupted over centuries."],highlight:"\ud83c\udfc6 The Dead Sea Scrolls proved the Bible was copied with incredible accuracy for over 1,000 years."},{type:"fillblank",prompt:"The ________ ________ Scrolls, discovered in 1947, are the oldest biblical manuscripts ever found.",correctAnswer:"Dead Sea",explanation:"The Dead Sea Scrolls, discovered in caves near Qumran in 1947, date back to around 200 BC - 100 AD and confirmed the remarkable accuracy of biblical text transmission."},{type:"content",title:"Understanding Your Bible's Footnotes",content:['Ever see notes like **"Some manuscripts add..."** or **"The earliest manuscripts do not include..."**? These show where ancient manuscripts differ.','\ud83d\udcd6 **Example**: Mark 16:9-20 (the "longer ending" with snake handling and poison drinking) is absent from the earliest and best manuscripts.',"\ud83d\udcdd **Another Example**: John 7:53-8:11 (woman caught in adultery) is beautiful and true to Jesus's character, but it's probably not originally part of John's Gospel.","Modern Bibles include these passages but bracket them with notes.","\u2728 This isn't hiding anything\u2014**it's being honest about the textual evidence**."],highlight:"\ud83d\udcaa Transparency increases trust. Modern Bibles show you where scholars have questions."},{type:"quiz",question:"What was significant about the Dead Sea Scrolls discovery?",options:["They contained lost books of the Bible","They proved the Old Testament had been corrupted over time","They pushed our manuscript evidence back 1,000 years and confirmed textual accuracy","They revealed that Jesus was married"],correctAnswer:2,explanation:"The Dead Sea Scrolls (dated around 200 BC - 100 AD) are about 1,000 years older than previously known Hebrew manuscripts. Remarkably, they match later manuscripts almost perfectly, confirming careful preservation."},{type:"completion",title:"Case Closed! \ud83c\udf89",message:'You\'ve solved "The Manuscript Detective Story"! You now understand how scholars reconstruct the original biblical text from thousands of ancient copies.',keyTakeaways:["We don't have original biblical manuscripts, but we have thousands of early copies","Textual criticism compares manuscripts to reconstruct the original text with >99% accuracy","The Bible has better manuscript evidence than any other ancient document"],badge:{icon:"\ud83d\udd0d",name:"Manuscript Detective",description:"Completed Lesson 2: The Manuscript Detective Story"}}]},zn={id:3,title:"Lost in Translation?",subtitle:"From Hebrew and Greek to your language",duration:"8 min",cards:[{type:"content",title:"Lost in Translation?",subtitle:"\u23f1\ufe0f About 8 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand how the Bible was translated from Hebrew and Greek into English and why different versions exist.",'Have you ever played the game "telephone," where a message gets whispered from person to person and becomes hilariously garbled by the end?',"Translation can feel like that\u2014but biblical translation is far more careful.","Every time the Bible moves from one language to another, translators face a fundamental tension: Do you translate **word-for-word** (formal equivalence) or **thought-for-thought** (dynamic equivalence)?","Let's explore this fascinating journey from ancient languages to English!"],highlight:"\ud83d\udcad Think about it: Have you noticed differences between Bible versions? Wonder why?",requireAcknowledgment:!0},{type:"content",title:"The Septuagint: Judaism's Greek Bible",content:["Around **250 BC**, Jewish scholars in Alexandria, Egypt translated the Hebrew Scriptures into Greek (called the **Septuagint** or **LXX**).","\ud83e\udd14 **Why?** Many Jews in the diaspora spoke Greek, not Hebrew.","\u2b50 **Why This Matters**:","1\ufe0f\u20e3 It's the version most quoted in the New Testament","2\ufe0f\u20e3 It included books (Tobit, Wisdom, Maccabees) that weren't in the Hebrew canon\u2014fueling later debates about the Apocrypha","3\ufe0f\u20e3 It shows how Jews understood their Scriptures before Christianity emerged","When you see Old Testament quotes in the New Testament that don't quite match your Old Testament, it's often because NT authors quoted the Septuagint!"]},{type:"quiz",question:"What was significant about the Septuagint?",options:["It was the first Bible ever written","It translated Hebrew Scriptures to Greek and included books that became the Apocrypha","It was written by Jesus's disciples","It proved the Old Testament was corrupted"],correctAnswer:1,explanation:"The Septuagint (LXX), created around 250 BC, translated Hebrew Scriptures into Greek for diaspora Jews. It included additional books (Deuterocanonical/Apocrypha) and became the version most quoted in the New Testament."},{type:"content",title:"Jerome's Vulgate: The Latin Standard",content:["By the **4th century**, Latin had replaced Greek as the common language of the Western Roman Empire.","Pope Damasus commissioned **Jerome**\u2014a brilliant but cranky scholar\u2014to create a definitive Latin Bible.","\ud83d\udd25 **Jerome did something radical**: Instead of translating from the Greek Septuagint (which most Christians used), he went back to the **Hebrew originals**!","This controversial choice meant his **Vulgate** sometimes differed from the Greek Old Testament.","\ud83d\udcda For over **1,000 years** (400-1500s AD), the Vulgate was THE Bible for Western Christianity.","The Protestant Reformation challenged its authority, but it remained the Catholic Church's official version until the 20th century."],highlight:'\ud83d\udca1 Fun Fact: Jerome was so grumpy that he once wrote, "I would rather face a lion than deal with critics!"'},{type:"content",title:"Translation Philosophy: The Spectrum",content:["Every translation sits on a spectrum between two approaches:","\ud83d\udccf **Formal Equivalence (word-for-word)**:","\u2022 Translates each word as literally as possible","\u2022 Examples: NASB, ESV, KJV","\u2022 \u2705 Great for study; maintains original ambiguities","\u2022 \u274c Can sound wooden; Hebrew idioms don't always make sense in English","\ud83d\udcad **Dynamic Equivalence (thought-for-thought)**:","\u2022 Translates the meaning of phrases, not individual words","\u2022 Examples: NIV, NLT, GNT","\u2022 \u2705 Readable, captures the author's intent","\u2022 \u274c More translator interpretation; some nuance lost","\ud83c\udfa8 **Paraphrase**: Rewrites in contemporary language (Example: The Message)","\u2022 \u2705 Highly readable, fresh perspective","\u2022 \u274c Even more interpretation, less precise"]},{type:"matching",title:"Match the Translation Type",pairs:[{term:"Formal Equivalence",definition:"Word-for-word (ESV, NASB, KJV)"},{term:"Dynamic Equivalence",definition:"Thought-for-thought (NIV, NLT)"},{term:"Paraphrase",definition:"Rewritten in contemporary language (The Message)"},{term:"Septuagint",definition:"Greek translation of Hebrew Scriptures (250 BC)"}]},{type:"content",title:"Why English Bibles Differ",content:["Open five English Bibles to the same verse, and you might see five different wordings. Why?","1\ufe0f\u20e3 **Source texts differ**: KJV used later Byzantine manuscripts; modern versions use earlier Alexandrian texts","2\ufe0f\u20e3 **Translation philosophy**: ESV is formal; NIV is dynamic",'3\ufe0f\u20e3 **English changes**: KJV\'s "thee/thou" sounded normal in 1611 but archaic today',"4\ufe0f\u20e3 **Theological tradition**: Some translations lean toward specific traditions",'5\ufe0f\u20e3 **Committee decisions**: Translation involves judgment calls\u2014should "sarx" be "flesh" or "sinful nature"? Both are defensible!'],highlight:"\ud83d\udcaa This diversity is a strength! Comparing translations helps you see interpretive options."},{type:"fillblank",prompt:"Jerome created the Latin ________, which became the Catholic Church's official Bible for over 1,000 years.",correctAnswer:"Vulgate",explanation:'Jerome\'s Vulgate (from Latin "vulgata" meaning "common") was the Latin translation that dominated Western Christianity from around 400 AD to the 1500s.'},{type:"content",title:"Choosing Your Translation",content:['There\'s no single "best" translation\u2014it depends on your purpose!',"\ud83d\udcda **For word study and deep analysis**: ESV, NASB (formal equivalence)","\ud83d\ude4f **For devotional reading**: NIV, NLT (dynamic equivalence)","\u2728 **For literary beauty**: KJV, NRSV","\ud83c\udfa8 **For fresh perspective**: The Message (paraphrase)","\ud83e\udd1d **For accuracy across traditions**: NRSV, CEB (ecumenical committees)","Many scholars recommend reading **multiple translations**. Use a formal one for study, a dynamic one for reading through books quickly, and a paraphrase for seeing familiar texts with fresh eyes."],highlight:"\ud83d\udca1 Pro Tip: Compare translations to see where they differ\u2014those differences highlight interpretive questions!"},{type:"quiz",question:"For deep Bible word study, which type of translation is generally recommended?",options:["Paraphrase like The Message","Dynamic equivalence like NIV","Formal equivalence like ESV or NASB","Any translation works equally well"],correctAnswer:2,explanation:"Formal equivalence translations (word-for-word like ESV, NASB) preserve the original language structure and are best for detailed study, even though they may sound less natural in English."},{type:"completion",title:"Translation Master! \ud83c\udf89",message:'You\'ve completed "Lost in Translation"! You now understand how the Bible was translated from Hebrew and Greek to English, and why different versions exist.',keyTakeaways:["The Bible was originally written in Hebrew (OT) and Greek (NT), requiring careful translation","Translation involves choosing between word-for-word (formal) and thought-for-thought (dynamic) approaches","Different Bible versions serve different purposes\u2014study Bibles vs. readable versions"],badge:{icon:"\ud83c\udf10",name:"Translation Scholar",description:"Completed Lesson 3: Lost in Translation?"}}]},qn={id:4,title:"The English Bible's Dramatic History",subtitle:"Martyrs, kings, and the fight to read Scripture in English",duration:"9 min",cards:[{type:"content",title:"A Dangerous Book",subtitle:"\u23f1\ufe0f About 9 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand the dramatic story of how courageous people fought to bring the Bible into English.","It's hard to imagine today, but for centuries, owning an English Bible could get you **killed**.","The story of the English Bible is filled with smugglers, secret printings, political intrigue, and martyrs who believed ordinary people deserved to read God's Word in their own language.","From illegal translations whispered in secret to a king's authorized version that shaped the English language itself, this is a story of **courage, controversy, and cultural transformation**."],highlight:"\ud83d\udcad Imagine: What would you risk to read the Bible in your own language?",requireAcknowledgment:!0},{type:"content",title:"John Wycliffe: The Morning Star",content:['In the **1380s**, John Wycliffe and his followers (derisively called "Lollards") produced the first complete English Bible.',"\ud83d\udeab **This was revolutionary and illegal.** The Catholic Church insisted Scripture should remain in Latin, interpreted by clergy.","Wycliffe believed every Christian should read the Bible directly. His followers hand-copied manuscripts and secretly distributed them.","\ud83d\udc80 When Wycliffe died (1384), his enemies **dug up his bones, burned them, and threw the ashes in a river**.","\ud83d\udca1 But his ideas couldn't be killed\u2014they flowed through Europe like those ashes, influencing Jan Hus, Martin Luther, and ultimately the Reformation!"],highlight:'\u26a1 "The Morning Star of the Reformation" - Wycliffe\'s ideas sparked change across Europe'},{type:"quiz",question:"What was illegal about Wycliffe's Bible?",options:["It was translated from Greek instead of Latin","It translated the Bible into English without Church authorization","It removed books from the Bible","It added Wycliffe's own writings"],correctAnswer:1,explanation:"In the 1380s, translating the Bible into English (or any vernacular language) without Church permission was illegal. The Church insisted Scripture remain in Latin, controlled and interpreted by clergy."},{type:"content",title:'William Tyndale: "If God Spare My Life..."',content:['William Tyndale made a famous vow to a clergyman: **"If God spare my life, ere many years I will cause a boy that driveth the plough shall know more of the Scripture than thou dost!"**',"Unable to get permission in England, Tyndale fled to Europe. Using Erasmus's Greek New Testament (1516), he produced an English translation **directly from Greek**\u2014a first!","\ud83d\udce6 He smuggled printed copies into England (1526) hidden in **bales of cloth and wine barrels**.","\ud83d\udd25 Church authorities burned the Bibles publicly.",'\ud83d\udc80 In **1536**, Tyndale was betrayed, strangled, and burned at the stake. His last words: **"Lord, open the King of England\'s eyes!"**',"\u2728 Within a year, King Henry VIII authorized an English Bible. **83% of the KJV New Testament comes directly from Tyndale's work**."]},{type:"matching",title:"Match the Translator",pairs:[{term:"John Wycliffe",definition:"First complete English Bible (1380s), illegal translation"},{term:"William Tyndale",definition:"Translated from Greek, martyred in 1536"},{term:"King James I",definition:"Authorized the 1611 Bible translation"},{term:"Erasmus",definition:"Created Greek New Testament (1516) used by Tyndale"}]},{type:"content",title:"The King James Version: Politics and Poetry",content:["In **1604**, King James I authorized a new Bible translation. Why?","The **Geneva Bible** (1560)\u2014England's popular version\u2014had marginal notes that **questioned royal authority**. James wanted a translation without anti-monarchy notes!","\ud83d\udcda He assembled **47 scholars**, divided into six committees, working from Hebrew, Greek, and Aramaic.","\u2728 Their instructions: **majestic, dignified language** suitable for public reading; no controversial notes.","The **1611 King James Version** succeeded brilliantly\u2014its phrases entered the English language:",'\u2022 "Thee/thy"','\u2022 "Go the extra mile"','\u2022 "The powers that be"',"It dominated for **350 years**."],highlight:"\ud83d\udca1 The KJV shaped English literature and culture more than any other book except Shakespeare"},{type:"fillblank",prompt:'William Tyndale was martyred in 1536, but his last words were: "Lord, open the ________ of England\'s eyes!"',correctAnswer:"King",explanation:"Tyndale's dying prayer was \"Lord, open the King of England's eyes!\" Remarkably, within a year, King Henry VIII authorized an English Bible, fulfilling Tyndale's prayer."},{type:"content",title:"The Modern Translation Explosion",content:["Why so many modern translations? Several factors:","1\ufe0f\u20e3 **Earlier manuscripts discovered** (Dead Sea Scrolls, Alexandrian texts)","2\ufe0f\u20e3 **English language evolution** (KJV English sounds archaic)","3\ufe0f\u20e3 **Translation philosophy debates** (formal vs. dynamic)","4\ufe0f\u20e3 **Denominational preferences**","5\ufe0f\u20e3 **Target audiences** (study, devotional, children, etc.)","\ud83d\udcd6 **Major modern translations**:","\u2022 **NIV (1978)**: Dynamic, evangelical, best-selling","\u2022 **NASB (1971)**: Very literal","\u2022 **ESV (2001)**: Formal, evangelical","\u2022 **NLT (1996)**: Thought-for-thought, highly readable","\u2022 **NRSV (1989)**: Scholarly, ecumenical"]},{type:"quiz",question:"What percentage of the KJV New Testament comes from Tyndale's translation?",options:["About 25%","About 50%","About 83%","None - they were completely different"],correctAnswer:2,explanation:"Approximately 83% of the KJV New Testament comes directly from Tyndale's translation. His work was so excellent that later translators largely preserved his wording."},{type:"completion",title:"History Hero! \ud83c\udf89",message:"You've completed \"The English Bible's Dramatic History\"! You now understand the courage and sacrifice behind the Bible you can freely read today.",keyTakeaways:["Translating the Bible into English was once illegal and cost many people their lives","William Tyndale's translation (1520s) forms the foundation of modern English Bibles","The King James Version (1611) became the dominant English Bible for 400 years"],badge:{icon:"\ud83d\udcd6",name:"Bible History Scholar",description:"Completed Lesson 4: The English Bible's Dramatic History"}}]},Wn={id:5,title:"The Books That Almost Made It",subtitle:"Understanding the Apocrypha and 'lost gospels'",duration:"10 min",cards:[{type:"content",title:"The Missing Books Mystery",subtitle:"\u23f1\ufe0f About 10 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand what the Apocrypha is, why Catholic and Protestant Bibles differ, and how the biblical canon was formed.","Walk into a Catholic bookstore and count the books in their Bible: **73**. Walk into a Protestant bookstore: **66 books**.",'What happened to those 7 books? And what about the "Gospel of Thomas" or "Gospel of Judas" that make headlines every few years?',"Welcome to the fascinating world of texts that were popular, influential, or nearly canonical\u2014but ultimately didn't make the cut for most Christian Bibles.","Get ready to uncover why some books made it in... and others didn't!"],highlight:"\ud83d\udcad Ever wondered: Why do Catholic and Protestant Bibles have different books?",requireAcknowledgment:!0},{type:"content",title:"The Apocrypha: What Are These Books?",content:['The **Apocrypha** (Greek: "hidden things") or **Deuterocanonical** (second canon) books include:',"\ud83d\udcda **Tobit** - Story of faith and an angel","\u2694\ufe0f **Judith** - Brave woman saves her people","\ud83e\udd89 **Wisdom of Solomon** - Philosophical wisdom literature","\ud83d\udcd6 **Sirach (Ecclesiasticus)** - Practical life wisdom","\ud83d\udcdc **Baruch** - Prophecy attributed to Jeremiah's scribe","\ud83d\udee1\ufe0f **1-2 Maccabees** - Jewish resistance to Greek oppression","\u2795 **Additions to Esther and Daniel**","These books were in the Greek Septuagint but not in the Hebrew Bible. That's where the debate begins!"]},{type:"quiz",question:"What are the Deuterocanonical books?",options:["Books written after the New Testament","Books in the Septuagint but not the Hebrew Bible, accepted by Catholics but not Protestants","Books that were lost and recently discovered","The Gnostic gospels"],correctAnswer:1,explanation:"Deuterocanonical books (Tobit, Judith, Wisdom, etc.) were in the Greek Septuagint but not the Hebrew canon. Catholics and Orthodox accept them as Scripture; Protestants do not, though they may include them for historical reading."},{type:"content",title:"Catholic vs. Protestant: The Great Divide",content:["Why do Catholics and Protestants disagree on these books?","\u271d\ufe0f **Catholic/Orthodox view**: These books ARE Scripture.","\u2022 Used by the early church","\u2022 Quoted by church fathers","\u2022 Affirmed at councils (Hippo 393 AD, Carthage 397 AD, Trent 1546 AD)","\u26ea **Protestant view**: Useful for history and devotion but NOT Scripture.","\u2022 Not in the Hebrew canon","\u2022 Not quoted as Scripture in the New Testament","\u2022 Contain theological ideas Protestants reject (prayers for the dead, purgatory implications)",'The Reformers said: **"Good to read, but not equal to Scripture."**'],highlight:'\ud83d\udca1 This isn\'t about one side being "right" and the other "wrong"\u2014it\'s about different criteria for what counts as Scripture'},{type:"matching",title:"Match the Apocrypha Book",pairs:[{term:"Tobit",definition:"Story of faith featuring an angel"},{term:"Wisdom of Solomon",definition:"Philosophical wisdom literature"},{term:"1-2 Maccabees",definition:"Jewish resistance to Greek oppression"},{term:"Sirach",definition:"Practical life wisdom (Ecclesiasticus)"}]},{type:"content",title:"So Close, Yet So Far",content:["Several early Christian texts were beloved and **nearly** canonical:","\ud83d\udc11 **Shepherd of Hermas** (2nd century): Apocalyptic visions and moral teachings. Included in some early Bibles! Why rejected? Too late to be apostolic.","\u2709\ufe0f **1 Clement** (c. 96 AD): Letter from Rome to Corinth. Wise counsel, but lacked apostolic authority.","\ud83d\udcd8 **Didache** (1st-2nd century): Early church manual on baptism, Eucharist, church order. Practical but not inspired.","\ud83d\udcdd **Epistle of Barnabas** (2nd century): Allegorical interpretation of the Old Testament. Interesting but speculative.","These books show us early Christianity's diversity and piety but lacked the apostolic authority or universal acceptance to become Scripture."],highlight:"\ud83d\udcab These books are valuable for understanding early Christian thought, even if not canonical!"},{type:"fillblank",prompt:"Protestant Reformers rejected the Apocrypha as Scripture because these books weren't in the ________ canon.",correctAnswer:"Hebrew",explanation:"Protestants noted that the Apocryphal books weren't in the Hebrew Bible (the Old Testament used by Jesus and the apostles), which was a key reason for not including them as Scripture."},{type:"content",title:"The Gnostic Gospels: A Different Religion",content:['In **1945**, Egyptian farmers found a jar near Nag Hammadi containing 52 texts, including "gospels" attributed to Thomas, Philip, and Mary.','\u274c These weren\'t "lost gospels suppressed by the church"\u2014they were **Gnostic texts** (2nd-3rd centuries), representing a different religion!',"\ud83d\udd2e **Gnosticism taught**:","\u2022 Secret knowledge (gnosis) brings salvation","\u2022 The material world is evil, created by a lesser god","\u2022 Jesus didn't have a real body (Docetism)","\u2022 Salvation is escaping the body, not bodily resurrection","\ud83d\udeab **Why they were rejected**:","1. Written 100-200 years after Jesus by Gnostics, not apostles","2. Contradicted apostolic teaching","3. Focused on secret sayings, not Jesus's life, death, and resurrection","4. No manuscript evidence from the 1st century"]},{type:"quiz",question:"Why were the Nag Hammadi gospels (like Gospel of Thomas) rejected?",options:["They were written too recently to be authentic","They were written 100-200 years after Jesus, taught Gnostic theology, and contradicted apostolic teaching","The church was afraid of their message","They were poorly written"],correctAnswer:1,explanation:'The Nag Hammadi texts were written in the 2nd-3rd centuries (long after the apostles), reflect Gnostic theology (which contradicts Christianity), and lack apostolic authority. They weren\'t "suppressed"\u2014they were simply not apostolic.'},{type:"content",title:'Debunking "Lost Gospel" Sensationalism',content:['Every few years, media headlines scream: **"Lost Gospel Discovered!"** or **"Ancient Text Challenges Christianity!"**',"Let's be clear: **No serious scholar claims these texts should be in the Bible.**","\ud83d\udcf0 **Gospel of Judas** (National Geographic 2006): Gnostic text (3rd century) portraying Judas as hero. Centuries late, Gnostic perspective.",'\ud83d\udcf0 **"Secret Gospel of Mark"**: Claimed 1958, likely a modern forgery.','\ud83d\udcf0 **"Jesus\'s Wife" papyrus** (2012): Tiny fragment, now widely considered a modern fake.',"The sensationalism sells books and gets clicks, but the scholarship is clear: **We have the right books in the New Testament.**","These later texts help us understand competing versions of Christianity that died out, but they don't represent apostolic Christianity."],highlight:"\ud83d\udd0d Media hype \u2260 Scholarly consensus. Always check what actual scholars say!"},{type:"content",title:"Why Canon Boundaries Matter",content:["Having a defined canon isn't about being narrow-minded\u2014it's about having a stable foundation.",'Imagine if every generation could add new "gospels" based on new "revelations." Christianity would fracture endlessly!',"\ud83d\udccb **The canon criteria**:","1\ufe0f\u20e3 **Apostolicity**: Written by or connected to apostles","2\ufe0f\u20e3 **Orthodoxy**: Consistent with apostolic teaching","3\ufe0f\u20e3 **Antiquity**: From the first century","4\ufe0f\u20e3 **Usage**: Widely used in churches","5\ufe0f\u20e3 **Inspiration**: Recognized as bearing divine authority","Books like Thomas, Shepherd of Hermas, or the Apocrypha might be edifying, but they don't meet all these criteria.","\ud83c\udfdb\ufe0f The canon gives us a foundation to stand on\u2014a measuring stick for faith and practice."]},{type:"matching",title:"Match the Canon Criterion",pairs:[{term:"Apostolicity",definition:"Written by or connected to apostles"},{term:"Orthodoxy",definition:"Consistent with apostolic teaching"},{term:"Antiquity",definition:"From the first century"},{term:"Usage",definition:"Widely used in early churches"}]},{type:"quiz",question:"What criteria did the early church use to determine which books were canonical?",options:["Popularity among modern readers","Which books the Emperor preferred","Apostolicity, orthodoxy, antiquity, widespread usage, and recognized inspiration","Only books that were easy to understand"],correctAnswer:2,explanation:"The canon wasn't arbitrary. Books needed to be: written by/connected to apostles, consistent with apostolic teaching, from the first century, widely used in churches, and recognized as divinely inspired."},{type:"completion",title:"Canon Expert! \ud83c\udf89",message:'You\'ve completed "The Books That Almost Made It"! You now understand the Apocrypha, the Gnostic gospels, and how the biblical canon was formed.',keyTakeaways:["Catholic Bibles include 7 additional books (Apocrypha) that Protestants consider non-canonical",'"Lost gospels" (Gospel of Thomas, Judas) were Gnostic texts written later, not apostolic',"The biblical canon was determined by apostolicity, orthodoxy, antiquity, and widespread church usage"],badge:{icon:"\ud83d\udcda",name:"Canon Scholar",description:"Completed Lesson 5: The Books That Almost Made It"}}]},Un={id:6,title:"How Christians Read the Bible Over Time",subtitle:"From allegory to literal: changing interpretation methods",duration:"11 min",cards:[{type:"content",title:"One Bible, Many Readings",subtitle:"\u23f1\ufe0f About 11 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand how Christians have interpreted the Bible differently throughout history and why denominations disagree today.","Open your Bible to Genesis 3, where Eve eats the forbidden fruit.","Is this a literal historical event? An allegory about human free will? A mythological story teaching theological truth?","\ud83e\udd14 How you answer depends partly on **when and where you lived**.","Christians across history have read the same Bible but interpreted it very differently.",'Understanding these interpretation methods helps explain why denominations today disagree on the "plain meaning" of Scripture\u2014and why your great-grandparents might have read passages differently than you do.'],highlight:"\ud83d\udcad Consider: Have you ever heard two people interpret the same Bible verse differently?",requireAcknowledgment:!0},{type:"content",title:"Origen: Allegory Everywhere!",content:["In the 3rd century, **Origen of Alexandria** pioneered allegorical interpretation.","Influenced by Greek philosophy, he believed Scripture had **three senses** (like humans have body, soul, and spirit):","\ud83d\udcd6 **Literal** - The plain events","\ud83d\udcad **Moral** - Ethical lessons","\u2728 **Spiritual** - Deeper mystical meanings","\ud83c\udf0a **Example**: The crossing of the Red Sea wasn't just historical\u2014it symbolized baptism, deliverance from sin, and the soul's journey to God!","\ud83d\udc95 Origen interpreted Song of Solomon entirely as allegory about Christ and the church\u2014not a romantic love poem at all.","\u26a0\ufe0f Critics said he was more interested in Plato than in what the biblical authors actually meant."],highlight:"\ud83d\udca1 This approach solved problems (embarrassing Old Testament stories) but risked reading meanings into the text that weren't there"},{type:"quiz",question:"What was Origen's main interpretive approach?",options:["Strict literal interpretation only","Historical-critical method","Allegorical interpretation finding spiritual meanings beyond the literal","Ignoring the Old Testament"],correctAnswer:2,explanation:"Origen pioneered allegorical interpretation, believing Scripture had literal, moral, and spiritual senses. He found deeper symbolic meanings throughout the Bible, especially in problematic or poetic texts."},{type:"content",title:"Medieval Four-Fold Sense: Layers of Meaning",content:["Medieval theologians developed a **four-fold interpretive method**, summarized in a Latin couplet:",'"The letter teaches events, allegory what you believe, moral what you do, anagogy where you\'re going"','\ud83c\udfdb\ufe0f **Example using "Jerusalem"**:',"1\ufe0f\u20e3 **Literal**: Historical city in Israel","2\ufe0f\u20e3 **Allegorical**: The Church","3\ufe0f\u20e3 **Moral**: The human soul","4\ufe0f\u20e3 **Anagogical**: Heaven","This method found multiple valid meanings in every text. It made Scripture endlessly rich but also dangerously subjective.","\u2753 How do you know which allegorical reading is correct?","The system worked because Church tradition and authority guided interpretation. But it set the stage for Reformation debates."]},{type:"matching",title:"Match the Medieval Sense",pairs:[{term:"Literal",definition:"What happened (historical events)"},{term:"Allegorical",definition:"What to believe (theological meaning)"},{term:"Moral",definition:"What to do (ethical application)"},{term:"Anagogical",definition:"Where you're going (heavenly destiny)"}]},{type:"content",title:'The Reformation: The "Plain Sense" Revolution',content:["\u26a1 Martin Luther and other Reformers rejected allegorical excess.",'Luther said: **"The Holy Spirit is the plainest writer and speaker in heaven and earth, and therefore His words cannot have more than one, and that the very simplest, sense, which we call the literal, ordinary, natural sense."**',"\ud83d\udccb **The Reformers insisted**:","1\ufe0f\u20e3 **Grammatical-historical method**: Understand words in their historical context and original languages","2\ufe0f\u20e3 **Scripture interprets Scripture**: Compare clear passages with unclear ones","3\ufe0f\u20e3 **Priesthood of all believers**: You don't need Church authority to interpret\u2014the Holy Spirit guides individual readers","\u2705 This democratized Bible reading...",'\u274c But also fragmented Christianity. Without Church authority, who decides what\'s "plain"?','It\'s why Protestantism has so many denominations\u2014disagreements over what Scripture "plainly" teaches!']},{type:"fillblank",prompt:"The Reformers emphasized the ________ sense of Scripture, rejecting excessive allegorical interpretation.",correctAnswer:"plain",explanation:'The Reformers championed the "plain sense" or literal-grammatical-historical interpretation of Scripture, insisting that God\'s Word is clear and accessible to ordinary believers, not requiring layers of allegorical interpretation.'},{type:"content",title:"Modern Historical-Critical Scholarship",content:["Starting in the 18th-19th centuries, scholars applied historical methods to the Bible like any ancient text:","\ud83d\udcdd **Source criticism**: Who wrote this? When? What sources did they use? (e.g., the Documentary Hypothesis for the Torah)","\ud83d\udcd6 **Form criticism**: What genre is this? (History, poetry, parable, apocalyptic)","\u2702\ufe0f **Redaction criticism**: How did editors shape the final text?","\ud83d\udd0d **Textual criticism**: What did the original manuscripts say?","\u2705 These methods yielded insights (understanding ancient Near Eastern context, recognizing literary genres)","\u26a0\ufe0f But also controversies (questioning Mosaic authorship of the Pentateuch, debating Gospel historicity)","Conservative scholars use these tools while maintaining high views of biblical authority; liberal scholars sometimes conclude the Bible is purely human literature.","The tools themselves are neutral; the conclusions depend on presuppositions about Scripture's nature."]},{type:"quiz",question:"What is historical-critical scholarship?",options:["Criticizing the Bible's historical claims","Applying historical methods to understand authorship, context, sources, and genre","Proving the Bible is historically false","Only reading the historical books of the Bible"],correctAnswer:1,explanation:"Historical-critical method applies historical and literary analysis to Scripture: examining authorship, dating, sources, genres, and historical context. It's a tool that can be used with various views of biblical authority."},{type:"content",title:"Why Denominations Read the Same Bible Differently",content:['Here\'s why Christians disagree on "what the Bible clearly says":','1\ufe0f\u20e3 **Interpretive tradition**: Catholics read through Church tradition; Protestants through "Scripture alone" (though they have traditions too)',"2\ufe0f\u20e3 **Theological framework**: Calvinists and Arminians both cite Scripture but reach different conclusions on predestination","3\ufe0f\u20e3 **Genre recognition**: Is Genesis 1 scientific? Poetic? Theological? Your answer affects interpretation",'4\ufe0f\u20e3 **Cultural context**: Does 1 Timothy 2:12 ("I do not permit a woman to teach") apply universally or to a specific situation?',"5\ufe0f\u20e3 **Role of reason/experience**: How much weight do you give to science, personal experience, or Church tradition alongside Scripture?",'These aren\'t "some Christians ignore the Bible" vs. "we follow it." **All are trying to faithfully interpret Scripture**\u2014they just bring different tools and assumptions.'],highlight:"\ud83d\udca1 Understanding WHY Christians disagree helps us have more charitable conversations!"},{type:"matching",title:"Match the Interpretive Approach",pairs:[{term:"Allegorical",definition:"Finding hidden spiritual meanings (Origen)"},{term:"Four-Fold Sense",definition:"Medieval: literal, allegorical, moral, anagogical"},{term:"Plain Sense",definition:"Reformation: grammatical-historical reading"},{term:"Historical-Critical",definition:"Modern: analyzing sources, genre, context"}]},{type:"quiz",question:"Why do denominations interpret the same Bible verse differently?",options:["Some denominations ignore parts of the Bible","Different interpretive traditions, theological frameworks, genre recognition, and cultural contexts","Only Catholics interpret correctly","The Bible is too unclear to interpret"],correctAnswer:1,explanation:"Christians disagree not because some ignore Scripture but because they bring different interpretive traditions, theological frameworks, understandings of genre and context, and views on the role of reason and experience. All are trying to interpret faithfully."},{type:"completion",title:"Interpretation Master! \ud83c\udf89",message:'You\'ve completed "How Christians Read the Bible Over Time"! You now understand how biblical interpretation has evolved and why Christians disagree on what Scripture means.',keyTakeaways:["Biblical interpretation has evolved from allegorical (early church) to literal (Reformation) to critical (modern)",'The medieval "four-fold sense" saw literal, allegorical, moral, and anagogical meanings in every text',"Christians today disagree because of different interpretive traditions, not because some ignore Scripture"],badge:{icon:"\ud83d\udcd6",name:"Hermeneutics Scholar",description:"Completed Lesson 6: How Christians Read the Bible Over Time"}}]},Vn={id:7,title:"Archaeology & the Bible",subtitle:"How discoveries confirm, challenge, and illuminate Scripture",duration:"9 min",cards:[{type:"content",title:"Digging Into the Past",subtitle:"\u23f1\ufe0f About 9 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand how archaeological discoveries have confirmed, challenged, and illuminated biblical accounts.","In **1947**, a shepherd threw a rock into a cave and **changed biblical scholarship forever**.","In **1868**, a missionary found a stone that mentioned King David's dynasty\u2014confirming a biblical king skeptics doubted existed.",'Archaeology doesn\'t "prove" the Bible in a simplistic way, but it provides an astonishing amount of confirmation for biblical people, places, and events.',"It also raises questions and challenges traditional interpretations.","Let's explore how **digging in the dirt illuminates the book we hold in our hands**!"],highlight:"\ud83d\udcad Curiosity check: What archaeological find would most strengthen your faith?",requireAcknowledgment:!0},{type:"content",title:"Dead Sea Scrolls: A Game-Changing Discovery",content:["Before **1947**, critics claimed the Old Testament had been corrupted over centuries of copying.","Our oldest complete Hebrew Bible was the Leningrad Codex (**1008 AD**)\u2014over 1,000 years after the last OT book was written.","\ud83d\udc11 Then came Qumran. Bedouin shepherds discovered caves containing hundreds of scrolls, including complete or partial copies of **every OT book except Esther**.","\ud83d\udcc5 **Dates**: 200 BC - 100 AD","\ud83d\udcdc The Isaiah scroll from Cave 1 (125 BC) is **1,000 years older** than any previously known manuscript.","\u2705 **Result?** Word-for-word match with medieval manuscripts, with only minor spelling variations!","This discovery silenced claims of textual corruption and confirmed the careful preservation of Scripture.","We also learned about Second Temple Judaism\u2014the religious world Jesus grew up in."],highlight:"\ud83c\udfc6 The Dead Sea Scrolls pushed manuscript evidence back 1,000 years and proved incredible textual accuracy!"},{type:"quiz",question:"What was the major significance of the Dead Sea Scrolls?",options:["They contained new books of the Bible","They proved the Old Testament had been corrupted","They pushed manuscript evidence back 1,000 years and confirmed textual accuracy","They revealed Jesus was married"],correctAnswer:2,explanation:"The Dead Sea Scrolls (200 BC - 100 AD) are about 1,000 years older than previously known Hebrew manuscripts. They match later texts almost perfectly, confirming careful textual preservation over centuries."},{type:"content",title:"Nag Hammadi: Understanding Early Heresies",content:["In **1945**, Egyptian farmers near Nag Hammadi found a jar containing **52 texts** (4th century copies of 2nd-3rd century originals).","These included Gnostic gospels (Thomas, Philip, Mary, Truth).",'\ud83d\udcf0 Sensational media claimed these were "suppressed gospels."',"\u2705 **Reality**: These texts confirm what church fathers said about Gnostic beliefs:","\u2022 Secret knowledge for salvation","\u2022 Material world as evil","\u2022 Denial of Jesus's physical resurrection","They're valuable for understanding **why early Christians rejected Gnosticism**, but they don't challenge the New Testament canon.","No serious scholar argues they're apostolic.","They show Christianity wasn't monolithic\u2014there were competing visions, and orthodox Christianity won not by suppression but by better reflecting apostolic teaching and Jesus's actual life and mission."]},{type:"matching",title:"Match the Archaeological Discovery",pairs:[{term:"Dead Sea Scrolls",definition:"1947 discovery, confirmed OT textual accuracy"},{term:"Nag Hammadi",definition:"1945 discovery, Gnostic texts from 2nd-3rd centuries"},{term:"Tel Dan Stele",definition:'1993 discovery, mentions "House of David"'},{term:"Pool of Siloam",definition:"2004 discovery, where Jesus healed blind man"}]},{type:"content",title:"Archaeological Confirmations: The Hits",content:["Archaeology has confirmed numerous biblical details critics once doubted:","\ud83c\udfdb\ufe0f **Hittites**: Once thought legendary, now extensively documented","\ud83d\udca7 **Pool of Siloam**: Where Jesus healed the blind man (John 9)\u2014discovered in 2004","\ud83d\udc68 **Pontius Pilate**: Inscription found in 1961 confirms his existence and title",'\ud83d\udc51 **House of David**: Tel Dan Stele (1993) mentions "House of David," confirming David as historical figure',"\ud83c\udff0 **Assyrian and Babylonian kings**: Sennacherib, Nebuchadnezzar, etc.\u2014all confirmed","\u271d\ufe0f **Crucifixion evidence**: Heel bone with nail from 1st century proves crucifixion methods matching Gospel descriptions","\ud83c\udfd8\ufe0f **Capernaum**: Peter's house excavated, matches Gospel descriptions","These don't \"prove\" theological claims, but they confirm the Bible's historical reliability in details skeptics once mocked."]},{type:"fillblank",prompt:'The Tel Dan Stele, discovered in 1993, mentions the "House of ________," confirming his historical existence.',correctAnswer:"David",explanation:'The Tel Dan Stele is a stone inscription that mentions the "House of David," providing archaeological evidence that King David was a real historical figure, not just a legend.'},{type:"content",title:"Archaeological Challenges: The Complications",content:["Archaeology also raises questions:","\ud83c\udfdc\ufe0f **The Exodus**: No direct evidence for 2+ million Israelites wandering 40 years in Sinai. Some scholars suggest smaller numbers; others see theological history rather than documentary history.","\ud83e\uddf1 **Jericho's walls**: Joshua's conquest (c. 1400 BC) doesn't match archaeological evidence for Jericho's destruction. Possible explanations: dating debates, theological narrative vs. strict history.","\ud83c\udfd8\ufe0f **Nazareth**: Limited 1st century evidence (though recent finds confirm small village).","\u2694\ufe0f **Conquest vs. settlement**: Archaeological evidence suggests gradual settlement rather than sudden military conquest.",'These don\'t "disprove" the Bible but challenge simplistic readings.',"They remind us: **The Bible is ancient literature with complex relationships to history, not a modern documentary.**"],highlight:"\ud83d\udca1 Archaeological questions don't destroy faith\u2014they invite us to read the Bible more carefully and thoughtfully"},{type:"quiz",question:"What is the relationship between archaeology and biblical faith?",options:["Archaeology proves every biblical claim","Archaeology disproves the Bible","Archaeology confirms historical contexts and details but doesn't prove theological claims","Archaeology is irrelevant to faith"],correctAnswer:2,explanation:"Archaeology confirms the Bible's historical grounding\u2014real people, places, and events\u2014but doesn't \"prove\" theological claims like resurrection or miracles. It shows the Bible emerged from real history, not mythology, which strengthens (but doesn't replace) faith."},{type:"content",title:"Recent Discoveries and Ongoing Work",content:["Biblical archaeology continues with exciting finds:","\ud83d\udcdc **P52 (John Rylands Papyrus)**: Earliest NT fragment (John 18, c. 125 AD)","\ud83d\udcd6 **P46 (Chester Beatty Papyrus)**: Paul's letters, c. 200 AD","\ud83d\udcd5 **Codex Sinaiticus** (1844): 4th century complete NT, discovered in monastery","\u26a0\ufe0f **Museum of the Bible controversies**: Fake Dead Sea Scroll fragments exposed (2018)\u2014reminder to verify provenance","\ud83c\udfdb\ufe0f **Tel Gezer inscription**: Confirms biblical place names","\ud83c\udff0 **Khirbet Qeiyafa**: Possible site of biblical Shaaraim","\ud83d\udcbb **Digital technology**: Multispectral imaging reveals text on burnt scrolls","Archaeology won't answer every question\u2014much ancient evidence is lost to time.","But it consistently shows **the Bible emerged from real historical contexts, featuring real people and places**."]},{type:"matching",title:"Match the Evidence Type",pairs:[{term:"Confirmations",definition:"Pool of Siloam, Pontius Pilate inscription"},{term:"Challenges",definition:"Exodus evidence, Jericho conquest timing"},{term:"Manuscripts",definition:"Dead Sea Scrolls, P52 papyrus"},{term:"Gnostic Texts",definition:"Nag Hammadi library (2nd-3rd century)"}]},{type:"quiz",question:"Which biblical figure's existence was confirmed by the Tel Dan Stele?",options:["Moses","Abraham","King David","Jesus"],correctAnswer:2,explanation:'The Tel Dan Stele (1993 discovery) mentions the "House of David," confirming David as a historical figure. This was significant because some scholars had questioned David\'s existence.'},{type:"completion",title:"Archaeology Expert! \ud83c\udf89",message:'You\'ve completed "Archaeology & the Bible"! You now understand how archaeological discoveries confirm, challenge, and illuminate Scripture.',keyTakeaways:["The Dead Sea Scrolls (1947) showed the Old Testament was transmitted with remarkable accuracy","Archaeology has confirmed many biblical people and places (David, Pontius Pilate, Pool of Siloam)","Some archaeological evidence challenges traditional timelines (Exodus, Jericho) requiring nuanced interpretation"],badge:{icon:"\ud83c\udffa",name:"Biblical Archaeologist",description:"Completed Lesson 7: Archaeology & the Bible"}}]},Hn={id:8,title:"Your Bible's Backstory",subtitle:"Practical skills for informed Bible reading",duration:"10 min",cards:[{type:"content",title:"Your Journey Complete!",subtitle:"\u23f1\ufe0f About 10 minutes",content:["**Learning Objective:** By the end of this lesson, you will have practical skills for informed Bible reading, including choosing translations, understanding footnotes, and using study resources.","You've journeyed through **2,000+ years** of biblical history:","\u2705 From oral tradition to manuscript copying","\u2705 From Latin Vulgate to English translations","\u2705 From disputed canons to archaeological discoveries","Now it's time to bring it all together with **practical skills**.","This final lesson equips you to read your Bible with informed confidence:","\u2022 Understanding footnotes","\u2022 Choosing translations wisely","\u2022 Recognizing textual issues","\u2022 Selecting study resources that fit your needs","**You're about to become a much more informed Bible reader!**"],highlight:"\ud83d\udcad Reflect: How has learning the Bible's backstory changed how you read Scripture?",requireAcknowledgment:!0},{type:"content",title:"Decoding Manuscript Footnotes",content:["Open your Bible to almost any page and you'll see small letters (a, b, c) with footnotes at the bottom.","These aren't distractions\u2014they're **windows into textual history**!","\ud83d\udcdd **Common footnote types**:",'\ud83d\udccc **"Some manuscripts read..."**: Indicates a variant reading in ancient manuscripts. Example: Romans 8:28 might note different word order. Usually minor.','\ud83d\udccc **"The earliest manuscripts do not include..."**: Signals significant textual questions. Example: Mark 16:9-20.','\ud83d\udccc **"Or..."**: Alternative translations of the same Greek/Hebrew word. Example: "justify" or "declare righteous."','\ud83d\udccc **"Greek: ..."**: Shows the original language when English doesn\'t capture nuance.',"These footnotes don't mean your Bible is unreliable\u2014they mean **translators are being honest** about uncertainty and giving you full information.","\ud83d\udcaa Embrace them! They show scholarly integrity."]},{type:"quiz",question:'What does a footnote saying "Some manuscripts read..." indicate?',options:["The Bible is unreliable","There is a minor variation between ancient manuscripts","You should stop reading that version","The translators made a mistake"],correctAnswer:1,explanation:"This footnote indicates a minor variation between ancient manuscript families. It shows transparency and honesty\u2014translators are giving you full information about textual evidence. Most variants are insignificant spelling or word order differences."},{type:"content",title:"Know Your Translation's Approach",content:["Every Bible includes an introduction or preface explaining the translation philosophy. **Read it!**","\ud83d\udd0d **Look for**:","\ud83d\udcda **Source texts**: Nestle-Aland/UBS for NT? Biblia Hebraica for OT?","\u2696\ufe0f **Translation philosophy**: Formal (word-for-word) or dynamic (thought-for-thought)?","\ud83d\udc65 **Committee composition**: Denominational? Ecumenical? Conservative? Liberal?","\ud83c\udfaf **Target audience**: Scholars? New believers? Children?","\u271d\ufe0f **Example - ESV**: Uses NA28 Greek text, formal equivalence, evangelical committee, aims for word-for-word accuracy.","\ud83d\udcd6 **Example - NIV**: Uses eclectic Greek text, dynamic equivalence, evangelical committee, prioritizes clarity and readability.","\ud83c\udf93 **Example - NRSV**: Ecumenical committee, formal equivalence, gender-inclusive language, scholarly.","Knowing your translation's approach helps you understand its strengths and limitations!"]},{type:"matching",title:"Match the Translation Feature",pairs:[{term:"Source Texts",definition:"The original language manuscripts used (NA28, etc.)"},{term:"Translation Philosophy",definition:"Formal equivalence vs. dynamic equivalence"},{term:"Committee Composition",definition:"Who translated it (denominational, ecumenical, etc.)"},{term:"Target Audience",definition:"Who it's designed for (scholars, new believers, etc.)"}]},{type:"content",title:"Brackets, Italics, and Textual Markers",content:["Your Bible uses typography to signal textual issues:","\ud83d\udccc **Brackets [text]**: Indicates significant textual uncertainty.","\u2022 **John 7:53-8:11** (woman caught in adultery) is bracketed in most modern Bibles because it's absent from earliest manuscripts. The story is likely historical tradition but wasn't originally in John's Gospel.","\u2022 **Mark 16:9-20** (longer ending with snake-handling) similarly bracketed.","\ud83d\udccc **Double brackets [[text]]**: Even more uncertain.","\ud83d\udccc **Italics** (in KJV): Added words for English readability not in the original.","\ud83d\udccc **Paragraph headings**: Added by publishers, not in the original text. Don't treat them as Scripture.","\ud83d\udccc **Red letters** (Jesus's words): Helpful but interpretive\u2014sometimes debated what counts as Jesus's words.","Understanding these markers helps you read critically and recognize where uncertainty exists."],highlight:"\ud83d\udca1 These markers aren't hiding anything\u2014they're showing you exactly where scholars have questions!"},{type:"fillblank",prompt:"In modern Bibles, text enclosed in ________ indicates significant textual uncertainty, like John 7:53-8:11.",correctAnswer:"brackets",explanation:"Brackets [ ] in modern Bibles indicate passages with significant textual uncertainty\u2014they're not found in the earliest or best manuscripts but are included because they're part of church tradition and may be historically authentic."},{type:"content",title:"Choosing a Study Bible",content:["Study Bibles add notes, maps, articles, and cross-references. But not all study Bibles are alike!","\ud83d\udd2c **For deep word study**: ESV Study Bible, NASB Study Bible\u2014formal translations with detailed notes","\u2696\ufe0f **For balanced evangelical perspective**: NIV Study Bible, CSB Study Bible\u2014readable with solid scholarship","\ud83c\udf93 **For ecumenical/academic**: NRSV Oxford Annotated, HarperCollins Study Bible\u2014multiple viewpoints, scholarly","\u271d\ufe0f **For Catholic readers**: Catholic Study Bible, Ignatius Catholic Study Bible\u2014includes Deuterocanonical books, Catholic tradition","\ud83d\ude4f **For devotional use**: Life Application Study Bible, NLT Study Bible\u2014practical application focus","\ud83c\udfdb\ufe0f **For historical/cultural context**: IVP Bible Background Commentary, Zondervan Illustrated Bible Backgrounds","\ud83d\udea9 **Red flags**: Study Bibles pushing fringe interpretations, claiming exclusive correctness, or ignoring mainstream scholarship"]},{type:"quiz",question:"For devotional reading and practical application, which type of study Bible is best?",options:["NRSV Oxford Annotated (academic)","ESV Study Bible (deep word study)","Life Application Study Bible (practical application)","Catholic Study Bible (Catholic tradition)"],correctAnswer:2,explanation:"For devotional use and practical application, study Bibles like the Life Application Study Bible or NLT Study Bible are designed to help you apply Scripture to daily life, rather than focusing on technical scholarly details."},{type:"content",title:"Becoming a Confident Bible Reader",content:["You now have the tools to read Scripture with informed confidence! \ud83c\udf89","\ud83d\udccb **Practical habits**:","1\ufe0f\u20e3 **Compare translations**: Check 2-3 translations for important passages. Differences often reveal interpretive choices.","2\ufe0f\u20e3 **Read footnotes**: Don't skip them! They provide crucial context.","3\ufe0f\u20e3 **Use study helps wisely**: Commentaries and study Bibles are helpful but not infallible.","4\ufe0f\u20e3 **Understand genre**: Read poetry as poetry, apocalyptic as apocalyptic, history as ancient history.","5\ufe0f\u20e3 **Learn some Greek/Hebrew**: Even basic knowledge helps (free resources: Mounce's Greek, Pratico's Hebrew).","6\ufe0f\u20e3 **Join a Bible study**: Community guards against individualistic misinterpretation.","7\ufe0f\u20e3 **Pray for illumination**: The Holy Spirit guides understanding (1 Cor 2:10-14)."],highlight:"\ud83d\udcaa You don't need to be a scholar to read the Bible faithfully\u2014but a little knowledge goes a long way!"},{type:"matching",title:"Match the Reading Strategy",pairs:[{term:"Compare Translations",definition:"Check 2-3 versions to see interpretive choices"},{term:"Read Footnotes",definition:"Don't skip them\u2014they provide crucial context"},{term:"Understand Genre",definition:"Read poetry as poetry, history as history"},{term:"Join a Bible Study",definition:"Community guards against misinterpretation"}]},{type:"quiz",question:"What is the best practice for becoming a confident Bible reader?",options:["Only read one translation and never question it","Ignore footnotes because they just confuse things","Memorize Greek and Hebrew before reading","Compare translations, read footnotes, understand genre, and use study helps wisely"],correctAnswer:3,explanation:"Confident Bible reading involves comparing translations, reading footnotes, understanding literary genres, using study resources wisely, and combining scholarship with prayer. It doesn't require expertise, just curiosity and willingness to learn."},{type:"completion",title:"Congratulations! \ud83c\udf89\ud83c\udf8a",message:"You've completed ALL 8 lessons of the Bible History Study Guide! You're now an informed, confident Bible reader equipped to understand Scripture's rich backstory. Share what you've learned with others!",keyTakeaways:["Manuscript footnotes reveal textual variants\u2014don't skip them!","Different Bible translations serve different purposes (study vs. readability)","Informed Bible reading combines good study tools, genre awareness, and prayerful dependence on the Spirit"],badge:{icon:"\ud83c\udfc6",name:"Bible History Master",description:"Completed ALL 8 Lessons: From Mouth to Manuscript to Modern Reader"}}]},Gn=t=>{let{userProgress:n,onNavigate:i,onGoBack:s,onProgressUpdate:a}=t;const o=ae(),[l,c]=(0,e.useState)(null),[d,u]=(0,e.useState)([]),[h,m]=(0,e.useState)({}),[p,f]=(0,e.useState)({}),[g,y]=(0,e.useState)(null),[b,x]=(0,e.useState)(null);(0,e.useEffect)(()=>{var e;null!==(e=o.state)&&void 0!==e&&e.reviewMode&&"bible"===o.state.reviewMode.path&&x(o.state.reviewMode)},[o.state]),(0,e.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);(0,e.useEffect)(()=>{var e,t;null!==n&&void 0!==n&&null!==(e=n.courses)&&void 0!==e&&null!==(t=e.bible)&&void 0!==t&&t.completedLessons&&u(n.courses.bible.completedLessons)},[n]);const v=e=>{if(!d.includes(e)){const t=[...d,e];u(t)}},w=async(e,t)=>{if(v(e),wn("bible",e),t){const n=bn();n&&(await(0,On.lr)(n.uid,"bible",e,t),a&&a())}y(null),window.scrollTo({top:0,behavior:"smooth"})},N=()=>{y(null),window.scrollTo({top:0,behavior:"smooth"})},k=[{lesson:1,title:"From Mouth to Manuscript",subtitle:"How oral tradition became written text",introduction:"Long before the printing press, before paper, even before parchment was common, the stories that would become the Bible were passed down by word of mouth. Imagine sitting around a campfire as an elder recounts the story of Moses parting the Red Sea, or Jesus feeding the 5,000. These weren't just stories\u2014they were sacred memories, carefully preserved and passed from generation to generation.",keyTopics:["How oral tradition worked in ancient cultures","Ancient writing materials: papyrus, parchment, and the shift from scroll to codex","The role of scribes in preserving Scripture","Why we have copying variations in manuscripts","The transition from spoken word to written text"],detailedContent:[{heading:"The Oral Tradition Foundation",text:"In the ancient Near East, oral tradition was not like the 'telephone game' we played as children. Professional memorizers and storytellers trained for years to preserve sacred texts with remarkable accuracy. Jewish rabbis could recite the entire Torah from memory. Early Christian communities passed down Jesus's teachings orally for decades before they were written down. This oral period wasn't a weakness\u2014it was a feature of ancient culture where memorization was prized and communities gathered regularly to hear and repeat these sacred stories."},{heading:"Writing Materials: From Stone to Skin",text:"The earliest biblical texts were written on materials that seem foreign to us today. Stone tablets (like the Ten Commandments) were durable but heavy. Papyrus, made from Egyptian reeds, was lighter and cheaper but fragile\u2014it crumbled in damp climates. Parchment (treated animal skin) was expensive but lasted longer. Around the 2nd-4th centuries AD, Christians pioneered the 'codex' format (pages bound together like a modern book) instead of scrolls. This was revolutionary\u2014you could flip directly to John's Gospel instead of unrolling through Matthew, Mark, and Luke first!"},{heading:"The Scribes: Ancient Copy Machines",text:"Before photocopiers and printing presses, every Bible had to be copied by hand. Jewish scribes (sopherim) followed strict rules: they counted every letter, washed before writing God's name, and destroyed any manuscript with errors. Christian scribes were similarly careful but not always as strict. They worked in scriptoriums (writing rooms), often copying from dictation. This is why we have variants in manuscripts\u2014a scribe might mishear a word, skip a line accidentally, or even 'correct' what seemed like an error in their source manuscript."},{heading:"Why Copying Errors Matter (and Don't)",text:"It sounds alarming: 'There are thousands of variants in Bible manuscripts!' But context matters. Most variants are minor: spelling differences, word order changes, or missing articles ('the'). Scholars can usually determine the original wording by comparing manuscripts. The major variants (like the ending of Mark or the woman caught in adultery in John 8) are clearly marked in modern Bibles. No core Christian doctrine depends on a disputed text. The abundance of manuscripts is actually a strength\u2014we have more biblical manuscripts than any other ancient text, making it easier to reconstruct the original."}],beginnerExplanation:"Think of the Bible's journey like this: Imagine your great-grandparents telling you a family story, which you memorize and tell your kids. Eventually, someone writes it down in a letter. That letter gets copied by hand dozens of times over centuries. Some copies have small differences\u2014a misspelled name, a missing word\u2014but the core story remains the same. That's basically what happened with the Bible, except with thousands of professional scribes working to preserve these sacred texts as accurately as possible.",reflectionQuestions:["How does knowing the Bible was first an oral tradition change how you think about its reliability?","What surprises you most about how scribes copied manuscripts?","If you had to memorize and pass down a sacred story, what techniques would help you?","How do you think the shift from scrolls to codex format affected how Christians read and studied Scripture?"],practicalApplication:"Next time you read your Bible, look for the footnotes that say 'some manuscripts say...' or 'the earliest manuscripts do not include...' These notes show textual variants. Pick one and research why scholars debate it. You'll gain appreciation for the careful work of both ancient scribes and modern textual critics.",appLinks:["Bible Timeline","Church History Guide (Lesson 1)"],quiz:[{question:"Why was oral tradition considered reliable in ancient cultures?",options:["People had better memories than we do today","Professional memorizers trained for years to preserve texts accurately","There were no other options available","Stories were shorter and easier to remember"],correctAnswer:1,explanation:"Ancient cultures trained professional memorizers who could accurately preserve and transmit sacred texts. This wasn't casual storytelling\u2014it was a skilled profession with rigorous standards."},{question:"What was the main advantage of the codex format over scrolls?",options:["Codices were cheaper to produce","Codices were more durable","You could quickly access any part of the text without unrolling","Codices held more text"],correctAnswer:2,explanation:"The codex format (bound pages like a modern book) allowed readers to flip directly to any section. With a scroll, you had to unroll through all the preceding text, making cross-referencing nearly impossible."},{question:"Which writing material was most commonly used for New Testament manuscripts?",options:["Stone tablets","Papyrus and parchment","Clay tablets","Wood panels"],correctAnswer:1,explanation:"Papyrus (in dry climates like Egypt) and parchment (treated animal skin) were the primary materials for New Testament manuscripts. Papyrus was cheaper; parchment was more durable."},{question:"Why do we have thousands of variants in biblical manuscripts?",options:["Scribes intentionally changed the text to fit their theology","The original texts were unclear","Hand-copying over centuries naturally produced minor differences","Different communities had different versions of the stories"],correctAnswer:2,explanation:"Most variants are unintentional: spelling differences, skipped lines, word order changes. Hand-copying over centuries naturally produces minor variations. The vast majority don't affect meaning, and comparing manuscripts helps scholars identify the original text."},{question:"What is true about the abundance of biblical manuscripts?",options:["It makes it harder to know what the original said","It shows the text is unreliable","It actually helps scholars reconstruct the original text more accurately","It proves there were many different versions of the Bible"],correctAnswer:2,explanation:"Having thousands of manuscripts is a strength, not a weakness. The more copies we have, the easier it is to compare them and determine the original wording. The Bible has far more manuscript evidence than any other ancient text."}]},{lesson:2,title:"The Manuscript Detective Story",subtitle:"Recovering the original text from thousands of copies",introduction:"Imagine you're a detective, but instead of solving crimes, you're solving a textual mystery: What did the original biblical authors actually write? We don't have Paul's original letter to the Romans or Matthew's first draft of his Gospel. What we have are copies of copies of copies\u2014thousands of them. Welcome to the fascinating world of textual criticism, where scholars piece together the original text like assembling a jigsaw puzzle.",keyTopics:["What is textual criticism and why it matters","Why we don't have the original manuscripts (autographs)","Major manuscript families: Alexandrian, Byzantine, and Western","The Dead Sea Scrolls discovery and its massive impact","How to understand footnotes in your Bible"],detailedContent:[{heading:"The Mystery: Where Are the Originals?",text:"Not a single original biblical manuscript exists today. Why? Papyrus and parchment decay over time, especially in humid climates. Plus, once a manuscript became worn from use, it was reverently buried or destroyed (to prevent misuse of God's name) and replaced with a fresh copy. The earliest New Testament fragment we have (John 18:31-33) dates to around 125 AD\u2014just 30-40 years after John wrote his Gospel. That's incredibly close compared to other ancient texts. Most classical works have 1,000+ year gaps between composition and earliest copies."},{heading:"Textual Criticism: The Science of Recovery",text:"Textual criticism sounds destructive, but 'criticism' here means 'careful evaluation.' Scholars compare thousands of manuscripts to determine the most likely original wording. The method: (1) Collect all manuscript evidence, (2) Identify where manuscripts differ, (3) Apply principles to determine which reading is original. Key principles include: 'prefer the harder reading' (scribes tended to simplify difficulties), 'prefer the shorter reading' (scribes added explanations), and 'prefer the reading that explains the others' (the variant that best explains how other variants arose is likely original)."},{heading:"Manuscript Families: The Three Main Lines",text:"Manuscripts cluster into 'families' based on shared characteristics\u2014like genetic family trees. The **Alexandrian text** (Egypt, 2nd-4th centuries) is generally shorter and considered more accurate due to Egypt's dry climate preserving early manuscripts. The **Western text** (North Africa, Europe, 3rd-9th centuries) has more paraphrasing and explanatory additions. The **Byzantine text** (Constantinople, 5th-15th centuries) represents the majority of manuscripts and became the basis for the King James Version. Modern translations like NIV and ESV primarily follow Alexandrian texts while noting significant Byzantine variants."},{heading:"Dead Sea Scrolls: A Game-Changing Discovery",text:"In 1947, a Bedouin shepherd threw a rock into a cave near Qumran and heard pottery shatter. Inside were jars containing scrolls over 2,000 years old\u2014the oldest biblical manuscripts ever found. Before this, our earliest complete Hebrew Old Testament dated to 1008 AD. The Dead Sea Scrolls pushed that back to 200 BC for some books. The shocking result? The text had been preserved with remarkable accuracy. Isaiah scrolls from 125 BC match medieval manuscripts almost perfectly. This discovery silenced critics who claimed the Old Testament had been corrupted over centuries."},{heading:"Understanding Your Bible's Footnotes",text:"Ever see notes like 'Some manuscripts add...' or 'The earliest manuscripts do not include...'? These show where ancient manuscripts differ. Example: Mark 16:9-20 (the 'longer ending' with snake handling and poison drinking) is absent from the earliest and best manuscripts\u2014most scholars believe Mark originally ended at 16:8. John 7:53-8:11 (woman caught in adultery) is beautiful and true to Jesus's character, but it's probably not originally part of John's Gospel. Modern Bibles include these passages but bracket them with notes. This isn't hiding anything\u2014it's being honest about the textual evidence."}],beginnerExplanation:"Imagine you wrote a letter to your best friend in 1950, and they copied it by hand and sent copies to 10 other friends. Those friends made copies, and so on. By 2025, there are 5,000 handwritten copies floating around, but your original is long gone. Now someone wants to know exactly what you wrote. They'd collect all 5,000 copies, notice where they differ (maybe someone misheard a word, or 'corrected' your grammar), and by comparing all the copies, they could reconstruct your original letter with high confidence. That's textual criticism. And the Bible has way more manuscript copies than any other ancient text, making reconstruction easier, not harder.",reflectionQuestions:["How does knowing we don't have originals affect your confidence in the Bible?","What surprises you about the Dead Sea Scrolls discovery?","Why do you think modern Bibles include disputed passages like the longer ending of Mark?","How might understanding textual criticism help you when someone claims 'the Bible has been changed over time'?"],practicalApplication:"Open your Bible to Mark 16:9-20 or John 7:53-8:11. Read the footnotes explaining the textual issues. Then look up a few different translations (NIV, ESV, NASB, KJV) to see how they handle these passages. Notice that modern translations don't hide the issues\u2014they're transparent about them. This honesty should increase, not decrease, your trust in biblical scholarship.",appLinks:["Bible Timeline (Canonization)","Church History Guide (Lesson 2)"],quiz:[{question:"Why don't we have any original biblical manuscripts?",options:["They were all destroyed in early Christian persecutions","Ancient writing materials decayed over time, and worn copies were replaced","The Catholic Church deliberately destroyed them","They were lost during the fall of Rome"],correctAnswer:1,explanation:"Papyrus and parchment naturally decay, especially in humid climates. Worn manuscripts were reverently replaced with fresh copies. This was normal practice for ancient texts."},{question:"What is textual criticism?",options:["The practice of criticizing the Bible's teachings","Finding errors in biblical manuscripts","The careful comparison of manuscripts to determine the original wording","Translating ancient languages into English"],correctAnswer:2,explanation:"'Criticism' here means 'careful evaluation,' not 'finding fault.' Textual critics compare thousands of manuscripts to reconstruct the most likely original text."},{question:"Which manuscript family is generally considered most reliable for the New Testament?",options:["Byzantine (used by King James Version)","Alexandrian (Egypt, 2nd-4th centuries)","Western (North Africa and Europe)","They are all equally reliable"],correctAnswer:1,explanation:"The Alexandrian text type is generally shorter and considered more accurate because Egypt's dry climate preserved very early manuscripts. Modern translations like NIV and ESV primarily follow Alexandrian texts."},{question:"What was significant about the Dead Sea Scrolls discovery?",options:["They contained lost books of the Bible","They proved the Old Testament had been corrupted over time","They pushed our manuscript evidence back 1,000 years and confirmed textual accuracy","They revealed that Jesus was married"],correctAnswer:2,explanation:"The Dead Sea Scrolls (dated around 200 BC - 100 AD) are about 1,000 years older than previously known Hebrew manuscripts. Remarkably, they match later manuscripts almost perfectly, confirming careful preservation."},{question:"When your Bible has a footnote saying 'some manuscripts omit this verse,' what does that mean?",options:["The verse is definitely not authentic","Translators are unsure how to translate it","Ancient manuscripts differ at this point, and scholars want you to know","This verse was added by the Catholic Church"],correctAnswer:2,explanation:"These footnotes show textual variants\u2014places where ancient manuscripts differ. Modern Bibles are transparent about these differences, letting readers know where uncertainty exists. It's a sign of scholarly honesty."}]},{lesson:3,title:"Lost in Translation?",subtitle:"From Hebrew and Greek to your language",introduction:"Have you ever played the game 'telephone,' where a message gets whispered from person to person and becomes hilariously garbled by the end? Translation can feel like that\u2014but biblical translation is far more careful. Every time the Bible moves from one language to another, translators face a fundamental tension: Do you translate word-for-word (formal equivalence) or thought-for-thought (dynamic equivalence)? Let's explore this journey from ancient languages to English.",keyTopics:["The Septuagint: Why Greek translation mattered for canon debates","Jerome's Latin Vulgate and its thousand-year dominance","Translation philosophies: formal vs. dynamic equivalence","Why different English Bibles say different things","Choosing the right Bible translation for your needs"],detailedContent:[{heading:"The Septuagint: Judaism's Greek Bible",text:"Around 250 BC, Jewish scholars in Alexandria, Egypt translated the Hebrew Scriptures into Greek (called the Septuagint or LXX). Why? Many Jews in the diaspora spoke Greek, not Hebrew. This translation became massively important: (1) It's the version most quoted in the New Testament, (2) It included books (like Tobit, Wisdom, Maccabees) that weren't in the Hebrew canon, fueling later debates about the Apocrypha, and (3) It shows how Jews understood their own Scriptures before Christianity emerged. When you see Old Testament quotes in the New Testament that don't quite match your Old Testament, it's often because the NT authors quoted the Septuagint."},{heading:"Jerome's Vulgate: The Latin Standard",text:"By the 4th century, Latin had replaced Greek as the common language of the Western Roman Empire. Pope Damasus commissioned Jerome\u2014a brilliant but cranky scholar\u2014to create a definitive Latin Bible. Jerome did something radical: instead of translating the Old Testament from the Greek Septuagint (which most Christians used), he went back to the Hebrew originals. This controversial choice meant his Vulgate sometimes differed from the Greek Old Testament. For over 1,000 years (400-1500s AD), the Vulgate was *the* Bible for Western Christianity. The Protestant Reformation challenged its authority, but it remained the Catholic Church's official version until the 20th century."},{heading:"Translation Philosophy: The Spectrum",text:"Every translation sits on a spectrum. **Formal equivalence** (word-for-word): Translates each word as literally as possible, preserving original word order and structure. Examples: NASB, ESV, KJV. Pros: Great for study; maintains original ambiguities. Cons: Can sound wooden; Hebrew idioms don't always make sense in English. **Dynamic equivalence** (thought-for-thought): Translates the meaning of phrases, not individual words. Examples: NIV, NLT, GNT. Pros: Readable, captures the author's intent. Cons: Translator interpretation involved; some nuance lost. **Paraphrase**: Rewrites in contemporary language. Example: The Message. Pros: Highly readable, fresh perspective. Cons: More interpretation, less precise."},{heading:"Why English Bibles Differ",text:"Open five English Bibles to the same verse, and you might see five different wordings. Why? (1) **Source texts differ**: KJV used later Byzantine manuscripts; modern versions use earlier Alexandrian texts. (2) **Translation philosophy**: ESV is formal; NIV is dynamic. (3) **English changes**: KJV's 'thee/thou' sounded normal in 1611 but archaic today. (4) **Theological tradition**: Some translations lean toward specific traditions (Catholic, Protestant, evangelical). (5) **Committee decisions**: Translation involves judgment calls\u2014should 'sarx' be 'flesh' or 'sinful nature'? Both are defensible."},{heading:"Choosing Your Translation",text:"There's no single 'best' translation\u2014it depends on your purpose. **For word study and deep analysis**: ESV, NASB (formal equivalence). **For devotional reading**: NIV, NLT (dynamic equivalence). **For literary beauty**: KJV, NRSV. **For fresh perspective**: The Message (paraphrase). **For accuracy across traditions**: NRSV, CEB (ecumenical committees). Many scholars recommend reading multiple translations. Use a formal one for study, a dynamic one for reading through books quickly, and a paraphrase for seeing familiar texts with fresh eyes. Compare translations to see where they differ\u2014those differences often highlight interpretive questions worth exploring."}],beginnerExplanation:"Imagine translating a joke from Spanish to English. You could translate word-by-word: 'What gives you the cold one?' (confusing). Or meaning-for-meaning: 'What do you want to drink?' (clear but loses the literal words). Bible translation faces this same choice. Some Bibles stay close to the original words (ESV, NASB); others focus on clear meaning (NIV, NLT). Neither is 'wrong'\u2014they serve different purposes. It's like having both a textbook and a novel about the same topic.",reflectionQuestions:["Why do you think the Septuagint's inclusion of extra books led to Protestant/Catholic canon differences?","How does knowing about translation philosophies change how you read footnotes in your Bible?","What translation(s) do you currently use? Where does it fall on the formal-dynamic spectrum?","Can a translation be 'too literal' or 'too free'? Where would you draw the line?"],practicalApplication:"Pick a familiar passage (like John 3:16 or Psalm 23) and read it in four different translations: ESV (formal), NIV (dynamic), NLT (more dynamic), and The Message (paraphrase). Notice what's the same and what differs. Do the differences change the meaning, or just the wording? This exercise will help you understand what your translation is doing and why multiple translations are valuable.",appLinks:["Bible Timeline (Writing Periods)","Denomination Comparison (Protestant/Catholic Bibles)"],quiz:[{question:"What was significant about the Septuagint?",options:["It was the first Bible ever written","It translated Hebrew Scriptures to Greek and included books that became the Apocrypha","It was written by Jesus's disciples","It proved the Old Testament was corrupted"],correctAnswer:1,explanation:"The Septuagint (LXX), created around 250 BC, translated Hebrew Scriptures into Greek for diaspora Jews. It included additional books (Deuterocanonical/Apocrypha) and became the version most quoted in the New Testament."},{question:"What was controversial about Jerome's Vulgate?",options:["He translated it into Latin instead of Greek","He translated the Old Testament from Hebrew instead of the Greek Septuagint","He removed books from the Bible","He added his own commentary"],correctAnswer:1,explanation:"Jerome controversially went back to the Hebrew originals for the Old Testament rather than translating from the Greek Septuagint that most Christians used. This sometimes produced different readings."},{question:"Which translation philosophy stays closest to the original word order?",options:["Paraphrase (The Message)","Dynamic equivalence (NIV, NLT)","Formal equivalence (ESV, NASB)","They all do equally"],correctAnswer:2,explanation:"Formal equivalence (word-for-word) translations like ESV and NASB try to preserve the original word order and structure as much as possible, even if it sounds less natural in English."},{question:"Why might the same verse differ between the KJV and modern translations?",options:["Modern translators are less faithful to the original","The KJV deliberately changed verses","They use different source manuscripts and translation philosophies","English language hasn't changed since 1611"],correctAnswer:2,explanation:"The KJV used later Byzantine manuscripts; modern translations use earlier Alexandrian texts. They also have different translation philosophies and use contemporary English rather than 17th-century language."},{question:"For deep Bible word study, which type of translation is generally recommended?",options:["Paraphrase like The Message","Dynamic equivalence like NIV","Formal equivalence like ESV or NASB","Any translation works equally well"],correctAnswer:2,explanation:"For detailed word study, formal equivalence translations (ESV, NASB) are preferred because they stay closer to the original wording and preserve nuances. Dynamic translations prioritize readability over literalness."}]},{lesson:4,title:"The English Bible's Dramatic History",subtitle:"Martyrs, kings, and the fight to read Scripture in English",introduction:"It's hard to imagine today, but for centuries, owning an English Bible could get you killed. The story of the English Bible is filled with smugglers, secret printings, political intrigue, and martyrs who believed ordinary people deserved to read God's Word in their own language. From illegal translations whispered in secret to a king's authorized version that shaped the English language itself, this is a story of courage, controversy, and cultural transformation.",keyTopics:["Wycliffe's illegal 'Lollard' Bible (1380s)","Tyndale's martyrdom and lasting influence","The King James Version's political context (1611)","The explosion of modern English translations","Why different denominations prefer certain translations"],detailedContent:[{heading:"John Wycliffe: The Morning Star of the Reformation",text:"In the 1380s, John Wycliffe and his followers (derisively called 'Lollards') produced the first complete English Bible\u2014translated from the Latin Vulgate, not original languages. This was revolutionary and illegal. The Catholic Church insisted Scripture should remain in Latin, interpreted by clergy. Why? Partly control, but also legitimate concern: without training, people might misinterpret Scripture. Wycliffe believed every Christian should read the Bible directly. His followers hand-copied manuscripts and secretly distributed them. When Wycliffe died (1384), his enemies dug up his bones, burned them, and threw the ashes in a river. But his ideas couldn't be killed\u2014they flowed through Europe like those ashes, influencing Jan Hus, Martin Luther, and ultimately the Reformation."},{heading:"William Tyndale: 'If God Spare My Life...'",text:"William Tyndale made a famous vow: 'If God spare my life, ere many years I will cause a boy that driveth the plough shall know more of the Scripture than thou dost' (speaking to a clergyman). Unable to get permission in England, Tyndale fled to Europe. Using Erasmus's Greek New Testament (1516), he produced an English translation directly from Greek\u2014a first. He smuggled printed copies into England (1526) hidden in bales of cloth and wine barrels. Church authorities burned the Bibles publicly. In 1536, Tyndale was betrayed, strangled, and burned at the stake. His last words: 'Lord, open the King of England's eyes!' Within a year, King Henry VIII authorized an English Bible. Tyndale's translation became the foundation\u201483% of the KJV New Testament comes directly from his work."},{heading:"The King James Version: Politics and Poetry",text:"In 1604, King James I authorized a new Bible translation. Why? The Geneva Bible (1560)\u2014England's popular version\u2014had marginal notes that questioned royal authority. James wanted a translation without anti-monarchy notes. He assembled 47 scholars, divided into six committees, working from Hebrew, Greek, and Aramaic. Their instructions: majestic, dignified language suitable for public reading; no controversial notes. The 1611 King James Version succeeded brilliantly\u2014its phrases entered the English language ('Thee/thy,' 'Go the extra mile,' 'The powers that be'). It dominated for 350 years. However, it has limitations: (1) Based on later manuscripts, (2) English language has changed ('prevent' meant 'go before,' not 'stop'), (3) Some passages reflect outdated manuscript evidence."},{heading:"The Modern Translation Explosion",text:"Why so many modern translations? Several factors: (1) **Earlier manuscripts discovered** (Dead Sea Scrolls, Alexandrian texts), (2) **English language evolution** (KJV English sounds archaic), (3) **Translation philosophy debates** (formal vs. dynamic), (4) **Denominational preferences**, (5) **Target audiences** (study, devotional, children, etc.). Major modern translations: **RSV (1952)**: Modernized KJV language. **NASB (1971)**: Very literal. **NIV (1978)**: Dynamic, evangelical, best-selling modern version. **NRSV (1989)**: Scholarly, ecumenical, gender-inclusive language. **ESV (2001)**: Formal, evangelical, growing popularity. **NLT (1996/2004)**: Thought-for-thought, highly readable. **CSB (2017)**: Balance between formal and dynamic."},{heading:"Denominational Translation Preferences",text:"Different Christian traditions gravitate toward certain translations, often for theological or historical reasons. **Catholics**: New American Bible (NAB), New Jerusalem Bible\u2014include Deuterocanonical books, approved by bishops. **Mainline Protestants**: NRSV\u2014ecumenical, scholarly, gender-inclusive. **Evangelicals**: NIV, ESV\u2014balance readability with accuracy, conservative translation choices. **Traditional/KJV-only churches**: Believe only the KJV is reliable (though this is a minority view). **Orthodox**: Orthodox Study Bible\u2014uses Septuagint-based OT. These preferences aren't rigid\u2014many Christians use multiple translations. But understanding these patterns helps explain why your church might prefer one version over another."}],beginnerExplanation:"Imagine if reading this message in your own language was illegal, and people were killed for translating it. That's what early English Bible translators faced. They believed God's Word should be accessible to everyone, not just scholars who knew Latin. Their courage gave us the ability to pick up a Bible in English today without a second thought. The variety of modern translations isn't a weakness\u2014it shows that the Bible is living and active, constantly being translated afresh for new generations.",reflectionQuestions:["What would you risk to read the Bible in your own language if it were illegal?","Why do you think church authorities resisted English translations initially?","How does knowing Tyndale's sacrifice shape how you view your Bible?","Is having many English translations helpful or confusing? Why?"],practicalApplication:"Research which Bible translation your church uses and why. Ask your pastor or look up the church's statement of faith. Understanding your church's choice will help you see how translation decisions connect to theology and tradition. Then, try reading a book of the Bible in a translation your church doesn't typically use\u2014you might gain fresh insights!",appLinks:["Church History Guide (Lesson 3 - Reformation)","Denomination Comparison"],quiz:[{question:"What was illegal about Wycliffe's Bible?",options:["It was translated from Greek instead of Latin","It translated the Bible into English without Church authorization","It removed books from the Bible","It added Wycliffe's own writings"],correctAnswer:1,explanation:"In the 1380s, translating the Bible into English (or any vernacular language) without Church permission was illegal. The Church insisted Scripture remain in Latin, controlled and interpreted by clergy."},{question:"What was William Tyndale's major achievement?",options:["He translated the Bible into Latin","He created the King James Version","He translated the New Testament into English directly from Greek","He printed the first Bible ever"],correctAnswer:2,explanation:"Tyndale's groundbreaking work (1526) was translating the New Testament into English directly from Greek, not from the Latin Vulgate. His translation became the foundation for the King James Version."},{question:"Why did King James I authorize a new Bible translation?",options:["The Geneva Bible's notes questioned royal authority","No English Bible existed yet","He wanted to correct errors in the Latin Vulgate","The Pope requested it"],correctAnswer:0,explanation:"The popular Geneva Bible (1560) had marginal notes that questioned monarchy and royal authority. King James wanted a translation with majestic language and no controversial notes."},{question:"What percentage of the KJV New Testament comes from Tyndale's translation?",options:["About 25%","About 50%","About 83%","None - they were completely different"],correctAnswer:2,explanation:"Approximately 83% of the KJV New Testament comes directly from Tyndale's translation. His work was so excellent that later translators largely preserved his wording."},{question:"Why are there so many modern English Bible translations?",options:["Each denomination wants its own version","Publishers want to make more money","Earlier manuscripts, language changes, and different translation philosophies all contribute","Modern translations are all just paraphrases"],correctAnswer:2,explanation:"Multiple factors drive modern translations: discovery of earlier manuscripts, evolution of English, different translation philosophies (formal vs. dynamic), and serving different audiences. It's not about competition but about serving readers well."}]},{lesson:5,title:"The Books That Almost Made It",subtitle:"Understanding the Apocrypha and 'lost gospels'",introduction:"Walk into a Catholic bookstore and count the books in their Bible: 73. Walk into a Protestant bookstore: 66 books. What happened to those 7 books (actually 7-8 depending on how you count)? And what about the 'Gospel of Thomas' or 'Gospel of Judas' that make headlines every few years? This lesson dives into the fascinating world of texts that were popular, influential, or nearly canonical\u2014but ultimately didn't make the cut for most Christian Bibles.",keyTopics:["What is the Apocrypha/Deuterocanonical books?","Why Catholics include them and Protestants don't","Popular early Christian texts that weren't canonized","The Gnostic gospels and why they were rejected","Debunking modern 'lost gospels' sensationalism"],detailedContent:[{heading:"The Apocrypha: Deuterocanonical Debate",text:"The 'Apocrypha' (Greek: 'hidden things') or 'Deuterocanonical' (second canon) books include: Tobit, Judith, Wisdom of Solomon, Sirach (Ecclesiasticus), Baruch, 1-2 Maccabees, and additions to Esther and Daniel. These books were in the Greek Septuagint but not in the Hebrew Bible. Early Christians used the Septuagint, so these books circulated widely. **Catholic/Orthodox view**: These books are Scripture. They were used by the early church, quoted by church fathers, and affirmed at councils (Hippo 393 AD, Carthage 397 AD, Trent 1546 AD). **Protestant view**: These books are useful for history and devotion but not Scripture. They weren't in the Hebrew canon, weren't quoted as Scripture in the NT, and contain some theological ideas Protestants reject (prayers for the dead, purgatory implications). The Reformers said: 'Good to read, but not equal to Scripture.'"},{heading:"Books That Were Close But Didn't Make It",text:"Several early Christian texts were beloved and nearly canonical: **Shepherd of Hermas** (2nd century): Apocalyptic visions, moral teachings. Included in some early Bibles (Codex Sinaiticus). Too late to be apostolic. **1 Clement** (c. 96 AD): Letter from Rome to Corinth. Wise counsel, but not apostolic authority. **Didache** (1st-2nd century): Early church manual on baptism, Eucharist, church order. Practical but not inspired. **Epistle of Barnabas** (2nd century): Allegorical interpretation of OT. Interesting but speculative. These books show us early Christianity's diversity and piety but lacked the apostolic authority or universal acceptance to become Scripture. They're valuable for understanding early Christian thought, even if not canonical."},{heading:"The Gnostic Gospels: A Different Christianity",text:"In 1945, Egyptian farmers found a jar near Nag Hammadi containing 52 texts, including 'gospels' attributed to Thomas, Philip, and Mary. These weren't lost gospels 'suppressed by the church'\u2014they were Gnostic texts (2nd-3rd centuries), representing a different religion. **Gnosticism taught**: Secret knowledge (gnosis) brings salvation; the material world is evil, created by a lesser god; Jesus didn't have a real body (Docetism); salvation is escaping the body, not bodily resurrection. **Why they were rejected**: (1) Written 100-200 years after Jesus by Gnostics, not apostles. (2) Contradicted apostolic teaching. (3) Focused on secret sayings, not Jesus's life, death, and resurrection. (4) No manuscript evidence from the 1st century. The Gospel of Thomas (sayings collection, no narrative) is interesting for historical study but clearly later and non-apostolic."},{heading:"Debunking 'Lost Gospel' Sensationalism",text:"Every few years, media headlines scream: 'Lost Gospel Discovered!' or 'Ancient Text Challenges Christianity!' Let's be clear: **No serious scholar claims these texts should be in the Bible.** They're studied academically, but they don't change core Christian beliefs. **Gospel of Judas** (National Geographic 2006): Gnostic text (3rd century) portraying Judas as hero. Centuries late, Gnostic perspective. **'Secret Gospel of Mark'**: Claimed 1958, likely a modern forgery. **'Jesus's Wife' papyrus** (2012): Tiny fragment, now widely considered a modern fake. The sensationalism sells books, but the scholarship is clear: We have the right books in the New Testament. These later texts help us understand competing versions of Christianity that died out, but they don't represent apostolic Christianity."},{heading:"Why Canon Boundaries Matter",text:"Having a defined canon isn't about being narrow-minded\u2014it's about having a stable foundation. Imagine if every generation could add new 'gospels' based on new 'revelations.' Christianity would fracture endlessly. The canon debate wasn't arbitrary; it involved careful criteria: (1) **Apostolicity**: Written by or connected to apostles. (2) **Orthodoxy**: Consistent with apostolic teaching. (3) **Antiquity**: From the first century. (4) **Usage**: Widely used in churches. (5) **Inspiration**: Recognized as bearing divine authority. Books like Thomas, Shepherd of Hermas, or the Apocrypha might be edifying, but they don't meet all these criteria. The canon gives us a foundation to stand on\u2014a measuring stick for faith and practice."}],beginnerExplanation:"Imagine you're creating a 'greatest hits' album of early Christian writings. Some songs (books) are obvious classics everyone agrees on (the four Gospels, Paul's letters). Others are good but debated\u2014some fans include them, others don't (Apocrypha/Deuterocanonical). Still others are interesting but clearly not 'greatest hits' material (Gnostic gospels, Shepherd of Hermas). The canon debate was about which books truly carry apostolic authority and represent the foundation of Christian faith. It's not about suppressing books\u2014it's about knowing which ones are the authoritative foundation.",reflectionQuestions:["Why do you think Catholics and Protestants disagree on the Apocrypha?","How would Christianity be different if the Gnostic gospels had been included in the canon?","Should churches teach from non-canonical books like Shepherd of Hermas? Why or why not?","How do you respond when someone claims 'the church suppressed gospels that challenged its power'?"],practicalApplication:"Find a copy of the Apocrypha (many Protestant Bibles include it in a separate section, or look online). Read a chapter from Wisdom of Solomon or 1 Maccabees. Ask yourself: What's valuable here? What's different from canonical books? Why might Protestants not include it while Catholics do? This exercise helps you understand the canon debate firsthand.",appLinks:["Bible Timeline (Canonization)","Denomination Comparison (Protestant vs. Catholic Bibles)"],quiz:[{question:"What are the Deuterocanonical books?",options:["Books written after the New Testament","Books in the Septuagint but not the Hebrew Bible, accepted by Catholics but not Protestants","Books that were lost and recently discovered","The Gnostic gospels"],correctAnswer:1,explanation:"Deuterocanonical books (Tobit, Judith, Wisdom, etc.) were in the Greek Septuagint but not the Hebrew canon. Catholics and Orthodox accept them as Scripture; Protestants do not, though they may include them for historical reading."},{question:"Why did Protestants reject the Apocrypha as Scripture?",options:["They were written in Greek, not Hebrew","They weren't in the Hebrew canon, weren't quoted as Scripture in the NT, and contained disputed teachings","Martin Luther personally disliked them","They were too long"],correctAnswer:1,explanation:"Protestant Reformers noted these books weren't in the Hebrew Bible, weren't quoted as Scripture in the New Testament, and contained teachings (like prayers for the dead) they found problematic. They valued them for history but not as Scripture."},{question:"What is Gnosticism?",options:["The belief that knowledge comes only through Scripture","A 2nd-3rd century movement teaching that secret knowledge brings salvation and the material world is evil","The original form of Christianity","A modern interpretation of the Bible"],correctAnswer:1,explanation:"Gnosticism was a 2nd-3rd century religious movement teaching that secret knowledge (gnosis) brings salvation, the material world is evil, and Jesus didn't have a real body. It contradicted apostolic Christianity."},{question:"Why were the Nag Hammadi gospels (like Gospel of Thomas) rejected?",options:["They were written too recently to be authentic","They were written 100-200 years after Jesus, taught Gnostic theology, and contradicted apostolic teaching","The church was afraid of their message","They were poorly written"],correctAnswer:1,explanation:"The Nag Hammadi texts were written in the 2nd-3rd centuries (long after the apostles), reflect Gnostic theology (which contradicts Christianity), and lack apostolic authority. They weren't 'suppressed'\u2014they were simply not apostolic."},{question:"What criteria did the early church use to determine which books were canonical?",options:["Popularity among modern readers","Which books the Emperor preferred","Apostolicity, orthodoxy, antiquity, widespread usage, and recognized inspiration","Only books that were easy to understand"],correctAnswer:2,explanation:"The canon wasn't arbitrary. Books needed to be: written by/connected to apostles, consistent with apostolic teaching, from the first century, widely used in churches, and recognized as divinely inspired."}]},{lesson:6,title:"How Christians Read the Bible Over Time",subtitle:"From allegory to literal: changing interpretation methods",introduction:"Open your Bible to Genesis 3, where Eve eats the forbidden fruit. Is this a literal historical event? An allegory about human free will? A mythological story teaching theological truth? How you answer depends partly on when and where you lived. Christians across history have read the same Bible but interpreted it very differently. Understanding these interpretation methods helps explain why denominations today disagree on the 'plain meaning' of Scripture\u2014and why your great-grandparents might have read the same passages differently than you do.",keyTopics:["Early allegorical interpretation (Origen and Alexandria)","Medieval four-fold sense of Scripture","The Reformation's 'plain sense' revolution","Modern historical-critical scholarship","Why denominations interpret the same verse differently"],detailedContent:[{heading:"Origen and the Alexandrian School: Allegory Everywhere",text:"In the 3rd century, Origen of Alexandria pioneered allegorical interpretation. Influenced by Greek philosophy, he believed Scripture had three senses (like humans have body, soul, and spirit): **Literal** (the plain events), **Moral** (ethical lessons), and **Spiritual** (deeper mystical meanings). Example: The crossing of the Red Sea wasn't just historical\u2014it symbolized baptism, deliverance from sin, and the soul's journey to God. This approach solved problems (embarrassing Old Testament stories) but risked reading meanings into the text that weren't there. Origen famously interpreted Song of Solomon entirely as allegory about Christ and the church\u2014not a romantic love poem at all. Critics said he was more interested in Plato than in what the biblical authors actually meant."},{heading:"Medieval Four-Fold Sense: Layers of Meaning",text:"Medieval theologians developed a four-fold interpretive method, summarized in a Latin couplet: 'Littera gesta docet, quid credas allegoria, moralis quid agas, quo tendas anagogia' (The letter teaches events, allegory what you believe, moral what you do, anagogy where you're going). Example using 'Jerusalem': **Literal**: Historical city in Israel. **Allegorical**: The Church. **Moral**: The human soul. **Anagogical**: Heaven. This method found multiple valid meanings in every text. It made Scripture endlessly rich but also dangerously subjective\u2014how do you know which allegorical reading is correct? The system worked because Church tradition and authority guided interpretation. But it set the stage for Reformation debates."},{heading:"The Reformation: The 'Plain Sense' Revolution",text:"Martin Luther and other Reformers rejected allegorical excess. Luther said: 'The Holy Spirit is the plainest writer and speaker in heaven and earth, and therefore His words cannot have more than one, and that the very simplest, sense, which we call the literal, ordinary, natural sense.' The Reformers insisted: (1) **Grammatical-historical method**: Understand words in their historical context and original languages. (2) **Scripture interprets Scripture**: Compare clear passages with unclear ones. (3) **The priesthood of all believers**: You don't need Church authority to interpret\u2014the Holy Spirit guides individual readers. This democratized Bible reading but also fragmented Christianity. Without Church authority, who decides what's 'plain'? It's why Protestantism has so many denominations\u2014disagreements over what Scripture 'plainly' teaches."},{heading:"Modern Historical-Critical Scholarship",text:"Starting in the 18th-19th centuries, scholars applied historical methods to the Bible like any ancient text: **Source criticism**: Who wrote this? When? What sources did they use? (e.g., the Documentary Hypothesis for the Torah). **Form criticism**: What genre is this? (History, poetry, parable, apocalyptic). **Redaction criticism**: How did editors shape the final text? **Textual criticism**: What did the original manuscripts say? These methods yielded insights (understanding ancient Near Eastern context, recognizing literary genres) but also controversies (questioning Mosaic authorship of the Pentateuch, debating Gospel historicity). Conservative scholars use these tools while maintaining high views of biblical authority; liberal scholars sometimes conclude the Bible is purely human literature. The tools themselves are neutral; the conclusions depend on presuppositions about Scripture's nature."},{heading:"Why Denominations Read the Same Bible Differently",text:"Here's why Christians disagree on 'what the Bible clearly says': (1) **Interpretive tradition**: Catholics read through Church tradition; Protestants through 'Scripture alone' (though they have traditions too). (2) **Theological framework**: Calvinists and Arminians both cite Scripture but reach different conclusions on predestination. (3) **Genre recognition**: Is Genesis 1 scientific? Poetic? Theological? Your answer affects interpretation. (4) **Cultural context**: Does 1 Timothy 2:12 ('I do not permit a woman to teach') apply universally or to a specific situation? (5) **Role of reason/experience**: How much weight do you give to science, personal experience, or Church tradition alongside Scripture? These aren't 'some Christians ignore the Bible' vs. 'we follow it.' All are trying to faithfully interpret Scripture\u2014they just bring different tools and assumptions."}],beginnerExplanation:"Imagine reading 'Goldilocks and the Three Bears.' You could read it as: (1) A story about a girl and bears (literal), (2) A lesson about respecting others' property (moral), (3) A symbol of finding balance in life (allegorical), or (4) A foreshadowing of humanity's search for 'just right' communion with God (anagogical). Biblical interpretation through history has worked similarly\u2014same text, different reading methods. Today's debates over 'what the Bible says' often aren't about the words themselves but about how we determine what those words mean.",reflectionQuestions:["How much of your Bible reading is 'plain sense' vs. looking for deeper spiritual meanings?","What are the benefits and dangers of allegorical interpretation?","Why do you think the Reformation's 'plain sense' approach led to so many denominations?","How do your own experiences and culture affect how you interpret Scripture?"],practicalApplication:"Pick a parable (like the Good Samaritan, Luke 10:25-37) and interpret it four ways: (1) Literal\u2014what happened in the story? (2) Allegorical\u2014do characters symbolize anything? (Early church said: the man=humanity, robbers=Satan, Samaritan=Jesus, inn=Church). (3) Moral\u2014what should I do? (4) Anagogical\u2014what does this teach about my ultimate destiny? Notice how the same story yields different insights depending on your interpretive method.",appLinks:["Church History Guide (Lesson 3 - Reformation)","Denomination Comparison (Interpretive Traditions)"],quiz:[{question:"What was Origen's main interpretive approach?",options:["Strict literal interpretation only","Historical-critical method","Allegorical interpretation finding spiritual meanings beyond the literal","Ignoring the Old Testament"],correctAnswer:2,explanation:"Origen pioneered allegorical interpretation, believing Scripture had literal, moral, and spiritual senses. He found deeper symbolic meanings throughout the Bible, especially in problematic or poetic texts."},{question:"What are the four senses of Scripture in medieval interpretation?",options:["Matthew, Mark, Luke, John","Literal, allegorical, moral, anagogical","Faith, hope, love, justice","Reading, study, prayer, application"],correctAnswer:1,explanation:"Medieval scholars read Scripture on four levels: literal (what happened), allegorical (what to believe), moral (what to do), and anagogical (where you're going/heaven). This found multiple valid meanings in every text."},{question:"What did the Reformers mean by the 'plain sense' of Scripture?",options:["The Bible is easy and anyone can understand it without study","Interpret words in their grammatical-historical context using original languages","Ignore all symbolism and read everything literally","Only educated clergy can understand the Bible"],correctAnswer:1,explanation:"The Reformers' 'plain sense' meant understanding words in their historical context and original languages, letting Scripture interpret Scripture. It wasn't anti-intellectual simplicity but a rejection of arbitrary allegorical methods."},{question:"What is historical-critical scholarship?",options:["Criticizing the Bible's historical claims","Applying historical methods to understand authorship, context, sources, and genre","Proving the Bible is historically false","Only reading the historical books of the Bible"],correctAnswer:1,explanation:"Historical-critical method applies historical and literary analysis to Scripture: examining authorship, dating, sources, genres, and historical context. It's a tool that can be used with various views of biblical authority."},{question:"Why do denominations interpret the same Bible verse differently?",options:["Some denominations ignore parts of the Bible","Different interpretive traditions, theological frameworks, genre recognition, and cultural contexts","Only Catholics interpret correctly","The Bible is too unclear to interpret"],correctAnswer:1,explanation:"Christians disagree not because some ignore Scripture but because they bring different interpretive traditions, theological frameworks, understandings of genre and context, and views on the role of reason and experience. All are trying to interpret faithfully."}]},{lesson:7,title:"Archaeology & the Bible",subtitle:"How discoveries confirm, challenge, and illuminate Scripture",introduction:"In 1947, a shepherd threw a rock into a cave and changed biblical scholarship forever. In 1868, a missionary found a stone that mentioned King David's dynasty\u2014confirming a biblical king skeptics doubted existed. Archaeology doesn't 'prove' the Bible in a simplistic way, but it provides an astonishing amount of confirmation for biblical people, places, and events. It also raises questions and challenges traditional interpretations. Let's explore how digging in the dirt illuminates the book we hold in our hands.",keyTopics:["The Dead Sea Scrolls: A game-changing discovery","The Nag Hammadi library and Gnostic texts","Archaeological confirmations of biblical accounts","Archaeological challenges to traditional interpretations","Latest manuscript discoveries and what they tell us"],detailedContent:[{heading:"Dead Sea Scrolls: Pushing Back the Evidence",text:"Before 1947, critics claimed the Old Testament had been corrupted over centuries of copying. Our oldest complete Hebrew Bible was the Leningrad Codex (1008 AD)\u2014over 1,000 years after the last OT book was written. Then came Qumran. Bedouin shepherds discovered caves containing hundreds of scrolls, including complete or partial copies of every OT book except Esther. Dates: 200 BC - 100 AD. The Isaiah scroll from Cave 1 (125 BC) is 1,000 years older than any previously known manuscript. Result? Word-for-word match with medieval manuscripts, with only minor spelling variations. This discovery silenced claims of textual corruption and confirmed the careful preservation of Scripture. We also learned about Second Temple Judaism\u2014the religious world Jesus grew up in."},{heading:"Nag Hammadi: Understanding Early Heresies",text:"In 1945, Egyptian farmers near Nag Hammadi found a jar containing 52 texts (4th century copies of 2nd-3rd century originals), including Gnostic gospels (Thomas, Philip, Mary, Truth). Sensational media claimed these were 'suppressed gospels.' Reality: These texts confirm what church fathers said about Gnostic beliefs\u2014secret knowledge for salvation, material world as evil, denial of Jesus's physical resurrection. They're valuable for understanding why early Christians rejected Gnosticism, but they don't challenge the New Testament canon. No serious scholar argues they're apostolic. They show Christianity wasn't monolithic\u2014there were competing visions, and orthodox Christianity won not by suppression but by better reflecting apostolic teaching and Jesus's actual life and mission."},{heading:"Archaeological Confirmations: The Hits",text:"Archaeology has confirmed numerous biblical details critics once doubted: **Hittites**: Once thought legendary, now extensively documented. **Pool of Siloam**: Where Jesus healed the blind man (John 9)\u2014discovered in 2004. **Pontius Pilate**: Inscription found in 1961 confirms his existence and title. **House of David**: Tel Dan Stele (1993) mentions 'House of David,' confirming David as historical figure. **Assyrian and Babylonian kings**: Sennacherib, Nebuchadnezzar, etc.\u2014all confirmed. **Crucifixion evidence**: Heel bone with nail from 1st century proves crucifixion methods matching Gospel descriptions. **Capernaum**: Peter's house excavated, matches Gospel descriptions. These don't 'prove' theological claims, but they confirm the Bible's historical reliability in details skeptics once mocked."},{heading:"Archaeological Challenges: The Complications",text:"Archaeology also raises questions: **The Exodus**: No direct evidence for 2+ million Israelites wandering 40 years in Sinai. Some scholars suggest smaller numbers; others see theological history rather than documentary history. **Jericho's walls**: Joshua's conquest (c. 1400 BC) doesn't match archaeological evidence for Jericho's destruction. Possible explanations: dating debates, theological narrative vs. strict history. **Nazareth**: Limited 1st century evidence (though recent finds confirm small village). **Conquest vs. settlement**: Archaeological evidence suggests gradual settlement rather than sudden military conquest. These don't 'disprove' the Bible but challenge simplistic readings. They remind us: The Bible is ancient literature with complex relationships to history, not a modern documentary."},{heading:"Recent Discoveries and Ongoing Work",text:"Biblical archaeology continues with exciting finds: **P52 (John Rylands Papyrus)**: Earliest NT fragment (John 18, c. 125 AD). **P46 (Chester Beatty Papyrus)**: Paul's letters, c. 200 AD. **Codex Sinaiticus (1844)**: 4th century complete NT, discovered in monastery. **Museum of the Bible controversies**: Fake Dead Sea Scroll fragments exposed (2018)\u2014reminder to verify provenance. **Tel Gezer inscription**: Confirms biblical place names. **Khirbet Qeiyafa**: Possible site of biblical Shaaraim. **Digital technology**: Multispectral imaging reveals text on burnt scrolls. Archaeology won't answer every question\u2014much ancient evidence is lost to time. But it consistently shows the Bible emerged from real historical contexts, featuring real people and places. That doesn't prove theological claims, but it grounds faith in history, not mythology."}],beginnerExplanation:"Think of the Bible as a historical novel set in ancient Rome. Archaeology is like excavating Rome\u2014you find the Colosseum, coins with Caesar's face, inscriptions mentioning events in the novel. Does this prove every detail of the novel? No. But it confirms the story is set in a real place with real people, not a fairy-tale world. Similarly, archaeology confirms biblical places, people, and events without 'proving' theological claims like the resurrection. It shows the Bible is historically grounded, which strengthens (though doesn't replace) faith.",reflectionQuestions:["How does archaeological confirmation of biblical details affect your faith?","What do you do with archaeological evidence that complicates traditional biblical interpretations?","Why do you think God didn't preserve more direct physical evidence of events like the Exodus?","Can faith coexist with historical uncertainty about some biblical events?"],practicalApplication:"Choose one biblical site or artifact (Pool of Siloam, Tel Dan Stele, Dead Sea Scrolls, etc.). Research what was found, when, and what it confirms or challenges about the biblical account. Watch a video or read an article from a reputable source (Biblical Archaeology Review, museum websites). This will help you see how archaeology illuminates Scripture and equip you to respond to skeptics who claim 'there's no evidence for the Bible.'",appLinks:["Bible Timeline (Writing Periods)","Church History Guide (Lesson 1 - Early Christianity)"],quiz:[{question:"What was the major significance of the Dead Sea Scrolls?",options:["They contained new books of the Bible","They proved the Old Testament had been corrupted","They pushed manuscript evidence back 1,000 years and confirmed textual accuracy","They revealed Jesus was married"],correctAnswer:2,explanation:"The Dead Sea Scrolls (200 BC - 100 AD) are about 1,000 years older than previously known Hebrew manuscripts. They match later texts almost perfectly, confirming careful textual preservation over centuries."},{question:"What do the Nag Hammadi texts reveal?",options:["Lost gospels that should be in the Bible","Evidence of early Gnostic beliefs and why they were rejected","Proof that Christianity suppressed alternative gospels","Original versions of the four Gospels"],correctAnswer:1,explanation:"The Nag Hammadi texts (4th century copies of 2nd-3rd century Gnostic works) confirm what church fathers said about Gnosticism and show why it was rejected as incompatible with apostolic Christianity."},{question:"Which biblical figure's existence was confirmed by the Tel Dan Stele?",options:["Moses","Abraham","King David","Jesus"],correctAnswer:2,explanation:"The Tel Dan Stele (1993 discovery) mentions the 'House of David,' confirming David as a historical figure. This was significant because some scholars had questioned David's existence."},{question:"What is an example of an archaeological challenge to traditional Bible interpretation?",options:["Proof that Jesus never existed","Evidence that contradicts all biblical events","Lack of direct evidence for a massive Exodus as traditionally interpreted","Discovery that the Bible was written in the Middle Ages"],correctAnswer:2,explanation:"While archaeology confirms many biblical details, some events (like a massive 2-million person Exodus) lack direct archaeological evidence, leading scholars to various interpretations about numbers, dating, or the nature of the account."},{question:"What is the relationship between archaeology and biblical faith?",options:["Archaeology proves every biblical claim","Archaeology disproves the Bible","Archaeology confirms historical contexts and details but doesn't prove theological claims","Archaeology is irrelevant to faith"],correctAnswer:2,explanation:"Archaeology confirms the Bible's historical grounding\u2014real people, places, and events\u2014but doesn't 'prove' theological claims like resurrection or miracles. It shows the Bible emerged from real history, not mythology, which strengthens (but doesn't replace) faith."}]},{lesson:8,title:"Your Bible's Backstory",subtitle:"Practical skills for informed Bible reading",introduction:"You've journeyed through 2,000+ years of biblical history\u2014from oral tradition to manuscript copying, from Latin Vulgate to English translations, from disputed canons to archaeological discoveries. Now it's time to bring it all together with practical skills. This final lesson equips you to read your Bible with informed confidence: understanding footnotes, choosing translations wisely, recognizing textual issues, and selecting study resources that fit your needs. You're about to become a much more informed Bible reader.",keyTopics:["How to read and understand manuscript footnotes","Understanding your Bible's translation committee and approach","Why some verses are in brackets [like John 7:53-8:11]","Choosing a study Bible that fits your needs","Becoming an informed, confident Bible reader"],detailedContent:[{heading:"Decoding Manuscript Footnotes",text:"Open your Bible to almost any page and you'll see small letters (a, b, c) with footnotes at the bottom. These aren't distractions\u2014they're windows into textual history. Common footnote types: **'Some manuscripts read...'**: Indicates a variant reading in ancient manuscripts. Example: Romans 8:28 might note different word order. Usually minor. **'The earliest manuscripts do not include...'**: Signals significant textual questions. Example: Mark 16:9-20. **'Or...'**: Alternative translations of the same Greek/Hebrew word. Example: 'justify' or 'declare righteous.' **'Greek: ...'**: Shows the original language when English doesn't capture nuance. These footnotes don't mean your Bible is unreliable\u2014they mean translators are being honest about uncertainty and giving you full information. Embrace them! They show scholarly integrity."},{heading:"Know Your Translation's Approach",text:"Every Bible includes an introduction or preface explaining the translation philosophy. **Read it!** Look for: **Source texts**: Nestle-Aland/UBS for NT? Biblia Hebraica for OT? **Translation philosophy**: Formal (word-for-word) or dynamic (thought-for-thought)? **Committee composition**: Denominational? Ecumenical? Conservative? Liberal? **Target audience**: Scholars? New believers? Children? **Example - ESV**: Uses NA28 Greek text, formal equivalence, evangelical committee, aims for word-for-word accuracy. **Example - NIV**: Uses eclectic Greek text, dynamic equivalence, evangelical committee, prioritizes clarity and readability. **Example - NRSV**: Ecumenical committee, formal equivalence, gender-inclusive language, scholarly. Knowing your translation's approach helps you understand its strengths and limitations."},{heading:"Brackets, Italics, and Textual Markers",text:"Your Bible uses typography to signal textual issues: **Brackets [text]**: Indicates significant textual uncertainty. Example: **John 7:53-8:11** (woman caught in adultery) is bracketed in most modern Bibles because it's absent from earliest manuscripts. The story is likely historical tradition but wasn't originally in John's Gospel. **Mark 16:9-20** (longer ending with snake-handling) similarly bracketed. **Double brackets [[text]]**: Even more uncertain. **Italics** (in KJV): Added words for English readability not in the original. **Paragraph headings**: Added by publishers, not in the original text. Don't treat them as Scripture. **Red letters** (Jesus's words): Helpful but interpretive\u2014sometimes debated what counts as Jesus's words. Understanding these markers helps you read critically and recognize where uncertainty exists."},{heading:"Choosing a Study Bible",text:"Study Bibles add notes, maps, articles, and cross-references. But not all study Bibles are alike. Choose based on your needs: **For deep word study**: ESV Study Bible, NASB Study Bible\u2014formal translations with detailed notes. **For balanced evangelical perspective**: NIV Study Bible, CSB Study Bible\u2014readable with solid scholarship. **For ecumenical/academic**: NRSV Oxford Annotated, HarperCollins Study Bible\u2014multiple viewpoints, scholarly. **For Catholic readers**: Catholic Study Bible, Ignatius Catholic Study Bible\u2014includes Deuterocanonical books, Catholic tradition. **For devotional use**: Life Application Study Bible, NLT Study Bible\u2014practical application focus. **For historical/cultural context**: IVP Bible Background Commentary, Zondervan Illustrated Bible Backgrounds. **Red flags**: Study Bibles pushing fringe interpretations, claiming exclusive correctness, or ignoring mainstream scholarship. Choose based on your theological tradition, reading goals, and learning style."},{heading:"Becoming a Confident Bible Reader",text:"You now have the tools to read Scripture with informed confidence. **Practical habits**: (1) **Compare translations**: Check 2-3 translations for important passages. Differences often reveal interpretive choices. (2) **Read footnotes**: Don't skip them! They provide crucial context. (3) **Use study helps wisely**: Commentaries and study Bibles are helpful but not infallible. (4) **Understand genre**: Read poetry as poetry, apocalyptic as apocalyptic, history as ancient history (not modern documentary). (5) **Learn some Greek/Hebrew**: Even basic knowledge helps (free resources: Mounce's Greek, Pratico's Hebrew). (6) **Join a Bible study**: Community guards against individualistic misinterpretation. (7) **Pray for illumination**: The Holy Spirit guides understanding (1 Cor 2:10-14). You don't need to be a scholar to read the Bible faithfully\u2014but a little knowledge goes a long way in avoiding mistakes and growing in understanding."}],beginnerExplanation:"Imagine you're reading a Shakespeare play. You'd benefit from knowing: when it was written, what words meant in Elizabethan English, which lines are disputed by scholars, and which edition you're reading. Similarly, being an informed Bible reader means understanding your translation's approach, what footnotes mean, and how to use study tools. It doesn't require a PhD\u2014just curiosity and willingness to learn. The Bible becomes richer when you understand its backstory, and you'll be able to help others read it with confidence too.",reflectionQuestions:["How has this course changed how you read your Bible?","What textual issue or footnote will you explore next?","Which study Bible might you explore based on your needs and interests?","How will you share this knowledge with others in your church or community?"],practicalApplication:"Do a 'Bible audit': (1) Identify your Bible's translation and edition. (2) Read the preface/introduction\u2014note the translation philosophy and committee. (3) Find a passage with footnotes (Romans 8:28, Mark 16:9-20, John 7:53-8:11). (4) Look up that passage in 2-3 other translations online. (5) If you have a study Bible, read the notes on that passage. (6) Write down what you learned. This exercise will make you a more informed, confident reader who understands why different Bibles say different things\u2014and that's okay!",appLinks:["Bible Timeline (All Sections)","Church History Guide (All Lessons)","Denomination Comparison (Translation Preferences)"],quiz:[{question:"What does a footnote saying 'Some manuscripts read...' indicate?",options:["The Bible is unreliable","Translators made a mistake","Ancient manuscripts have a variant reading at this point","This verse should be removed"],correctAnswer:2,explanation:"Footnotes showing variant readings indicate ancient manuscripts differ at this point. Translators include these notes to be transparent about textual evidence. It shows honesty, not unreliability."},{question:"Why are John 7:53-8:11 (woman caught in adultery) and Mark 16:9-20 often bracketed?",options:["They were added by the Catholic Church","They're absent from the earliest and best manuscripts","Scholars don't like these passages","They were recently discovered"],correctAnswer:1,explanation:"These passages are absent from our earliest and best manuscripts, suggesting they weren't in the original Gospels. Most scholars think they're true historical traditions added later. Modern Bibles bracket them to show this textual issue."},{question:"What information can you find in your Bible's preface?",options:["Hidden prophecies about the future","The translation's philosophy, source texts, and committee composition","The translator's personal testimony","A list of all the errors in other translations"],correctAnswer:1,explanation:"Bible prefaces explain the translation's approach: formal or dynamic equivalence, which source manuscripts were used, who was on the committee, and the target audience. This helps you understand the translation's strengths and limitations."},{question:"What should you look for when choosing a study Bible?",options:["The most expensive one","One that aligns with your theological tradition, reading goals, and learning style","The one with the most pictures","The one your friend recommended"],correctAnswer:1,explanation:"Choose a study Bible based on your theological tradition (Catholic, evangelical, ecumenical), your goals (word study, devotional, historical), and learning style. Different study Bibles serve different purposes."},{question:"What is a key habit for becoming a confident Bible reader?",options:["Only read one translation and ignore all footnotes","Memorize Greek and Hebrew before reading","Compare translations, read footnotes, understand genre, and use study helps wisely","Rely entirely on what your pastor says"],correctAnswer:2,explanation:"Confident Bible reading involves comparing translations, reading footnotes, understanding literary genres, using study resources wisely, and combining scholarship with prayer. It doesn't require expertise, just curiosity and willingness to learn."}]}],j={completed:d.length,total:k.length,percentage:Math.round(d.length/k.length*100),badges:d.length,masteryLevel:((e,t)=>{const n=e/t*100;return 0===n?"Beginner":n<38?"Novice":n<63?"Scholar":n<88?"Expert":"Master"})(d.length,k.length),xp:(()=>{var e,t;return(null===n||void 0===n||null===(e=n.courses)||void 0===e||null===(t=e.bible)||void 0===t?void 0:t.totalXP)||0})(),maxXP:800};if(b){const e={1:Bn,2:Fn,3:zn,4:qn,5:Wn,6:Un,7:Vn,8:Hn}[b.lessonNumber];if(e)return(0,Jt.jsx)(Tn,{lessonData:e,path:"bible",lessonNumber:b.lessonNumber,onComplete:async e=>{x(null),window.scrollTo({top:0,behavior:"smooth"})},onExit:()=>{x(null),window.scrollTo({top:0,behavior:"smooth"})}})}return 1===g?(0,Jt.jsx)(pn,{lessonData:Bn,onComplete:e=>w(1,e),onExit:N}):2===g?(0,Jt.jsx)(pn,{lessonData:Fn,onComplete:e=>w(2,e),onExit:N}):3===g?(0,Jt.jsx)(pn,{lessonData:zn,onComplete:e=>w(3,e),onExit:N}):4===g?(0,Jt.jsx)(pn,{lessonData:qn,onComplete:e=>w(4,e),onExit:N}):5===g?(0,Jt.jsx)(pn,{lessonData:Wn,onComplete:e=>w(5,e),onExit:N}):6===g?(0,Jt.jsx)(pn,{lessonData:Un,onComplete:e=>w(6,e),onExit:N}):7===g?(0,Jt.jsx)(pn,{lessonData:Vn,onComplete:e=>w(7,e),onExit:N}):8===g?(0,Jt.jsx)(pn,{lessonData:Hn,onComplete:e=>w(8,e),onExit:N}):(0,Jt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-orange-50",children:[(0,Jt.jsxs)("div",{className:"relative overflow-hidden text-white py-16 px-4",children:[(0,Jt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500 via-orange-500 to-amber-700 animate-gradient-shift"}),(0,Jt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tl from-orange-500 via-amber-500 to-orange-700 opacity-60 animate-gradient-shift-reverse"}),(0,Jt.jsxs)("div",{className:"relative max-w-4xl mx-auto text-center z-10",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,Jt.jsx)(Yt,{className:"w-12 h-12 mr-3"}),(0,Jt.jsx)("h1",{className:"text-4xl md:text-5xl font-bold",children:"History of the Bible Study Guide"})]}),(0,Jt.jsx)("p",{className:"text-xl md:text-2xl text-amber-100 mb-6",children:"An 8-Lesson Journey from Ancient Scrolls to Modern Translations"}),(0,Jt.jsx)("p",{className:"text-lg text-amber-50 max-w-2xl mx-auto",children:"Discover how the Bible was written, preserved, and translated. Track your progress as you learn."})]})]}),(0,Jt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,Jt.jsxs)("button",{onClick:()=>s?s():i("paths"),className:"inline-flex items-center gap-2 px-4 py-2 mb-6 rounded-xl border-2 border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition",children:[(0,Jt.jsx)(Qt,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{children:"Back"})]}),(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-12 border-2 border-amber-100",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center",children:[(0,Jt.jsx)(Xt,{className:"w-8 h-8 text-amber-600 mr-3"}),(0,Jt.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Your Progress"})]}),(0,Jt.jsxs)("span",{className:"text-3xl md:text-4xl font-bold text-amber-600",children:[j.percentage,"%"]})]}),(0,Jt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-6",children:(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 h-4 rounded-full transition-all duration-500",style:{width:"".concat(j.percentage,"%")}})}),(0,Jt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Jt.jsxs)("div",{className:"bg-amber-50 rounded-lg p-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2 text-amber-700 mb-1",children:[(0,Jt.jsx)($t,{className:"w-5 h-5"}),(0,Jt.jsx)("span",{className:"font-semibold",children:"Completed"})]}),(0,Jt.jsxs)("p",{className:"text-2xl font-bold text-amber-900",children:[j.completed,"/",j.total]})]}),(0,Jt.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2 text-purple-700 mb-1",children:[(0,Jt.jsx)(Zt,{className:"w-5 h-5"}),(0,Jt.jsx)("span",{className:"font-semibold",children:"Badges Earned"})]}),(0,Jt.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:j.badges})]}),(0,Jt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2 text-blue-700 mb-1",children:[(0,Jt.jsx)(Xt,{className:"w-5 h-5"}),(0,Jt.jsx)("span",{className:"font-semibold",children:"Mastery Level"})]}),(0,Jt.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:j.masteryLevel})]}),(0,Jt.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2 text-green-700 mb-1",children:[(0,Jt.jsx)(en,{className:"w-5 h-5"}),(0,Jt.jsx)("span",{className:"font-semibold",children:"Total XP"})]}),(0,Jt.jsxs)("p",{className:"text-2xl font-bold text-green-900",children:[j.xp,"/",j.maxXP]})]})]})]}),(0,Jt.jsxs)("div",{className:"mb-12",children:[(0,Jt.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Jt.jsx)(Ut,{className:"w-8 h-8 text-orange-600 mr-3"}),(0,Jt.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"8-Lesson Curriculum"})]}),(0,Jt.jsx)("p",{className:"text-gray-700 mb-8 text-lg",children:"Click any lesson below to explore the content. Each lesson builds on the previous one, taking you from ancient oral tradition to becoming an informed modern Bible reader."}),(0,Jt.jsx)("div",{className:"space-y-4",children:k.map(t=>{const n=l===t.lesson,s=d.includes(t.lesson),a=p[t.lesson],o=t.lesson>=1&&t.lesson<=8,u=t.lesson>1&&!d.includes(t.lesson-1);return(0,Jt.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border-2 transition-all ".concat(s?"border-green-400":u?"border-gray-300 opacity-60":"border-gray-200"),children:[(0,Jt.jsx)("button",{onClick:()=>{u||(o?y(t.lesson):c(n?null:t.lesson))},disabled:u,className:"w-full p-6 transition ".concat(u?"cursor-not-allowed":"hover:bg-gray-50 cursor-pointer"),children:(0,Jt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Jt.jsx)("div",{className:"w-12 h-12 min-w-[3rem] rounded-full flex items-center justify-center text-xl font-bold flex-shrink-0 ".concat(s?"bg-green-100 text-green-700":u?"bg-gray-200 text-gray-400":"bg-amber-100 text-amber-700"),children:s?(0,Jt.jsx)($t,{className:"w-6 h-6"}):t.lesson}),(0,Jt.jsxs)("div",{className:"text-left",children:[(0,Jt.jsx)("h3",{className:"text-xl font-bold ".concat(u?"text-gray-400":"text-gray-800"),children:t.title}),(0,Jt.jsx)("p",{className:"".concat(u?"text-gray-400":"text-gray-600"),children:t.subtitle})]})]}),u?(0,Jt.jsx)("div",{className:"flex items-center justify-center",children:(0,Jt.jsx)(tn,{className:"w-6 h-6 text-gray-400 flex-shrink-0"})}):s?(0,Jt.jsx)("span",{className:"text-sm font-bold text-green-600 bg-green-100 px-4 py-2 rounded-full",children:"Complete"}):o?(0,Jt.jsx)("span",{className:"text-sm font-bold text-purple-600 bg-purple-100 px-4 py-2 rounded-full",children:"Start"}):n?(0,Jt.jsx)(nn,{className:"w-6 h-6"}):(0,Jt.jsx)(rn,{className:"w-6 h-6"})]})}),!o&&n&&(0,Jt.jsxs)("div",{className:"px-6 pb-6 border-t-2 border-gray-100 pt-6",children:[(0,Jt.jsxs)("div",{className:"mb-6",children:[(0,Jt.jsx)("h4",{className:"font-semibold text-gray-800 mb-2 text-lg",children:"Introduction"}),(0,Jt.jsx)("p",{className:"text-gray-700 leading-relaxed",children:t.introduction})]}),(0,Jt.jsxs)("div",{className:"mb-6",children:[(0,Jt.jsx)("h4",{className:"font-semibold text-gray-800 mb-3 text-lg",children:"Key Topics This Lesson"}),(0,Jt.jsx)("ul",{className:"space-y-2",children:t.keyTopics.map((e,t)=>(0,Jt.jsxs)("li",{className:"flex items-start",children:[(0,Jt.jsx)("div",{className:"w-2 h-2 bg-amber-500 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,Jt.jsx)("span",{className:"text-gray-700",children:e})]},t))})]}),(0,Jt.jsxs)("div",{className:"mb-6 bg-amber-50 rounded-lg p-4 border-l-4 border-amber-500",children:[(0,Jt.jsx)("h4",{className:"font-semibold text-gray-800 mb-2 text-lg",children:"Simple Explanation"}),(0,Jt.jsx)("p",{className:"text-gray-700 leading-relaxed",children:t.beginnerExplanation})]}),t.detailedContent&&(0,Jt.jsxs)("div",{className:"mb-6",children:[(0,Jt.jsx)("h4",{className:"font-semibold text-gray-800 mb-4 text-lg",children:"In-Depth Study"}),(0,Jt.jsx)("div",{className:"space-y-4",children:t.detailedContent.map((t,n)=>{return(0,Jt.jsxs)("div",{className:"bg-white rounded-lg p-4 border-2 border-gray-200",children:[(0,Jt.jsx)("h5",{className:"font-bold text-gray-900 mb-2",children:t.heading}),(0,Jt.jsx)("p",{className:"text-gray-700 leading-relaxed",children:(r=t.text,r.split(/(\(\d+\)\s|\d+\.\s)/).map((t,n)=>{const r=t.split(/(\*\*[^*]+\*\*)/g).map((e,t)=>e.startsWith("**")&&e.endsWith("**")?(0,Jt.jsx)("strong",{children:e.slice(2,-2)},t):e);return n>0&&/(\(\d+\)\s|\d+\.\s)/.test(t)?(0,Jt.jsxs)(e.Fragment,{children:[(0,Jt.jsx)("br",{}),(0,Jt.jsx)("br",{}),r]},n):(0,Jt.jsx)(e.Fragment,{children:r},n)}))})]},n);var r})})]}),(0,Jt.jsxs)("div",{className:"mb-6",children:[(0,Jt.jsx)("h4",{className:"font-semibold text-gray-800 mb-3 text-lg",children:"Questions to Consider"}),(0,Jt.jsx)("ul",{className:"space-y-2",children:t.reflectionQuestions.map((e,t)=>(0,Jt.jsxs)("li",{className:"flex items-start",children:[(0,Jt.jsxs)("span",{className:"text-orange-600 font-bold mr-3 flex-shrink-0",children:[t+1,"."]}),(0,Jt.jsx)("span",{className:"text-gray-700 italic",children:e})]},t))})]}),(0,Jt.jsxs)("div",{className:"mb-6 bg-orange-50 rounded-lg p-4 border-l-4 border-orange-500",children:[(0,Jt.jsx)("h4",{className:"font-semibold text-gray-800 mb-2 text-lg",children:"This Lesson's Practice"}),(0,Jt.jsx)("p",{className:"text-gray-700 leading-relaxed",children:t.practicalApplication})]}),(0,Jt.jsxs)("div",{className:"mb-6",children:[(0,Jt.jsx)("h4",{className:"font-semibold text-gray-800 mb-3 text-lg",children:"Explore in the App"}),(0,Jt.jsx)("div",{className:"flex flex-wrap gap-2",children:t.appLinks.map((e,t)=>(0,Jt.jsx)("button",{onClick:()=>(e=>{e.includes("Bible Timeline")||e.includes("Denomination")?(i("explorer"),window.scrollTo({top:0,behavior:"smooth"})):e.includes("Church History Guide")&&(i("study-guide"),window.scrollTo({top:0,behavior:"smooth"}))})(e),className:"inline-block bg-gradient-to-r from-amber-100 to-orange-100 text-amber-800 px-4 py-2 rounded-full text-sm font-medium border border-amber-200 hover:from-amber-200 hover:to-orange-200 hover:shadow-md transition cursor-pointer",children:e},t))})]}),t.quiz&&(0,Jt.jsxs)("div",{className:"mb-6 bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-6 border-2 border-amber-200",children:[(0,Jt.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Jt.jsx)("div",{className:"bg-amber-500 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold mr-3",children:"?"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsxs)("h4",{className:"font-bold text-gray-900 text-lg",children:["Lesson ",t.lesson," Quiz"]}),(0,Jt.jsx)("p",{className:"text-sm text-gray-600",children:"Test your understanding with 5 questions"})]})]}),a?(0,Jt.jsxs)(Jt.Fragment,{children:[(0,Jt.jsx)("div",{className:"space-y-6",children:t.quiz.map((e,n)=>{const r=h["".concat(t.lesson,"-").concat(n)],i=r===e.correctAnswer;return(0,Jt.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[(0,Jt.jsxs)("p",{className:"font-semibold text-gray-900 mb-3",children:[n+1,". ",e.question]}),(0,Jt.jsx)("div",{className:"space-y-2",children:e.options.map((t,n)=>{const s=r===n;let a="w-full text-left p-3 rounded-lg border-2 cursor-default ";return a+=n===e.correctAnswer?"border-green-500 bg-green-50":s&&!i?"border-red-500 bg-red-50":"border-gray-200 bg-gray-50",(0,Jt.jsxs)("div",{className:a,children:[(0,Jt.jsxs)("span",{className:"font-medium text-gray-700 mr-2",children:[String.fromCharCode(65+n),"."]}),t]},n)})}),(0,Jt.jsxs)("div",{className:"mt-3 p-3 rounded-lg ".concat(i?"bg-green-100 border-l-4 border-green-500":"bg-blue-100 border-l-4 border-blue-500"),children:[(0,Jt.jsx)("p",{className:"text-sm font-semibold text-gray-900 mb-1",children:i?"\u2713 Correct!":"Explanation:"}),(0,Jt.jsx)("p",{className:"text-sm text-gray-800",children:e.explanation})]})]},n)})}),(0,Jt.jsxs)("div",{className:"mt-6 p-4 bg-white rounded-lg border-2 border-amber-300",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Jt.jsx)("span",{className:"text-lg font-bold text-gray-800",children:"Your Score:"}),(0,Jt.jsxs)("span",{className:"text-2xl font-bold text-amber-600",children:[a.score," / ",a.total]})]}),a.score>=.7*a.total?(0,Jt.jsxs)("p",{className:"text-green-700 font-semibold flex items-center",children:[(0,Jt.jsx)($t,{className:"w-5 h-5 mr-2"}),"Great job! You passed this lesson! \u2713"]}):(0,Jt.jsx)("p",{className:"text-orange-700",children:"Review the material and try again (need 70% to pass)"})]}),(0,Jt.jsx)("div",{className:"mt-6",children:(0,Jt.jsx)("button",{onClick:()=>{f(e=>{const n=(0,r.A)({},e);return delete n[t.lesson],n}),m(e=>{const n=(0,r.A)({},e);return t.quiz.forEach((e,r)=>{delete n["".concat(t.lesson,"-").concat(r)]}),n})},className:"w-full bg-gray-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-gray-700 transition shadow-md hover:shadow-lg",children:"Retake Quiz"})})]}):(0,Jt.jsxs)(Jt.Fragment,{children:[(0,Jt.jsx)("div",{className:"space-y-6",children:t.quiz.map((e,n)=>{const i=h["".concat(t.lesson,"-").concat(n)];return(0,Jt.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[(0,Jt.jsxs)("p",{className:"font-semibold text-gray-900 mb-3",children:[n+1,". ",e.question]}),(0,Jt.jsx)("div",{className:"space-y-2",children:e.options.map((e,s)=>{const a=i===s;return(0,Jt.jsxs)("button",{onClick:()=>{return e=t.lesson,i=n,a=s,void m(t=>(0,r.A)((0,r.A)({},t),{},{["".concat(e,"-").concat(i)]:a}));var e,i,a},className:"w-full text-left p-3 rounded-lg border-2 transition ".concat(a?"border-amber-500 bg-amber-50":"border-gray-200 hover:border-amber-300 hover:bg-gray-50"),children:[(0,Jt.jsxs)("span",{className:"font-medium text-gray-700 mr-2",children:[String.fromCharCode(65+s),"."]}),e]},s)})})]},n)})}),(0,Jt.jsx)("div",{className:"mt-6",children:(0,Jt.jsx)("button",{onClick:()=>((e,t)=>{let n=0;t.forEach((t,r)=>{h["".concat(e,"-").concat(r)]===t.correctAnswer&&n++});const i={score:n,total:t.length};f(t=>(0,r.A)((0,r.A)({},t),{},{[e]:i})),n>=.7*t.length&&v(e)})(t.lesson,t.quiz),className:"w-full bg-amber-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-amber-700 transition shadow-md hover:shadow-lg",children:"Submit Quiz"})})]})]}),!s&&(0,Jt.jsx)("button",{onClick:()=>v(t.lesson),className:"mt-6 w-full bg-green-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-green-700 transition",children:"Mark as Complete"})]})]},t.lesson)})})]})]})]})},Jn=zt("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Kn={id:1,title:"The Case for God's Existence",subtitle:"Cosmological and fine-tuning arguments that point to a Creator",description:"Explore two core arguments that many thinkers find compelling: the Kalam Cosmological Argument and fine-tuning.",duration:"10 min",cards:[{type:"content",title:"Welcome to Apologetics",subtitle:"\u23f1\ufe0f About 10 minutes",content:["**Learning Objective:** By the end of this lesson, you will be able to explain the Kalam Cosmological Argument and the Fine-Tuning Argument for God's existence.","Apologetics comes from the Greek word 'apologia'\u2014a reasoned defense.","1 Peter 3:15 calls us to be ready to give reasons for our hope with gentleness and respect.","In this lesson, you'll learn the structure of two key arguments for God and how to explain them clearly.","We will focus on a simple structure: teach the core ideas, check your understanding with quick quizzes, and end with a practical challenge."],highlight:"\ud83d\udcad Ready: Can you give reasons for why you believe in God?",requireAcknowledgment:!0},{type:"content",title:"The Kalam Cosmological Argument",content:["1) Whatever begins to exist has a cause.","2) The universe began to exist.","3) Therefore, the universe has a cause.","Modern cosmology (Big Bang, expansion of space, background radiation) supports premise 2. Philosophical arguments support a beginning as well."],highlight:"If the universe began, it points to a Beginner."},{type:"content",title:"Why 'begins to exist' matters",content:["The premise is not 'everything has a cause' but 'whatever begins to exist has a cause.'","God is eternal and doesn't begin to exist, so He doesn't need a cause.",'The universe began\u2014so it is reasonable to ask for a cause. This avoids the "Who made God?" objection.'],highlight:"Only things that begin need causes."},{type:"content",title:"Actual infinities and Hilbert's Hotel",content:["If the past were actually infinite, we'd never arrive at today (you cannot traverse an actual infinite by successive addition).","Hilbert's Hotel\u2014a hotel with infinite rooms that is always full yet can still add guests\u2014reveals paradoxes with actual infinities, suggesting an infinite regress of past events is impossible.","A finite past implies a beginning to the universe."],highlight:"A finite past implies a beginning."},{type:"quiz",question:'Why doesn\'t the question "Who made God?" refute Kalam?',options:["Because God is part of the universe and had a beginning","Because the first premise only applies to things that begin to exist, and God did not begin","Because we can't know anything about God"],correctAnswer:1,explanation:"Kalam's first premise is 'Whatever begins to exist has a cause.' God is eternal and uncaused; the premise doesn\u2019t apply to Him."},{type:"fillblank",prompt:"Whatever ______ to exist has a cause.",correctAnswer:"begins",explanation:"The Kalam's first premise is 'Whatever begins to exist has a cause.'"},{type:"content",title:"What kind of cause?",content:["If space, time, matter, and energy began, then the cause must be beyond space, time, matter, and energy\u2014immaterial, timeless, powerful.","Two types of causes exist: impersonal conditions and personal agents. If impersonal conditions were eternal, the effect (a universe) would also be eternal. But the universe is not eternal.","Therefore, the cause is best explained as a personal agent who can choose to create: a mind with will."],highlight:"Timeless cause + non-eternal effect points to a personal Creator."},{type:"content",title:"Quote: John Lennox",content:["\u201cNonsense remains nonsense, even when talked by world\u2011famous scientists.\u201d","God no more competes with science than Henry Ford competes with the laws of combustion\u2014one explains agency, the other mechanism."]},{type:"content",title:"The Fine-Tuning Argument",content:["The universe is fine\u2011tuned for life with staggering precision. Life-permitting ranges for many constants are razor-thin.","\u2022 Gravity: if altered by 1 part in 10^40, stars would not form.","\u2022 Cosmological constant: exquisitely precise; tiny changes collapse or disperse the universe.","\u2022 Strong nuclear force, electron\u2011proton ratio, carbon resonance\u2014all set 'just right.'","Taken together, these suggest design rather than accident."],highlight:"The cosmos looks designed because it is designed."},{type:"matching",title:"Match the constant to its description",pairs:[{term:"Gravity",definition:"If altered by 1 in 10^40, stars could not form"},{term:"Cosmological constant",definition:"Controls cosmic expansion; must be exquisitely precise"},{term:"Strong nuclear force",definition:"Binds nuclei; small changes prevent chemistry"},{term:"Carbon resonance",definition:"Energy level that enables carbon formation in stars"}]},{type:"quiz",question:"Which explanation best fits widespread, independent fine\u2011tuning across many constants?",options:["Sheer chance, because improbable things happen all the time","Design, because multiple precise values aligned simultaneously","There is no fine\u2011tuning; life just adapted"],correctAnswer:1,explanation:"Multiple, independent parameters landing in life-permitting ranges points to design as the best explanation."},{type:"content",title:"Common objections",content:["Who made God? \u2014 Only things that begin need causes; God is eternal.","Multiverse? \u2014 Speculative and itself requires finely tuned laws/initial conditions to generate life-permitting domains.","We'll find a natural explanation \u2014 That assumes naturalism; inference to the best explanation points to intelligence."],highlight:"Anticipate objections; answer with clarity and grace."},{type:"quiz",question:"Your friend says: 'Science explains everything. We don't need God.'",options:["Science explains how things work, not why they exist. Who designed the laws science studies?","That's ridiculous. Everything screams design!","Yeah, you're probably right. Faith is just a feeling."],correctAnswer:0,explanation:"Science and God answer different questions. Science is the 'how,' God is the 'why.' Lennox: God no more competes with science than Henry Ford with combustion laws."},{type:"quiz",question:"What are the three steps of the Kalam?",options:["God exists; the Bible says so; therefore it's true.","Everything has a cause; God is first cause; God exists.","Whatever begins has a cause; the universe began; therefore the universe has a cause.","The universe is complex; complexity needs design; God designed it."],correctAnswer:2,explanation:"Kalam: whatever begins to exist has a cause; the universe began; therefore the universe has a cause."},{type:"content",title:"This Week's Challenge",content:["Write a 90\u2011second explanation of Kalam and a 90\u2011second explanation of fine\u2011tuning. Practice out loud with a friend.","Bonus: Watch a short presentation by William Lane Craig or John Lennox and note one new insight."],highlight:"Practice makes clarity."},{type:"completion",title:"Lesson Complete! \ud83c\udf89",message:"Great work finishing \"The Case for God's Existence.\" Keep going\u2014you're building a strong apologetics foundation.",keyTakeaways:["The Kalam Argument: Whatever begins to exist has a cause; the universe began; therefore it has a cause","Fine-Tuning: Physical constants are precisely calibrated for life, suggesting intentional design","Both arguments point to a transcendent, powerful, intelligent Creator"],badge:{icon:"\ud83d\udee1\ufe0f",name:"Apologetics 1",description:"Completed: The Case for God's Existence"}}]},Yn={id:2,title:"The Problem of Evil & Suffering",subtitle:"Answering the toughest objection to faith",description:"Address both logical and pastoral dimensions of evil and suffering.",duration:"11 min",cards:[{type:"content",title:"The skeptic's challenge",subtitle:"\u23f1\ufe0f About 11 minutes",content:["**Learning Objective:** By the end of this lesson, you will be able to respond to the logical and evidential problems of evil with both intellectual rigor and pastoral sensitivity.","David Hume's framing: If God is willing to prevent evil but not able, He is weak; if able but not willing, He is malevolent; if both able and willing, why is there evil?","Evil is both an intellectual problem and a deeply personal pain.","Apologetics must address the mind and honor the heart."],highlight:"\ud83d\udcad Consider: How do you reconcile suffering with a loving God?",requireAcknowledgment:!0},{type:"content",title:"Two forms: logical vs evidential",content:["Logical: claims a contradiction between God and evil \u2014 free will and greater-goods remove the contradiction.","Evidential: certain particular evils (e.g., seemingly gratuitous suffering) are argued to be unlikely on theism \u2014 but we aren't positioned to know all God\u2019s reasons (limited knowledge).","Moral evil: suffering from free creaturely choices. Natural evil: suffering from disease, disasters, and decay in a fallen world."],highlight:"We're limited creatures; we can't survey all possible reasons."},{type:"matching",title:"Match the category",pairs:[{term:"Logical problem of evil",definition:"Alleged contradiction between God and evil"},{term:"Evidential problem of evil",definition:"Claim that specific evils are improbable on theism"},{term:"Moral evil",definition:"Suffering from sinful choices (murder, abuse, injustice)"},{term:"Natural evil",definition:"Suffering from disease and disasters (cancer, earthquakes)"}]},{type:"content",title:"The Free Will Defense",content:["Genuine love requires freedom; freedom entails the possibility of wrong.","A world with free agents capable of love and moral growth is better than a world of robots.","God values persons with real agency; preventing all evil would also prevent moral goods like courage, loyalty, and forgiveness."]},{type:"content",title:"Soul\u2011making and greater\u2011good",content:["Some virtues require hardship: courage requires danger; compassion requires need; perseverance requires trial.","Genesis 50:20 and Romans 5:3\u20135 frame suffering within God\u2019s purposes\u2014without making God the author of evil.","John Hick called this \u201csoul\u2011making\u201d: God uses a challenging environment to mature persons for eternity."],highlight:"God can use evil for good without authoring evil."},{type:"quiz",question:"Which statement best captures the logical response to evil?",options:["If evil exists, God cannot exist","There is no evil, only perception","There is no contradiction if God has morally sufficient reasons tied to creaturely freedom and greater goods"],correctAnswer:2,explanation:"If God has good reasons to permit evil (e.g., freedom, soul\u2011making), then there is no formal contradiction."},{type:"content",title:"The Cross: God with us",content:["Christianity offers not only arguments but a God who suffers with us.","At the cross, God in Christ entered our pain. We don\u2019t know all reasons, but we know His heart.","Resurrection hope reframes suffering within a larger story where evil does not have the final word."],highlight:"God is not distant from suffering."},{type:"fillblank",prompt:"In Christianity, God in ________ entered human suffering on the cross.",correctAnswer:"Christ",explanation:"Central to the Christian answer is that God, in Christ, suffered and died\u2014He is not remote from our pain."},{type:"quiz",question:"Pastoral care scenario: What\u2019s the wisest first response to suffering?",options:["Offer a detailed theodicy and ask what they learned.","Acknowledge the pain; express presence and point to the God who suffers with us.","Say sin caused this specific event."],correctAnswer:1,explanation:"Lead with compassion. Keller: Christianity gives the deepest answer \u2014 God Himself suffered."},{type:"content",title:"Objections and replies",content:["\u201cGod could make free creatures who never choose evil.\u201d \u2014 Freedom includes the live option of choosing otherwise; a world with genuine freedom entails risk.","\u201cNatural evil seems pointless.\u201d \u2014 Our limited vantage point makes judgments about \u201cpointlessness\u201d precarious; many goods (stable physics, regular laws) entail side effects we dislike.","\u201cEternal life doesn\u2019t fix present pain.\u201d \u2014 True, but it transforms the calculus of suffering and anchors hope that justice and restoration will be complete."]},{type:"quiz",question:"According to the free will defense, why does God allow evil?",options:["God isn't powerful enough","Genuine love and moral goodness require freedom, which includes the possibility of evil","Evil is an illusion"],correctAnswer:1,explanation:"Love must be freely chosen; freedom entails the possibility of evil."},{type:"content",title:"Reflection",content:["Where have you seen courage, compassion, or perseverance grow through hardship?","How does the cross and resurrection shift how you face suffering today?"]},{type:"completion",title:"Lesson Complete! \ud83c\udf89",message:"You addressed evil with both rigor and empathy.",keyTakeaways:["The logical problem of evil is solved by free will and greater goods","The evidential problem acknowledges we cannot know all of God's reasons from our limited perspective","Pastoral care must accompany intellectual answers when addressing suffering"],badge:{icon:"\ud83d\udee1\ufe0f",name:"Apologetics 2",description:"Completed: Evil & Suffering"}}]},Qn={id:3,title:"The Resurrection of Jesus",subtitle:"Historical evidence for Christianity's central claim",description:"Examine minimal facts, early testimony, empty tomb, and transformed witnesses.",duration:"10 min",cards:[{type:"content",title:"The central claim",subtitle:"\u23f1\ufe0f About 10 minutes",content:["**Learning Objective:** By the end of this lesson, you will be able to present the historical evidence for the resurrection using the minimal facts approach.","1 Corinthians 15:14: If Christ is not raised, faith is futile.","If true, Jesus is Lord; if false, Christianity collapses. Apologetics stands or falls here."],highlight:"\ud83d\udcad Foundational: Why is the resurrection central to Christianity?",requireAcknowledgment:!0},{type:"content",title:"Minimal facts approach",content:["1) Jesus died by Roman crucifixion (multiple sources: Gospels, Paul, Tacitus).","2) Disciples believed they saw the risen Jesus (appearances tradition).","3) Paul\u2014enemy of the church\u2014converted after an experience he took as an appearance.","4) James\u2014skeptical brother\u2014converted and became a leader in Jerusalem."],highlight:"Start with what most scholars across views grant, then compare explanations."},{type:"matching",title:"Match the minimal fact",pairs:[{term:"Crucifixion",definition:"Executed under Pontius Pilate (c. 30 AD)"},{term:"Disciples\u2019 experiences",definition:"They sincerely believed Jesus appeared to them"},{term:"Paul\u2019s conversion",definition:"From persecutor to apostle after an encounter"},{term:"James\u2019s conversion",definition:"Skeptical brother became leader of the Jerusalem church"}]},{type:"content",title:"Early testimony timeline",subtitle:"Why legend doesn\u2019t fit",content:["1 Corinthians 15:3\u20137 preserves a creed many date within 3\u20135 years of the crucifixion.","Acts records early speeches proclaiming the resurrection in Jerusalem itself (\u201cyou crucified Him, God raised Him\u201d).","The Gospels draw on earlier traditions and include details unlikely for a late legend."]},{type:"quiz",question:"A professor claims \u201cresurrection is a late legend.\u201d What\u2019s the best reply?",options:["We have very early testimony (1 Cor 15 creed), far too soon for legend; and the empty tomb lacked a body.","You\u2019re insulting my Lord!","We just take it on faith."],correctAnswer:0,explanation:"Legends take generations; early testimony plus the empty tomb undercut the legend hypothesis."},{type:"content",title:"The empty tomb",content:["Burial by Joseph of Arimathea (a Sanhedrin member) is multiply attested and unlikely to be invented against the Sanhedrin.","Women as first witnesses would be counter\u2011productive in that culture if fabricated\u2014yet they lead the story.","Earliest Jewish claim alleged theft\u2014implicitly conceding the tomb was empty."],highlight:"The empty tomb is historically robust."},{type:"content",title:"Transformed disciples and alternative theories",content:["From fear to bold proclamation in Jerusalem; many faced persecution and death.","Conspiracy theory: Unlikely\u2014disciples gained no power or wealth and were willing to suffer for their testimony.","Hallucination theory: Private, subjective, and cannot account for group appearances, empty tomb, and physical interactions.","Swoon theory: Roman executions were efficient; a half\u2011dead Jesus would not inspire worship as risen Lord."]},{type:"fillblank",prompt:"If Christ has not been raised, your faith is ________ (1 Cor 15:14).",correctAnswer:"futile",explanation:"Paul grounds Christianity in a historical event\u2014the resurrection."},{type:"quiz",question:"Which is NOT a minimal fact?",options:["Jesus died by crucifixion","Disciples believed they saw the risen Jesus","Roman guards saw angels","Paul converted after an experience he took as an appearance"],correctAnswer:2,explanation:"Guards seeing angels isn't part of the cross\u2011view scholarly consensus."},{type:"content",title:"Practical summary",content:["1) Early, independent sources anchor the claim.","2) Empty tomb fits Jewish and Roman context.","3) Eyewitness transformation is hard to explain naturally.","Ask: Which explanation best fits all the data with the least strain? The resurrection hypothesis remains strongest."]},{type:"content",title:"This Week\u2019s Challenge",content:["Write your 3\u2011minute \u201cminimal facts\u201d explanation. Practice with a friend who asks honest questions."]},{type:"completion",title:"Lesson Complete! \ud83c\udf89",message:"Historical bedrock examined with clarity.",keyTakeaways:["The minimal facts (crucifixion, post-mortem appearances, Paul and James conversions) are accepted by most scholars","Alternative explanations (hallucination, legend, swoon) fail to account for all the facts","The resurrection is the best explanation for the historical data"],badge:{icon:"\ud83d\udee1\ufe0f",name:"Apologetics 3",description:"Completed: Resurrection"}}]},Xn={id:4,title:"Science & Faith: Friends or Foes?",subtitle:"The Big Bang, fine-tuning, and God's cosmos",description:"Modern science points toward a Creator more than many think.",duration:"9 min",cards:[{type:"content",title:"The conflict myth",subtitle:"\u23f1\ufe0f About 9 minutes",content:["**Learning Objective:** By the end of this lesson, you will understand how modern science (Big Bang, fine-tuning, DNA) points toward an intelligent Creator.","Most scientific pioneers (Newton, Kepler, Faraday, Maxwell) were Christians who saw science as thinking God's thoughts after Him."],highlight:"\ud83d\udcad Think: Are science and faith really at war?",requireAcknowledgment:!0},{type:"content",title:"Quote: John Lennox",content:["\u201cNonsense remains nonsense even when talked by world\u2011famous scientists.\u201d","The more we learn, the more a Creator hypothesis remains credible."]},{type:"content",title:"The Big Bang and creation",content:["Big Bang implies a beginning to space-time and matter \u2014 a strong consonance with Genesis 1:1."],highlight:"The Big Bang is consistent with 'In the beginning, God created.'"},{type:"content",title:"Cosmic fine\u2011tuning",content:["Dozens of constants (gravity, cosmological constant, etc.) require exquisite calibration for life."],highlight:"The universe looks rigged for life."},{type:"quiz",question:"What is the fine\u2011tuning argument?",options:["The universe is old, so it evolved naturally","Physical constants are precisely calibrated for life, suggesting design","Scientists fine\u2011tuned their instruments","Evolution fine\u2011tunes organisms"],correctAnswer:1,explanation:"The precision of constants suggests intentional design."},{type:"content",title:"DNA: The language of God",content:["DNA is a digital code (A, T, G, C) that encodes biological information. In our experience, information comes from intelligence."],highlight:"Information points to an Informer."},{type:"quiz",question:"Class claim: \u201cEvolution explains everything.\u201d Best reply?",options:["Evolution explains development, not origin of life or the fine\u2011tuned cosmos; DNA information remains to be explained.","Evolution is a lie!","Science has all the answers."],correctAnswer:0,explanation:"Evolution is about biological changes; origin, information, and physics still need explanation."},{type:"completion",title:"Lesson Complete! \ud83c\udf89",message:"Science and faith explored as complementary.",keyTakeaways:['The Big Bang supports a beginning, consistent with "In the beginning God created"',"Fine-tuning of physical constants suggests intentional design, not random chance","DNA's information content points to an intelligent source"],badge:{icon:"\ud83d\udee1\ufe0f",name:"Apologetics 4",description:"Completed: Science & Faith"}}]},$n={id:5,title:"The Reliability of Scripture",subtitle:"Can we trust the Bible?",description:"Manuscripts, archaeology, fulfilled prophecy, and textual criticism.",duration:"8 min",cards:[{type:"content",title:"The skeptic's attack",subtitle:"\u23f1\ufe0f About 8 minutes",content:["**Learning Objective:** By the end of this lesson, you will be able to defend the Bible's reliability using manuscript evidence, archaeology, and fulfilled prophecy.","'Corrupted text!' 'Contradictions!' 'Myth!' Let's weigh the evidence."],highlight:"\ud83d\udcad Question: How do we know the Bible is trustworthy?",requireAcknowledgment:!0},{type:"content",title:"Manuscript evidence",content:["\u22485,800 Greek NT manuscripts; 10,000+ Latin; thousands more. Earliest fragments within decades."],highlight:"No ancient work rivals the Bible's attestation."},{type:"content",title:"Archaeological confirmations",content:["Hittites, Pool of Siloam, Pontius Pilate, House of David \u2014 once doubted, later confirmed."],highlight:"Archaeology consistently confirms biblical history."},{type:"quiz",question:"How many Greek NT manuscripts exist?",options:["About 50","Around 650","Approximately 5,800","We don't have any"],correctAnswer:2,explanation:"\u22485,800 Greek manuscripts + many others."},{type:"content",title:"Fulfilled prophecy",content:["Jesus fulfilled numerous OT prophecies (Mic 5:2, Isa 7:14, Ps 22, Zech 11:12\u201313)."],highlight:"Hanegraaff: Prophecy is God's signature on Scripture."},{type:"content",title:"Textual criticism",content:["Comparing manuscripts recovers the original with high confidence; differences are mostly minor and don't affect doctrine."],highlight:"More manuscripts \u2192 more certainty."},{type:"content",title:"Reflection",content:["How does manuscript and archaeology evidence strengthen your confidence in Scripture?"]},{type:"completion",title:"Lesson Complete! \ud83c\udf89",message:"Scripture's reliability considered on multiple fronts.",keyTakeaways:["The Bible has superior manuscript evidence compared to any other ancient text (5,800+ Greek NT manuscripts)","Archaeological discoveries have confirmed many biblical people, places, and events","Fulfilled prophecy (e.g., Isaiah 53, Psalm 22 predicting crucifixion details) demonstrates divine inspiration"],badge:{icon:"\ud83d\udee1\ufe0f",name:"Apologetics 5",description:"Completed: Reliability of Scripture"}}]},Zn={id:6,title:"The Moral Argument for God",subtitle:"Where do right and wrong come from?",description:"Objective morality points to a Moral Lawgiver.",duration:"7 min",cards:[{type:"content",title:"The universal moral sense",subtitle:"\u23f1\ufe0f About 7 minutes",content:["**Learning Objective:** By the end of this lesson, you will be able to present the moral argument for God and explain why objective morality requires a transcendent foundation.","Across cultures: 'Is torturing babies for fun wrong?' Answer is 'yes.'"],highlight:"\ud83d\udcad Consider: Where does your sense of right and wrong come from?",requireAcknowledgment:!0},{type:"content",title:"Formal argument",content:["1) If God doesn't exist, objective moral values don't exist.","2) Objective moral values do exist.","3) Therefore, God exists."],highlight:"Atheism explains feelings, not objective moral facts."},{type:"content",title:"Euthyphro dilemma answered",content:["Goodness flows from God's nature \u2014 neither arbitrary command nor a standard above God."]},{type:"quiz",question:"Relativism says morality is preference. What follows?",options:["You cannot condemn atrocities as truly wrong","It enhances moral accountability","It proves atheism","It removes the need for justice"],correctAnswer:0,explanation:"If mere preference, nothing is objectively wrong \u2014 which we all know is false."},{type:"content",title:"Evolution and morality",content:["Evolution may explain instincts, not objective obligations \u2014 you can\u2019t derive \u201cought\u201d from \u201cis.\u201d"]},{type:"completion",title:"Lesson Complete! \ud83c\udf89",message:"Moral knowledge seen as a signpost to God.",keyTakeaways:["If objective moral values exist, they require a transcendent foundation (God)","Atheistic frameworks cannot ground objective morality\u2014only subjective preferences","Our universal moral intuitions point to a Moral Lawgiver who defines good and evil"],badge:{icon:"\ud83d\udee1\ufe0f",name:"Apologetics 6",description:"Completed: Moral Argument"}}]},er={id:7,title:"Jesus: The Only Way?",subtitle:"Addressing religious pluralism and exclusivity",description:"Why Christian exclusivity is humble and true.",duration:"6 min",cards:[{type:"content",title:"The scandal of exclusivity",subtitle:"\u23f1\ufe0f About 6 minutes",content:["**Learning Objective:** By the end of this lesson, you will be able to defend Christian exclusivity with both humility and conviction, using C.S. Lewis's trilemma.","John 14:6 \u2014 Jesus claims uniqueness."],highlight:"\ud83d\udcad Hard question: Can there be only one way to God?",requireAcknowledgment:!0},{type:"content",title:"Lewis's trilemma",content:["Jesus is liar, lunatic, or Lord \u2014 'great moral teacher' doesn\u2019t fit the claims."]},{type:"quiz",question:"Pluralism says \u201call paths lead to the same God.\u201d Best reply?",options:["Religions make contradictory claims; they cannot all be true. Truth is exclusive by nature.","Maybe all are half true","All are false"],correctAnswer:0,explanation:"Mutually exclusive claims cannot all be true."},{type:"content",title:"Responding with grace",content:["Exclusivity isn't arrogance; it\u2019s acknowledging we can\u2019t save ourselves and pointing to Christ."]},{type:"completion",title:"Lesson Complete! \ud83c\udf89",message:"Exclusivity explained with humility.",keyTakeaways:["Jesus claimed to be the only way to God (John 14:6)\u2014not just a good teacher","C.S. Lewis's trilemma: Jesus is either liar, lunatic, or Lord\u2014\"great moral teacher\" doesn't fit His claims","Christian exclusivity is based on Jesus' own claims and the resurrection, not arrogance"],badge:{icon:"\ud83d\udee1\ufe0f",name:"Apologetics 7",description:"Completed: Jesus the Only Way"}}]},tr={id:8,title:"Engaging Skeptics with Grace",subtitle:"Your apologetics toolkit for real conversations",description:"Practical conversations with truth and love.",duration:"8 min",cards:[{type:"content",title:"Goal of apologetics",subtitle:"\u23f1\ufe0f About 8 minutes",content:["**Learning Objective:** By the end of this lesson, you will have a complete apologetics toolkit and know how to engage skeptics with both truth and grace.","1 Peter 3:15\u201316 \u2014 be ready, with gentleness and respect."],highlight:"\ud83d\udcad Reflect: How can you defend your faith with both confidence and humility?",requireAcknowledgment:!0},{type:"content",title:"Common objections & responses",content:["Blind faith? \u2014 Faith is trust based on evidence (resurrection, arguments, science).","Religion harms? \u2014 Humans misuse everything; judge Christianity by Jesus."]},{type:"content",title:"Ask good questions",content:["What do you mean? How did you conclude that? What would change your mind?"]},{type:"quiz",question:"\u201cNo evidence for God.\u201d Best first move?",options:["Ask what evidence they would accept; then offer cosmological, fine\u2011tuning, resurrection lines of evidence.","Accuse them of loving sin","Concede there is none"],correctAnswer:0,explanation:"Lead with curiosity, then point to specific evidence."},{type:"content",title:"Toolkit summary",content:["1) God's existence: cosmological, fine\u2011tuning, moral.","2) Evil and suffering: free will, greater good, the Cross.","3) Resurrection: minimal facts, empty tomb, transformation.","4) Science: Big Bang, fine\u2011tuning, DNA information.","5) Scripture: manuscripts, archaeology.","6) Exclusivity: Jesus\u2019s unique claims."],highlight:"Use truth with grace."},{type:"completion",title:"All lessons complete! \ud83c\udf89",message:"You now have a robust, gracious apologetics toolkit. Keep learning and sharing.",keyTakeaways:["Apologetics is about being ready to give reasons for hope with gentleness and respect (1 Peter 3:15)","Listen first, ask questions, and respond to the real objection\u2014not a strawman","Truth and love must go together\u2014apologetics without compassion drives people away"],badge:{icon:"\ud83d\udee1\ufe0f",name:"Apologetics Mastery",description:"Completed: Apologetics Study Guide"}}]},nr=t=>{let{userProgress:n,onNavigate:r,onGoBack:i,onProgressUpdate:s}=t;const a=ae(),[o,l]=(0,e.useState)(null),[c,d]=(0,e.useState)([]),[u,h]=(0,e.useState)(null),[m,p]=(0,e.useState)(null);(0,e.useEffect)(()=>{var e;null!==(e=a.state)&&void 0!==e&&e.reviewMode&&"apologetics"===a.state.reviewMode.path&&p(a.state.reviewMode)},[a.state]),(0,e.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),(0,e.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const f=e=>{if(!e||!Array.isArray(e.cards))return e;const t=e.cards.map(e=>{switch(e.type){case"info":case"teaching":return{type:"content",title:e.title||("info"===e.type?"Info":"Teaching"),subtitle:e.subtitle||void 0,content:Array.isArray(e.content)?e.content:e.content?[e.content]:[],highlight:e.keyPoint||e.highlight||void 0};case"quote":{const t=[];return e.text&&t.push("\u201c".concat(e.text,"\u201d")),e.context&&t.push("\u2014 ".concat(e.context)),{type:"content",title:e.author?"Quote: ".concat(e.author):"Quote",content:t.length?t:[]}}case"reflection":return{type:"content",title:e.title||"Reflection",content:e.prompt?[e.prompt]:[],highlight:"Take a moment to reflect and, if you can, jot down your thoughts."};case"action":return{type:"content",title:e.title||"Action",content:e.task?[e.task]:[],highlight:"Challenge: Put this into practice this week."};case"scenario":{const t=(e.options||[]).map(e=>e.text),n=(e.options||[]).findIndex(e=>e.isCorrect),r=n>=0&&e.options[n].feedback?e.options[n].feedback:"Consider why the correct answer best captures the point of this scenario.";return{type:"quiz",question:e.question||e.title||"Choose the best response to the scenario.",options:t,correctAnswer:Math.max(0,n),explanation:r}}case"quiz":return{type:"quiz",question:e.question,options:e.options,correctAnswer:e.correctAnswer,explanation:e.explanation};default:return e}});return t.some(e=>"completion"===e.type)||t.push({type:"completion",title:"Lesson Complete! \ud83c\udf89",message:'Great work finishing "'.concat(e.title,'". Keep going\u2014you\u2019re building a strong apologetics foundation.'),badge:{icon:"\ud83d\udee1\ufe0f",name:"Apologetics ".concat(e.id),description:"Completed: ".concat(e.title)}}),{id:e.id,title:e.title,subtitle:e.subtitle,cards:t}};(0,e.useEffect)(()=>{var e,t;null!==n&&void 0!==n&&null!==(e=n.courses)&&void 0!==e&&null!==(t=e.apologetics)&&void 0!==t&&t.completedLessons&&d(n.courses.apologetics.completedLessons)},[n]);const g=async(e,t)=>{if((e=>{if(!c.includes(e)){const t=[...c,e];d(t)}})(e),wn("apologetics",e),t){const n=bn();n&&(await(0,On.lr)(n.uid,"apologetics",e,t),s&&s())}h(null),window.scrollTo({top:0,behavior:"smooth"})},y=()=>{h(null),window.scrollTo({top:0,behavior:"smooth"})},b=[{lesson:1,title:"The Case for God's Existence",subtitle:"Cosmological, teleological, and moral arguments",introduction:"Does God exist? This isn't just a philosophical question\u2014it's the foundation of everything we believe. In this lesson, we'll explore the powerful logical arguments for God's existence championed by thinkers like William Lane Craig, John Lennox, and C.S. Lewis. You'll learn why many scholars believe the evidence points compellingly to a Creator."},{lesson:2,title:"The Problem of Evil & Suffering",subtitle:"Answering the toughest objection to faith",introduction:"If God is good and all-powerful, why does evil exist? This is perhaps the most emotionally and intellectually challenging question believers face. We'll explore how Lewis, Keller, and Lennox address this problem, looking at free will, the greater good, and why a world with suffering might actually be necessary for genuine love and moral growth."},{lesson:3,title:"The Resurrection of Jesus",subtitle:"Historical evidence for Christianity's central claim",introduction:"Christianity stands or falls on the resurrection. If Jesus didn't rise from the dead, our faith is worthless. But what if there's strong historical evidence that He did? We'll examine the 'minimal facts' approach, early testimony, the transformation of the disciples, and why most scholars\u2014even skeptical ones\u2014agree on certain key facts that point to the resurrection."},{lesson:4,title:"Science & Faith: Friends or Foes?",subtitle:"The Big Bang, fine-tuning, and God's cosmos",introduction:"Many people think science has disproven God. But what if modern science actually points toward a Creator? John Lennox (Oxford mathematician) and others show how the Big Bang, cosmic fine-tuning, and the information in DNA all suggest an intelligent Designer. Science and faith aren't enemies\u2014they're complementary ways of seeking truth."},{lesson:5,title:"The Reliability of Scripture",subtitle:"Can we trust the Bible?",introduction:"Skeptics claim the Bible has been corrupted, contradicts itself, or is just ancient mythology. Is that true? We'll examine manuscript evidence, archaeological discoveries, fulfilled prophecy, and textual criticism. Apologists like Wesley Huff, Hank Hanegraaff, and R.C. Sproul show why the Bible is the most reliable ancient document we have."},{lesson:6,title:"The Moral Argument for God",subtitle:"Where do right and wrong come from?",introduction:"Everyone believes some things are truly right or wrong\u2014not just opinions. But where does objective morality come from? C.S. Lewis and William Lane Craig argue that moral law points to a Moral Lawgiver. We'll explore why atheism struggles to ground objective morality and why the moral argument remains one of the most powerful cases for God."},{lesson:7,title:"Jesus: The Only Way?",subtitle:"Addressing religious pluralism and exclusivity",introduction:"Claiming Jesus is the only way to God sounds arrogant in our pluralistic world. But is it? Tim Keller, John Lennox, and R.C. Sproul explain why Jesus's claims are either true or false\u2014there's no middle ground. We'll examine religious pluralism, the uniqueness of Christianity, and how to graciously defend the exclusivity of Christ."},{lesson:8,title:"Engaging Skeptics with Grace",subtitle:"Your apologetics toolkit for real conversations",introduction:"Apologetics isn't about winning arguments\u2014it's about winsome witness. In this final lesson, we'll compile everything you've learned into a practical toolkit: answering common objections, asking good questions, listening well, and sharing your faith with both truth and love. You'll be equipped to defend the hope within you with gentleness and respect."}],x={completed:c.length,total:b.length,percentage:Math.round(c.length/b.length*100),badges:c.length,masteryLevel:((e,t)=>{const n=e/t*100;return 0===n?"Beginner":n<38?"Novice":n<63?"Defender":n<88?"Apologist":"Master"})(c.length,b.length),xp:(()=>{var e,t;return(null===n||void 0===n||null===(e=n.courses)||void 0===e||null===(t=e.apologetics)||void 0===t?void 0:t.totalXP)||0})(),maxXP:800};if(m){const e={1:Kn,2:Yn,3:Qn,4:Xn,5:$n,6:Zn,7:er,8:tr}[m.lessonNumber];if(e)return(0,Jt.jsx)(Tn,{lessonData:f(e),path:"apologetics",lessonNumber:m.lessonNumber,onComplete:async e=>{p(null),window.scrollTo({top:0,behavior:"smooth"})},onExit:()=>{p(null),window.scrollTo({top:0,behavior:"smooth"})}})}return 1===u?(0,Jt.jsx)(pn,{lessonData:f(Kn),onComplete:e=>g(1,e),onExit:y}):2===u?(0,Jt.jsx)(pn,{lessonData:f(Yn),onComplete:e=>g(2,e),onExit:y}):3===u?(0,Jt.jsx)(pn,{lessonData:f(Qn),onComplete:e=>g(3,e),onExit:y}):4===u?(0,Jt.jsx)(pn,{lessonData:f(Xn),onComplete:e=>g(4,e),onExit:y}):5===u?(0,Jt.jsx)(pn,{lessonData:f($n),onComplete:e=>g(5,e),onExit:y}):6===u?(0,Jt.jsx)(pn,{lessonData:f(Zn),onComplete:e=>g(6,e),onExit:y}):7===u?(0,Jt.jsx)(pn,{lessonData:f(er),onComplete:e=>g(7,e),onExit:y}):8===u?(0,Jt.jsx)(pn,{lessonData:f(tr),onComplete:e=>g(8,e),onExit:y}):(0,Jt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:[(0,Jt.jsxs)("div",{className:"relative overflow-hidden text-white py-16 px-4",children:[(0,Jt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 via-indigo-500 to-blue-700 animate-gradient-shift"}),(0,Jt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tl from-indigo-500 via-blue-500 to-indigo-700 opacity-60 animate-gradient-shift-reverse"}),(0,Jt.jsxs)("div",{className:"relative max-w-4xl mx-auto text-center z-10",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,Jt.jsx)(Jn,{className:"w-12 h-12 mr-3"}),(0,Jt.jsx)("h1",{className:"text-4xl md:text-5xl font-bold",children:"Apologetics Study Guide"})]}),(0,Jt.jsx)("p",{className:"text-xl md:text-2xl text-blue-100 mb-6",children:"8 Lessons Defending the Christian Faith"}),(0,Jt.jsx)("p",{className:"text-lg text-blue-50 max-w-2xl mx-auto",children:"Learn to give reasons for the hope you have\u2014with gentleness and respect. Master the arguments from Craig, Lennox, Lewis, Keller, and more."})]})]}),(0,Jt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,Jt.jsxs)("button",{onClick:()=>i?i():r("paths"),className:"inline-flex items-center gap-2 px-4 py-2 mb-6 rounded-xl border-2 border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition",children:[(0,Jt.jsx)(Qt,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{children:"Back"})]}),(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-12 border-2 border-blue-100",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center",children:[(0,Jt.jsx)(Xt,{className:"w-8 h-8 text-blue-600 mr-3"}),(0,Jt.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Your Progress"})]}),(0,Jt.jsxs)("span",{className:"text-3xl md:text-4xl font-bold text-blue-600",children:[x.percentage,"%"]})]}),(0,Jt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-6",children:(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 h-4 rounded-full transition-all duration-500",style:{width:"".concat(x.percentage,"%")}})}),(0,Jt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Jt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2 text-blue-700 mb-1",children:[(0,Jt.jsx)($t,{className:"w-5 h-5"}),(0,Jt.jsx)("span",{className:"font-semibold",children:"Completed"})]}),(0,Jt.jsxs)("p",{className:"text-2xl font-bold text-blue-900",children:[x.completed,"/",x.total]})]}),(0,Jt.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2 text-purple-700 mb-1",children:[(0,Jt.jsx)(Zt,{className:"w-5 h-5"}),(0,Jt.jsx)("span",{className:"font-semibold",children:"Badges Earned"})]}),(0,Jt.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:x.badges})]}),(0,Jt.jsxs)("div",{className:"bg-indigo-50 rounded-lg p-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2 text-indigo-700 mb-1",children:[(0,Jt.jsx)(Jn,{className:"w-5 h-5"}),(0,Jt.jsx)("span",{className:"font-semibold",children:"Defender Level"})]}),(0,Jt.jsx)("p",{className:"text-2xl font-bold text-indigo-900",children:x.masteryLevel})]}),(0,Jt.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2 text-green-700 mb-1",children:[(0,Jt.jsx)(en,{className:"w-5 h-5"}),(0,Jt.jsx)("span",{className:"font-semibold",children:"Total XP"})]}),(0,Jt.jsxs)("p",{className:"text-2xl font-bold text-green-900",children:[x.xp,"/",x.maxXP]})]})]})]}),(0,Jt.jsxs)("div",{className:"mb-12",children:[(0,Jt.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Jt.jsx)(Ut,{className:"w-8 h-8 text-indigo-600 mr-3"}),(0,Jt.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"8-Lesson Curriculum"})]}),(0,Jt.jsx)("p",{className:"text-gray-700 mb-8 text-lg",children:"Each lesson equips you with powerful arguments and gracious responses to defend your faith. Click any lesson below to begin your journey as a Christian apologist."}),(0,Jt.jsx)("div",{className:"space-y-4",children:b.map(e=>{const t=o===e.lesson,n=c.includes(e.lesson),r=e.lesson>=1&&e.lesson<=8,i=e.lesson>1&&!c.includes(e.lesson-1);return(0,Jt.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border-2 transition-all ".concat(n?"border-green-400":i?"border-gray-300 opacity-60":"border-gray-200"),children:(0,Jt.jsx)("button",{onClick:()=>{i||(r?h(e.lesson):l(t?null:e.lesson))},disabled:i,className:"w-full p-6 transition ".concat(i?"cursor-not-allowed":"hover:bg-gray-50 cursor-pointer"),children:(0,Jt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Jt.jsx)("div",{className:"w-12 h-12 min-w-[3rem] rounded-full flex items-center justify-center text-xl font-bold flex-shrink-0 ".concat(n?"bg-green-100 text-green-700":i?"bg-gray-200 text-gray-400":"bg-blue-100 text-blue-700"),children:n?(0,Jt.jsx)($t,{className:"w-6 h-6"}):e.lesson}),(0,Jt.jsxs)("div",{className:"text-left",children:[(0,Jt.jsx)("h3",{className:"text-xl font-bold ".concat(i?"text-gray-400":"text-gray-800"),children:e.title}),(0,Jt.jsx)("p",{className:"".concat(i?"text-gray-400":"text-gray-600"),children:e.subtitle})]})]}),i?(0,Jt.jsx)("div",{className:"flex items-center justify-center",children:(0,Jt.jsx)(tn,{className:"w-6 h-6 text-gray-400 flex-shrink-0"})}):n?(0,Jt.jsx)("span",{className:"text-sm font-bold text-green-600 bg-green-100 px-4 py-2 rounded-full",children:"Complete"}):r?(0,Jt.jsx)("span",{className:"text-sm font-bold text-purple-600 bg-purple-100 px-4 py-2 rounded-full",children:"Start"}):t?(0,Jt.jsx)(nn,{className:"w-6 h-6"}):(0,Jt.jsx)(rn,{className:"w-6 h-6"})]})})},e.lesson)})})]})]})]})},rr=zt("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),ir=zt("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),sr=zt("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ar=zt("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),or=zt("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),lr=zt("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),cr=zt("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),dr=zt("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),ur=zt("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),hr=zt("flame",[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]]),mr=zt("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),pr=[{type:"quiz",objective:"Test your knowledge of major church splits",question:"What year did the Great Schism split Catholic and Orthodox churches?",options:["1054","1517","325","1204"],correctAnswer:0,explanation:"The East-West Schism formally occurred in 1054 when Cardinal Humbert excommunicated Patriarch Michael Cerularius.",xp:5,source:"church-timeline"},{type:"quiz",objective:"Recall key Reformation dates",question:"When did Martin Luther post the 95 Theses?",options:["1517","1521","1530","1054"],correctAnswer:0,explanation:"Luther posted his 95 Theses on October 31, 1517, initially targeting indulgence sales.",xp:5,source:"church-timeline"},{type:"quiz",objective:"Remember foundational church councils",question:"What year was the Council of Nicaea?",options:["325","381","451","1054"],correctAnswer:0,explanation:"The Council of Nicaea (325 AD) was the first ecumenical council, condemning Arianism.",xp:5,source:"church-timeline"},{type:"quiz",objective:"Test your church history timeline",question:"Which came first?",options:["Council of Nicaea (325)","Fall of Constantinople (1453)"],correctAnswer:0,explanation:"The Council of Nicaea occurred in 325 AD, over 1,100 years before Constantinople fell in 1453.",xp:5,source:"church-timeline"},{type:"quiz",objective:"Recall major East-West church events",question:"When did the Fourth Crusade sack Constantinople?",options:["1204","1054","1453","1517"],correctAnswer:0,explanation:"Crusaders brutally sacked Constantinople in 1204, traumatizing the Orthodox world and making reconciliation nearly impossible.",xp:5,source:"church-timeline"},{type:"quiz",objective:"Remember Luther's stand for truth",question:"What happened at the Diet of Worms in 1521?",options:["Luther refused to recant","Calvin published Institutes","Great Schism occurred","Council met"],correctAnswer:0,explanation:'Luther famously refused to recant at the Diet of Worms, saying "Here I stand, I can do no other."',xp:5,source:"church-timeline"},{type:"quiz",objective:"Know modern Catholic reforms",question:"When was Vatican II held?",options:["1962-65","1545-63","1870","2013"],correctAnswer:0,explanation:"Vatican II (1962-65) brought major reforms in liturgy, ecumenism, and religious liberty to the Catholic Church.",xp:5,source:"church-timeline"},{type:"truefalse",objective:"Understand the 1054 schism's complexity",statement:"The 1054 schism was almost accidental\u2014the Pope had died during negotiations, voiding his legates' authority.",answer:!0,explanation:"Pope Leo IX died April 19, 1054, technically voiding his legates' authority, but Cardinal Humbert excommunicated the Patriarch anyway.",xp:3,source:"church-timeline"},{type:"truefalse",objective:"Know what sparked the Reformation",statement:"The Council of Trent was the Catholic Counter-Reformation response to Protestantism.",answer:!0,explanation:"The Council of Trent (1545-63) systematically responded to Protestant challenges, affirming Catholic doctrine.",xp:3,source:"church-timeline"},{type:"truefalse",objective:"Recall the cost of faith in Soviet Russia",statement:"Over 100,000 Orthodox priests and believers were martyred during the Russian Revolution.",answer:!0,explanation:"The Bolsheviks closed 98% of churches and executed clergy. An estimated 100,000+ were martyred between 1917-1991.",xp:3,source:"church-timeline"},{type:"trivia",objective:"Learn about modern Catholic leadership",fact:"Pope Francis, elected in 2013, is the first Jesuit pope and the first from Latin America.",cta:"Explore Church Timeline \u2192",xp:2,source:"church-timeline"},{type:"trivia",objective:"Discover key medieval church councils",fact:"The Fourth Lateran Council (1215) formally defined the seven sacraments and transubstantiation.",cta:"Explore Church Timeline \u2192",xp:2,source:"church-timeline"},{type:"trivia",objective:"Learn about Orthodox Christianity's spread",fact:"Prince Vladimir of Kiev converted in 988, bringing Orthodox Christianity to Russia and making it integral to Russian identity.",cta:"Explore Church Timeline \u2192",xp:2,source:"church-timeline"},{type:"trivia",objective:"Understand the Reformation settlement",fact:'The Peace of Augsburg (1555) established "cuius regio, eius religio"\u2014rulers determine their territories\' religion.',cta:"Explore Church Timeline \u2192",xp:2,source:"church-timeline"},{type:"quiz",objective:"Test your knowledge of Catholic sacraments",question:"Which denomination believes in seven sacraments?",options:["Catholic","Lutheran","Baptist","Methodist"],correctAnswer:0,explanation:"Catholics recognize seven sacraments, defined at the Fourth Lateran Council (1215).",xp:5,source:"denomination-facts"},{type:"quiz",objective:"Understand Orthodox theology of salvation",question:'Which tradition emphasizes "theosis" (becoming one with God)?',options:["Orthodox","Lutheran","Baptist","Methodist"],correctAnswer:0,explanation:"Eastern Orthodox theology emphasizes theosis (deification) as the goal of salvation.",xp:5,source:"denomination-facts"},{type:"quiz",objective:"Learn about Reformed theology",question:'Which denomination believes in "unconditional election"?',options:["Reformed/Presbyterian","Lutheran","Anglican","Methodist"],correctAnswer:0,explanation:"Reformed theology emphasizes TULIP, including unconditional election and predestination.",xp:5,source:"denomination-facts"},{type:"quiz",objective:"Recall key Reformation principles",question:'What does "sola scriptura" mean?',options:["Scripture alone","Faith alone","Grace alone","Christ alone"],correctAnswer:0,explanation:"Sola scriptura (Scripture alone) was a key Reformation principle\u2014the Bible as sole authority.",xp:5,source:"denomination-facts"},{type:"truefalse",objective:"Understand Lutheran sacramental theology",statement:'Lutherans believe in the "Real Presence"\u2014Christ\'s body and blood "in, with, and under" bread and wine.',answer:!0,explanation:"Unlike symbolic views, Lutherans affirm Real Presence while rejecting transubstantiation.",xp:3,source:"denomination-facts"},{type:"truefalse",objective:"Know the East-West theological divide",statement:"The Orthodox Church accepts the filioque clause in the Nicene Creed.",answer:!1,explanation:'Orthodox reject the filioque ("and the Son"), viewing it as an unauthorized Western addition.',xp:3,source:"denomination-facts"}],fr=[{type:"quiz",objective:"Recall how oral tradition worked",question:"Why was oral tradition considered reliable in ancient cultures?",options:["They had better memories than modern people","Communities verified accuracy through communal recitation","There were laws requiring accuracy","It wasn't reliable"],correctAnswer:1,explanation:"Ancient oral cultures trained storytellers and used communal verification to preserve accuracy.",xp:5,requiredLesson:{path:"bible",lesson:1}},{type:"fillblank",objective:"Remember the role of ancient copyists",prompt:"Ancient ________ were professional copyists who preserved Scripture.",answer:"scribes",explanation:"Scribes meticulously copied manuscripts, though minor variations occurred over centuries.",xp:5,requiredLesson:{path:"bible",lesson:1}},{type:"truefalse",objective:"Know the strength of biblical manuscripts",statement:"We have more biblical manuscripts than any other ancient document.",answer:!0,explanation:"With 5,800+ Greek NT manuscripts plus thousands more in other languages, biblical manuscript evidence far exceeds other ancient texts.",xp:3,requiredLesson:{path:"bible",lesson:1}},{type:"quiz",objective:"Recall the Dead Sea Scrolls discovery",question:"What was significant about the Dead Sea Scrolls discovery?",options:["They contained lost books of the Bible","They disproved Christianity","They confirmed 99% textual accuracy of OT manuscripts","They were the oldest Christian documents"],correctAnswer:2,explanation:"The Dead Sea Scrolls (discovered 1947) confirmed that OT text was preserved with 99% accuracy.",xp:5,requiredLesson:{path:"bible",lesson:2}},{type:"fillblank",objective:"Remember the textual evidence discovery",prompt:"The ________ Scrolls confirmed 99% biblical textual accuracy.",answer:"Dead Sea",explanation:"Discovered in 1947, they showed remarkable preservation of Hebrew Scripture over 1,000+ years.",xp:5,requiredLesson:{path:"bible",lesson:2}},{type:"quiz",objective:"Learn about the Greek Old Testament",question:"What was significant about the Septuagint?",options:["It was the first English Bible","It was the Greek translation of Hebrew Scripture","It added books to the Bible","It was written by Jesus' disciples"],correctAnswer:1,explanation:"The Septuagint (LXX) was the Greek translation of Hebrew Scripture, made around 250 BC for Greek-speaking Jews.",xp:5,requiredLesson:{path:"bible",lesson:3}},{type:"fillblank",objective:"Recall Jerome's Latin translation",prompt:"Jerome's Latin translation of the Bible is called the ________.",answer:"Vulgate",explanation:"The Latin Vulgate became the standard Bible for Western Christianity for over 1,000 years.",xp:5,requiredLesson:{path:"bible",lesson:3}},{type:"quiz",objective:"Understand early English Bible translation",question:"What was illegal about Wycliffe's Bible?",options:["It contradicted church teaching","It was translated into English without church approval","It added extra books","It was printed on a press"],correctAnswer:1,explanation:"Wycliffe's unauthorized English translation challenged church control of Scripture access.",xp:5,requiredLesson:{path:"bible",lesson:4}},{type:"fillblank",objective:"Remember the most influential English Bible",prompt:"The ________ James Version became the most influential English Bible.",answer:"King",explanation:"The KJV (1611) dominated English-speaking Christianity for centuries.",xp:5,requiredLesson:{path:"bible",lesson:4}},{type:"quiz",objective:"Learn about the Deuterocanonical books",question:"What are the Deuterocanonical books?",options:["Books lost from the Bible","Books accepted by Catholics but not by Protestants","The New Testament","Books written by the apostles"],correctAnswer:1,explanation:"Catholics include these books (Tobit, Judith, Maccabees, etc.) while Protestants consider them Apocrypha.",xp:5,requiredLesson:{path:"bible",lesson:5}},{type:"fillblank",objective:"Recall Protestant vs Catholic canon differences",prompt:"The Protestant Old Testament is based on the ________ canon.",answer:"Hebrew",explanation:"Protestants follow the Hebrew canon (39 books), while Catholics include the Deuterocanonical books.",xp:5,requiredLesson:{path:"bible",lesson:5}},{type:"quiz",objective:"Understand why Gnostic gospels were rejected",question:"Why were the Nag Hammadi gospels (like Gospel of Thomas) rejected?",options:["They were too short","They were written centuries later with Gnostic theology","They were in the wrong language","They contradicted each other"],correctAnswer:1,explanation:"The Nag Hammadi texts were 2nd-3rd century Gnostic writings, not apostolic testimony.",xp:5,requiredLesson:{path:"bible",lesson:6}},{type:"quiz",objective:"Know the criteria for biblical canon",question:"What criteria did the early church use to determine which books were canonical?",options:["Popularity vote","Emperor's decree","Apostolic authorship, widespread acceptance, and theological consistency","Length and literary quality"],correctAnswer:2,explanation:"The canon formed through apostolic authorship, universal church acceptance, and alignment with apostolic teaching.",xp:5,requiredLesson:{path:"bible",lesson:6}},{type:"quiz",objective:"Recall the church's birth event",question:"What event marked the birth of the Christian church?",options:["Jesus' baptism","Pentecost","Jesus' crucifixion","Paul's conversion"],correctAnswer:1,explanation:"Pentecost (Acts 2) marked the Holy Spirit's coming and the church's public birth.",xp:5,requiredLesson:{path:"church",lesson:1}},{type:"quiz",objective:"Know the apostle to the Gentiles",question:'Who was known as the "apostle to the Gentiles"?',options:["Peter","Paul","John","James"],correctAnswer:1,explanation:"Paul's missionary journeys established churches throughout the Roman Empire among non-Jews.",xp:5,requiredLesson:{path:"church",lesson:1}},{type:"quiz",objective:"Understand the Great Schism's cause",question:"What was the primary cause of the East-West Schism?",options:["Disagreement over papal authority and the filioque","Crusades","Language differences","Emperor Constantine"],correctAnswer:0,explanation:"The schism centered on papal supremacy claims and the Western addition of filioque to the Creed.",xp:5,requiredLesson:{path:"church",lesson:2}},{type:"truefalse",objective:"Know the schism was gradual, not sudden",statement:"The Orthodox and Catholic churches split was gradual, not sudden.",answer:!0,explanation:"The 1054 event formalized centuries of cultural, linguistic, and theological drift between East and West.",xp:3,requiredLesson:{path:"church",lesson:2}},{type:"quiz",objective:"Recall what sparked the Reformation",question:"What were Luther's 95 Theses primarily about?",options:["Bible translation","Indulgences","Predestination","Church architecture"],correctAnswer:1,explanation:"Luther targeted the sale of indulgences, which promised reduction of purgatory time for payment.",xp:5,requiredLesson:{path:"church",lesson:3}},{type:"truefalse",objective:"Know how Reformation ideas spread fast",statement:"The printing press helped spread Reformation ideas rapidly.",answer:!0,explanation:"The printing press enabled Luther's writings to spread across Europe in weeks instead of years.",xp:3,requiredLesson:{path:"church",lesson:3}},{type:"fillblank",objective:"Recall the Kalam argument's first premise",prompt:"Whatever ________ to exist has a cause.",answer:"begins",explanation:'The Kalam Cosmological Argument\'s first premise: "Whatever begins to exist has a cause."',xp:5,requiredLesson:{path:"apologetics",lesson:1}},{type:"quiz",objective:"Master the Kalam Cosmological Argument",question:"What are the three premises of the Kalam Cosmological Argument?",options:["Everything has a cause; God is eternal; therefore God exists","The universe is fine-tuned; design requires a designer; therefore God exists","Whatever begins has a cause; the universe began; therefore the universe has a cause","Morality exists; morality requires God; therefore God exists"],correctAnswer:2,explanation:"Kalam: (1) Whatever begins to exist has a cause, (2) The universe began to exist, (3) Therefore, the universe has a cause.",xp:5,requiredLesson:{path:"apologetics",lesson:1}},{type:"quiz",objective:"Understand the free will defense",question:"According to the free will defense, why does God allow evil?",options:["God doesn't care about evil","Love must be freely chosen; freedom entails the possibility of evil","Evil is an illusion","Evil will be eliminated eventually"],correctAnswer:1,explanation:"The free will defense argues that genuine love requires freedom, which makes evil possible.",xp:5,requiredLesson:{path:"apologetics",lesson:2}},{type:"quiz",objective:"Know the minimal facts about resurrection",question:"Which is NOT a minimal fact about Jesus' resurrection?",options:["Jesus died by crucifixion","The tomb was found empty","Guards saw angels at the tomb","The disciples believed they saw the risen Jesus"],correctAnswer:2,explanation:"Guards seeing angels isn't part of the cross-skeptic scholarly consensus on minimal facts.",xp:5,requiredLesson:{path:"apologetics",lesson:3}},{type:"fillblank",objective:"Recall Paul's teaching on resurrection",prompt:"If Christ has not been raised, your faith is ________ (1 Cor 15:14).",answer:"futile",explanation:"Paul grounds Christianity in the historical event of the resurrection\u2014no resurrection, no Christianity.",xp:5,requiredLesson:{path:"apologetics",lesson:3}},{type:"quiz",objective:"Understand the fine-tuning argument",question:"What is the fine-tuning argument?",options:["The universe is beautiful","Physical constants are precisely calibrated for life","Evolution explains design","The Bible predicted scientific discoveries"],correctAnswer:1,explanation:"The fine-tuning argument notes that cosmic constants are incredibly precise\u2014suggesting intentional design.",xp:5,requiredLesson:{path:"apologetics",lesson:4}},{type:"quiz",objective:"Know the strength of NT manuscript evidence",question:"How many Greek New Testament manuscripts exist?",options:["About 500","About 2,000","About 5,800","About 10,000"],correctAnswer:2,explanation:"We have approximately 5,800 Greek NT manuscripts, plus thousands more in other languages.",xp:5,requiredLesson:{path:"apologetics",lesson:5}},{type:"quiz",objective:"Understand moral relativism's claims",question:"What does moral relativism claim?",options:["Morality is objective and universal","Morality is just personal or cultural preference","Morality comes from God","Morality doesn't exist"],correctAnswer:1,explanation:'Moral relativism says morality is preference\u2014but this collapses under scrutiny (e.g., "Is rape just preference?").',xp:5,requiredLesson:{path:"apologetics",lesson:6}},{type:"quiz",objective:"Recall C.S. Lewis's trilemma",question:'What was C.S. Lewis\'s "Liar, Lunatic, or Lord" trilemma?',options:["Jesus must be either a liar, lunatic, or Lord\u2014not just a good teacher","Christianity is one of three valid religions","There are three paths to salvation","The Trinity has three persons"],correctAnswer:0,explanation:"Lewis argued Jesus' claims force a decision: He's either who He claimed (Lord), deluded (lunatic), or deceptive (liar).",xp:5,requiredLesson:{path:"apologetics",lesson:7}},{type:"quiz",objective:"Remember the biblical basis for apologetics",question:"What does 1 Peter 3:15 say about defending your faith?",options:["Never answer critics","Always be ready to give a reason for your hope, with gentleness and respect","Use force if necessary","Avoid unbelievers"],correctAnswer:1,explanation:'1 Peter 3:15: "Always be prepared to give an answer...with gentleness and respect"\u2014the biblical basis for apologetics.',xp:5,requiredLesson:{path:"apologetics",lesson:8}}],gr=t=>{let{onNavigate:n,currentUser:r,onProgressUpdate:i,userProgress:s}=t;const[a,o]=(0,e.useState)(null),[l,c]=(0,e.useState)(null),[d,u]=(0,e.useState)(""),[h,m]=(0,e.useState)(!1),[p,f]=(0,e.useState)(!1),[g,y]=(0,e.useState)(!1),[b,x]=(0,e.useState)(0);(0,e.useEffect)(()=>{v(),N()},[s]);const v=()=>{var e,t,n,r,i,a,l,c;const d=new Date,u=d.getFullYear(),h=String(d.getMonth()+1).padStart(2,"0"),m=String(d.getDate()).padStart(2,"0"),p="".concat(u,"-").concat(h,"-").concat(m);if(null!==s&&void 0!==s&&null!==(e=s.dailyChallenges)&&void 0!==e&&null!==(t=e.completedDates)&&void 0!==t&&t.includes(p))return void y(!0);const f=(null===s||void 0===s||null===(n=s.courses)||void 0===n||null===(r=n.bible)||void 0===r?void 0:r.completedLessons)||[],g=(null===s||void 0===s||null===(i=s.courses)||void 0===i||null===(a=i.church)||void 0===a?void 0:a.completedLessons)||[],b=(null===s||void 0===s||null===(l=s.courses)||void 0===l||null===(c=l.apologetics)||void 0===c?void 0:c.completedLessons)||[],x=fr.filter(e=>{const{path:t,lesson:n}=e.requiredLesson;return"bible"===t?f.includes(n):"church"===t?g.includes(n):"apologetics"===t&&b.includes(n)}),v=[...pr,...x];if(0===v.length)return void o(w(pr));const N=Math.floor((Date.now()-new Date((new Date).getFullYear(),0,0))/864e5);o(v[N%v.length])},w=e=>e[Math.floor(Math.random()*e.length)],N=()=>{null!==s&&void 0!==s&&s.dailyChallenges&&x(s.dailyChallenges.streak||0)},k=async e=>{const t=r||bn();if(t){const n=(new Date).toISOString().split("T")[0],r=await(0,On.S6)(t.uid,n,e);r.success?(console.log("\u2705 Daily challenge XP awarded to Firestore:",e),i&&await i()):console.error("\u274c Failed to award daily challenge XP:",r.error)}else console.warn("\u26a0\ufe0f User not authenticated - daily challenge cannot be saved")},j=()=>{null!==s&&void 0!==s&&s.dailyChallenges&&x(s.dailyChallenges.streak||0),y(!0)};return g?(0,Jt.jsxs)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl p-6 text-white",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jt.jsx)(Zt,{className:"w-6 h-6"}),(0,Jt.jsx)("span",{className:"font-bold text-lg",children:"Daily Challenge Complete! \u2713"})]}),b>0&&(0,Jt.jsxs)("div",{className:"flex items-center gap-2 bg-white/20 px-3 py-1.5 rounded-full",children:[(0,Jt.jsx)(hr,{className:"w-5 h-5 fill-white"}),(0,Jt.jsxs)("span",{className:"font-bold",children:[b," day",1!==b?"s":""]})]})]}),(0,Jt.jsx)("p",{className:"text-white/90",children:"Great job! Come back tomorrow for a new challenge."})]}):a?(0,Jt.jsxs)("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl p-6 text-white shadow-lg",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jt.jsx)(mr,{className:"w-6 h-6"}),(0,Jt.jsx)("span",{className:"font-bold text-lg",children:"Today's Quick Win"})]}),(0,Jt.jsxs)("div",{className:"flex items-center gap-3",children:[b>0&&(0,Jt.jsxs)("div",{className:"flex items-center gap-1.5 bg-white/20 px-3 py-1 rounded-full",children:[(0,Jt.jsx)(hr,{className:"w-4 h-4 fill-white"}),(0,Jt.jsx)("span",{className:"font-bold text-sm",children:b})]}),(0,Jt.jsxs)("div",{className:"flex items-center gap-2 bg-white/20 px-3 py-1 rounded-full",children:[(0,Jt.jsx)(en,{className:"w-4 h-4 fill-white"}),(0,Jt.jsxs)("span",{className:"font-bold text-sm",children:["+",a.xp," XP"]})]})]})]}),a.objective&&(0,Jt.jsxs)("div",{className:"mb-3 text-white/90 text-sm",children:["\ud83c\udfaf ",(0,Jt.jsx)("span",{className:"font-medium",children:a.objective})]}),"quiz"===a.type&&(0,Jt.jsxs)(Jt.Fragment,{children:[(0,Jt.jsx)("p",{className:"text-white font-semibold mb-4",children:a.question}),(0,Jt.jsx)("div",{className:"grid grid-cols-1 gap-2 mb-4",children:a.options.map((e,t)=>(0,Jt.jsx)("button",{onClick:()=>!h&&c(t),disabled:h,className:"text-left px-4 py-3 rounded-xl font-medium transition ".concat(h?t===a.correctAnswer?"bg-green-600 text-white border-2 border-green-400":t!==l||p?"bg-white/20 text-white/60":"bg-red-600 text-white border-2 border-red-400":l===t?"bg-white text-amber-700 border-2 border-white":"bg-white/30 text-white hover:bg-white/40 border-2 border-transparent"),children:e},t))})]}),"truefalse"===a.type&&(0,Jt.jsxs)(Jt.Fragment,{children:[(0,Jt.jsx)("p",{className:"text-white font-semibold mb-4",children:a.statement}),(0,Jt.jsx)("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[!0,!1].map(e=>(0,Jt.jsx)("button",{onClick:()=>!h&&c(e),disabled:h,className:"px-4 py-3 rounded-xl font-bold transition ".concat(h?e===a.answer?"bg-green-600 text-white border-2 border-green-400":e!==l||p?"bg-white/20 text-white/60":"bg-red-600 text-white border-2 border-red-400":l===e?"bg-white text-amber-700 border-2 border-white":"bg-white/30 text-white hover:bg-white/40 border-2 border-transparent"),children:e?"TRUE":"FALSE"},e.toString()))})]}),"fillblank"===a.type&&(0,Jt.jsxs)(Jt.Fragment,{children:[(0,Jt.jsx)("p",{className:"text-white font-semibold mb-4",children:a.prompt}),(0,Jt.jsx)("input",{type:"text",value:d,onChange:e=>!h&&u(e.target.value),disabled:h,placeholder:"Type your answer...",className:"w-full px-4 py-3 rounded-xl text-gray-900 font-medium mb-4 focus:outline-none focus:ring-2 focus:ring-white"})]}),"trivia"===a.type&&(0,Jt.jsxs)(Jt.Fragment,{children:[(0,Jt.jsx)("p",{className:"text-white font-semibold mb-3",children:"\ud83d\udca1 Did you know?"}),(0,Jt.jsx)("p",{className:"text-white/95 mb-4",children:a.fact})]}),h&&(0,Jt.jsxs)("div",{className:"mb-4 p-4 rounded-xl ".concat(p?"bg-green-600/30 border-2 border-green-400":"bg-red-600/30 border-2 border-red-400"),children:[(0,Jt.jsx)("div",{className:"flex items-center gap-2 mb-2",children:p?(0,Jt.jsxs)(Jt.Fragment,{children:[(0,Jt.jsx)($t,{className:"w-5 h-5"}),(0,Jt.jsxs)("span",{className:"font-bold",children:["Correct! +",a.xp," XP"]})]}):(0,Jt.jsxs)(Jt.Fragment,{children:[(0,Jt.jsx)(sn,{className:"w-5 h-5"}),(0,Jt.jsx)("span",{className:"font-bold",children:"Not quite!"})]})}),(0,Jt.jsx)("p",{className:"text-white/90 text-sm",children:a.explanation})]}),h?(0,Jt.jsxs)("div",{className:"flex flex-col gap-2",children:[!p&&"trivia"!==a.type&&(0,Jt.jsx)("button",{onClick:()=>{c(null),u(""),m(!1),f(!1)},className:"w-full px-6 py-3 bg-white/30 text-white rounded-xl font-bold hover:bg-white/40 transition",children:"Try Again"}),p&&a.requiredLesson&&(0,Jt.jsxs)("button",{onClick:()=>{const e=a.requiredLesson.path;"bible"===e?n("bible"):"church"===e?n("church"):"apologetics"===e&&n("apologetics")},className:"w-full px-6 py-3 bg-white text-amber-700 rounded-xl font-bold hover:bg-amber-50 transition",children:["\ud83d\udcda Review Lesson ",a.requiredLesson.lesson]}),a.cta&&(0,Jt.jsx)("button",{onClick:()=>n("explorer"),className:"w-full px-6 py-3 bg-white text-amber-700 rounded-xl font-bold hover:bg-amber-50 transition",children:a.cta})]}):(0,Jt.jsx)("button",{onClick:()=>{if("quiz"===a.type){const e=l===a.correctAnswer;f(e),m(!0),e&&(k(a.xp),j())}else if("fillblank"===a.type){const e=d.trim().toLowerCase()===a.answer.toLowerCase();f(e),m(!0),e&&(k(a.xp),j())}else if("truefalse"===a.type){const e=l===a.answer;f(e),m(!0),e&&(k(a.xp),j())}else"trivia"===a.type&&(k(a.xp),j(),m(!0),f(!0))},disabled:"quiz"===a.type&&null===l||"truefalse"===a.type&&null===l||"fillblank"===a.type&&!d.trim(),className:"w-full px-6 py-3 rounded-xl font-bold transition ".concat(("quiz"===a.type||"truefalse"===a.type)&&null!==l||"fillblank"===a.type&&d.trim()||"trivia"===a.type?"bg-white text-amber-700 hover:bg-amber-50 shadow-lg":"bg-white/30 text-white/60 cursor-not-allowed"),children:"trivia"===a.type?"Got it! \ud83d\udc4d":"Submit Answer"}),(0,Jt.jsxs)("p",{className:"text-center text-white/60 text-xs mt-3",children:["church-timeline"===a.source&&"\ud83d\udcdc From Church Timeline","denomination-facts"===a.source&&"\u26ea From Denominations",a.requiredLesson&&"\ud83d\udcda From ".concat("bible"===a.requiredLesson.path?"Bible":"church"===a.requiredLesson.path?"Church":"Apologetics"," History Lesson ").concat(a.requiredLesson.lesson)]})]}):(0,Jt.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl p-6 text-white",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Jt.jsx)(mr,{className:"w-6 h-6"}),(0,Jt.jsx)("span",{className:"font-bold text-lg",children:"Daily Challenge"})]}),(0,Jt.jsx)("p",{className:"text-white/90 mb-3",children:"Complete lessons to unlock daily challenges! Start with a learning path below."})]})},yr=t=>{let{paths:n,onNavigate:r,firstTime:i,startingPoint:s}=t;const[a,o]=(0,e.useState)(!1),l=a?n:n.slice(0,3),c=n.length-3;return(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow p-6 mb-6",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Jt.jsxs)("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[(0,Jt.jsx)(Wt,{className:"w-5 h-5 text-blue-600"}),"Curated Learning Paths"]}),c>0&&!a&&(0,Jt.jsxs)("button",{onClick:()=>o(!0),className:"text-sm font-semibold text-blue-600 hover:text-blue-700 transition",children:[c," more \u2192"]}),a&&n.length>3&&(0,Jt.jsx)("button",{onClick:()=>o(!1),className:"text-sm font-semibold text-slate-600 hover:text-slate-700 transition",children:"Show less \u2191"})]}),(0,Jt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:l.map(e=>(0,Jt.jsx)(vr,{title:e.title,color:e.color,completed:e.completed,total:e.total,onClick:()=>r(e.route),recommended:i&&s===e.id},e.id))}),0===l.length&&(0,Jt.jsx)("div",{className:"text-center py-8 text-slate-500",children:(0,Jt.jsx)("p",{className:"text-sm",children:"\ud83c\udf89 All curated paths completed! Great work!"})})]})},br=t=>{let{paths:n,onNavigate:r}=t;const[i,s]=(0,e.useState)(!1),a=i?n:n.slice(0,3),o=n.length-3;return(0,Jt.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-2xl border-2 border-emerald-200 shadow p-6 mb-6",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Jt.jsxs)("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[(0,Jt.jsx)(cr,{className:"w-5 h-5 text-emerald-600"}),"AI Learning Paths"]}),o>0&&!i&&(0,Jt.jsxs)("button",{onClick:()=>s(!0),className:"text-sm font-semibold text-emerald-600 hover:text-emerald-700 transition",children:[o," more \u2192"]}),i&&n.length>3&&(0,Jt.jsx)("button",{onClick:()=>s(!1),className:"text-sm font-semibold text-slate-600 hover:text-slate-700 transition",children:"Show less \u2191"})]}),(0,Jt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:a.map(e=>(0,Jt.jsx)(xr,{title:e.title,completed:e.completed,total:e.total,onClick:()=>r("ai-path/".concat(e.id))},e.id))}),0===n.length&&(0,Jt.jsxs)("div",{className:"text-center py-8",children:[(0,Jt.jsx)("p",{className:"text-sm text-slate-600 mb-3",children:"No AI paths created yet"}),(0,Jt.jsx)("button",{onClick:()=>r("ai-paths"),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2 rounded-xl font-semibold shadow-sm transition",children:"Create Your First AI Path"})]})]})},xr=e=>{let{title:t,completed:n,total:r,onClick:i}=e;const s=r>0?Math.round(n/r*100):0;return(0,Jt.jsxs)("button",{onClick:i,className:"text-left bg-white rounded-xl border-2 border-emerald-200 p-5 hover:shadow-lg hover:border-emerald-300 transition",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Jt.jsxs)("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[(0,Jt.jsx)(cr,{className:"w-4 h-4 text-emerald-600"}),t]}),(0,Jt.jsx)("span",{className:"text-sm font-bold text-slate-700",children:r>0?"".concat(s,"%"):"New"})]}),(0,Jt.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2",children:(0,Jt.jsx)("div",{className:"h-2 rounded-full bg-gradient-to-r from-emerald-500 to-teal-500",style:{width:"".concat(s,"%")}})}),(0,Jt.jsxs)("p",{className:"mt-2 text-sm text-slate-600",children:[n,"/",r," lessons"]})]})},vr=e=>{let{title:t,color:n,completed:r,total:i,onClick:s,recommended:a}=e;const o=i?Math.round(r/i*100):0;return(0,Jt.jsxs)("button",{onClick:s,className:"text-left bg-white rounded-xl border-2 p-5 hover:shadow transition ".concat(a?"border-blue-400 ring-2 ring-blue-200":"border-slate-200"),children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Jt.jsxs)("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[t,a&&(0,Jt.jsx)("span",{className:"text-xs font-bold text-blue-700 bg-blue-100 px-2 py-1 rounded-full",children:"Recommended"})]}),(0,Jt.jsx)("span",{className:"text-sm font-bold text-slate-700",children:i>0?"".concat(o,"%"):"New"})]}),(0,Jt.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2",children:(0,Jt.jsx)("div",{className:"h-2 rounded-full bg-gradient-to-r ".concat({blue:"from-blue-500 to-indigo-500",amber:"from-amber-500 to-orange-500",indigo:"from-indigo-500 to-purple-500"}[n]),style:{width:"".concat(o,"%")}})}),(0,Jt.jsxs)("p",{className:"mt-2 text-sm text-slate-600",children:[r,"/",i," lessons"]})]})},wr=t=>{let{onNavigate:n,onStartOnboarding:r,userProgress:i,onShowAuth:s,currentUser:a,onProgressUpdate:o}=t;const l=(0,e.useMemo)(()=>!i||!i.totalXP||0===i.totalXP,[i]),[c,d]=(0,e.useState)(""),u=!!c,h=(0,e.useMemo)(()=>{var e,t,n,r,s,a,o,l,c;if(!i)return{percentage:0,paths:{bible:{completedCount:0,total:8},church:{completedCount:0,total:8},apologetics:{completedCount:0,total:8}}};const d=(null===(e=i.courses)||void 0===e||null===(t=e.bible)||void 0===t||null===(n=t.completedLessons)||void 0===n?void 0:n.length)||0,u=(null===(r=i.courses)||void 0===r||null===(s=r.church)||void 0===s||null===(a=s.completedLessons)||void 0===a?void 0:a.length)||0,h=(null===(o=i.courses)||void 0===o||null===(l=o.apologetics)||void 0===l||null===(c=l.completedLessons)||void 0===c?void 0:c.length)||0,m=d+u+h;return{percentage:Math.round(m/24*100),paths:{bible:{completedCount:d,total:8},church:{completedCount:u,total:8},apologetics:{completedCount:h,total:8}}}},[i]),m=(0,e.useMemo)(()=>{var e,t,n,r,s,a,o,l,c;if(!i)return{pathId:"bible",nextLesson:1};const d=(null===(e=i.courses)||void 0===e||null===(t=e.bible)||void 0===t||null===(n=t.completedLessons)||void 0===n?void 0:n.length)||0,u=(null===(r=i.courses)||void 0===r||null===(s=r.church)||void 0===s||null===(a=s.completedLessons)||void 0===a?void 0:a.length)||0,h=(null===(o=i.courses)||void 0===o||null===(l=o.apologetics)||void 0===l||null===(c=l.completedLessons)||void 0===c?void 0:c.length)||0;return d>0&&d<8?{pathId:"bible",nextLesson:d+1}:u>0&&u<8?{pathId:"church",nextLesson:u+1}:h>0&&h<8?{pathId:"apologetics",nextLesson:h+1}:d<8?{pathId:"bible",nextLesson:d+1}:u<8?{pathId:"church",nextLesson:u+1}:h<8?{pathId:"apologetics",nextLesson:h+1}:{pathId:"bible",nextLesson:1}},[i]),p=e=>{const t={bible:{title:"Bible History",view:"bible-history"},church:{title:"Church History",view:"study-guide"},apologetics:{title:"Apologetics",view:"apologetics"}};return t[e]||t.bible},f=p(m.pathId);(0,e.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),(0,e.useEffect)(()=>{o&&a&&o()},[o,a]);const g=()=>i&&i.totalXP||0,y=e=>{const t=e.filter(e=>!e.isCompleted),n=e.filter(e=>e.isCompleted),r=t.sort((e,t)=>{const n=e.completed>0,r=t.completed>0;if(n&&!r)return-1;if(!n&&r)return 1;const i=e.total>0?e.completed/e.total:0;return(t.total>0?t.completed/t.total:0)-i});if(r.length<3){const e=3-r.length,t=n.slice(0,e);return[...r,...t]}return r},b=()=>null!==i&&void 0!==i&&i.dailyChallenges&&i.dailyChallenges.streak||0;return(0,Jt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100",children:[(0,Jt.jsxs)("div",{className:"relative overflow-hidden text-white py-12 px-4",children:[(0,Jt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-700 animate-gradient-shift"}),(0,Jt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tl from-indigo-500 via-blue-500 to-purple-700 opacity-60 animate-gradient-shift-reverse"}),(0,Jt.jsx)("div",{className:"relative max-w-5xl mx-auto z-10",children:l?(0,Jt.jsxs)(Jt.Fragment,{children:[(0,Jt.jsx)("div",{className:"flex items-center gap-3 mb-4",children:(0,Jt.jsx)("div",{className:"bg-white/20 backdrop-blur rounded-full px-4 py-2 border border-white/30",children:(0,Jt.jsx)("span",{className:"text-sm font-semibold",children:"\u2728 New here?"})})}),(0,Jt.jsx)("h1",{className:"text-3xl md:text-4xl font-black mb-3",children:"Let's build your learning path"}),(0,Jt.jsx)("p",{className:"text-base md:text-lg text-blue-100 max-w-3xl",children:"Choose a topic that interests you, and we'll guide you through it step by step."}),(0,Jt.jsx)("div",{className:"mt-6 grid md:grid-cols-1 gap-4",children:(0,Jt.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-2xl p-5 border border-white/20",children:[(0,Jt.jsx)("h2",{className:"font-bold mb-4 text-lg",children:"\ud83c\udfaf What interests you most?"}),(0,Jt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[(0,Jt.jsx)(Nr,{label:"\ud83d\udcd6 Bible",active:"bible"===c,onClick:()=>d("bible")}),(0,Jt.jsx)(Nr,{label:"\u26ea Church History",active:"church"===c,onClick:()=>d("church")}),(0,Jt.jsx)(Nr,{label:"\ud83d\udca1 Apologetics",active:"apologetics"===c,onClick:()=>d("apologetics")})]})]})}),(0,Jt.jsx)("div",{className:"mt-6 flex flex-wrap gap-3",children:(0,Jt.jsxs)("button",{disabled:!u,onClick:()=>{if(!u)return;const e=p(c||"bible").view;n(e)},className:"flex items-center gap-2 px-6 py-3 rounded-xl font-bold shadow transition-all ".concat(u?"bg-white text-blue-700 hover:shadow-md hover:scale-105":"bg-white/30 text-white/60 cursor-not-allowed"),children:[(0,Jt.jsx)(cr,{className:"w-5 h-5"})," ",u?"Start My Journey":"Choose a topic to begin"]})})]}):(0,Jt.jsxs)(Jt.Fragment,{children:[(0,Jt.jsx)("h1",{className:"text-3xl md:text-4xl font-black mb-3",children:(()=>{const e=(new Date).getHours(),t=null!==a&&void 0!==a&&a.displayName?a.displayName.split(" ")[0]:"";return e<12?"Good morning".concat(t?", ".concat(t):""):e<17?"Good afternoon".concat(t?", ".concat(t):""):"Good evening".concat(t?", ".concat(t):"")})()}),(0,Jt.jsx)("p",{className:"text-base md:text-lg text-blue-100 max-w-3xl",children:"Ready to continue your journey? Pick up where you left off or explore something new."}),(0,Jt.jsx)("div",{className:"mt-6 flex flex-wrap gap-3",children:(0,Jt.jsxs)("button",{onClick:()=>n(p(m.pathId).view),className:"flex items-center gap-2 bg-white text-blue-700 px-6 py-3 rounded-xl font-bold shadow hover:shadow-md transition-all hover:scale-105",children:[(0,Jt.jsx)(dr,{className:"w-5 h-5"})," Continue Learning \u2022 ",f.title," L",m.nextLesson]})})]})})]}),!i&&(0,Jt.jsx)("div",{className:"max-w-5xl mx-auto px-4 py-6",children:(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-2xl p-6 shadow-sm",children:(0,Jt.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jt.jsx)("div",{className:"bg-blue-100 rounded-full p-3",children:(0,Jt.jsx)(ur,{className:"w-6 h-6 text-blue-600"})}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h3",{className:"font-bold text-slate-800",children:"Sign up to track your progress"}),(0,Jt.jsx)("p",{className:"text-sm text-slate-600",children:"Create a free account to earn XP, save your progress, and compete on the leaderboard!"})]})]}),(0,Jt.jsx)("button",{onClick:s,className:"whitespace-nowrap bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-bold shadow-sm transition",children:"Sign Up Free"})]})})}),(0,Jt.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-10",children:[!l&&i&&(0,Jt.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[b()>0&&(0,Jt.jsxs)("div",{className:"bg-orange-500/10 backdrop-blur rounded-full px-5 py-2.5 border-2 border-orange-400/30 flex items-center gap-2 shadow-sm",children:[(0,Jt.jsx)(hr,{className:"w-5 h-5 fill-orange-500 text-orange-600"}),(0,Jt.jsxs)("span",{className:"text-sm font-bold text-orange-700",children:[b()," day streak"]})]}),g()>0&&(0,Jt.jsxs)("div",{className:"bg-amber-500/10 backdrop-blur rounded-full px-5 py-2.5 border-2 border-amber-400/30 flex items-center gap-2 shadow-sm",children:[(0,Jt.jsx)(Xt,{className:"w-5 h-5 text-amber-600"}),(0,Jt.jsxs)("span",{className:"text-sm font-bold text-amber-700",children:[g()," XP"]})]})]}),!l&&i&&(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow p-6 mb-6",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2 text-slate-700 font-bold text-lg",children:[(0,Jt.jsx)(Wt,{className:"w-5 h-5"})," Learning Progress"]}),(0,Jt.jsxs)("div",{className:"text-right",children:[(0,Jt.jsxs)("div",{className:"text-2xl font-black text-blue-700",children:[h.percentage,"%"]}),(0,Jt.jsx)("div",{className:"text-xs text-slate-500 font-medium",children:"Complete"})]})]}),(0,Jt.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-3",children:(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 h-3 rounded-full transition-all",style:{width:"".concat(h.percentage,"%")}})})]}),(0,Jt.jsx)(yr,{paths:y([{id:"bible",title:"Bible History",color:"blue",route:"bible-history",completed:h.paths.bible.completedCount,total:h.paths.bible.total,isCompleted:h.paths.bible.completedCount===h.paths.bible.total},{id:"church",title:"Church History",color:"amber",route:"study-guide",completed:h.paths.church.completedCount,total:h.paths.church.total,isCompleted:h.paths.church.completedCount===h.paths.church.total},{id:"apologetics",title:"Apologetics",color:"indigo",route:"apologetics",completed:h.paths.apologetics.completedCount,total:h.paths.apologetics.total,isCompleted:h.paths.apologetics.completedCount===h.paths.apologetics.total}]),onNavigate:n,firstTime:l,startingPoint:c}),i&&(0,Jt.jsx)(br,{paths:y(null!==i&&void 0!==i&&i.aiPaths&&Array.isArray(i.aiPaths)?i.aiPaths.map(e=>{var t,n;return{id:e.id,title:e.title,completed:(null===(t=e.completedLessons)||void 0===t?void 0:t.length)||0,total:(null===(n=e.lessons)||void 0===n?void 0:n.length)||0,isCompleted:!0===e.completed}}):[]),onNavigate:n}),!l&&(0,Jt.jsx)(kr,{onNavigate:n}),(0,Jt.jsx)("div",{className:"mt-6",children:(0,Jt.jsx)(gr,{onNavigate:n,currentUser:a,onProgressUpdate:o,userProgress:i})})]})]})},Nr=e=>{let{label:t,active:n,onClick:r}=e;return(0,Jt.jsx)("button",{onClick:r,className:"text-left rounded-xl border-2 px-4 py-3 transition ".concat(n?"border-white bg-white/20 text-white":"border-white/40 bg-white/5 text-white hover:border-white/70"),children:t})},kr=t=>{let{onNavigate:n}=t;const[r,i]=(0,e.useState)([]),s={0:{icon:"\ud83c\udf31",label:"Learning",color:"text-yellow-600"},1:{icon:"\ud83c\udf3f",label:"Practicing",color:"text-green-500"},2:{icon:"\ud83c\udf33",label:"Growing",color:"text-green-600"},3:{icon:"\ud83c\udfc6",label:"Proficient",color:"text-blue-600"},4:{icon:"\u2b50",label:"Mastered",color:"text-purple-600"}};if((0,e.useEffect)(()=>{(async()=>{const e=await kn();i(e||[])})()},[]),0===r.length)return null;const a=(e,t)=>{var n;return(null===(n={bible:{1:"From Mouth to Manuscript",2:"The Manuscript Detective Story",3:"Lost in Translation?",4:"The English Bible's Dramatic History",5:"The Books That Almost Made It",6:"How Christians Read the Bible Over Time",7:"Archaeology & the Bible",8:"Your Bible's Backstory"},church:{1:"Early Christianity",2:"The Great Divide",3:"The Reformation",4:"Anglicans & Methodists",5:"Baptists & Anabaptists",6:"Pentecostals & Holiness",7:"Restorationists",8:"Finding Your Church Home"},apologetics:{1:"God's Existence",2:"Evil & Suffering",3:"The Resurrection",4:"Science & Faith",5:"Scripture Reliability",6:"The Moral Argument",7:"Jesus: The Only Way?",8:"Engaging Skeptics"}}[e])||void 0===n?void 0:n[t])||"Lesson ".concat(t)};return(0,Jt.jsxs)("div",{className:"mt-6 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl p-6 text-white shadow-lg",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jt.jsx)(Wt,{className:"w-6 h-6"}),(0,Jt.jsx)("span",{className:"font-bold text-lg",children:1===r.length?"1 Review Due":"".concat(r.length," Reviews Due")})]}),(0,Jt.jsxs)("div",{className:"flex items-center gap-2 bg-white/20 px-3 py-1.5 rounded-full",children:[(0,Jt.jsx)(Ut,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{className:"text-sm font-bold",children:"Today"})]})]}),(0,Jt.jsx)("p",{className:"text-white/90 mb-4",children:"Keep your knowledge fresh! Review these lessons to strengthen your long-term retention."}),(0,Jt.jsx)("div",{className:"space-y-2 mb-4",children:r.slice(0,3).map(e=>{const t=s[e.masteryLevel]||s[0];return(0,Jt.jsx)("button",{onClick:()=>(e=>{"bible"===e.path?n("bible-history",{state:{reviewMode:e}}):"church"===e.path?n("study-guide",{state:{reviewMode:e}}):"apologetics"===e.path&&n("apologetics",{state:{reviewMode:e}})})(e),className:"w-full text-left bg-white/10 backdrop-blur border border-white/20 rounded-xl p-4 hover:bg-white/20 transition",children:(0,Jt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Jt.jsxs)("div",{children:[(0,Jt.jsxs)("div",{className:"font-bold text-white flex items-center gap-2",children:[(0,Jt.jsx)("span",{children:t.icon}),(r=e.path,{bible:"Bible History",church:"Church History",apologetics:"Apologetics"}[r]||r),": ",a(e.path,e.lessonNumber)]}),(0,Jt.jsxs)("div",{className:"text-sm text-white/80 mt-1",children:["Review #",e.reviewNumber," \u2022 ",t.label,e.isOverdue&&(0,Jt.jsx)("span",{className:"ml-2 text-yellow-300",children:"\u26a0\ufe0f Overdue"})]})]}),(0,Jt.jsx)("div",{className:"text-white/60",children:"\u2192"})]})},e.lessonKey);var r})}),r.length>3&&(0,Jt.jsxs)("p",{className:"text-white/70 text-sm text-center",children:["+",r.length-3," more ",r.length-3===1?"review":"reviews"," available"]})]})},jr=zt("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),Cr=zt("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Sr=zt("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Tr=t=>{var n,r,i,s,a,o,l,c,d;let{onNavigate:u,onGoBack:h,userProgress:m}=t;const[p,f]=(0,e.useState)(!1),g={completedCount:(null===m||void 0===m||null===(n=m.courses)||void 0===n||null===(r=n.bible)||void 0===r||null===(i=r.completedLessons)||void 0===i?void 0:i.length)||0,total:8},y={completedCount:(null===m||void 0===m||null===(s=m.courses)||void 0===s||null===(a=s.church)||void 0===a||null===(o=a.completedLessons)||void 0===o?void 0:o.length)||0,total:8},b={completedCount:(null===m||void 0===m||null===(l=m.courses)||void 0===l||null===(c=l.apologetics)||void 0===c||null===(d=c.completedLessons)||void 0===d?void 0:d.length)||0,total:8};(0,e.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const x=[{id:"bible-history",title:"Bible History",subtitle:"From oral tradition to modern translations",icon:Yt,color:"from-blue-600 to-indigo-600",progress:g},{id:"study-guide",title:"Church History",subtitle:"From Pentecost to modern denominations",icon:Wt,color:"from-amber-600 to-orange-600",progress:y},{id:"apologetics",title:"Apologetics",subtitle:"Make a reasoned case with grace",icon:Jn,color:"from-indigo-600 to-purple-600",progress:b}];return(0,Jt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100",children:[(0,Jt.jsxs)("div",{className:"relative overflow-hidden text-white py-16 px-4",children:[(0,Jt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-700 animate-gradient-shift"}),(0,Jt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tl from-indigo-500 via-blue-500 to-purple-700 opacity-60 animate-gradient-shift-reverse"}),(0,Jt.jsxs)("div",{className:"relative max-w-6xl mx-auto z-10",children:[(0,Jt.jsx)("h1",{className:"text-4xl md:text-5xl font-black mb-4",children:"Curated Learning Paths"}),(0,Jt.jsx)("p",{className:"text-lg md:text-xl text-blue-100 max-w-3xl",children:"Three guided journeys to understand the Bible, Church, and Christian faith."})]})]}),(0,Jt.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,Jt.jsxs)("button",{onClick:()=>h?h():u("home"),className:"inline-flex items-center gap-2 px-4 py-2 mb-6 rounded-xl border-2 border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition font-semibold",children:[(0,Jt.jsx)(Qt,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{children:"Back"})]}),(0,Jt.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:x.filter(e=>!(e.progress.completedCount===e.progress.total)).map(e=>{const t=e.progress.total>0?Math.round(e.progress.completedCount/e.progress.total*100):0;return(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-6 hover:shadow-lg transition cursor-pointer",onClick:()=>u(e.id),children:[(0,Jt.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,Jt.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,Jt.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-r ".concat(e.color," text-white flex items-center justify-center flex-shrink-0"),children:(0,Jt.jsx)(e.icon,{className:"w-6 h-6"})}),(0,Jt.jsxs)("div",{className:"flex-1",children:[(0,Jt.jsx)("h3",{className:"font-bold text-slate-900 text-lg mb-1",children:e.title}),(0,Jt.jsx)("p",{className:"text-sm text-slate-600 mb-2",children:e.subtitle})]})]})}),(0,Jt.jsxs)("div",{className:"mb-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,Jt.jsx)("span",{className:"text-slate-600 font-medium",children:"Progress"}),(0,Jt.jsxs)("span",{className:"text-blue-600 font-bold",children:[t,"%"]})]}),(0,Jt.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2",children:(0,Jt.jsx)("div",{className:"h-2 rounded-full transition-all bg-gradient-to-r ".concat(e.color),style:{width:"".concat(t,"%")}})}),(0,Jt.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:[e.progress.completedCount," of ",e.progress.total," lessons completed"]})]}),(0,Jt.jsx)("button",{onClick:t=>{t.stopPropagation(),u(e.id)},className:"w-full py-2.5 px-4 rounded-xl font-semibold text-sm transition-all flex items-center justify-center gap-2 bg-gradient-to-r ".concat(e.color," text-white hover:shadow-md"),children:e.progress.completedCount>0?(0,Jt.jsxs)(Jt.Fragment,{children:[(0,Jt.jsx)(jr,{className:"w-4 h-4"}),"Continue Learning"]}):(0,Jt.jsxs)(Jt.Fragment,{children:[(0,Jt.jsx)(cr,{className:"w-4 h-4"}),"Start Learning"]})})]},e.id)})}),x.filter(e=>e.progress.completedCount===e.progress.total).length>0&&(0,Jt.jsxs)("div",{className:"mb-6",children:[(0,Jt.jsxs)("button",{onClick:()=>f(!p),className:"w-full bg-white rounded-xl border-2 border-slate-200 p-4 hover:bg-slate-50 transition flex items-center justify-between",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jt.jsx)("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center",children:(0,Jt.jsx)(Cr,{className:"w-5 h-5 text-green-600"})}),(0,Jt.jsxs)("div",{className:"text-left",children:[(0,Jt.jsx)("h3",{className:"font-bold text-slate-900",children:"Completed Paths"}),(0,Jt.jsxs)("p",{className:"text-sm text-slate-600",children:[x.filter(e=>e.progress.completedCount===e.progress.total).length," path",1!==x.filter(e=>e.progress.completedCount===e.progress.total).length?"s":""]})]})]}),p?(0,Jt.jsx)(Sr,{className:"w-5 h-5 text-slate-400"}):(0,Jt.jsx)(nn,{className:"w-5 h-5 text-slate-400"})]}),p&&(0,Jt.jsx)("div",{className:"mt-4 space-y-2",children:x.filter(e=>e.progress.completedCount===e.progress.total).map(e=>(0,Jt.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-4 hover:bg-slate-50 transition cursor-pointer flex items-center justify-between gap-3",onClick:()=>u(e.id),children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,Jt.jsx)(Cr,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),(0,Jt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Jt.jsx)("h4",{className:"font-semibold text-slate-900 break-words",children:e.title}),(0,Jt.jsx)("p",{className:"text-sm text-green-600",children:"Complete"})]})]}),(0,Jt.jsx)("button",{onClick:t=>{t.stopPropagation(),u(e.id)},className:"text-green-600 hover:text-green-700 transition px-3 py-1 rounded-lg bg-green-50 hover:bg-green-100 text-sm font-medium flex-shrink-0",children:"Review"})]},e.id))})]})]})]})},Ar=zt("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Er=zt("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Pr=e=>{let{onComplete:t,setShowAuth:n}=e;const r=()=>{n(!0)};return(0,Jt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100",children:[(0,Jt.jsxs)("div",{className:"relative overflow-hidden bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700",children:[(0,Jt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tl from-indigo-500/50 via-blue-500/50 to-purple-700/50 animate-gradient-shift"}),(0,Jt.jsxs)("div",{className:"absolute inset-0",children:[(0,Jt.jsx)("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-400/20 rounded-full blur-3xl animate-pulse"}),(0,Jt.jsx)("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-purple-400/20 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,Jt.jsxs)("div",{className:"relative max-w-5xl mx-auto px-4 py-20 md:py-28 text-center",children:[(0,Jt.jsx)("h1",{className:"text-4xl md:text-6xl font-black text-white mb-5 leading-tight",children:"Understand the roots of your faith."}),(0,Jt.jsxs)("p",{className:"text-lg md:text-xl text-blue-50 mb-6 max-w-3xl mx-auto leading-relaxed font-medium",children:["Short, focused micro-lessons exploring why Christians believe what they believe \u2014 grounded in ",(0,Jt.jsx)("span",{className:"text-yellow-300 font-semibold",children:"history"}),", ",(0,Jt.jsx)("span",{className:"text-green-300 font-semibold",children:"Scripture"}),", and historic Christian teaching."]}),(0,Jt.jsx)("div",{children:(0,Jt.jsxs)("button",{onClick:r,className:"inline-flex items-center gap-3 bg-gradient-to-r from-yellow-400 to-orange-500 text-slate-900 px-8 py-3 rounded-xl font-bold text-lg shadow-lg hover:shadow-yellow-400/30 hover:scale-105 transition-transform",children:[(0,Jt.jsx)(mr,{className:"w-5 h-5"}),"Start your first lesson \u2014 free"]})}),(0,Jt.jsx)("p",{className:"text-blue-200 mt-3 text-sm",children:"No credit card required to try your first lesson."})]})]}),(0,Jt.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-20 text-center",children:[(0,Jt.jsx)("div",{className:"inline-block bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-2 rounded-full font-bold text-sm mb-4",children:"FOR BELIEVERS"}),(0,Jt.jsx)("h2",{className:"text-4xl md:text-5xl font-black text-slate-900 mb-6 leading-tight",children:"You already believe."}),(0,Jt.jsx)("p",{className:"text-2xl md:text-3xl text-purple-600 font-bold mb-4",children:"Understand the roots behind what you believe."}),(0,Jt.jsx)("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"We focus on the essentials all Christians share, and explore the non-essentials with grace and charity."})]}),(0,Jt.jsx)("div",{className:"relative overflow-hidden bg-gradient-to-br from-purple-600 via-pink-600 to-rose-600 py-16",children:(0,Jt.jsxs)("div",{className:"relative max-w-6xl mx-auto px-4",children:[(0,Jt.jsxs)("div",{className:"text-center mb-12",children:[(0,Jt.jsxs)("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm text-white px-6 py-2 rounded-full mb-4 border border-white/30",children:[(0,Jt.jsx)(cr,{className:"w-5 h-5 text-yellow-300"}),(0,Jt.jsx)("span",{className:"font-bold",children:"AI-POWERED LEARNING"})]}),(0,Jt.jsx)("h2",{className:"text-4xl md:text-5xl font-black text-white mb-4",children:"Ask anything. Get focused answers."}),(0,Jt.jsxs)("p",{className:"text-xl text-white/90 max-w-3xl mx-auto",children:["Our AI creates personalized lessons on ",(0,Jt.jsx)("span",{className:"font-black text-yellow-300",children:"any theology topic"})," you're curious about \u2014 designed to reflect historic Christian teaching."]})]}),(0,Jt.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,Jt.jsxs)("div",{className:"bg-white/6 backdrop-blur rounded-2xl p-6 transition",children:[(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 w-14 h-14 rounded-xl flex items-center justify-center mb-4",children:(0,Jt.jsx)(cr,{className:"w-7 h-7 text-slate-900"})}),(0,Jt.jsx)("h3",{className:"text-xl font-black text-white mb-2",children:"Generate Custom Lessons"}),(0,Jt.jsx)("p",{className:"text-white/80",children:"Type any question about theology, church history, or doctrine. Get an instant, personalized learning path."})]}),(0,Jt.jsxs)("div",{className:"bg-white/6 backdrop-blur rounded-2xl p-6 transition",children:[(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-blue-400 to-cyan-500 w-14 h-14 rounded-xl flex items-center justify-center mb-4",children:(0,Jt.jsx)(Jn,{className:"w-7 h-7 text-white"})}),(0,Jt.jsx)("h3",{className:"text-xl font-black text-white mb-2",children:"Rooted in History"}),(0,Jt.jsx)("p",{className:"text-white/80",children:"AI lessons are designed to reflect historic Christian teaching \u2014 aiming for the faith once delivered."})]}),(0,Jt.jsxs)("div",{className:"bg-white/6 backdrop-blur rounded-2xl p-6 transition",children:[(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-green-400 to-emerald-500 w-14 h-14 rounded-xl flex items-center justify-center mb-4",children:(0,Jt.jsx)(Ar,{className:"w-7 h-7 text-white"})}),(0,Jt.jsx)("h3",{className:"text-xl font-black text-white mb-2",children:"Your Questions, Explored"}),(0,Jt.jsx)("p",{className:"text-white/80",children:"Stop endlessly scrolling. Get focused exploration of the exact topics you're wrestling with."})]})]}),(0,Jt.jsxs)("div",{className:"mt-10 text-center",children:[(0,Jt.jsx)("p",{className:"text-lg text-white/90 mb-4",children:'"Why did the early church accept these 4 Gospels?" \u2014 generate a focused lesson in seconds.'}),(0,Jt.jsx)("button",{onClick:r,className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-slate-900 px-6 py-3 rounded-lg font-bold hover:scale-105 transition-transform",children:"Try AI Lesson"})]})]})}),(0,Jt.jsxs)("div",{className:"relative overflow-hidden bg-gradient-to-br from-slate-100 via-blue-50 to-purple-50 py-16",children:[(0,Jt.jsxs)("div",{className:"absolute inset-0 opacity-30",children:[(0,Jt.jsx)("div",{className:"absolute top-10 right-20 w-64 h-64 bg-blue-300/30 rounded-full blur-3xl"}),(0,Jt.jsx)("div",{className:"absolute bottom-10 left-20 w-80 h-80 bg-purple-300/30 rounded-full blur-3xl"})]}),(0,Jt.jsx)("div",{className:"relative max-w-4xl mx-auto px-4",children:(0,Jt.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 md:p-12 border-2 border-slate-200 shadow-xl",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-6",children:[(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-3 rounded-xl",children:(0,Jt.jsx)(Er,{className:"w-7 h-7 text-white"})}),(0,Jt.jsx)("h3",{className:"text-3xl md:text-4xl font-black text-slate-900",children:"Created by a Fellow Believer"})]}),(0,Jt.jsxs)("div",{className:"space-y-4",children:[(0,Jt.jsxs)("p",{className:"text-lg md:text-xl text-slate-700 leading-relaxed text-center",children:["Church Explorer was built by a ",(0,Jt.jsx)("span",{className:"font-bold text-blue-700",children:"Christian"}),", ",(0,Jt.jsx)("span",{className:"font-bold text-purple-700",children:"husband"}),", and ",(0,Jt.jsx)("span",{className:"font-bold text-indigo-700",children:"father"})," who wanted to understand more about church history\u2014what ",(0,Jt.jsx)("span",{className:"font-semibold text-green-700",children:"unites all Christians"})," across traditions, and where we ",(0,Jt.jsx)("span",{className:"font-semibold text-amber-700",children:"respectfully differ"}),"."]}),(0,Jt.jsxs)("div",{className:"flex items-center justify-center gap-2 my-6",children:[(0,Jt.jsx)("div",{className:"h-1 w-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full"}),(0,Jt.jsx)("div",{className:"h-1 w-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full"}),(0,Jt.jsx)("div",{className:"h-1 w-12 bg-gradient-to-r from-pink-500 to-orange-500 rounded-full"})]}),(0,Jt.jsx)("p",{className:"text-base md:text-lg text-slate-600 leading-relaxed text-center",children:"This isn't a corporate product. It's a labor of love from someone walking the same journey of faith, seeking to understand the roots of what we believe and why it matters."})]})]})})]}),(0,Jt.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-20",children:[(0,Jt.jsxs)("div",{className:"text-center mb-12",children:[(0,Jt.jsx)("div",{className:"inline-block bg-purple-100 text-purple-700 px-6 py-2 rounded-full font-bold text-sm mb-4",children:"CURATED LESSONS"}),(0,Jt.jsx)("h2",{className:"text-4xl md:text-5xl font-black text-slate-900 mb-4",children:"What You'll Learn"}),(0,Jt.jsx)("p",{className:"text-xl text-slate-600",children:"Start with our curated curriculum \u2014 or generate your own with AI"})]}),(0,Jt.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[[{text:"Where Scripture really came from",icon:Yt,color:"from-blue-500 to-indigo-600"},{text:"What the early church believed before denominations",icon:Wt,color:"from-purple-500 to-pink-600"},{text:"Why the Trinity formed historically",icon:cr,color:"from-amber-500 to-orange-600"},{text:"How to recognize fringe teaching",icon:Jn,color:"from-red-500 to-rose-600"},{text:'What "gospel" meant in the first century',icon:cr,color:"from-green-500 to-emerald-600"}].map((e,t)=>(0,Jt.jsxs)("div",{className:"group bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all border-2 border-slate-200 hover:border-purple-300 hover:-translate-y-1",children:[(0,Jt.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-r ".concat(e.color," flex items-center justify-center mb-4 group-hover:scale-110 transition-transform"),children:(0,Jt.jsx)(e.icon,{className:"w-6 h-6 text-white"})}),(0,Jt.jsx)("p",{className:"text-lg text-slate-900 font-bold leading-snug",children:e.text})]},t)),(0,Jt.jsx)("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 rounded-2xl p-6 shadow-lg text-white flex items-center justify-center border-2 border-indigo-400",children:(0,Jt.jsx)("p",{className:"text-lg font-bold text-center",children:"+ Many more lessons"})})]})]}),(0,Jt.jsxs)("div",{className:"relative overflow-hidden bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white py-20",children:[(0,Jt.jsx)("div",{className:"absolute inset-0 opacity-10",children:(0,Jt.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-blue-500 to-purple-500"})}),(0,Jt.jsxs)("div",{className:"relative max-w-5xl mx-auto px-4 text-center",children:[(0,Jt.jsx)("h2",{className:"text-4xl md:text-5xl font-black mb-4 leading-tight",children:"Historic Christian faith."}),(0,Jt.jsx)("p",{className:"text-xl text-slate-300 mb-8 max-w-3xl mx-auto",children:"In essentials, unity. In non-essentials, liberty. In all things, charity. This ancient wisdom guides every lesson."}),(0,Jt.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,Jt.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl p-6 border-2 border-red-500/30",children:[(0,Jt.jsx)("div",{className:"text-4xl mb-2",children:"\u2717"}),(0,Jt.jsx)("p",{className:"text-xl text-slate-300",children:"Not progressive deconstruction"})]}),(0,Jt.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl p-6 border-2 border-red-500/30",children:[(0,Jt.jsx)("div",{className:"text-4xl mb-2",children:"\u2717"}),(0,Jt.jsx)("p",{className:"text-xl text-slate-300",children:"Not internet-war theology"})]}),(0,Jt.jsxs)("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl p-6 border-2 border-green-400 shadow-xl shadow-green-500/50",children:[(0,Jt.jsx)("div",{className:"text-4xl mb-2",children:"\u2713"}),(0,Jt.jsx)("p",{className:"text-2xl font-black text-white",children:"Just real roots"})]})]})]})]}),(0,Jt.jsx)("div",{className:"max-w-5xl mx-auto px-4 py-20 text-center",children:(0,Jt.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-3xl p-12 shadow-xl border-2 border-purple-200",children:[(0,Jt.jsx)("h3",{className:"text-3xl md:text-4xl font-black text-slate-900 mb-6",children:"Ready to build your foundation?"}),(0,Jt.jsxs)("button",{onClick:r,className:"inline-flex items-center gap-3 bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 text-white px-12 py-6 rounded-2xl font-black text-2xl shadow-2xl hover:shadow-purple-500/50 hover:scale-105 transition-all transform",children:[(0,Jt.jsx)(mr,{className:"w-7 h-7"}),"Start learning now"]}),(0,Jt.jsx)("p",{className:"text-slate-600 mt-4 text-lg font-medium",children:"Join others discovering clarity, confidence, and depth"})]})}),(0,Jt.jsx)("div",{className:"bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 py-20",children:(0,Jt.jsx)("div",{className:"max-w-5xl mx-auto px-4",children:(0,Jt.jsxs)("div",{className:"bg-white rounded-3xl p-8 md:p-12 shadow-2xl border-2 border-purple-200",children:[(0,Jt.jsx)("div",{className:"flex justify-center mb-6",children:(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 rounded-2xl shadow-lg",children:(0,Jt.jsx)(Er,{className:"w-12 h-12 text-white"})})}),(0,Jt.jsxs)("p",{className:"text-2xl md:text-3xl text-slate-900 font-bold leading-relaxed text-center",children:["Believers are building"," ",(0,Jt.jsx)("span",{className:"text-blue-600 bg-blue-100 px-2 py-1 rounded-lg",children:"clarity"}),","," ",(0,Jt.jsx)("span",{className:"text-purple-600 bg-purple-100 px-2 py-1 rounded-lg",children:"confidence"}),", and"," ",(0,Jt.jsx)("span",{className:"text-indigo-600 bg-indigo-100 px-2 py-1 rounded-lg",children:"depth"})," ","in their faith \u2014 with curated lessons and AI-powered personalized learning."]}),(0,Jt.jsxs)("div",{className:"flex items-center justify-center gap-8 mt-8 text-center flex-wrap",children:[(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("div",{className:"text-4xl font-black text-purple-600",children:"\u221e"}),(0,Jt.jsx)("div",{className:"text-sm text-slate-600 font-semibold",children:"AI-Generated"})]}),(0,Jt.jsx)("div",{className:"w-px h-12 bg-slate-300"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("div",{className:"text-4xl font-black text-blue-600",children:"\u2713"}),(0,Jt.jsx)("div",{className:"text-sm text-slate-600 font-semibold",children:"Curated Lessons"})]}),(0,Jt.jsx)("div",{className:"w-px h-12 bg-slate-300"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("div",{className:"text-4xl font-black text-orange-600",children:"Free"}),(0,Jt.jsx)("div",{className:"text-sm text-slate-600 font-semibold",children:"To Start"})]})]})]})})}),(0,Jt.jsx)("div",{className:"relative overflow-hidden bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-700",children:(0,Jt.jsxs)("div",{className:"relative max-w-5xl mx-auto px-4 py-20 text-center",children:[(0,Jt.jsx)("h2",{className:"text-4xl md:text-6xl font-black text-white mb-6 leading-tight",children:"Begin your first lesson."}),(0,Jt.jsx)("p",{className:"text-xl text-blue-100 mb-10 max-w-2xl mx-auto",children:"No fluff. No agenda. Just the historical roots of what Christians have always believed."}),(0,Jt.jsxs)("button",{onClick:r,className:"inline-flex items-center gap-3 bg-gradient-to-r from-yellow-400 to-orange-500 text-slate-900 px-12 py-6 rounded-2xl font-black text-2xl shadow-2xl hover:shadow-yellow-500/50 hover:scale-105 transition-all transform",children:[(0,Jt.jsx)(Wt,{className:"w-7 h-7"}),"Get Started \u2014 Free"]}),(0,Jt.jsxs)("div",{className:"flex items-center justify-center gap-6 mt-8 text-blue-100",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jt.jsx)(Cr,{className:"w-5 h-5 text-green-300"}),(0,Jt.jsx)("span",{className:"font-semibold",children:"No credit card"})]}),(0,Jt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jt.jsx)(Cr,{className:"w-5 h-5 text-green-300"}),(0,Jt.jsx)("span",{className:"font-semibold",children:"No commitment"})]}),(0,Jt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jt.jsx)(Cr,{className:"w-5 h-5 text-green-300"}),(0,Jt.jsx)("span",{className:"font-semibold",children:"Start in 60 seconds"})]})]})]})})]})},Ir=t=>{let{onNavigate:n,onGoBack:r}=t;(0,e.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const i=[{id:"explore-bible",title:"Bible Timeline",subtitle:"From oral tradition to modern translations",icon:(0,Jt.jsx)(Yt,{className:"w-10 h-10"}),color:"from-blue-600 to-indigo-600"},{id:"explore-church",title:"Church Timeline",subtitle:"From Pentecost to today's denominations",icon:(0,Jt.jsx)(Wt,{className:"w-10 h-10"}),color:"from-amber-600 to-orange-600"},{id:"explore-denominations",title:"Explore Denominations",subtitle:"Compare beliefs and worship experiences",icon:(0,Jt.jsx)(Er,{className:"w-10 h-10"}),color:"from-purple-600 to-indigo-600"}];return(0,Jt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100",children:[(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-16 px-4",children:(0,Jt.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Jt.jsx)("h1",{className:"text-4xl md:text-5xl font-black mb-4",children:"Explore Timelines"}),(0,Jt.jsx)("p",{className:"text-lg md:text-xl text-blue-100 max-w-3xl",children:"Explore the story of Scripture and Christianity through interactive visual timelines."})]})}),(0,Jt.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,Jt.jsxs)("button",{onClick:()=>r?r():n("home"),className:"inline-flex items-center gap-2 px-4 py-2 mb-4 rounded-xl border-2 border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition",children:[(0,Jt.jsx)(Qt,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{children:"Back"})]}),(0,Jt.jsx)("div",{className:"grid md:grid-cols-3 gap-6",children:i.map((e,t)=>(0,Jt.jsxs)("button",{onClick:()=>n(e.id),className:"text-left bg-white rounded-2xl border-2 border-slate-200 p-6 hover:shadow-lg transition",children:[(0,Jt.jsx)("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-r ".concat(e.color," text-white flex items-center justify-center mb-4"),children:e.icon}),(0,Jt.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:e.title}),(0,Jt.jsx)("p",{className:"text-slate-600",children:e.subtitle})]},t))})]})]})},_r=t=>{let{onNavigate:n}=t;const[r,i]=(0,e.useState)("compare"),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)(null);(0,e.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const c={catholic:{name:"Catholic",year:"33 AD",members:"1.3B",fullName:"Roman Catholic Church",description:"The Catholic Church developed highly centralized papal monarchy, with the pope claiming universal jurisdiction as 'Vicar of Christ.' Catholic ecclesiology emphasizes apostolic succession\u2014authority passed through unbroken chain of bishops from Peter. The West embraced Scholasticism, integrating Aristotelian philosophy with theology, epitomized by Thomas Aquinas's Summa Theologica. Papal authority reached its zenith under Innocent III (1198-1216), though later crises damaged prestige.",beliefs:["Seven Sacraments (defined at Fourth Lateran Council, 1215)","Real Presence in Eucharist (Transubstantiation)","Papal primacy and infallibility (Vatican I, 1870)","Scripture and Tradition as dual sources","Veneration of Mary and saints","Purgatory and prayers for the dead"],color:"#d4af37",keyFigures:["St. Peter","St. Augustine of Hippo","St. Thomas Aquinas","St. Francis of Assisi","Pope Innocent III","Pope John Paul II","Pope Francis"],geography:"In 1900, Europe contained 66% of the world's Christians. By 2020, Sub-Saharan Africa alone contains 31%. Latin America remains Catholic stronghold but declining to Pentecostals.",geographicDistribution:[{region:"Latin America",percentage:"40%",trend:"declining",explanation:"Still plurality but steep decline to Pentecostals\u2014especially in Brazil."},{region:"Europe",percentage:"24%",trend:"declining",explanation:"From 95% Christian (1900) to 76% (2020). Rapid secularization, most affiliated are non-practicing."},{region:"Sub-Saharan Africa",percentage:"17%",trend:"rapid-growth",explanation:"Explosive growth through missions and indigenous clergy. By 2050, Africa projected to have 38% of global Christians."},{region:"Asia-Pacific",percentage:"12%",trend:"growing",explanation:"Strong growth in Philippines (83 million Catholics) and parts of India, Vietnam."},{region:"North America",percentage:"6%",trend:"declining",explanation:"From 97% Christian (1900) to 72% (2020). Declining attendance especially among younger Catholics."},{region:"Middle East/North Africa",percentage:"1%",trend:"stable",explanation:"Small ancient communities holding steady despite persecution and emigration."}],debates:["Protestants contest Catholic institutional continuity claims and reject papal supremacy","Orthodox reject papal supremacy and filioque addition to Creed","Pre-Reformation reformers (Waldensians, Wycliffe, Hus) anticipated Protestant themes","Internal debates over Vatican II interpretation and implementation","Liberation theology's relationship to Marxism debated within Catholicism"],sources:[{title:"Vatican Official",url:"https://www.vatican.va/"},{title:"Catechism",url:"https://www.vatican.va/archive/ENG0015/_INDEX.HTM"}]},orthodox:{name:"Orthodox",year:"1054",members:"220M",fullName:"Eastern Orthodox Church",description:"Eastern Orthodoxy maintained conciliar governance, with Constantinople holding honorary primacy as 'first among equals.' They emphasized mystical theology and theosis (becoming one with God), preserved the original Nicene Creed without filioque, and used vernacular languages in liturgy. Saints Cyril and Methodius created Slavonic alphabets enabling indigenous worship. Missionary expansion reached Bulgaria (864), Serbia (9th century), and Kievan Rus (988).",beliefs:["Seven Ecumenical Councils (325-787) define faith","Rejection of papal supremacy and filioque","Theosis (deification) as salvation goal","Icons as 'windows to divine'","Mystical theology and liturgical continuity","Divine Liturgy unchanged from early church"],color:"#8b5cf6",keyFigures:["St. John Chrysostom","St. Basil the Great","St. Gregory Palamas","St. Cyril and Methodius"],geography:"Eastern Europe, Russia, Greece, Middle East. Recovering from Soviet persecution.",geographicDistribution:[{region:"Eastern Europe",percentage:"42%",trend:"stable",explanation:"Post-communist recovery complete."},{region:"Russia & Former Soviet",percentage:"35%",trend:"growing",explanation:"Significant recovery after Soviet persecution that killed 100,000+ priests and believers."},{region:"Middle East",percentage:"10%",trend:"declining",explanation:"Emigration due to persecution and war."},{region:"Greece & Balkans",percentage:"8%",trend:"stable",explanation:"Deeply rooted but facing secularization."},{region:"North America",percentage:"3%",trend:"growing",explanation:"Immigration and converts."},{region:"Western Europe",percentage:"2%",trend:"growing",explanation:"Diaspora communities growing."}],debates:["Catholics argue Orthodox lack unity without papal authority binding churches together","Orthodox argue Catholics added unauthorized innovations (filioque, papal supremacy)","Fourth Crusade's sack of Constantinople (1204) remains unhealed wound","2016 Pan-Orthodox Council boycotted by Russian, Georgian, Bulgarian, Antiochian churches","East-West mutual excommunications lifted 1965 but ecclesiological disagreements remain"],sources:[{title:"OCA",url:"https://www.oca.org/"},{title:"Greek Orthodox",url:"https://www.goarch.org/"}]},lutheran:{name:"Lutheran",year:"1517",members:"75M",fullName:"Lutheran Church",description:"Martin Luther posted 95 Theses at Wittenberg Castle Church October 31, 1517, initially intending academic debate about indulgences. The printing press enabled rapid dissemination across Europe. Excommunicated by Pope Leo X and declared outlaw by Emperor Charles V at Diet of Worms (1521), Luther developed comprehensive theological reformation grounded in sola scriptura (Scripture alone), sola fide (justification by faith alone), and sola gratia (salvation by grace alone). By mid-16th century, Lutheranism dominated northern Europe under cuius regio, eius religio (whose realm, his religion).",beliefs:["Justification by faith alone (sola fide)","Scripture as sole authority (sola scriptura)","Two sacraments: Baptism and Eucharist","Real Presence\u2014Christ's body and blood 'in, with, and under' bread and wine","Priesthood of all believers","Salvation by grace alone (sola gratia)"],color:"#3b82f6",keyFigures:["Martin Luther","Philip Melanchthon","Johann Sebastian Bach","Dietrich Bonhoeffer"],geography:"Germany, Scandinavia, US Midwest. Growing explosively in Africa.",geographicDistribution:[{region:"Northern Europe",percentage:"35%",trend:"declining",explanation:"Rapid secularization in Scandinavia."},{region:"Sub-Saharan Africa",percentage:"28%",trend:"rapid-growth",explanation:"Explosive growth in Ethiopia, Tanzania."},{region:"North America",percentage:"20%",trend:"declining",explanation:"Both liberal and conservative branches declining."}],debates:["Debates over confessional vs. liberal interpretations","Intercommunion with other Protestants and Catholics","Role of women and LGBTQ+ inclusion by synod"],sources:[]},reformed:{name:"Reformed",year:"1536",members:"75M",fullName:"Reformed/Presbyterian Tradition",description:"Developed under Ulrich Zwingli and John Calvin, emphasizing God's sovereignty and covenant theology. Presbyterian polity governed by elders.",beliefs:["Sola Scriptura, Sola Fide, Soli Deo Gloria","TULIP (Calvinism) variously held","Two sacraments as signs and seals"],color:"#0ea5e9",keyFigures:["John Calvin","Ulrich Zwingli","John Knox"],geography:"Switzerland, Netherlands, Scotland, USA",geographicDistribution:[],debates:["Extent of atonement","Predestination"],sources:[]},anglican:{name:"Anglican",year:"1534",members:"85M",fullName:"Anglican Communion",description:"English Reformation via Act of Supremacy. Via media between Catholic and Reformed traditions. Book of Common Prayer central.",beliefs:["Scripture, Tradition, Reason","Two sacraments instituted by Christ"],color:"#ef4444",keyFigures:["Thomas Cranmer","Richard Hooker"],geography:"England, Africa, North America, Global",geographicDistribution:[],debates:["Women bishops","LGBTQ+ inclusion"],sources:[]},anabaptist:{name:"Anabaptist",year:"1525",members:"4M",fullName:"Anabaptist (Mennonite/Amish)",description:"Radical Reformation: believers' baptism, pacifism, separation from world.",beliefs:["Believers' baptism","Pacifism"],color:"#22c55e",keyFigures:[],geography:"Europe, North America",geographicDistribution:[],debates:[],sources:[]},baptist:{name:"Baptist",year:"1609",members:"100M",fullName:"Baptist Churches",description:"Emphasize believers' baptism by immersion, local church autonomy, and religious liberty; diverse in theology and practice.",beliefs:["Believers' baptism","Congregational polity"],color:"#f59e0b",keyFigures:[],geography:"Global, strong in USA",geographicDistribution:[],debates:["Complementarian vs egalitarian","Calvinist vs non-Calvinist"],sources:[]},methodist:{name:"Methodist",year:"1738",members:"80M",fullName:"Methodist/Wesleyan",description:"Wesleyan revival emphasizing sanctification and social holiness; connexional structure; open table communion in many contexts.",beliefs:["Prevenient grace","Entire sanctification"],color:"#ef4444",keyFigures:["John Wesley","Charles Wesley"],geography:"Global",geographicDistribution:[],debates:["LGBTQ+ inclusion","Global north/south tensions"],sources:[]},pentecostal:{name:"Pentecostal",year:"1906",members:"500M+",fullName:"Pentecostal/Charismatic",description:"Azusa Street revival; emphasis on gifts of the Spirit, especially tongues as initial evidence in classical Pentecostalism.",beliefs:["Baptism in the Holy Spirit","Gifts of the Spirit"],color:"#a855f7",keyFigures:["William J. Seymour"],geography:"Explosive growth in Global South",geographicDistribution:[],debates:["Manifestations and order in worship"],sources:[]},restorationist:{name:"Restorationist",year:"1832",members:"7M",fullName:"Restoration Movement",description:"Seek to restore New Testament church patterns; 'No creed but Christ'; later splits over instrumental music and modernism.",beliefs:["Biblical pattern","Weekly communion"],color:"#65a30d",keyFigures:["Barton Stone","Alexander Campbell"],geography:"USA",geographicDistribution:[],debates:["Instruments in worship"],sources:[]},holiness:{name:"Holiness",year:"1867",members:"12M",fullName:"Holiness Movement",description:"Emphasizes sanctification as second work of grace; some groups later influenced by Pentecostalism, others rejected tongues.",beliefs:["Entire sanctification"],color:"#10b981",keyFigures:[],geography:"USA and global",geographicDistribution:[],debates:["Relationship to Pentecostalism"],sources:[]},nondenominational:{name:"Non-Denominational",year:"1968-",members:"Varies",fullName:"Non-Denominational Churches",description:"Rapid growth of independent evangelical churches, often megachurches; contemporary worship, local autonomy, minimal formal ties.",beliefs:["Bible-centered","Local autonomy"],color:"#9333ea",keyFigures:["Chuck Smith (Calvary Chapel)","Rick Warren","Bill Hybels"],geography:"Predominantly US suburbs; increasingly global",geographicDistribution:[{region:"North America",percentage:"65%",trend:"rapid-growth",explanation:"Explosive suburban growth. Now 3rd largest Christian group in US."},{region:"Asia-Pacific",percentage:"15%",trend:"rapid-growth",explanation:"Megachurches in South Korea, Singapore, Philippines."},{region:"Latin America",percentage:"8%",trend:"growing",explanation:"Model spreading rapidly."},{region:"Sub-Saharan Africa",percentage:"7%",trend:"growing",explanation:"Independent evangelicals growing."},{region:"Europe",percentage:"4%",trend:"growing",explanation:"Urban churches growing."},{region:"Other",percentage:"1%",trend:"growing",explanation:"Expanding globally."}],debates:["Traditional denominations argue non-denoms lack accountability structures","Celebrity pastor culture concerns in megachurches","'No denomination' is itself a denomination with implicit theology and practice","Theological drift concerns without confessional standards"],sources:[]}},d={catholic:{serviceName:"Mass",typicalLength:"60-75 minutes",schedule:"Saturday evening Vigil, multiple Sunday Masses",serviceStructure:["Introductory Rites (Sign of the Cross, Penitential Act)","Liturgy of the Word (Readings, Homily, Creed, Prayers)","Liturgy of the Eucharist (Preparation, Eucharistic Prayer, Communion)","Concluding Rites (Blessing, Dismissal)"],musicStyle:"Varies: Chant, hymns, organ; some parishes use contemporary music but liturgy remains structured",dressExpectation:"Business casual to formal; modest attire",communionDetails:"Offered at every Mass. Belief in Real Presence (Transubstantiation). Closed communion for Catholics in a state of grace",participation:"Stand/kneel/sit with congregation. Non-Catholics typically refrain from receiving communion but may come forward for a blessing",uniqueElements:["Use of liturgical calendar and vestments","Incense in some Masses","Confession typically available before Mass"],firstTimeVisitor:"Expect a reverent, structured service focused on the Eucharist. Follow along in missal or on screens. No pressure to take communion if not Catholic."},orthodox:{serviceName:"Divine Liturgy",typicalLength:"90-120 minutes",schedule:"Sunday morning, feast days; Vespers night before",serviceStructure:["Proskomedia (Preparation)","Liturgy of Catechumens (Scripture readings, sermon)","Liturgy of the Faithful (Eucharist)"],musicStyle:"A cappella chant (no instruments) in traditional languages or English; rich iconography and incense",dressExpectation:"Modest, often head coverings for women in some parishes",communionDetails:"Closed communion; reserved for Orthodox Christians in good standing. Real Presence affirmed",participation:"Standing common for much of service; frequent sign of the cross; veneration of icons",uniqueElements:["Iconostasis separating nave and altar","Incense, processions","Lengthy liturgy steeped in ancient tradition"],firstTimeVisitor:"Expect a long, reverent service with rich symbolism. Follow the congregation. Visitors welcome to observe; communion reserved for Orthodox."},lutheran:{serviceName:"Divine Service / Worship Service",typicalLength:"60-75 minutes",schedule:"Sunday morning; midweek services in some churches",serviceStructure:["Confession and Absolution","Liturgical hymns and readings","Sermon","Communion (weekly or monthly depending on church)"],musicStyle:"Traditional hymns with organ; some contemporary services exist",dressExpectation:"Business casual",communionDetails:"Real Presence affirmed. Close(d) communion in conservative synods; more open in ELCA",participation:"Liturgical responses, hymns, standing/kneeling",uniqueElements:["Liturgical structure","Law/Gospel preaching"],firstTimeVisitor:"Expect structured liturgy with hymns and sermon. Communion practice varies by synod."},reformed:{serviceName:"Worship Service",typicalLength:"60-75 minutes",schedule:"Sunday morning; some have evening services",serviceStructure:["Call to Worship and Opening Prayer","Psalms/Hymns","Sermon (expository preaching)","Communion (monthly/weekly depending on church)"],musicStyle:"Psalms/hymns; simple and reverent",dressExpectation:"Business casual",communionDetails:"Spiritual presence view common; frequency varies",participation:"Corporate readings and singing",uniqueElements:["Strong emphasis on God's sovereignty in worship"],firstTimeVisitor:"Expect Scripture-rich, reverent service with emphasis on preaching."},methodist:{serviceName:"Sunday Worship Service",typicalLength:"60-75 minutes",schedule:"Sunday morning with multiple services",serviceStructure:["Hymns/Opening","Prayers and Scripture","Sermon","Communion (weekly or monthly; open table)"],musicStyle:"Wide variety: Traditional hymns (especially Charles Wesley's), contemporary worship, gospel. Often both services offered",dressExpectation:"Casual to business casual",communionDetails:"Open table common; means of grace",participation:"Responsive readings, hymns",uniqueElements:["Emphasis on holiness and personal transformation"],firstTimeVisitor:"Friendly, structured but accessible; open communion in many congregations."},baptist:{serviceName:"Worship Service",typicalLength:"60-90 minutes",schedule:"Sunday morning; some have evening services",serviceStructure:["Worship: Hymns or Contemporary Praise","Prayer","Sermon (central)","Lord's Supper (monthly/quarterly)"],musicStyle:"Varies widely: Traditional hymns with piano/organ in traditional churches; contemporary worship bands in modern churches; Southern gospel in some",dressExpectation:"Casual to business casual",communionDetails:"Symbolic memorial; frequency varies",participation:"Singing, amens, altar calls in some",uniqueElements:["Congregational autonomy"],firstTimeVisitor:"Bible-centered preaching; style varies by church; welcoming and informal in many."},pentecostal:{serviceName:"Worship Service / Celebration",typicalLength:"90-120 minutes",schedule:"Sunday morning; midweek revival services in some",serviceStructure:["Extended Praise and Worship (30-45 minutes)","Testimonies/Prayer","Sermon","Ministry time (prayer for healing, altar calls)"],musicStyle:"Contemporary praise and worship, very energetic. Live band, drums, electric guitars. Upbeat and emotional",dressExpectation:"Casual to dressy; very mixed",communionDetails:"Symbolic; frequency varies",participation:"Spontaneous, Spirit-led worship (less structured)",uniqueElements:["Speaking in tongues, prophecy in some","Healing/prayer ministry"],firstTimeVisitor:"Expect loud, long, and expressive worship. Don't feel pressured to speak in tongues or participate in manifestations. Very welcoming."},restorationist:{serviceName:"Worship Assembly / Church Service",typicalLength:"60-75 minutes",schedule:"Sunday morning; some evening services",serviceStructure:["Singing (a cappella in Churches of Christ)","Prayer","Communion (weekly)","Sermon"],musicStyle:"Churches of Christ: a cappella singing; Christian Churches: mixed instrumentation",dressExpectation:"Casual to business casual",communionDetails:"Weekly - every Sunday without exception. Central act of worship. Open to Christians (varies by group)",participation:"Congregational singing, scripture-heavy preaching",uniqueElements:["Weekly communion","Baptism by immersion"],firstTimeVisitor:"Simple, Bible-centered worship. Churches of Christ have no instruments - only singing. Communion weekly."},nondenominational:{serviceName:"Worship Service / Sunday Celebration",typicalLength:"60-90 minutes",schedule:"Multiple Sunday services; Saturday evening in some",serviceStructure:["Extended Worship Set (20-30 minutes of contemporary music)","Welcome/Announcements","Sermon (practical, topical or expository)","Response/Prayer"],musicStyle:"Predominantly contemporary worship with full band (drums, guitars, keys). Hillsong/Bethel style common. Professional production",dressExpectation:"Casual; very welcoming",communionDetails:"Varies: Monthly/quarterly; some weekly",participation:"Hands raised common but optional; very casual",uniqueElements:["Screens, lights, modern production","Coffee in lobbies"],firstTimeVisitor:"Most accessible for newcomers. Casual dress, contemporary music, relevant teaching. Often feels like a concert; very welcoming."}};return(0,Jt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100",children:[(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-16 px-4",children:(0,Jt.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Jt.jsx)("h1",{className:"text-4xl md:text-5xl font-black mb-3",children:"Explore Denominations"}),(0,Jt.jsx)("p",{className:"text-lg md:text-xl text-purple-100 max-w-3xl",children:"Compare beliefs, practices, and worship experiences across Christian traditions."})]})}),(0,Jt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,Jt.jsx)("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-4 mb-8 shadow",children:(0,Jt.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,Jt.jsxs)("button",{onClick:()=>n&&n("explorer"),className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl border-2 border-slate-200 text-slate-700 hover:bg-slate-50 transition",children:[(0,Jt.jsx)(Qt,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{children:"Back to Explore"})]}),(0,Jt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[(0,Jt.jsxs)("button",{onClick:()=>i("compare"),className:"px-5 py-2.5 rounded-xl font-semibold transition inline-flex items-center justify-center gap-2 ".concat("compare"===r?"bg-purple-600 text-white shadow":"bg-slate-100 text-slate-700 hover:bg-slate-200"),children:[(0,Jt.jsx)(Er,{className:"w-5 h-5"}),"Compare Denominations"]}),(0,Jt.jsxs)("button",{onClick:()=>i("worship"),className:"px-5 py-2.5 rounded-xl font-semibold transition inline-flex items-center justify-center gap-2 ".concat("worship"===r?"bg-purple-600 text-white shadow":"bg-slate-100 text-slate-700 hover:bg-slate-200"),children:[(0,Jt.jsx)(Ut,{className:"w-5 h-5"}),"Worship Experiences"]})]})]})}),(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-6 md:p-8 shadow-lg",children:["compare"===r&&(0,Jt.jsxs)("div",{className:"space-y-6",children:[(0,Jt.jsxs)("div",{className:"mb-2",children:[(0,Jt.jsx)("h2",{className:"text-2xl font-black text-slate-900",children:"Compare Denominations"}),(0,Jt.jsx)("p",{className:"text-slate-600 text-sm",children:"Select 2-3 denominations to compare side-by-side"})]}),s.length<3&&(0,Jt.jsxs)("div",{className:"mb-2",children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-3",children:0===s.length?"Select denominations to compare:":"Select ".concat(3-s.length," more:")}),(0,Jt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:Object.keys(c).filter(e=>!s.includes(e)).map(e=>(0,Jt.jsxs)("button",{onClick:()=>a([...s,e]),className:"p-3 rounded-lg border-2 bg-white hover:shadow-lg transition-all hover:-translate-y-0.5 text-left",style:{borderColor:c[e].color},children:[(0,Jt.jsx)("div",{className:"font-serif text-sm text-slate-900",children:c[e].name}),(0,Jt.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:c[e].year})]},e))})]}),s.length>=2&&(0,Jt.jsxs)("div",{className:"space-y-6",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,Jt.jsx)("span",{className:"font-bold text-slate-900",children:"Comparing:"}),s.map(e=>(0,Jt.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full border-2",style:{borderColor:c[e].color,backgroundColor:"".concat(c[e].color,"20")},children:[(0,Jt.jsx)("span",{className:"font-medium text-slate-900",children:c[e].name}),(0,Jt.jsx)("button",{onClick:()=>a(s.filter(t=>t!==e)),className:"text-slate-500 hover:text-slate-700 font-bold",children:"\xd7"})]},e)),s.length<3&&(0,Jt.jsx)("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"+ Add another"})]}),(0,Jt.jsxs)("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 rounded-xl p-4 border border-slate-200",children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-4 text-lg",children:"Basic Information"}),(0,Jt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===s.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:s.map(e=>(0,Jt.jsxs)("div",{className:"bg-white rounded-lg p-4 border-2",style:{borderColor:c[e].color},children:[(0,Jt.jsx)("h5",{className:"font-bold text-lg mb-2",style:{color:c[e].color},children:c[e].fullName}),(0,Jt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("strong",{children:"Founded:"})," ",c[e].year]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("strong",{children:"Members:"})," ",c[e].members]})]})]},e))})]}),(0,Jt.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-5 border-2 border-green-400 shadow-sm",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Jt.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,Jt.jsx)("span",{className:"text-white text-lg font-bold",children:"\u2713"})}),(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 text-lg",children:"What We Share: Common Christian Beliefs"})]}),(0,Jt.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Jt.jsx)("p",{className:"text-sm text-slate-600 italic mb-4",children:"Despite our differences, all Christians confess these foundational truths together:"}),(0,Jt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-3",children:[(0,Jt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("span",{className:"font-semibold text-slate-900",children:"Trinity:"}),(0,Jt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"One God in three persons (Father, Son, Holy Spirit)"})]})]}),(0,Jt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("span",{className:"font-semibold text-slate-900",children:"Jesus Christ:"}),(0,Jt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Fully God and fully human, born of Virgin Mary"})]})]}),(0,Jt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("span",{className:"font-semibold text-slate-900",children:"Salvation:"}),(0,Jt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Through Jesus Christ's death and resurrection"})]})]}),(0,Jt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("span",{className:"font-semibold text-slate-900",children:"Resurrection:"}),(0,Jt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Christ physically rose from the dead"})]})]}),(0,Jt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("span",{className:"font-semibold text-slate-900",children:"Second Coming:"}),(0,Jt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Christ will return in glory to judge the living and the dead"})]})]}),(0,Jt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("span",{className:"font-semibold text-slate-900",children:"Scripture:"}),(0,Jt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"The Bible is God's inspired Word"})]})]}),(0,Jt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("span",{className:"font-semibold text-slate-900",children:"Baptism:"}),(0,Jt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Essential sacrament of Christian initiation"})]})]}),(0,Jt.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold text-lg flex-shrink-0",children:"\u2713"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("span",{className:"font-semibold text-slate-900",children:"Communion:"}),(0,Jt.jsx)("span",{className:"text-slate-700 text-sm ml-1",children:"Remembering and encountering Christ's sacrifice"})]})]})]})]})]}),(0,Jt.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-200",children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-4 text-lg",children:"Belief Comparison by Topic"}),(0,Jt.jsx)("p",{className:"text-sm text-slate-600 mb-4 italic",children:"Here's how these traditions understand key aspects of Christian faith:"}),(0,Jt.jsxs)("div",{className:"space-y-4",children:[(0,Jt.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Jt.jsx)("h5",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wide border-b-2 border-blue-200 pb-2",children:"\ud83d\udcd6 Scripture & Authority"}),(0,Jt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===s.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:s.map(e=>{let t="";return t="catholic"===e?"Scripture and Sacred Tradition through Church Magisterium":"orthodox"===e?"Scripture interpreted through Tradition and Seven Ecumenical Councils":"anglican"===e?"Scripture, Tradition, and Reason (three-legged stool)":"methodist"===e?"Scripture primary, supported by Tradition, Reason, Experience (Wesleyan Quadrilateral)":"lutheran"===e||"reformed"===e||"baptist"===e?"Sola Scriptura - Scripture alone as final authority":"pentecostal"===e?"Scripture as inspired, inerrant Word of God":"Scripture-centered (approaches vary)",(0,Jt.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 border-l-4",style:{borderColor:c[e].color},children:[(0,Jt.jsx)("div",{className:"font-semibold text-sm mb-2",style:{color:c[e].color},children:c[e].name}),(0,Jt.jsx)("div",{className:"text-sm text-slate-700",children:t})]},e)})}),(0,Jt.jsx)("div",{className:"mt-3 bg-green-50 border-l-4 border-green-500 rounded p-3",children:(0,Jt.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold",children:"\u2713 Agreement:"})," All affirm the Bible as God's inspired Word; differences lie in the role of tradition and church authority in interpretation"]})})]}),(0,Jt.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Jt.jsx)("h5",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wide border-b-2 border-blue-200 pb-2",children:"\u2728 Salvation & Grace"}),(0,Jt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===s.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:s.map(e=>{let t="";return t="catholic"===e?"Grace through faith and works cooperating; sacraments as channels of grace":"orthodox"===e?"Theosis (becoming one with God) through grace; synergy of divine and human will":"anglican"===e?"Salvation by grace through faith; works as evidence of living faith":"lutheran"===e?"Sola Fide - justification by faith alone through grace alone":"reformed"===e?"Total depravity; unconditional election; salvation entirely by grace (TULIP)":"methodist"===e?"Prevenient grace enables response; salvation by grace through faith (Arminian)":"baptist"===e?"Salvation by grace through faith alone; believer makes conscious decision":"pentecostal"===e?"Salvation by grace through faith; emphasis on personal conversion experience":"Salvation through Christ (various emphases)",(0,Jt.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 border-l-4",style:{borderColor:c[e].color},children:[(0,Jt.jsx)("div",{className:"font-semibold text-sm mb-2",style:{color:c[e].color},children:c[e].name}),(0,Jt.jsx)("div",{className:"text-sm text-slate-700",children:t})]},e)})}),(0,Jt.jsx)("div",{className:"mt-3 bg-green-50 border-l-4 border-green-500 rounded p-3",children:(0,Jt.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold",children:"\u2713 Agreement:"})," All affirm salvation is ultimately by God's grace through Christ; differences lie in how faith and works relate"]})})]}),(0,Jt.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Jt.jsx)("h5",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wide border-b-2 border-blue-200 pb-2",children:"\ud83c\udf5e Sacraments/Ordinances"}),(0,Jt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===s.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:s.map(e=>{let t="";return t="catholic"===e?"Seven sacraments; Real Presence (Transubstantiation) in Eucharist":"orthodox"===e?"Seven holy mysteries; Real Presence in Divine Liturgy":"anglican"===e?"Two sacraments ordained by Christ (Baptism, Eucharist) + five sacramental rites":"lutheran"===e?"Two sacraments (Baptism, Communion); Real Presence (Sacramental Union)":"reformed"===e?"Two sacraments as signs and seals; spiritual presence in Communion":"methodist"===e?"Two sacraments as means of grace; open table for Communion":"baptist"===e?"Two ordinances (symbolic): Believer's baptism by immersion, Lord's Supper":"pentecostal"===e?"Two ordinances (symbolic); emphasis on baptism in Holy Spirit with tongues":"Baptism and Communion observed (approaches vary)",(0,Jt.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 border-l-4",style:{borderColor:c[e].color},children:[(0,Jt.jsx)("div",{className:"font-semibold text-sm mb-2",style:{color:c[e].color},children:c[e].name}),(0,Jt.jsx)("div",{className:"text-sm text-slate-700",children:t})]},e)})}),(0,Jt.jsx)("div",{className:"mt-3 bg-green-50 border-l-4 border-green-500 rounded p-3",children:(0,Jt.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold",children:"\u2713 Agreement:"})," All practice Baptism and Communion/Eucharist as central acts commanded by Christ; differences lie in number, nature, and understanding"]})})]}),(0,Jt.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Jt.jsx)("h5",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wide border-b-2 border-blue-200 pb-2",children:"\u26ea Church Governance"}),(0,Jt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===s.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:s.map(e=>{let t="";return t="catholic"===e?"Papal monarchy: Pope as successor of Peter, bishops in apostolic succession":"orthodox"===e?"Conciliar: Patriarchs and bishops in apostolic succession, no single head":"anglican"===e?"Episcopal: Bishops, priests, deacons; autonomous provinces in communion":"lutheran"===e?"Varies: Episcopal (bishops) or congregational structure by region":"reformed"===e?"Presbyterian: Elders govern through councils and presbyteries":"methodist"===e?"Connexional: Bishops provide oversight; connected conferences":"baptist"===e?"Congregational: Each local church is fully autonomous and self-governing":"pentecostal"===e?"Varies widely: From episcopal to congregational structures":"Various structures (local autonomy common)",(0,Jt.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 border-l-4",style:{borderColor:c[e].color},children:[(0,Jt.jsx)("div",{className:"font-semibold text-sm mb-2",style:{color:c[e].color},children:c[e].name}),(0,Jt.jsx)("div",{className:"text-sm text-slate-700",children:t})]},e)})}),(()=>{const e=s.filter(e=>["catholic","orthodox","anglican","methodist"].includes(e)).length>=2,t=s.filter(e=>["baptist","pentecostal","nondenominational"].includes(e)).length>=2;return e?(0,Jt.jsx)("div",{className:"mt-3 bg-green-50 border-l-4 border-green-500 rounded p-3",children:(0,Jt.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold",children:"\u2713 Agreement:"})," Episcopal traditions share belief in apostolic succession through bishops"]})}):t?(0,Jt.jsx)("div",{className:"mt-3 bg-green-50 border-l-4 border-green-500 rounded p-3",children:(0,Jt.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,Jt.jsx)("span",{className:"text-green-600 font-bold",children:"\u2713 Agreement:"})," Congregational traditions share emphasis on local church autonomy"]})}):null})()]})]})]}),(0,Jt.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-slate-200",children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-4 text-lg",children:"Geographic Distribution (2025)"}),(0,Jt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===s.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:s.map(e=>(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h5",{className:"font-bold mb-3",style:{color:c[e].color},children:c[e].name}),(0,Jt.jsx)("div",{className:"space-y-2",children:(c[e].geographicDistribution||[]).slice(0,4).map((t,n)=>(0,Jt.jsxs)("div",{className:"text-sm",children:[(0,Jt.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,Jt.jsx)("span",{className:"text-slate-700 text-xs",children:t.region}),(0,Jt.jsx)("span",{className:"font-semibold text-xs",children:t.percentage})]}),(0,Jt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,Jt.jsx)("div",{className:"h-1.5 rounded-full",style:{width:t.percentage,backgroundColor:c[e].color}})})]},n))})]},e))})]}),(0,Jt.jsxs)("div",{className:"bg-amber-50 rounded-xl p-4 border border-amber-200",children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-4 text-lg",children:"Points of Debate & Distinctives"}),(0,Jt.jsx)("div",{className:"grid gap-4 grid-cols-1 ".concat(2===s.length?"md:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"),children:s.map(e=>(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h5",{className:"font-bold mb-2",style:{color:c[e].color},children:c[e].name}),(0,Jt.jsx)("ul",{className:"space-y-1.5",children:(c[e].debates||[]).slice(0,4).map((e,t)=>(0,Jt.jsxs)("li",{className:"flex gap-2 text-sm",children:[(0,Jt.jsx)("div",{className:"w-1 h-1 rounded-full bg-amber-600 mt-1.5 flex-shrink-0"}),(0,Jt.jsx)("span",{className:"text-slate-700",children:e})]},t))})]},e))})]}),(0,Jt.jsx)("div",{className:"flex justify-center gap-3 pt-2",children:(0,Jt.jsx)("button",{onClick:()=>a([]),className:"px-6 py-2 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-lg font-medium transition-colors",children:"Clear Selection"})})]}),1===s.length&&(0,Jt.jsxs)("div",{className:"text-center py-12 text-slate-500",children:[(0,Jt.jsx)("p",{className:"mb-2",children:"Select at least one more denomination to begin comparison"}),(0,Jt.jsx)("p",{className:"text-sm",children:"You can compare up to 3 denominations at once"})]}),0===s.length&&(0,Jt.jsxs)("div",{className:"text-center py-12 text-slate-500",children:[(0,Jt.jsx)(Gt,{className:"w-16 h-16 mx-auto mb-4 text-slate-300"}),(0,Jt.jsx)("p",{className:"text-lg font-medium mb-2",children:"Compare Denominations Side-by-Side"}),(0,Jt.jsx)("p",{className:"text-sm",children:"Select 2-3 denominations above to see detailed comparisons of their beliefs, governance, and geographic presence"})]})]}),"worship"===r&&(0,Jt.jsxs)("div",{className:"space-y-6",children:[!o&&(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h2",{className:"text-2xl font-black text-slate-900 mb-2",children:"Worship Experiences"}),(0,Jt.jsx)("p",{className:"text-slate-600 mb-6",children:"Select a denomination to explore what their worship services are like:"}),(0,Jt.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.keys(d).map(e=>(0,Jt.jsxs)("button",{onClick:()=>l(e),className:"p-4 rounded-xl border-2 hover:shadow-lg transition-all hover:-translate-y-1",style:{borderColor:c[e].color},children:[(0,Jt.jsx)("div",{className:"font-serif text-lg mb-1",style:{color:c[e].color},children:c[e].name}),(0,Jt.jsx)("div",{className:"text-sm text-slate-600",children:c[e].members})]},e))})]}),o&&d[o]&&(0,Jt.jsxs)("div",{className:"space-y-6",children:[(0,Jt.jsx)("button",{onClick:()=>l(null),className:"mb-2 text-emerald-600 hover:text-emerald-700 flex items-center gap-2 font-medium",children:"\u2190 Back to all denominations"}),(0,Jt.jsxs)("div",{className:"border-l-4 pl-4",style:{borderColor:c[o].color},children:[(0,Jt.jsx)("h3",{className:"text-2xl font-serif mb-1",style:{color:c[o].color},children:c[o].name}),(0,Jt.jsx)("p",{className:"text-lg text-slate-700 font-medium",children:d[o].serviceName}),(0,Jt.jsxs)("div",{className:"flex flex-wrap gap-4 mt-2 text-sm text-slate-600",children:[(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("span",{className:"font-semibold",children:"Length:"})," ",d[o].typicalLength]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("span",{className:"font-semibold",children:"Schedule:"})," ",d[o].schedule]})]})]}),(0,Jt.jsxs)("div",{className:"bg-emerald-50 border-2 border-emerald-300 rounded-xl p-4",children:[(0,Jt.jsxs)("h4",{className:"font-bold text-emerald-900 mb-2 flex items-center gap-2",children:[(0,Jt.jsx)("span",{className:"text-xl",children:"\ud83d\udc4b"})," First Time Visitor Tips"]}),(0,Jt.jsx)("p",{className:"text-sm text-emerald-900",children:d[o].firstTimeVisitor})]}),(0,Jt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,Jt.jsxs)("div",{className:"bg-slate-50 rounded-xl p-4",children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-3 text-sm uppercase tracking-wide border-b pb-2",children:"\ud83d\udccb Service Structure"}),(0,Jt.jsx)("ol",{className:"space-y-2",children:d[o].serviceStructure.map((e,t)=>(0,Jt.jsxs)("li",{className:"flex gap-3 text-sm",children:[(0,Jt.jsxs)("span",{className:"font-bold text-slate-400 flex-shrink-0",children:[t+1,"."]}),(0,Jt.jsx)("span",{className:"text-slate-700",children:e})]},t))})]}),(0,Jt.jsxs)("div",{className:"space-y-4",children:[(0,Jt.jsxs)("div",{className:"bg-slate-50 rounded-xl p-4",children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-2 text-sm uppercase tracking-wide",children:"\ud83c\udfb5 Music Style"}),(0,Jt.jsx)("p",{className:"text-sm text-slate-700",children:d[o].musicStyle})]}),(0,Jt.jsxs)("div",{className:"bg-slate-50 rounded-xl p-4",children:[(0,Jt.jsx)("h4",{className:"font-bold text-slate-900 mb-2 text-sm uppercase tracking-wide",children:"\ud83d\udc54 Dress Expectation"}),(0,Jt.jsx)("p",{className:"text-sm text-slate-700",children:d[o].dressExpectation})]})]})]}),(0,Jt.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[(0,Jt.jsxs)("h4",{className:"font-bold text-blue-900 mb-2 flex items-center gap-2",children:[(0,Jt.jsx)("span",{className:"text-xl",children:"\ud83c\udf5e"})," Communion / Eucharist"]}),(0,Jt.jsx)("p",{className:"text-sm text-blue-900 mb-2",children:d[o].communionDetails}),(0,Jt.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Jt.jsx)("span",{className:"font-semibold",children:"Participation:"})," ",d[o].participation]})]}),(0,Jt.jsxs)("div",{className:"bg-amber-50 rounded-xl p-4 border border-amber-200",children:[(0,Jt.jsxs)("h4",{className:"font-bold text-amber-900 mb-3 flex items-center gap-2",children:[(0,Jt.jsx)("span",{className:"text-xl",children:"\u2728"})," Unique Elements"]}),(0,Jt.jsx)("ul",{className:"space-y-2",children:d[o].uniqueElements.map((e,t)=>(0,Jt.jsxs)("li",{className:"flex gap-2 text-sm",children:[(0,Jt.jsx)("span",{className:"text-amber-600 flex-shrink-0",children:"\u2022"}),(0,Jt.jsx)("span",{className:"text-amber-900",children:e})]},t))})]})]})]})]})]})]})},Rr=zt("medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),Dr=zt("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),Lr=t=>{var r;let{currentUser:i,onNavigate:s,onGoBack:a,onSignOut:o}=t;const[l,c]=(0,e.useState)([]),[d,u]=(0,e.useState)(null),[h,m]=(0,e.useState)(null),[p,f]=(0,e.useState)(0),[g,y]=(0,e.useState)(!0),[b,x]=(0,e.useState)(""),v=async()=>{y(!0),x("");try{const e=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;try{const t=(0,gn.collection)(yn.db,"users"),n=await(0,gn.getDocs)(t),r=[];for(const e of n.docs){const t=e.data(),n=e.id,i=(0,gn.doc)(yn.db,"users",n,"progress","main"),s=await(0,gn.x7)(i),a=s.exists()&&s.data().totalXP||0;r.push({uid:t.uid||n,firstName:t.firstName,lastName:t.lastName,name:t.name,country:t.country,totalXP:a})}return r.sort((e,t)=>t.totalXP-e.totalXP),{success:!0,leaderboard:r.slice(0,e)}}catch(b){return console.error("Get leaderboard error:",b),{success:!1,error:b.message}}}(100);if(e.success){if(console.log("Leaderboard data:",e.leaderboard),e.leaderboard.length>0&&console.log("First user example:",e.leaderboard[0]),c(e.leaderboard),i)try{const e=await(async e=>{try{const t=await(0,gn.x7)((0,gn.doc)(yn.db,"users",e));return t.exists()?{success:!0,profile:t.data()}:{success:!1,error:"User profile not found"}}catch(b){return console.error("Get user profile error:",b),{success:!1,error:b.message}}})(i.uid);if(e.success){m(e.profile);const{getUserProgress:t}=await Promise.resolve().then(n.bind(n,54)),r=await t(i.uid),s=r.success&&r.progress&&r.progress.totalXP||0;f(s);const a=await(async e=>{try{const t=(0,gn.collection)(yn.db,"users"),n=(0,gn.query)(t,(0,gn.orderBy)("totalXP","desc")),r=await(0,gn.getDocs)(n);let i=1,s=!1;return r.forEach(t=>{t.data().uid!==e?s||i++:s=!0}),{success:!0,rank:s?i:null}}catch(b){return console.error("Get user rank error:",b),{success:!1,error:b.message}}})(i.uid);a.success&&u(a.rank)}}catch(b){console.error("Error loading user data:",b)}}else x(e.error)}catch(e){x("Failed to load leaderboard")}finally{y(!1)}};(0,e.useEffect)(()=>{v()},[]);const w=e=>1===e?(0,Jt.jsx)(Zt,{className:"w-6 h-6 text-yellow-500"}):2===e?(0,Jt.jsx)(Rr,{className:"w-6 h-6 text-gray-400"}):3===e?(0,Jt.jsx)(Rr,{className:"w-6 h-6 text-orange-600"}):(0,Jt.jsxs)("span",{className:"text-gray-600 font-bold",children:["#",e]}),N=e=>{if(!e)return console.warn("No country provided to getCountryFlag"),"\ud83c\udf0d";const t={"United States":"\ud83c\uddfa\ud83c\uddf8",Canada:"\ud83c\udde8\ud83c\udde6","United Kingdom":"\ud83c\uddec\ud83c\udde7",Australia:"\ud83c\udde6\ud83c\uddfa",Germany:"\ud83c\udde9\ud83c\uddea",France:"\ud83c\uddeb\ud83c\uddf7",Spain:"\ud83c\uddea\ud83c\uddf8",Italy:"\ud83c\uddee\ud83c\uddf9",Brazil:"\ud83c\udde7\ud83c\uddf7",Mexico:"\ud83c\uddf2\ud83c\uddfd",Argentina:"\ud83c\udde6\ud83c\uddf7",India:"\ud83c\uddee\ud83c\uddf3",China:"\ud83c\udde8\ud83c\uddf3",Japan:"\ud83c\uddef\ud83c\uddf5","South Korea":"\ud83c\uddf0\ud83c\uddf7",Philippines:"\ud83c\uddf5\ud83c\udded",Indonesia:"\ud83c\uddee\ud83c\udde9",Nigeria:"\ud83c\uddf3\ud83c\uddec","South Africa":"\ud83c\uddff\ud83c\udde6",Kenya:"\ud83c\uddf0\ud83c\uddea",Other:"\ud83c\udf0d"}[e];return t||(console.warn('No flag found for country: "'.concat(e,'"')),"\ud83c\udf0d")};return(0,Jt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 pb-20",children:(0,Jt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,Jt.jsxs)("div",{className:"mb-8",children:[a&&(0,Jt.jsxs)("button",{onClick:a,className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-slate-200 rounded-xl hover:border-blue-500 hover:text-blue-600 transition mb-4 font-semibold",children:[(0,Jt.jsx)(Qt,{className:"w-4 h-4"}),"Back"]}),(0,Jt.jsx)("div",{className:"flex items-center justify-between",children:(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h1",{className:"text-4xl font-black text-gray-900 mb-2",children:"Global Leaderboard"}),(0,Jt.jsx)("p",{className:"text-lg text-gray-600",children:"Top learners from around the world"})]})})]}),i&&d&&(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-6 text-white mb-6 shadow-xl",children:(0,Jt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Jt.jsx)("div",{className:"bg-white/20 p-3 rounded-xl",children:(0,Jt.jsx)("div",{className:"text-4xl",children:(null===h||void 0===h?void 0:h.country)&&N(h.country)})}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsxs)("p",{className:"text-blue-100 text-sm font-medium",children:[(null===h||void 0===h?void 0:h.firstName)||(null===(r=i.displayName)||void 0===r?void 0:r.split(" ")[0])||"Your"," Rank"]}),(0,Jt.jsxs)("p",{className:"text-3xl font-black",children:["#",d]})]})]}),(0,Jt.jsxs)("div",{className:"text-right",children:[(0,Jt.jsx)("p",{className:"text-blue-100 text-sm font-medium",children:"Total XP"}),(0,Jt.jsx)("p",{className:"text-3xl font-black",children:p})]})]})}),(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6",children:(0,Jt.jsxs)("div",{className:"flex items-center gap-3 text-white",children:[(0,Jt.jsx)(Dr,{className:"w-6 h-6"}),(0,Jt.jsx)("h2",{className:"text-2xl font-black",children:"Top 100 Leaders"})]})}),g?(0,Jt.jsxs)("div",{className:"p-12 text-center",children:[(0,Jt.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"}),(0,Jt.jsx)("p",{className:"text-gray-600 mt-4",children:"Loading leaderboard..."})]}):b?(0,Jt.jsxs)("div",{className:"p-12 text-center",children:[(0,Jt.jsx)("p",{className:"text-red-600 mb-4",children:b}),(0,Jt.jsx)("button",{onClick:v,className:"px-6 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition font-semibold",children:"Try Again"})]}):0===l.length?(0,Jt.jsxs)("div",{className:"p-12 text-center text-gray-600",children:[(0,Jt.jsx)(Xt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,Jt.jsx)("p",{className:"text-lg font-semibold",children:"Be the first on the leaderboard!"}),(0,Jt.jsx)("p",{className:"text-sm",children:"Complete lessons to earn XP and claim your spot"})]}):(0,Jt.jsx)("div",{className:"divide-y divide-gray-100",children:l.map((e,t)=>{const n=t+1,r=i&&e.uid===i.uid;return r&&(console.log("Current user on leaderboard:",e),console.log("- firstName:",e.firstName),console.log("- lastName:",e.lastName),console.log("- name:",e.name),console.log("- country:",e.country),console.log("- All fields:",Object.keys(e))),(0,Jt.jsxs)("div",{className:"p-4 flex items-center gap-4 transition ".concat(r?"bg-blue-50":"hover:bg-gray-50"),children:[(0,Jt.jsx)("div",{className:"w-12 flex justify-center",children:w(n)}),(0,Jt.jsxs)("div",{className:"flex-1",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jt.jsx)("span",{className:"text-2xl",role:"img","aria-label":e.country||"Country",children:e.country?N(e.country):"\ud83c\udf0d"}),(0,Jt.jsxs)("p",{className:"font-bold text-lg ".concat(r?"text-blue-600":"text-gray-900"),children:[e.firstName||e.name||r&&(null===i||void 0===i?void 0:i.displayName)||"User"," ",r&&(0,Jt.jsx)("span",{className:"text-sm font-normal",children:"(You)"})]})]}),(0,Jt.jsx)("p",{className:"text-sm text-gray-500 ml-9",children:e.country||"Unknown"})]}),(0,Jt.jsxs)("div",{className:"text-right",children:[(0,Jt.jsx)("p",{className:"text-2xl font-black text-amber-600",children:e.totalXP}),(0,Jt.jsx)("p",{className:"text-xs text-gray-500",children:"XP"})]})]},e.uid)})})]}),!i&&(0,Jt.jsxs)("div",{className:"mt-6 bg-blue-50 border-2 border-blue-200 rounded-2xl p-6 text-center",children:[(0,Jt.jsx)(Zt,{className:"w-12 h-12 text-blue-600 mx-auto mb-3"}),(0,Jt.jsx)("p",{className:"text-lg font-bold text-gray-900 mb-2",children:"Want to join the leaderboard?"}),(0,Jt.jsx)("p",{className:"text-gray-600 mb-4",children:"Create an account to track your progress and compete globally"}),(0,Jt.jsx)("button",{onClick:()=>s("home"),className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl font-bold hover:from-blue-600 hover:to-purple-700 transition shadow-lg",children:"Sign Up Now"})]})]})})},Or=zt("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),Mr=zt("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),Br=t=>{let{onSuccess:n,onClose:i}=t;const[s,a]=(0,e.useState)(!0),[o,l]=(0,e.useState)(!1),[c,d]=(0,e.useState)(""),[u,h]=(0,e.useState)({firstName:"",lastName:"",email:"",password:"",country:""}),m=["United States","Canada","United Kingdom","Australia","Germany","France","Spain","Italy","Brazil","Mexico","Argentina","India","China","Japan","South Korea","Philippines","Indonesia","Nigeria","South Africa","Kenya","Other"].sort(),p=e=>{h((0,r.A)((0,r.A)({},u),{},{[e.target.name]:e.target.value})),d("")};return(0,Jt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 relative",children:[(0,Jt.jsx)("button",{onClick:i,className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-gray-100 transition",children:(0,Jt.jsx)(sn,{className:"w-5 h-5 text-gray-500"})}),(0,Jt.jsxs)("div",{className:"text-center mb-6",children:[(0,Jt.jsx)("h2",{className:"text-3xl font-black text-gray-900 mb-2",children:s?"Create Account":"Welcome Back"}),(0,Jt.jsx)("p",{className:"text-gray-600",children:s?"Sign up to track progress and compete globally":"Sign in to access your progress and rankings"})]}),c&&(0,Jt.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:c}),(0,Jt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(!0),d("");try{let e;if(s){if(!u.firstName||!u.lastName||!u.country)return d("Please fill in all fields"),void l(!1);e=await async function(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;try{const a=(await(0,fn.eJ)(yn.j,e,t)).user,o="".concat(n," ").concat(r);return await(0,fn.r7)(a,{displayName:o}),await(0,gn.BN)((0,gn.doc)(yn.db,"users",a.uid),{uid:a.uid,email:e,firstName:n,lastName:r,country:i,totalXP:s,createdAt:(new Date).toISOString(),lastUpdated:(new Date).toISOString(),termsAccepted:!0,termsVersion:"1.0",termsAcceptedDate:(new Date).toISOString()}),{success:!0,user:a}}catch(c){return console.error("Sign up error:",c),{success:!1,error:c.message}}}(u.email,u.password,u.firstName,u.lastName,u.country,0)}else e=await(async(e,t)=>{try{return{success:!0,user:(await(0,fn.x9)(yn.j,e,t)).user}}catch(c){return console.error("Sign in error:",c),{success:!1,error:c.message}}})(u.email,u.password);e.success?n(e.user):d(e.error)}catch(t){d("An unexpected error occurred")}finally{l(!1)}},className:"space-y-4",children:[s&&(0,Jt.jsx)(Jt.Fragment,{children:(0,Jt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"First Name"}),(0,Jt.jsxs)("div",{className:"relative",children:[(0,Jt.jsx)(ir,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,Jt.jsx)("input",{type:"text",name:"firstName",value:u.firstName,onChange:p,className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition",placeholder:"John",required:!0})]})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Last Name"}),(0,Jt.jsxs)("div",{className:"relative",children:[(0,Jt.jsx)(ir,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,Jt.jsx)("input",{type:"text",name:"lastName",value:u.lastName,onChange:p,className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition",placeholder:"Doe",required:!0})]})]})]})}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),(0,Jt.jsxs)("div",{className:"relative",children:[(0,Jt.jsx)(Or,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,Jt.jsx)("input",{type:"email",name:"email",value:u.email,onChange:p,className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition",placeholder:"you@example.com",required:!0})]})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),(0,Jt.jsxs)("div",{className:"relative",children:[(0,Jt.jsx)(tn,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,Jt.jsx)("input",{type:"password",name:"password",value:u.password,onChange:p,className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",minLength:6,required:!0})]}),s&&(0,Jt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 6 characters"})]}),s&&(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Country"}),(0,Jt.jsxs)("div",{className:"relative",children:[(0,Jt.jsx)(Gt,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,Jt.jsxs)("select",{name:"country",value:u.country,onChange:p,className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition appearance-none bg-white",required:!0,children:[(0,Jt.jsx)("option",{value:"",children:"Select your country"}),m.map(e=>(0,Jt.jsx)("option",{value:e,children:e},e))]})]})]}),s&&(0,Jt.jsx)("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:(0,Jt.jsxs)("label",{className:"flex items-start space-x-3 cursor-pointer",children:[(0,Jt.jsx)("input",{type:"checkbox",required:!0,className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,Jt.jsxs)("span",{className:"text-sm text-slate-700 leading-relaxed",children:["I agree to the"," ",(0,Jt.jsx)(dt,{to:"/legal",target:"_blank",className:"text-blue-600 hover:underline font-semibold",children:"Terms of Service"})," ","and"," ",(0,Jt.jsx)(dt,{to:"/legal",target:"_blank",className:"text-blue-600 hover:underline font-semibold",children:"Privacy Policy"})]})]})}),(0,Jt.jsx)("button",{type:"submit",disabled:o,className:"w-full py-3 rounded-xl font-bold text-white transition shadow-lg ".concat(o?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700"),children:o?"Please wait...":s?(0,Jt.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,Jt.jsx)(ur,{className:"w-5 h-5"})," Create Account"]}):(0,Jt.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,Jt.jsx)(Mr,{className:"w-5 h-5"})," Sign In"]})})]}),(0,Jt.jsx)("div",{className:"mt-6 text-center",children:(0,Jt.jsx)("button",{onClick:()=>{a(!s),d(""),h({firstName:"",lastName:"",email:"",password:"",country:""})},className:"text-blue-600 hover:text-blue-700 font-semibold text-sm",children:s?"Already have an account? Sign in":"Don't have an account? Sign up"})}),s&&(0,Jt.jsxs)("div",{className:"mt-4 text-center text-xs text-slate-500",children:["By creating an account, you agree to our"," ",(0,Jt.jsx)(dt,{to:"/legal",onClick:i,className:"text-blue-600 hover:underline",children:"Terms of Service"})," ","and"," ",(0,Jt.jsx)(dt,{to:"/legal",onClick:i,className:"text-blue-600 hover:underline",children:"Privacy Policy"})]})]})})},Fr=e=>{let{onSignUp:t,onDismiss:n,xp:r}=e;return(0,Jt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 relative animate-slideUp",children:[(0,Jt.jsx)("button",{onClick:n,className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-gray-100 transition",children:(0,Jt.jsx)(sn,{className:"w-5 h-5 text-gray-500"})}),(0,Jt.jsx)("div",{className:"flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mx-auto mb-4",children:(0,Jt.jsx)(Zt,{className:"w-10 h-10 text-white"})}),(0,Jt.jsx)("h2",{className:"text-3xl font-black text-gray-900 text-center mb-2",children:"Great Start! \ud83c\udf89"}),(0,Jt.jsxs)("p",{className:"text-gray-600 text-center mb-6",children:["You've earned ",(0,Jt.jsxs)("span",{className:"font-bold text-amber-600",children:[r," XP"]}),"! Create an account to save your progress and compete on the global leaderboard."]}),(0,Jt.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-3 mb-4",children:(0,Jt.jsxs)("p",{className:"text-sm text-amber-900 text-center",children:[(0,Jt.jsxs)("span",{className:"font-bold",children:["Your ",r," XP will be saved"]})," when you sign up! \ud83c\udfaf"]})}),(0,Jt.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 mb-6",children:[(0,Jt.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,Jt.jsx)(cr,{className:"w-5 h-5 text-purple-600 mt-0.5 flex-shrink-0"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("p",{className:"font-semibold text-gray-900 text-sm",children:"Save Your Progress"}),(0,Jt.jsx)("p",{className:"text-gray-600 text-xs",children:"Never lose your learning streak"})]})]}),(0,Jt.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,Jt.jsx)(Zt,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("p",{className:"font-semibold text-gray-900 text-sm",children:"Global Leaderboard"}),(0,Jt.jsx)("p",{className:"text-gray-600 text-xs",children:"Compete with learners worldwide"})]})]}),(0,Jt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Jt.jsx)(cr,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("p",{className:"font-semibold text-gray-900 text-sm",children:"Track Across Devices"}),(0,Jt.jsx)("p",{className:"text-gray-600 text-xs",children:"Continue learning anywhere"})]})]})]}),(0,Jt.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,Jt.jsx)("button",{onClick:t,className:"w-full px-6 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-bold hover:from-blue-700 hover:to-purple-700 transition shadow-lg hover:shadow-xl",children:"Create Free Account"}),(0,Jt.jsx)("button",{onClick:n,className:"w-full px-6 py-3 text-gray-600 hover:text-gray-800 font-medium transition",children:"Maybe Later"})]})]})})},zr=zt("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),qr=zt("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),Wr=zt("shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]),Ur=zt("book-marked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]),Vr=zt("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),Hr=e=>{if(!e)return null;return e.split("\n").filter(e=>e.trim()).map((e,t)=>{const n=e.trim(),r=n.match(/^[-*\u2022]\s+(.+)$/),i=n.match(/^\d+\.\s+(.+)$/);return r?(0,Jt.jsx)("li",{className:"ml-6 mb-2 text-gray-700 text-lg leading-relaxed",children:r[1]},t):i?(0,Jt.jsx)("li",{className:"ml-6 mb-2 text-gray-700 text-lg leading-relaxed list-decimal",children:i[1]},t):(0,Jt.jsx)("p",{className:"text-gray-700 text-lg leading-relaxed mb-4",children:n},t)})},Gr=e=>{var t;let{card:n}=e;return(0,Jt.jsxs)("div",{className:"p-10",children:[(0,Jt.jsx)("h2",{className:"text-4xl font-black text-gray-900 mb-3",children:n.title}),n.subtitle&&(0,Jt.jsx)("p",{className:"text-xl text-purple-600 font-semibold mb-8",children:n.subtitle}),(0,Jt.jsx)("div",{className:"prose prose-lg max-w-none",children:null===(t=n.content)||void 0===t?void 0:t.map((e,t)=>(0,Jt.jsx)("div",{className:"mb-3",children:Hr(e)},t))}),n.highlight&&(0,Jt.jsx)("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-purple-50 border-l-4 border-purple-500 p-5 rounded-xl",children:(0,Jt.jsx)("p",{className:"text-purple-900 font-semibold text-lg",children:n.highlight})})]})},Jr=t=>{var n;let{card:r,cardIndex:i,answer:s,showFeedback:a,onAnswer:o}=t;const[l,c]=(0,e.useState)(s);return(0,Jt.jsxs)("div",{className:"p-10",children:[(0,Jt.jsx)("h3",{className:"text-3xl font-black text-gray-900 mb-2",children:"Knowledge Check"}),(0,Jt.jsx)("p",{className:"text-gray-600 text-lg mb-8",children:"Test your understanding of what you just learned!"}),(0,Jt.jsxs)("div",{className:"mb-8",children:[(0,Jt.jsx)("p",{className:"text-xl font-bold text-gray-800 mb-6",children:r.question}),(0,Jt.jsx)("div",{className:"space-y-3",children:null===(n=r.options)||void 0===n?void 0:n.map((e,t)=>{const n=l===t,s=t===r.correctAnswer;let d="w-full text-left p-5 rounded-xl border-2 transition font-medium text-gray-800 shadow-sm ";return d+=a?s?"border-green-500 bg-green-50 text-green-900":n&&!s?"border-red-500 bg-red-50 text-red-900":"border-gray-200 bg-gray-50":n?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 hover:border-purple-300 hover:bg-purple-50 hover:shadow-md",(0,Jt.jsxs)("button",{onClick:()=>!a&&(e=>{c(e);const t=e===r.correctAnswer;o(i,e,t)})(t),disabled:a,className:d,children:[(0,Jt.jsxs)("span",{className:"font-bold mr-3 text-gray-600",children:[String.fromCharCode(65+t),"."]}),e]},t)})})]}),a&&(0,Jt.jsxs)("div",{className:"p-5 rounded-xl border-l-4 ".concat(l===r.correctAnswer?"bg-green-50 border-green-500":"bg-blue-50 border-blue-500"),children:[(0,Jt.jsx)("p",{className:"font-bold text-lg mb-2",children:l===r.correctAnswer?"\u2713 Correct! +10 XP":"Explanation:"}),(0,Jt.jsx)("p",{className:"text-gray-800 text-lg leading-relaxed",children:r.explanation})]})]})},Kr=e=>{let{card:t}=e;return(0,Jt.jsxs)("div",{className:"p-10",children:[(0,Jt.jsxs)("div",{className:"text-center mb-8",children:[(0,Jt.jsx)(Vr,{className:"w-20 h-20 text-purple-500 mx-auto mb-4"}),(0,Jt.jsx)("h2",{className:"text-4xl font-black text-gray-900 mb-3",children:t.title})]}),(0,Jt.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-8 mb-6",children:[(0,Jt.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:t.question}),(0,Jt.jsx)("p",{className:"text-gray-700 text-lg leading-relaxed",children:t.prompt})]}),(0,Jt.jsxs)("div",{className:"bg-white border-2 border-purple-200 rounded-xl p-6",children:[(0,Jt.jsx)("p",{className:"text-gray-600 mb-4 font-semibold",children:"Take a moment to reflect:"}),(0,Jt.jsx)("textarea",{className:"w-full h-32 p-4 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none resize-none",placeholder:"Write your thoughts here..."})]})]})},Yr=t=>{let{card:n,xp:r,onComplete:i}=t;const[s,a]=(0,e.useState)(!1);return(0,Jt.jsx)("div",{className:"p-10 text-center",children:s?(0,Jt.jsxs)("div",{className:"py-12",children:[(0,Jt.jsx)(Zt,{className:"w-32 h-32 text-yellow-500 mx-auto mb-6 animate-bounce"}),(0,Jt.jsx)("h2",{className:"text-5xl font-black text-gray-900 mb-4",children:"Awesome! \ud83c\udf89"}),(0,Jt.jsx)("p",{className:"text-2xl text-gray-600",children:"Returning to AI Creator..."})]}):(0,Jt.jsxs)(Jt.Fragment,{children:[(0,Jt.jsxs)("div",{className:"mb-8",children:[(0,Jt.jsx)(Xt,{className:"w-28 h-28 text-yellow-500 mx-auto mb-6"}),(0,Jt.jsx)("h2",{className:"text-4xl font-black text-gray-900 mb-4",children:n.title}),(0,Jt.jsx)("p",{className:"text-xl text-gray-600 leading-relaxed",children:n.message})]}),(0,Jt.jsxs)("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 rounded-2xl p-8 mb-8 border-2 border-yellow-200 shadow-lg",children:[(0,Jt.jsx)("p",{className:"text-2xl font-bold text-gray-800 mb-3",children:"Total XP Earned"}),(0,Jt.jsx)("p",{className:"text-6xl font-black text-yellow-600",children:r})]}),(0,Jt.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 rounded-2xl p-8 mb-8 border-2 border-purple-200 shadow-lg",children:[(0,Jt.jsx)("div",{className:"flex items-center justify-center gap-2 mb-3",children:(0,Jt.jsx)(cr,{className:"w-8 h-8 text-purple-600"})}),(0,Jt.jsx)("p",{className:"text-2xl font-black text-purple-700",children:"AI-Generated Lesson"}),(0,Jt.jsx)("p",{className:"text-base text-gray-600 mt-2",children:"You've completed a custom AI lesson!"})]}),(0,Jt.jsx)("button",{onClick:async()=>{a(!0),await i()},className:"px-10 py-5 bg-gradient-to-r from-blue-500 to-purple-600 text-white text-xl rounded-2xl font-black hover:from-blue-600 hover:to-purple-700 transition shadow-xl hover:shadow-2xl",children:"Complete Lesson! \ud83c\udf89"})]})})},Qr=t=>{var i;let{lesson:s,currentUser:a,onComplete:o,onGoBack:l,onProgressUpdate:c}=t;const[d,u]=(0,e.useState)(0),[h,m]=(0,e.useState)({}),[p,f]=(0,e.useState)({}),[g,y]=(0,e.useState)(!1),[b,x]=(0,e.useState)(0);(0,e.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[d]);const v=[];v.push({type:"content",title:s.title,subtitle:s.subtitle,content:[s.introduction]}),null===(i=s.sections)||void 0===i||i.forEach((e,t)=>{var n;v.push({type:"content",title:e.title,subtitle:"Section ".concat(t+1),content:e.content.split("\n\n"),highlight:(null===(n=e.keyPoints)||void 0===n?void 0:n.length)>0?e.keyPoints.join(" \u2022 "):null}),e.quiz&&v.push({type:"quiz",question:e.quiz.question,options:e.quiz.options,correctAnswer:e.quiz.correct,explanation:e.quiz.explanation||"Great job!"})}),s.quiz&&Array.isArray(s.quiz)&&s.quiz.forEach((e,t)=>{v.push({type:"quiz",question:e.question,options:e.options,correctAnswer:e.correct,explanation:e.explanation||"Great job!"})}),s.reflection&&v.push({type:"reflection",title:"Reflection",question:s.reflection.question,prompt:s.reflection.prompt}),v.push({type:"completion",title:"Lesson Complete!",message:"Congratulations! You've finished the AI-generated lesson on \"".concat(s.originalTopic,'".')});const w=v.length,N=(d+1)/w*100,k=v[d]||{};return s?(0,Jt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50",children:[(0,Jt.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm shadow-md py-4 px-4",children:(0,Jt.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Jt.jsx)("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-gray-200 rounded-xl hover:border-purple-500 hover:text-purple-600 transition font-semibold",children:(0,Jt.jsx)(sn,{className:"w-5 h-5"})}),(0,Jt.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl shadow-lg",children:[(0,Jt.jsx)(en,{className:"w-5 h-5 text-white fill-white"}),(0,Jt.jsxs)("span",{className:"font-black text-white text-lg",children:[b," XP"]})]})]}),(0,Jt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jt.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-3 overflow-hidden",children:(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-full transition-all duration-500 ease-out",style:{width:"".concat(N,"%")}})}),(0,Jt.jsxs)("span",{className:"text-sm font-bold text-gray-600 min-w-[60px] text-right",children:[d+1," / ",w]})]}),(0,Jt.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-blue-600 px-3 py-1 rounded-full",children:(0,Jt.jsxs)("div",{className:"flex items-center gap-2 text-white text-xs font-semibold",children:[(0,Jt.jsx)(cr,{className:"w-3 h-3"}),"AI Generated"]})}),(0,Jt.jsx)("span",{className:"text-gray-500 text-xs",children:s.originalTopic})]})]})}),(0,Jt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,Jt.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden min-h-[500px]",children:["content"===k.type&&(0,Jt.jsx)(Gr,{card:k}),"quiz"===k.type&&(0,Jt.jsx)(Jr,{card:k,cardIndex:d,answer:h[d],showFeedback:p[d],onAnswer:(e,t,n)=>{m(n=>(0,r.A)((0,r.A)({},n),{},{[e]:t})),f(t=>(0,r.A)((0,r.A)({},t),{},{[e]:!0})),n&&x(e=>e+10)}}),"reflection"===k.type&&(0,Jt.jsx)(Kr,{card:k}),"completion"===k.type&&(0,Jt.jsx)(Yr,{card:k,xp:b+(s.xpReward||50),onComplete:async()=>{if(!g){try{const e=b+(s.xpReward||50);if(a){if((await(0,On.lr)(a.uid,"ai_generated",s.id,e)).success){if(await wn("ai_generated",s.id),s.pathId){const{saveAIPathProgressToFirestore:e,getAIPathProgressFromFirestore:t}=await Promise.resolve().then(n.bind(n,54)),r=await t(a.uid,s.pathId),i=r.success&&r.progress&&r.progress.completedLessons||[];if(!i.includes(s.id)){const t=[...i,s.id];await e(a.uid,s.pathId,t),console.log("\u2705 Updated AI path progress:",s.pathId,t.length,"lessons")}}y(!0),c&&await c()}}else console.warn("\u26a0\ufe0f User not authenticated - lesson progress not saved"),y(!0);o&&o({xpEarned:e,topic:s.originalTopic})}catch(e){console.error("Error completing AI lesson:",e)}setTimeout(()=>{l&&l()},1500)}}})]}),(0,Jt.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,Jt.jsxs)("button",{onClick:()=>{d>0&&u(e=>e-1)},disabled:0===d,className:"flex items-center gap-2 px-6 py-4 rounded-2xl font-bold transition text-lg ".concat(0===d?"bg-gray-100 text-gray-300 cursor-not-allowed":"bg-white text-gray-700 border-2 border-gray-300 hover:border-blue-500 hover:text-blue-600 shadow-md hover:shadow-lg"),children:[(0,Jt.jsx)(an,{className:"w-5 h-5"}),"Back"]}),d<w-1?(0,Jt.jsxs)("button",{onClick:()=>{d<w-1&&u(e=>e+1)},className:"flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-2xl font-bold hover:from-blue-600 hover:to-purple-700 transition shadow-lg hover:shadow-xl text-lg",children:["Continue",(0,Jt.jsx)(rn,{className:"w-5 h-5"})]}):null]})]})]}):(0,Jt.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Jt.jsx)("p",{className:"text-gray-600",children:"Lesson not found"})})},Xr=t=>{var r,i;let{path:s,currentUser:a,onGoBack:o}=t;const[l,c]=(0,e.useState)([]),[d,u]=(0,e.useState)(null);(0,e.useEffect)(()=>{(async()=>{if(null!==a&&void 0!==a&&a.uid)try{var e;const{getAIPathProgressFromFirestore:t}=await Promise.resolve().then(n.bind(n,54)),r=await t(a.uid,s.id);if(r.success&&null!==(e=r.progress)&&void 0!==e&&e.completedLessons)return void c(r.progress.completedLessons)}catch(t){console.error("Error loading progress from Firestore:",t)}c([])})()},[s.id,a]),(0,e.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const h={total:(null===(r=s.lessons)||void 0===r?void 0:r.length)||0,completed:l.length,percentage:(null===(i=s.lessons)||void 0===i?void 0:i.length)>0?Math.round(l.length/s.lessons.length*100):0};if(null!==d){const e=s.lessons[d];return(0,Jt.jsx)(Qr,{lesson:e,currentUser:a,onComplete:e=>{(async e=>{if(!l.includes(e)){const r=[...l,e];if(c(r),null!==a&&void 0!==a&&a.uid)try{const{saveAIPathProgressToFirestore:e}=await Promise.resolve().then(n.bind(n,54));await e(a.uid,s.id,r),console.log("\u2705 AI path progress saved to Firestore")}catch(t){console.error("Error saving progress to Firestore:",t)}}})(d),u(null),window.scrollTo({top:0,behavior:"smooth"})},onGoBack:()=>{u(null),window.scrollTo({top:0,behavior:"smooth"})}})}return(0,Jt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50",children:[(0,Jt.jsxs)("div",{className:"relative overflow-hidden text-white py-16 px-4",children:[(0,Jt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500 via-blue-500 to-purple-700 animate-gradient-shift"}),(0,Jt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tl from-blue-500 via-purple-500 to-blue-700 opacity-60 animate-gradient-shift-reverse"}),(0,Jt.jsxs)("div",{className:"relative max-w-4xl mx-auto text-center z-10",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,Jt.jsx)(cr,{className:"w-12 h-12 mr-3"}),(0,Jt.jsx)("h1",{className:"text-4xl md:text-5xl font-bold",children:s.title||"AI Learning Path"})]}),s.description&&(0,Jt.jsx)("p",{className:"text-xl md:text-2xl text-purple-100 mb-6",children:s.description}),(0,Jt.jsxs)("p",{className:"text-lg text-purple-50 max-w-2xl mx-auto",children:[1===h.total?"A comprehensive lesson":"A ".concat(h.total,"-Lesson Journey")," \u2022 Track your progress as you learn"]})]})]}),(0,Jt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,Jt.jsxs)("button",{onClick:o,className:"inline-flex items-center gap-2 px-4 py-2 mb-6 rounded-xl border-2 border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition",children:[(0,Jt.jsx)(Qt,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{children:"Back to AI Paths"})]}),(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-12 border-2 border-purple-100",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center",children:[(0,Jt.jsx)(Xt,{className:"w-8 h-8 text-purple-600 mr-3"}),(0,Jt.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Your Progress"})]}),(0,Jt.jsxs)("span",{className:"text-3xl md:text-4xl font-bold text-purple-600",children:[h.percentage,"%"]})]}),(0,Jt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-6",children:(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-4 rounded-full transition-all duration-500",style:{width:"".concat(h.percentage,"%")}})}),(0,Jt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Jt.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2 text-purple-700 mb-1",children:[(0,Jt.jsx)($t,{className:"w-5 h-5"}),(0,Jt.jsx)("span",{className:"text-sm font-semibold",children:"Completed"})]}),(0,Jt.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:h.completed})]}),(0,Jt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2 text-blue-700 mb-1",children:[(0,Jt.jsx)(Wt,{className:"w-5 h-5"}),(0,Jt.jsx)("span",{className:"text-sm font-semibold",children:"Remaining"})]}),(0,Jt.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:h.total-h.completed})]}),(0,Jt.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 rounded-lg p-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2 text-purple-700 mb-1",children:[(0,Jt.jsx)(en,{className:"w-5 h-5"}),(0,Jt.jsx)("span",{className:"text-sm font-semibold",children:"Total"})]}),(0,Jt.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:h.total})]}),(0,Jt.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg p-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2 text-blue-700 mb-1",children:[(0,Jt.jsx)(Zt,{className:"w-5 h-5"}),(0,Jt.jsx)("span",{className:"text-sm font-semibold",children:"Progress"})]}),(0,Jt.jsxs)("p",{className:"text-2xl font-bold text-blue-900",children:[h.percentage,"%"]})]})]})]}),(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-8 border-2 border-slate-100",children:[(0,Jt.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Jt.jsx)(Wt,{className:"w-8 h-8 text-purple-600 mr-3"}),(0,Jt.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:1===h.total?"Lesson":"".concat(h.total,"-Lesson Curriculum")})]}),(0,Jt.jsx)("p",{className:"text-gray-700 mb-8 text-lg",children:1===h.total?"Click the lesson below to begin your learning journey.":"Click any lesson below to explore the content. Each lesson builds on the previous one."}),(0,Jt.jsx)("div",{className:"space-y-4",children:s.lessons&&s.lessons.map((e,t)=>{const n=l.includes(t),r=0===(i=t)||l.includes(i-1);var i;return(0,Jt.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border-2 transition-all ".concat(n?"border-green-400":r?"border-gray-200":"border-gray-300 opacity-60"),children:(0,Jt.jsx)("button",{onClick:()=>r&&u(t),disabled:!r,className:"w-full p-6 transition ".concat(r?"hover:bg-gray-50 cursor-pointer":"cursor-not-allowed"),children:(0,Jt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Jt.jsx)("div",{className:"w-12 h-12 min-w-[3rem] rounded-full flex items-center justify-center text-xl font-bold flex-shrink-0 ".concat(n?"bg-green-100 text-green-700":r?"bg-purple-100 text-purple-700":"bg-gray-200 text-gray-400"),children:n?(0,Jt.jsx)($t,{className:"w-6 h-6"}):t+1}),(0,Jt.jsxs)("div",{className:"text-left",children:[(0,Jt.jsx)("h3",{className:"text-xl font-bold ".concat(r?"text-gray-800":"text-gray-400"),children:e.title||"Lesson ".concat(t+1)}),e.subtitle&&(0,Jt.jsx)("p",{className:"".concat(r?"text-gray-600":"text-gray-400"),children:e.subtitle})]})]}),r?n?(0,Jt.jsx)("span",{className:"text-sm font-bold text-green-600 bg-green-100 px-4 py-2 rounded-full",children:"Complete"}):(0,Jt.jsx)("span",{className:"text-sm font-bold text-purple-600 bg-purple-100 px-4 py-2 rounded-full",children:"Start"}):(0,Jt.jsx)("div",{className:"flex items-center justify-center",children:(0,Jt.jsx)(tn,{className:"w-6 h-6 text-gray-400 flex-shrink-0"})})]})})},t)})})]}),100===h.percentage&&(0,Jt.jsxs)("div",{className:"mt-8 bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-8 text-white text-center",children:[(0,Jt.jsx)(Zt,{className:"w-16 h-16 mx-auto mb-4"}),(0,Jt.jsx)("h3",{className:"text-3xl font-bold mb-2",children:"Path Complete! \ud83c\udf89"}),(0,Jt.jsx)("p",{className:"text-purple-100 text-lg",children:"Congratulations on completing this learning path!"})]})]})]})},$r=zt("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),Zr=zt("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var ei=n(12);const ti=t=>{let{isOpen:n,onClose:r,currentTier:i="free",currentUser:s,reason:a=null}=t;const[o,l]=(0,e.useState)(!1);if(!n)return null;const c=e=>{switch(e){case"free":default:return(0,Jt.jsx)(en,{className:"w-8 h-8"});case"basic":return(0,Jt.jsx)(mr,{className:"w-8 h-8"});case"premium":return(0,Jt.jsx)($r,{className:"w-8 h-8"})}};return(0,Jt.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-t-2xl flex-shrink-0 z-10",children:(0,Jt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h2",{className:"text-3xl font-bold mb-2",children:"Upgrade Your Learning"}),a&&(0,Jt.jsx)("p",{className:"text-blue-100",children:a})]}),(0,Jt.jsx)("button",{onClick:r,className:"bg-white/20 hover:bg-white/30 rounded-full p-2 transition",children:(0,Jt.jsx)(sn,{className:"w-6 h-6"})})]})}),(0,Jt.jsxs)("div",{className:"overflow-y-auto flex-1 p-8",children:[(0,Jt.jsx)("div",{className:"grid md:grid-cols-3 gap-6",children:Object.values(ei.i9).map(e=>{const t=(e=>{switch(e){case"free":default:return"slate";case"basic":return"blue";case"premium":return"purple"}})(e.id),n=i===e.id,a=e.price>ei.i9[i.toUpperCase()].price,d={slate:{border:"rgb(100, 116, 139)",bg:"rgb(248, 250, 252)",badge:"rgb(71, 85, 105)",text:"rgb(51, 65, 85)",buttonBg:"rgb(226, 232, 240)",buttonText:"rgb(51, 65, 85)",highlightBg:"rgb(241, 245, 249)",highlightText:"rgb(51, 65, 85)"},blue:{border:"rgb(59, 130, 246)",bg:"rgb(239, 246, 255)",badge:"rgb(37, 99, 235)",text:"rgb(29, 78, 216)",buttonBg:"linear-gradient(to right, rgb(37, 99, 235), rgb(29, 78, 216))",buttonText:"white",highlightBg:"rgb(219, 234, 254)",highlightText:"rgb(30, 64, 175)"},purple:{border:"rgb(168, 85, 247)",bg:"rgb(250, 245, 255)",badge:"rgb(147, 51, 234)",text:"rgb(126, 34, 206)",buttonBg:"linear-gradient(to right, rgb(147, 51, 234), rgb(126, 34, 206))",buttonText:"white",highlightBg:"rgb(233, 213, 255)",highlightText:"rgb(107, 33, 168)"}}[t];return(0,Jt.jsxs)("div",{className:"relative rounded-2xl border-2 p-6 transition-all hover:shadow-lg",style:{borderColor:n?d.border:"rgb(229, 231, 235)",backgroundColor:n?d.bg:"white"},children:[n&&(0,Jt.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 px-4 py-1 rounded-full text-sm font-bold shadow-md",style:{backgroundColor:d.badge,color:"white"},children:"Current Plan"}),(0,Jt.jsx)("div",{className:"flex justify-center mb-4",style:{color:d.text},children:c(e.id)}),(0,Jt.jsx)("h3",{className:"text-2xl font-bold text-center mb-2",children:e.name}),(0,Jt.jsx)("div",{className:"text-center mb-6",children:0===e.price?(0,Jt.jsx)("div",{className:"text-4xl font-black text-gray-800",children:"Free"}):(0,Jt.jsxs)(Jt.Fragment,{children:[(0,Jt.jsxs)("div",{className:"text-4xl font-black text-gray-800",children:["$",e.price,(0,Jt.jsx)("span",{className:"text-lg font-normal text-gray-500",children:"/mo"})]}),(0,Jt.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:["or $",(10*e.price).toFixed(2),"/year (save 2 months)"]})]})}),(0,Jt.jsx)("div",{className:"rounded-lg p-4 mb-6",style:{backgroundColor:d.highlightBg},children:(0,Jt.jsxs)("div",{className:"text-center",children:[(0,Jt.jsx)("div",{className:"text-3xl font-bold",style:{color:d.highlightText},children:e.isUnlimited?"\u221e":e.aiLessonsPerMonth}),(0,Jt.jsx)("div",{className:"text-sm font-semibold",style:{color:d.highlightText},children:e.isUnlimited?"Unlimited AI Lessons":"AI Lesson".concat(1===e.aiLessonsPerMonth?"":"s","/Month")})]})}),(0,Jt.jsx)("ul",{className:"space-y-3 mb-6",children:e.features.filter(e=>!e.toLowerCase().includes("support")).map((e,t)=>(0,Jt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Jt.jsx)(Zr,{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:d.text}}),(0,Jt.jsx)("span",{className:"text-gray-700 text-sm",children:e})]},t))}),n?(0,Jt.jsx)("button",{disabled:!0,className:"w-full font-bold py-3 rounded-xl cursor-not-allowed",style:{backgroundColor:d.buttonBg,color:d.buttonText},children:"Your Current Plan"}):a?(0,Jt.jsx)("button",{onClick:()=>(async e=>{if(s)if("free"!==e){l(!0);try{var t;const n={basic:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAILJS_SERVICE_ID:"your_service_id_here",REACT_APP_EMAILJS_TEMPLATE_ID:"your_template_id_here",REACT_APP_EMAILJS_PUBLIC_KEY:"your_public_key_here",REACT_APP_EMAIL_MODE:"demo",REACT_APP_FIREBASE_API_KEY:"AIzaSyDvYAi4EMGSfBTysKVsgIvw-dk26kpa4Us",REACT_APP_FIREBASE_AUTH_DOMAIN:"church-explorer-20e5a.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"church-explorer-20e5a",REACT_APP_FIREBASE_STORAGE_BUCKET:"church-explorer-20e5a.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"359510802923",REACT_APP_FIREBASE_APP_ID:"1:359510802923:web:1c9e7c335f63d8ef3659ae",REACT_APP_AI_API_ENDPOINT:"https://churchexplorer-server.vercel.app/api/ai",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_test_51SPSs3CfXNPvR4vp5FSY3BTqRVXnNVG7nlcfNXO2h22SyIUi6AKQe4LG38j2uvPoGBlMDbkzjr2CeE4ZJzdePCD000cKl77IK5"}.REACT_APP_STRIPE_BASIC_PRICE_ID||"price_1SPnkPCfikIx5DrknESztFpf",premium:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAILJS_SERVICE_ID:"your_service_id_here",REACT_APP_EMAILJS_TEMPLATE_ID:"your_template_id_here",REACT_APP_EMAILJS_PUBLIC_KEY:"your_public_key_here",REACT_APP_EMAIL_MODE:"demo",REACT_APP_FIREBASE_API_KEY:"AIzaSyDvYAi4EMGSfBTysKVsgIvw-dk26kpa4Us",REACT_APP_FIREBASE_AUTH_DOMAIN:"church-explorer-20e5a.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"church-explorer-20e5a",REACT_APP_FIREBASE_STORAGE_BUCKET:"church-explorer-20e5a.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"359510802923",REACT_APP_FIREBASE_APP_ID:"1:359510802923:web:1c9e7c335f63d8ef3659ae",REACT_APP_AI_API_ENDPOINT:"https://churchexplorer-server.vercel.app/api/ai",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_test_51SPSs3CfXNPvR4vp5FSY3BTqRVXnNVG7nlcfNXO2h22SyIUi6AKQe4LG38j2uvPoGBlMDbkzjr2CeE4ZJzdePCD000cKl77IK5"}.REACT_APP_STRIPE_PREMIUM_PRICE_ID||"price_1SPnkbCfikIx5DrkwASRL00l"},r=(null===(t="https://churchexplorer-server.vercel.app/api/ai")?void 0:t.replace("/api/ai",""))||"https://churchexplorer-hlo9hbs7g-scott-mcmurrays-projects.vercel.app",i=await fetch("".concat(r,"/api/create-checkout-session"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:n[e],userId:s.uid,userEmail:s.email})});if(!i.ok)throw new Error("Failed to create checkout session");const{url:a}=await i.json();window.location.href=a}catch(n){console.error("Error creating checkout session:",n),alert("Failed to start checkout. Please try again."),l(!1)}}else r();else alert("Please sign in to upgrade your subscription")})(e.id),disabled:o,className:"w-full text-white font-bold py-3 rounded-xl transition shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed hover:scale-105",style:{background:d.buttonBg},children:o?"Loading...":"Upgrade to ".concat(e.name)}):(0,Jt.jsx)("button",{disabled:!0,className:"w-full bg-gray-100 text-gray-400 font-bold py-3 rounded-xl cursor-not-allowed",children:"Lower Tier"})]},e.id)})}),(0,Jt.jsxs)("div",{className:"mt-8 bg-gray-50 rounded-xl p-6",children:[(0,Jt.jsx)("h4",{className:"font-bold text-lg mb-4",children:"Frequently Asked Questions"}),(0,Jt.jsxs)("div",{className:"space-y-3 text-sm text-gray-600",children:[(0,Jt.jsxs)("p",{children:[(0,Jt.jsx)("strong",{children:"What's included in the Free tier?"})," All 24 curated lessons (Bible History, Church History, Apologetics) with full progress tracking and daily challenges. No AI lessons included."]}),(0,Jt.jsxs)("p",{children:[(0,Jt.jsx)("strong",{children:"What counts as an AI lesson?"})," Any AI-generated content: Quick Lessons (1 lesson), Deep Dives (3 lessons), or Full Paths (8 lessons) each count as 1 AI lesson creation."]}),(0,Jt.jsxs)("p",{children:[(0,Jt.jsx)("strong",{children:"Can I cancel anytime?"})," Yes, cancel anytime. You'll keep access until your billing period ends, then revert to the Free tier."]}),(0,Jt.jsxs)("p",{children:[(0,Jt.jsx)("strong",{children:"Do unused lessons roll over?"})," No, your monthly AI lesson limit resets on your billing date."]}),(0,Jt.jsxs)("p",{children:[(0,Jt.jsx)("strong",{children:'What does "Unlimited" mean?'})," Premium users can create as many AI lessons, deep dives, and full paths as they want\u2014no monthly limits!"]})]})]})]})]})})},ni=zt("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),ri=t=>{let{userId:n,compact:r=!1,onUpgradeClick:i}=t;const[s,a]=(0,e.useState)(null),[o,l]=(0,e.useState)(!0);(0,e.useEffect)(()=>{n?c():l(!1)},[n]);const c=async()=>{l(!0);const e=await(0,ei.S3)(n);e.success&&a(e),l(!1)};if(o||!s)return null;if(r)return s.isUnlimited?(0,Jt.jsxs)("div",{className:"flex items-center gap-2 bg-purple-50 rounded-full px-4 py-2 border border-purple-200",children:[(0,Jt.jsx)(mr,{className:"w-4 h-4 text-purple-600"}),(0,Jt.jsx)("span",{className:"text-sm font-semibold text-purple-700",children:"\u221e Unlimited AI lessons"})]}):(0,Jt.jsxs)("div",{className:"flex items-center gap-2 bg-gray-50 rounded-full px-4 py-2 border border-gray-200",children:[(0,Jt.jsx)(mr,{className:"w-4 h-4 text-purple-600"}),(0,Jt.jsxs)("span",{className:"text-sm font-semibold text-gray-700",children:[s.remaining," / ",s.limit," AI lessons"]})]});const d=!s.isUnlimited&&s.remaining<=1&&s.remaining>0,u=!s.isUnlimited&&0===s.remaining,h=u?"red":d?"orange":s.isUnlimited?"purple":"blue";return(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl border-2 border-gray-200 shadow-sm p-6",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jt.jsx)("div",{className:"bg-".concat(h,"-100 rounded-full p-3"),children:(0,Jt.jsx)(mr,{className:"w-6 h-6 text-".concat(h,"-600")})}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:"AI Lesson Usage"}),(0,Jt.jsxs)("p",{className:"text-sm text-gray-500 capitalize",children:[s.tierName," Plan"]})]})]}),"premium"!==s.tier&&(0,Jt.jsx)("button",{onClick:i,className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-lg font-semibold text-sm hover:from-purple-700 hover:to-blue-700 transition",children:"Upgrade"})]}),s.freeTrialAvailable&&(0,Jt.jsx)("div",{className:"mb-4 bg-green-50 border border-green-100 rounded-lg p-3",children:(0,Jt.jsx)("p",{className:"text-sm font-semibold text-green-800",children:"\u2728 You have 1 free AI lesson available. Try a personalized lesson now!"})}),s.isUnlimited?(0,Jt.jsx)("div",{className:"mb-4",children:(0,Jt.jsxs)("div",{className:"bg-gradient-to-r from-purple-100 to-blue-100 rounded-lg p-6 text-center border-2 border-purple-200",children:[(0,Jt.jsx)("div",{className:"text-5xl font-bold text-purple-600 mb-2",children:"\u221e"}),(0,Jt.jsx)("p",{className:"text-lg font-semibold text-purple-700",children:"Unlimited AI Lessons"}),(0,Jt.jsx)("p",{className:"text-sm text-purple-600 mt-1",children:"Create as many lessons as you want!"})]})}):(0,Jt.jsxs)("div",{className:"mb-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Jt.jsxs)("span",{className:"text-sm font-semibold text-gray-600",children:[s.used," of ",s.limit," used this month"]}),(0,Jt.jsxs)("span",{className:"text-sm font-bold text-".concat(h,"-600"),children:[s.remaining," remaining"]})]}),(0,Jt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-".concat(h,"-500 to-").concat(h,"-600 h-3 rounded-full transition-all"),style:{width:"".concat(s.percentage,"%")}})})]}),(0,Jt.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,Jt.jsx)(ni,{className:"w-4 h-4"}),(0,Jt.jsxs)("span",{children:["Resets ",s.periodEnd?s.periodEnd.toDate?new Date(s.periodEnd.toDate()).toLocaleDateString():new Date(s.periodEnd).toLocaleDateString():"soon"]})]}),u&&(0,Jt.jsxs)("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,Jt.jsx)("p",{className:"text-sm font-semibold text-red-700 mb-2",children:"You've reached your monthly limit"}),(0,Jt.jsx)("p",{className:"text-sm text-red-600 mb-3",children:"Upgrade to create more AI lessons this month or wait until your next billing period."}),(0,Jt.jsx)("button",{onClick:i,className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 rounded-lg transition",children:"Upgrade Now"})]}),d&&!u&&(0,Jt.jsxs)("div",{className:"mt-4 bg-orange-50 border border-orange-200 rounded-lg p-4",children:[(0,Jt.jsx)("p",{className:"text-sm font-semibold text-orange-700 mb-1",children:"Running low on AI lessons"}),(0,Jt.jsxs)("p",{className:"text-sm text-orange-600",children:["You have ",s.remaining," lesson",1===s.remaining?"":"s"," left this month. Consider upgrading for more!"]})]})]})},ii="https://churchexplorer-server.vercel.app/api/ai",si=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n="".concat(e," ").concat(t).trim();if(n.length<3)return{valid:!1,message:"Please enter a more specific topic for your lesson.",reason:"Topic too short"};const r=n.toLowerCase();if(["porn","xxx","sex","explicit","violence","drugs","trump","biden","democrat","republican","election","cryptocurrency","bitcoin","stock market","investment"].some(e=>r.includes(e)))return{valid:!1,message:"This topic is outside our educational scope. Church Explorer focuses on Bible study, church history, theology, apologetics, and Christian doctrine.",reason:"Topic outside scope"};try{const e=await fetch("".concat(ii,"/validate-topic"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:n})});if(!e.ok)return console.error("Topic validation API error:",e.status),{valid:!0,message:"",reason:"Validation service unavailable"};const t=await e.json();let r;if(!t.validationResult)return console.error("No validation result in response"),{valid:!0,message:"",reason:"No result"};try{const e=t.validationResult.trim();r=JSON.parse(e)}catch(Ui){return console.error("Failed to parse validation result:",Ui),console.error("Raw response:",t.validationResult),{valid:!0,message:"",reason:"Parse error"}}return r.approved?{valid:!0,message:"",reason:r.reason||"Approved"}:{valid:!1,message:"This topic is outside our educational scope. Church Explorer focuses on Bible study, church history, Christian theology, apologetics, and denominational studies. Please try a topic related to these areas.",reason:r.reason||"Topic not approved"}}catch(i){return console.error("Topic validation error:",i),{valid:!0,message:"",reason:"Validation error: "+i.message}}},ai=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(r){const{canCreateAILesson:e,incrementAILessonUsage:t}=await Promise.resolve().then(n.bind(n,12)),i=await e(r,"lesson");if(!i.allowed){const e=new Error(i.reason||"You have reached your monthly AI lesson limit.");throw e.upgradeNeeded=i.upgradeNeeded,e.tier=i.tier,e.used=i.used,e.limit=i.limit,e}}const i=await si(e,t);if(!i.valid)throw new Error(i.message);try{const i=await fetch("".concat(ii,"/generate-lesson"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:e,additionalContext:t})});if(!i.ok){const e=await i.text();throw console.error("AI API Error:",e),new Error("AI API error: ".concat(i.status," ").concat(i.statusText))}const s=await i.json();if(!s.lesson)throw new Error("Invalid response format from AI API");const a=li(s.lesson,e);if(r){const{incrementAILessonUsage:e}=await Promise.resolve().then(n.bind(n,12));await e(r,"lesson")}return{success:!0,lesson:a,usage:s.usage}}catch(s){return console.error("AI lesson generation error:",s),{success:!1,error:s.message}}},oi=e=>"string"!==typeof e?e:e.replace(/\\n/g,"\n").replace(/\\t/g,"\t").replace(/\\"/g,'"').trim(),li=(e,t)=>{const n={id:"ai_".concat(Date.now()),type:"ai_generated",originalTopic:t,generatedAt:(new Date).toISOString(),title:oi(e.title)||"Learning About: ".concat(t),subtitle:oi(e.subtitle)||"AI-Generated Lesson",introduction:oi(e.introduction)||"This lesson was generated to help you learn about this topic.",sections:[],quiz:[],practicalApplication:oi(e.practicalApplication)||"Consider how this knowledge applies to your faith journey.",memorizeVerse:e.memorizeVerse?{reference:oi(e.memorizeVerse.reference)||"John 8:32",text:oi(e.memorizeVerse.text)||"Then you will know the truth, and the truth will set you free."}:{reference:"John 8:32",text:"Then you will know the truth, and the truth will set you free."},furtherReading:Array.isArray(e.furtherReading)?e.furtherReading.map(e=>oi(e)):[],reflection:e.reflection?{question:oi(e.reflection.question)||"How does this lesson deepen your understanding of Christian faith?",prompt:oi(e.reflection.prompt)||"Take a moment to reflect on what you've learned and how it applies to your life."}:{question:"How does this lesson deepen your understanding of Christian faith?",prompt:"Take a moment to reflect on what you've learned and how it applies to your life."},xpReward:50};return e.sections&&Array.isArray(e.sections)&&(n.sections=e.sections.map((e,t)=>{const n={title:oi(e.title)||"Section ".concat(t+1),content:oi(e.content)||"",keyPoints:Array.isArray(e.keyPoints)?e.keyPoints.map(e=>oi(e)):[]};return e.quiz&&(n.quiz={question:oi(e.quiz.question)||"Question ".concat(t+1),options:Array.isArray(e.quiz.options)&&4===e.quiz.options.length?e.quiz.options.map(e=>oi(e)):["Option A","Option B","Option C","Option D"],correct:"number"===typeof e.quiz.correct&&e.quiz.correct>=0&&e.quiz.correct<=3?e.quiz.correct:0,explanation:oi(e.quiz.explanation)||"This is the correct answer."}),n})),e.quiz&&Array.isArray(e.quiz)&&(n.quiz=e.quiz.map((e,t)=>({question:oi(e.question)||"Question ".concat(t+1),options:Array.isArray(e.options)&&4===e.options.length?e.options.map(e=>oi(e)):["Option A","Option B","Option C","Option D"],correct:"number"===typeof e.correct&&e.correct>=0&&e.correct<=3?e.correct:0,explanation:oi(e.explanation)||"This is the correct answer."}))),n},ci=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];try{const t=await fetch("".concat(ii,"/suggest-topics"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userInterests:e.join(", ")})});if(!t.ok)throw new Error("AI API error: ".concat(t.status," ").concat(t.statusText));const n=await t.json();return{success:!0,suggestions:n.suggestions||n.topics||[]}}catch(t){return console.error("Topic suggestion error:",t),{success:!1,error:t.message,fallbackSuggestions:[{title:"Catholic Church Beliefs",description:"Explore the core doctrines and practices of Catholicism"},{title:"Protestant Reformation",description:"Learn about the key events and figures of the Reformation"},{title:"Eastern Orthodox Theology",description:"Understand the distinctive beliefs of Eastern Christianity"},{title:"Baptist Traditions",description:"Discover the history and practices of Baptist churches"},{title:"Pentecostal Movement",description:"Learn about the modern Pentecostal and Charismatic movements"}]}}},di=async function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(s){const{canCreateAILesson:e,incrementAILessonUsage:r}=await Promise.resolve().then(n.bind(n,12)),i="quick"===t?"quick":"lesson",a=await e(s,i);if(!a.allowed){const e=new Error(a.reason||"You have reached your monthly AI lesson limit.");throw e.upgradeNeeded=a.upgradeNeeded,e.tier=a.tier,e.used=a.used,e.limit=a.limit,e}}const a=await si(e,i);if(!a.valid)throw new Error(a.message);try{const a={quick:1,"deep-dive":3,complete:8}[t]||1,o=await fetch("".concat(ii,"/generate-path-outline"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:e,pathType:t,lessonCount:a,additionalContext:i})});if(!o.ok){const e=await o.text();throw new Error("AI API error: ".concat(o.status," - ").concat(e))}const l=await o.json(),c=l.outline||l;if(!c||!c.lessons||!Array.isArray(c.lessons))throw console.error("Invalid outline received:",c),new Error("Server returned invalid path outline (missing lessons array)");if(s){const{incrementAILessonUsage:e}=await Promise.resolve().then(n.bind(n,12)),r="quick"===t?"quick":"lesson";await e(s,r)}return{success:!0,outline:(0,r.A)((0,r.A)({},c),{},{pathId:"path_".concat(Date.now()),originalTopic:e,pathType:t,createdAt:(new Date).toISOString()}),usage:l.usage}}catch(o){return console.error("Path outline generation error:",o),{success:!1,error:o.message}}},ui=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const r=e.lessons[t-1];if(!r)throw new Error("Invalid lesson number");const i=e.lessons.slice(0,t-1),s=i.length>0?"This is lesson ".concat(t," of ").concat(e.totalLessons,' in the path "').concat(e.pathTitle,'".\n         Previous lessons covered: ').concat(i.map(e=>e.title).join(", "),".\n         Build upon this foundation."):'This is the first lesson in the path "'.concat(e.pathTitle,'".'),a=r.objectives&&Array.isArray(r.objectives)&&r.objectives.length>0?"Learning Objectives:\n".concat(r.objectives.map((e,t)=>"".concat(t+1,". ").concat(e)).join("\n")):"Focus: ".concat(r.description||"Cover the key concepts of this topic."),o="".concat(s,"\n\n").concat(a,"\n\n").concat(t>1?"Build on concepts from previous lessons.":"Establish foundational understanding.","\n").concat(t<e.totalLessons?"Prepare for upcoming lessons.":"Provide comprehensive conclusion and application."),l=await ai(r.title,o,n);if(!l.success)throw new Error(l.error);const c=l.lesson;return c.pathId=e.pathId,c.pathTitle=e.pathTitle,c.lessonNumber=t,c.totalLessonsInPath=e.totalLessons,{success:!0,lesson:c,usage:l.usage}}catch(r){return console.error("Path lesson generation error:",r),{success:!1,error:r.message}}},hi=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=[];let s={prompt_tokens:0,completion_tokens:0,total_tokens:0};try{if(!e||!e.lessons||!Array.isArray(e.lessons))throw new Error("Invalid path outline: missing lessons array");for(let r=1;r<=e.totalLessons;r++){var a;if(t)t({current:r,total:e.totalLessons,status:"generating",lessonTitle:(null===(a=e.lessons[r-1])||void 0===a?void 0:a.title)||"Lesson ".concat(r)});const o=await ui(e,r,n);if(!o.success)throw new Error("Failed to generate lesson ".concat(r,": ").concat(o.error));i.push(o.lesson),o.usage&&(s.prompt_tokens+=o.usage.prompt_tokens||0,s.completion_tokens+=o.usage.completion_tokens||0,s.total_tokens+=o.usage.total_tokens||0),r<e.totalLessons&&await new Promise(e=>setTimeout(e,1e3))}return t&&t({current:e.totalLessons,total:e.totalLessons,status:"complete"}),{success:!0,path:(0,r.A)((0,r.A)({},e),{},{lessons:i,completedAt:(new Date).toISOString(),usage:s})}}catch(o){return console.error("Complete path generation error:",o),{success:!1,error:o.message,partialLessons:i}}},mi=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{if(null!==t&&void 0!==t&&t.uid){const{saveAIPathToFirestore:r}=await Promise.resolve().then(n.bind(n,54));return await r(t.uid,e),{success:!0,path:e}}return console.warn("Cannot save AI path - user not logged in"),{success:!1,error:"User not logged in"}}catch(r){return console.error("Error saving AI path:",r),{success:!1,error:r.message}}},pi=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{if(null!==e&&void 0!==e&&e.uid){const{getAIPathsFromFirestore:t,getAIPathProgressFromFirestore:i}=await Promise.resolve().then(n.bind(n,54)),s=await t(e.uid);if(s.success){return await Promise.all((s.paths||[]).map(async t=>{const n=await i(e.uid,t.id);return n.success&&n.progress?(0,r.A)((0,r.A)({},t),{},{completedLessons:n.progress.completedLessons||[],completed:!(!t.lessons||!n.progress.completedLessons)&&n.progress.completedLessons.length>=t.lessons.length}):(0,r.A)((0,r.A)({},t),{},{completedLessons:[],completed:!1})}))}}return[]}catch(t){return console.error("Error loading AI paths:",t),[]}},fi=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{if(null!==t&&void 0!==t&&t.uid){const{deleteAIPathFromFirestore:r}=await Promise.resolve().then(n.bind(n,54));await r(t.uid,e),console.log("\u2705 AI path deleted from Firestore")}else console.warn("\u26a0\ufe0f User not authenticated - cannot delete path");return{success:!0}}catch(r){return console.error("Error deleting AI path:",r),{success:!1,error:r.message}}},gi=t=>{let{currentUser:n,onNavigate:r,onGoBack:i}=t;const[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)(!0),[c,d]=(0,e.useState)(!1),[u,h]=(0,e.useState)(null),[m,p]=(0,e.useState)(!1),[f,g]=(0,e.useState)(null),[y,b]=(0,e.useState)(""),[x,v]=(0,e.useState)(""),[w,N]=(0,e.useState)("quick"),[k,j]=(0,e.useState)(!1),[C,S]=(0,e.useState)([]),[T,A]=(0,e.useState)(!1),[E,P]=(0,e.useState)(null),[I,_]=(0,e.useState)(!1),[R,D]=(0,e.useState)(null),[L,O]=(0,e.useState)(""),[M,B]=(0,e.useState)([]),[F,z]=(0,e.useState)(!1),q=e.useRef(null),W=["The Protestant Reformation","Early Church History","Biblical Theology Basics","The Armor of God","Fruits of the Spirit","Biblical Prayer","The Trinity Explained","Book of Revelation"];(0,e.useEffect)(()=>{U(),H(),window.scrollTo({top:0,behavior:"smooth"})},[]),(0,e.useEffect)(()=>{if(!n)return void g(null);const e=(0,gn.doc)(yn.db,"users",n.uid,"subscription","current"),t=(0,gn.onSnapshot)(e,e=>{e.exists()?g(e.data()):g({tier:"free",status:"active"})});return()=>t()},[n]);const U=async()=>{l(!0);try{const e=await pi(n);a(e.sort((e,t)=>new Date(t.savedAt||0)-new Date(e.savedAt||0)))}catch(L){console.error("Error loading AI paths:",L),a([])}finally{l(!1)}},V=async e=>{if(window.confirm("Are you sure you want to delete this learning path? This cannot be undone.")){(await fi(e,n)).success&&await U()}},H=async()=>{A(!0);try{const e=await ci(["church history","theology","denominations"]);e.success?S(e.suggestions||[]):S(e.fallbackSuggestions||[])}catch(L){console.error("Error loading suggestions:",L),S(["The Protestant Reformation","Early Church History","Biblical Theology Basics","The Armor of God","Fruits of the Spirit","Biblical Prayer","The Trinity Explained","Book of Revelation"])}finally{A(!1)}},G=[{id:"quick",name:"Quick Lesson",icon:mr,lessons:1,time:"2-3 min",description:"Single comprehensive lesson",color:"from-blue-600 to-blue-700"},{id:"deep-dive",name:"Deep Dive",icon:zr,lessons:3,time:"6-9 min",description:"Three-part exploration",color:"from-purple-600 to-purple-700"},{id:"complete",name:"Complete Course",icon:qr,lessons:8,time:"16-24 min",description:"Full mastery path",color:"from-pink-600 to-rose-700"}];return(0,e.useEffect)(()=>{if(k){const e=document.querySelector('meta[name="theme-color"]');e&&e.setAttribute("content","#9333ea")}else{const e=document.querySelector('meta[name="theme-color"]');e&&e.setAttribute("content","#ffffff")}},[k]),u?(0,Jt.jsx)(Xr,{path:u,currentUser:n,onGoBack:()=>{h(null),U(),window.scrollTo({top:0,behavior:"smooth"})}}):(0,Jt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100",children:[k&&(0,Jt.jsx)("div",{className:"fixed inset-0 bg-gradient-to-r from-purple-600 to-blue-600 z-50 flex items-center justify-center",style:{minHeight:"100dvh"},children:(0,Jt.jsxs)("div",{className:"text-center px-4",children:[(0,Jt.jsxs)("div",{className:"mb-8 relative",children:[(0,Jt.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Jt.jsx)("div",{className:"w-32 h-32 bg-white/20 rounded-full animate-ping"})}),(0,Jt.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Jt.jsx)("div",{className:"w-24 h-24 bg-white/30 rounded-full animate-pulse"})}),(0,Jt.jsx)("div",{className:"relative flex items-center justify-center",children:(0,Jt.jsx)("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-2xl",children:(0,Jt.jsx)(cr,{className:"w-10 h-10 text-purple-600 animate-pulse"})})})]}),(0,Jt.jsxs)("h2",{className:"text-3xl font-bold text-white mb-4",children:["Creating Your Lesson","quick"!==w&&"s"]}),(0,Jt.jsx)("p",{className:"text-xl text-white/90 mb-8",children:I&&R&&"object"===typeof R?"Generating lesson ".concat(R.current," of ").concat(R.total,"..."):I&&R?R:"Generating your personalized content..."}),I&&R&&"object"===typeof R&&(0,Jt.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,Jt.jsx)("div",{className:"w-full bg-white/30 rounded-full h-3 overflow-hidden",children:(0,Jt.jsx)("div",{className:"bg-white h-3 rounded-full transition-all duration-500 ease-out shadow-lg",style:{width:"".concat(R.current/R.total*100,"%")}})}),(0,Jt.jsx)("p",{className:"text-white/90 text-sm mt-3",children:R.lessonTitle})]}),!I&&(0,Jt.jsx)("div",{className:"flex justify-center",children:(0,Jt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-white/30 border-t-white"})})]})}),(0,Jt.jsxs)("div",{className:"relative overflow-hidden text-white py-12 px-4",children:[(0,Jt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-700 animate-gradient-shift"}),(0,Jt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tl from-indigo-500 via-purple-500 to-blue-700 opacity-60 animate-gradient-shift-reverse"}),(0,Jt.jsx)("div",{className:"relative max-w-6xl mx-auto z-10",children:(0,Jt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Jt.jsx)("div",{className:"bg-white/20 backdrop-blur-md p-3 rounded-2xl shadow-lg",children:(0,Jt.jsx)(cr,{className:"w-10 h-10 text-white"})}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h1",{className:"text-4xl md:text-5xl font-black mb-2",children:"AI Lessons"}),(0,Jt.jsx)("p",{className:"text-purple-100 text-lg",children:"Create & manage your personalized learning"})]})]}),(0,Jt.jsxs)("button",{onClick:()=>i?i():r("home"),className:"hidden sm:inline-flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-md border-2 border-white/30 text-white hover:bg-white/20 transition font-semibold rounded-xl",children:[(0,Jt.jsx)(Qt,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{children:"Back"})]})]})})]}),(0,Jt.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,Jt.jsx)("div",{className:"mb-6",children:(0,Jt.jsx)(ri,{userId:null===n||void 0===n?void 0:n.uid,onUpgradeClick:()=>p(!0)})}),(0,Jt.jsxs)("button",{onClick:()=>i?i():r("home"),className:"sm:hidden inline-flex items-center gap-2 px-4 py-2 mb-6 rounded-xl border-2 border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition font-semibold",children:[(0,Jt.jsx)(Qt,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{children:"Back"})]}),(0,Jt.jsxs)("div",{className:"mb-8",ref:q,children:[(0,Jt.jsxs)("button",{onClick:()=>d(!c),className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-5 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-between group",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jt.jsx)(cr,{className:"w-6 h-6"}),(0,Jt.jsxs)("div",{className:"text-left",children:[(0,Jt.jsx)("h2",{className:"text-2xl font-bold",children:"Create New AI Path"}),(0,Jt.jsx)("p",{className:"text-purple-100 text-sm mt-1",children:"Generate personalized learning paths on any topic"})]})]}),(0,Jt.jsxs)("div",{className:"flex items-center gap-2",children:[!c&&(0,Jt.jsx)("span",{className:"text-sm font-semibold bg-white/20 px-3 py-1 rounded-full",children:"Create"}),c?(0,Jt.jsx)(Sr,{className:"w-6 h-6"}):(0,Jt.jsx)(nn,{className:"w-6 h-6"})]})]}),c&&(0,Jt.jsxs)("div",{className:"mt-4 bg-white rounded-2xl shadow-lg p-6 md:p-8 border-2 border-slate-100",children:[(0,Jt.jsxs)("div",{className:"mb-8",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Jt.jsx)("div",{className:"bg-purple-600 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm",children:"1"}),(0,Jt.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"Choose Your Learning Path"})]}),(0,Jt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:G.map(e=>(0,Jt.jsx)("button",{onClick:()=>N(e.id),className:"p-5 rounded-xl border-2 transition-all duration-200 ".concat(w===e.id?"border-purple-500 bg-purple-50 shadow-md ring-2 ring-purple-200":"border-slate-200 bg-white text-slate-700 hover:border-purple-300 hover:shadow-sm"),children:(0,Jt.jsxs)("div",{className:"flex flex-col items-center text-center gap-3",children:[(0,Jt.jsx)("div",{className:"p-3 rounded-xl ".concat(w===e.id?"bg-gradient-to-r "+e.color:"bg-slate-100"),children:(0,Jt.jsx)(e.icon,{className:"w-6 h-6 ".concat(w===e.id?"text-white":"text-slate-400")})}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("div",{className:"font-bold text-base mb-1 ".concat(w===e.id?"text-purple-900":"text-slate-700"),children:e.name}),(0,Jt.jsxs)("div",{className:"text-xs text-slate-500 mb-1",children:[e.lessons," lesson",e.lessons>1?"s":""," \u2022 ",e.time]}),(0,Jt.jsx)("div",{className:"text-sm ".concat(w===e.id?"text-purple-700":"text-slate-500"),children:e.description})]})]})},e.id))})]}),(0,Jt.jsxs)("div",{className:"mb-8",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Jt.jsx)("div",{className:"bg-purple-600 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm",children:"2"}),(0,Jt.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"Enter Your Topic"})]}),(0,Jt.jsx)("textarea",{value:y,onChange:e=>b(e.target.value),placeholder:"e.g., The Armor of God, Biblical Prayer, Fruits of the Spirit...",className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-purple-200 focus:border-purple-500 transition-all text-base resize-none overflow-hidden",disabled:k,rows:"1",onInput:e=>{e.target.style.height="auto",e.target.style.height=e.target.scrollHeight+"px"}}),(0,Jt.jsx)("div",{className:"mt-3",children:(0,Jt.jsxs)("button",{onClick:()=>{const e=C.length>0?C:W,t=e.filter(e=>{const t="string"===typeof e?e:e.title;return!M.includes(t)}),n=t.length>0?t:e,r=n[Math.floor(Math.random()*n.length)];let i="",s="";"string"===typeof r?i=r:r.title&&(i=r.title,s=r.description||""),b(i),v(s),O(""),B(e=>[i,...e].slice(0,20)),setTimeout(()=>{const e=document.querySelector('textarea[placeholder*="Armor of God"]');e&&(e.style.height="auto",e.style.height=e.scrollHeight+"px")},0)},className:"w-full py-3 rounded-xl font-semibold text-base transition-all duration-200 bg-gradient-to-r from-purple-500 to-blue-500 text-white hover:from-purple-600 hover:to-blue-600 hover:shadow-md flex items-center justify-center gap-2",disabled:k,children:[(0,Jt.jsx)(Wr,{className:"w-4 h-4"}),"Surprise Me"]})})]}),(0,Jt.jsxs)("div",{className:"mb-6",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Jt.jsx)("div",{className:"bg-slate-400 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm",children:"3"}),(0,Jt.jsxs)("h3",{className:"text-lg font-bold text-slate-800",children:["Add Context ",(0,Jt.jsx)("span",{className:"text-sm font-normal text-slate-500",children:"(Optional)"})]})]}),(0,Jt.jsx)("textarea",{value:x,onChange:e=>v(e.target.value),placeholder:"Any specific aspects you want to focus on or questions you have...",className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-purple-200 focus:border-purple-500 transition-all",rows:"3",disabled:k})]}),E&&E.length>0&&(0,Jt.jsxs)("div",{className:"mb-6 p-4 bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl border-2 border-purple-200",children:[(0,Jt.jsxs)("h4",{className:"font-bold text-purple-900 mb-3 flex items-center gap-2",children:[(0,Jt.jsx)(zr,{className:"w-5 h-5"}),"Learning Path Outline (",E.length," lessons)"]}),(0,Jt.jsx)("div",{className:"space-y-2",children:E.map((e,t)=>(0,Jt.jsxs)("div",{className:"flex items-start gap-2 text-sm",children:[(0,Jt.jsxs)("span",{className:"font-bold text-purple-600 min-w-[24px]",children:[t+1,"."]}),(0,Jt.jsx)("span",{className:"text-slate-700",children:e.title})]},t))})]}),L&&(0,Jt.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border-2 border-red-200 rounded-xl text-red-700",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[(0,Jt.jsx)(qt,{className:"w-5 h-5"}),"Error"]}),(0,Jt.jsx)("p",{className:"text-sm",children:L})]}),(0,Jt.jsxs)("div",{className:"pt-4 border-t-2 border-slate-100",children:[(0,Jt.jsx)("button",{onClick:async()=>{if(y.trim()){j(!0),_("quick"!==w),O(""),P(null);try{if("quick"===w){D("Generating lesson...");const e=await ai(y,x,null===n||void 0===n?void 0:n.uid);if(e.success){const t={id:e.lesson.id,title:e.lesson.title,description:e.lesson.subtitle||y,topic:y,pathType:"quick",lessons:[e.lesson],createdAt:(new Date).toISOString()};await mi(t,n),await U(),b(""),v(""),D(null),h(t),window.scrollTo({top:0,behavior:"smooth"})}else O(e.error||"Failed to generate lesson. Please try again.")}else{const e=await di(y,w,x,null===n||void 0===n?void 0:n.uid);if(e.success){P(e.outline),D("Generating lessons...");const t=await hi(e.outline,e=>{D(e)},null===n||void 0===n?void 0:n.uid);if(t.success){const r={id:e.outline.pathId,title:e.outline.pathTitle,description:e.outline.pathDescription||y,topic:y,pathType:w,lessons:t.path.lessons,createdAt:(new Date).toISOString()};await mi(r,n),await U(),b(""),v(""),P(null),D(null),h(r),window.scrollTo({top:0,behavior:"smooth"})}else O(t.error||"Failed to generate lessons. Please try again.")}else O(e.error||"Failed to generate path outline. Please try again.")}}catch(L){console.error("Path generation error:",L),L.upgradeNeeded?(p(!0),O(L.message||"You have reached your monthly AI lesson limit.")):O(L.message||"An unexpected error occurred. Please try again.")}finally{j(!1),_(!1)}}else O("Please enter a topic you'd like to learn about")},disabled:!y.trim()||k,className:"w-full py-4 rounded-xl font-bold text-lg transition-all duration-200 ".concat(!y.trim()||k?"bg-slate-200 text-slate-400 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:shadow-xl hover:scale-[1.02] shadow-lg"),children:k?(0,Jt.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,Jt.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),I&&R&&"object"===typeof R?"Generating ".concat(R.current,"/").concat(R.total,"..."):I&&R?R:"Generating..."]}):(0,Jt.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,Jt.jsx)(cr,{className:"w-5 h-5"}),"Generate ","quick"===w?"Lesson":"deep-dive"===w?"Deep Dive":"Complete Path"]})}),!y.trim()&&(0,Jt.jsx)("p",{className:"text-center text-sm text-slate-500 mt-3",children:"Enter a topic to get started"})]})]})]}),(0,Jt.jsx)("div",{className:"mb-4",children:(0,Jt.jsxs)("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[(0,Jt.jsx)(Ur,{className:"w-7 h-7 text-purple-600"}),"My Learning Paths"]})}),!o&&0===s.length&&(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm p-12 text-center",children:[(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 p-4 rounded-2xl w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:(0,Jt.jsx)(cr,{className:"w-10 h-10 text-white"})}),(0,Jt.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-3",children:"No AI Paths Yet"}),(0,Jt.jsx)("p",{className:"text-slate-600 mb-6 max-w-md mx-auto",children:"Create your first personalized learning path using the AI Creator button above!"}),(0,Jt.jsxs)("button",{onClick:()=>{d(!0),setTimeout(()=>{q.current&&q.current.scrollIntoView({behavior:"smooth",block:"center"})},100)},className:"inline-flex items-center gap-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-bold px-6 py-3 rounded-xl hover:from-purple-700 hover:to-blue-700 transition shadow-lg hover:shadow-xl",children:[(0,Jt.jsx)(cr,{className:"w-5 h-5"}),"Create Your First Path"]})]}),!o&&s.length>0&&(0,Jt.jsxs)(Jt.Fragment,{children:[(0,Jt.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-2 gap-6 mb-6",children:s.filter(e=>!0!==e.completed).map(e=>{var t;const n=e.completedLessons||[],r=(null===(t=e.lessons)||void 0===t?void 0:t.length)||0,i=n.length,s=r>0?Math.round(i/r*100):0;return(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-6 hover:shadow-lg transition cursor-pointer",onClick:()=>h(e),children:[(0,Jt.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Jt.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,Jt.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-r from-purple-600 to-blue-600 text-white flex items-center justify-center flex-shrink-0",children:(0,Jt.jsx)(cr,{className:"w-6 h-6"})}),(0,Jt.jsxs)("div",{className:"flex-1",children:[(0,Jt.jsx)("h3",{className:"font-bold text-slate-900 text-lg mb-1 line-clamp-2",children:e.title}),e.description&&(0,Jt.jsx)("p",{className:"text-sm text-slate-600 mb-2 line-clamp-2",children:e.description}),(0,Jt.jsxs)("div",{className:"flex items-center gap-2 text-xs text-purple-700 bg-purple-100 px-2 py-1 rounded-full inline-flex",children:[(0,Jt.jsx)(zr,{className:"w-3 h-3"}),r," ",1===r?"Lesson":"Lessons"]})]})]}),(0,Jt.jsx)("button",{onClick:t=>{t.stopPropagation(),V(e.id)},className:"text-slate-400 hover:text-red-600 transition p-2 -mr-2",title:"Delete path",children:(0,Jt.jsx)(or,{className:"w-4 h-4"})})]}),(0,Jt.jsxs)("div",{className:"mb-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,Jt.jsx)("span",{className:"text-slate-600 font-medium",children:"Progress"}),(0,Jt.jsxs)("span",{className:"text-purple-600 font-bold",children:[s,"%"]})]}),(0,Jt.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2",children:(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-blue-600 h-2 rounded-full transition-all",style:{width:"".concat(s,"%")}})}),(0,Jt.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:[i," of ",r," lessons completed"]})]}),(0,Jt.jsx)("button",{onClick:t=>{t.stopPropagation(),h(e)},className:"w-full font-bold py-3 px-4 rounded-xl transition flex items-center justify-center gap-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700 shadow-md hover:shadow-lg",children:i>0?(0,Jt.jsxs)(Jt.Fragment,{children:[(0,Jt.jsx)(jr,{className:"w-4 h-4"}),"Continue Learning"]}):(0,Jt.jsxs)(Jt.Fragment,{children:[(0,Jt.jsx)(jr,{className:"w-4 h-4"}),"Start Path"]})})]},e.id)})}),s.filter(e=>!0===e.completed).length>0&&(0,Jt.jsxs)("div",{className:"mb-6",children:[(0,Jt.jsxs)("button",{onClick:()=>z(!F),className:"w-full bg-white rounded-xl border-2 border-slate-200 p-4 hover:bg-slate-50 transition flex items-center justify-between",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Jt.jsx)("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center",children:(0,Jt.jsx)(Cr,{className:"w-5 h-5 text-green-600"})}),(0,Jt.jsxs)("div",{className:"text-left",children:[(0,Jt.jsx)("h3",{className:"font-bold text-slate-900",children:"Completed Paths"}),(0,Jt.jsxs)("p",{className:"text-sm text-slate-600",children:[s.filter(e=>!0===e.completed).length," path",1!==s.filter(e=>!0===e.completed).length?"s":""]})]})]}),F?(0,Jt.jsx)(Sr,{className:"w-5 h-5 text-slate-400"}):(0,Jt.jsx)(nn,{className:"w-5 h-5 text-slate-400"})]}),F&&(0,Jt.jsx)("div",{className:"mt-4 space-y-2",children:s.filter(e=>!0===e.completed).map(e=>(0,Jt.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-4 hover:bg-slate-50 transition cursor-pointer flex items-center justify-between gap-3",onClick:()=>h(e),children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,Jt.jsx)(Cr,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),(0,Jt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Jt.jsx)("h4",{className:"font-semibold text-slate-900 break-words",children:e.title}),(0,Jt.jsx)("p",{className:"text-sm text-green-600",children:"Complete"})]})]}),(0,Jt.jsx)("button",{onClick:t=>{t.stopPropagation(),V(e.id)},className:"text-slate-400 hover:text-red-600 transition p-2 flex-shrink-0",title:"Delete path",children:(0,Jt.jsx)(or,{className:"w-4 h-4"})})]},e.id))})]})]})]}),(0,Jt.jsx)(ti,{isOpen:m,onClose:()=>p(!1),currentUser:n,currentTier:(null===f||void 0===f?void 0:f.tier)||"free",reason:"You've reached your monthly AI lesson limit. Upgrade to create more AI-powered lessons!"})]})},yi=t=>{let{currentUser:i,onProgressUpdate:s}=t;const{lessonId:a}=de(),o=ce(),[l,c]=(0,e.useState)(null),[d,u]=(0,e.useState)(!0);return(0,e.useEffect)(()=>{(async()=>{try{if(null!==i&&void 0!==i&&i.uid){const{getAIPathsFromFirestore:e}=await Promise.resolve().then(n.bind(n,54)),t=await e(i.uid);if(t.success&&t.paths)for(const n of t.paths)if(n.lessons&&Array.isArray(n.lessons)){const e=n.lessons.find(e=>e.id===a);if(e)return c((0,r.A)((0,r.A)({},e),{},{pathId:n.id})),void u(!1)}}console.error("Lesson not found in Firestore"),o("/ai-paths")}catch(e){console.error("Error loading lesson:",e),o("/ai-paths")}finally{u(!1)}})()},[a,o,i]),d?(0,Jt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 flex items-center justify-center",children:(0,Jt.jsxs)("div",{className:"text-center",children:[(0,Jt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-purple-600 border-t-transparent mx-auto mb-4"}),(0,Jt.jsx)("p",{className:"text-slate-600",children:"Loading lesson..."})]})}):l?(0,Jt.jsx)(Qr,{lesson:l,currentUser:i,onProgressUpdate:s,onComplete:e=>{console.log("Lesson completed:",e),o("/ai-paths")},onGoBack:()=>o("/ai-paths")}):null},bi=zt("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),xi=zt("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);function vi(t){var i;let{currentUser:s,onDeleteAccount:a,onSignOut:o}=t;const[l,c]=(0,e.useState)("account"),[d,u]=(0,e.useState)(null),[h,m]=(0,e.useState)(!0),[p,f]=(0,e.useState)(!1),[g,y]=(0,e.useState)(null),[b,x]=(0,e.useState)({displayName:(null===s||void 0===s?void 0:s.displayName)||"",email:(null===s||void 0===s?void 0:s.email)||""}),[v,w]=(0,e.useState)({weeklyDigest:!0,lessonReminders:!0,achievements:!0,productUpdates:!1});(0,e.useEffect)(()=>{if(!s)return;let e;return(async()=>{try{const{db:t}=await Promise.resolve().then(n.bind(n,662)),{doc:r,onSnapshot:i}=await Promise.resolve().then(n.bind(n,667));e=i(r(t,"users",s.uid,"subscription","current"),e=>{if(e.exists()){var t,n;const r=e.data();u({tier:r.tier||"free",status:r.status||"active",currentPeriodEnd:(null===(t=r.currentPeriodEnd)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t))||null,stripeCustomerId:r.stripeCustomerId||null,stripeSubscriptionId:r.stripeSubscriptionId||null})}else u({tier:"free",status:"active",currentPeriodEnd:null,stripeCustomerId:null,stripeSubscriptionId:null});m(!1)},e=>{console.error("Error listening to subscription:",e),m(!1)})}catch(t){console.error("Error setting up subscription listener:",t),m(!1)}})(),()=>{e&&e()}},[s]);const N=e=>{switch(e){case"premium":return"Premium";case"basic":return"Basic";default:return"Free"}},k=e=>{if(!e)return"N/A";return(e.toDate?e.toDate():new Date(e)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},j=async()=>{if(console.log("Opening customer portal...",{subscription:d}),null!==d&&void 0!==d&&d.stripeCustomerId)try{var e;const t=(null===(e="https://churchexplorer-server.vercel.app/api/ai")?void 0:e.replace("/api/ai",""))||"https://churchexplorer-hlo9hbs7g-scott-mcmurrays-projects.vercel.app";console.log("API Endpoint:",t),console.log("Customer ID:",d.stripeCustomerId);const n=await fetch("".concat(t,"/api/create-portal-session"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerId:d.stripeCustomerId})});if(console.log("Response status:",n.status),!n.ok){const e=await n.json();throw console.error("Error response:",e),new Error(e.error||"Failed to create portal session")}const{url:r}=await n.json();console.log("Portal URL:",r),window.open(r,"_blank")}catch(t){console.error("Error opening portal:",t),alert("Failed to open customer portal: ".concat(t.message))}else alert("No payment method on file. Please upgrade to a paid plan first.")};return h?(0,Jt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 flex items-center justify-center",children:(0,Jt.jsxs)("div",{className:"text-center",children:[(0,Jt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-purple-600 border-t-transparent mx-auto mb-4"}),(0,Jt.jsx)("p",{className:"text-slate-600",children:"Loading profile..."})]})}):(0,Jt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 py-8 px-4",children:[(0,Jt.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,Jt.jsxs)("div",{className:"mb-8",children:[(0,Jt.jsx)("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Profile & Settings"}),(0,Jt.jsx)("p",{className:"text-slate-600",children:"Manage your account, subscription, and preferences"})]}),(0,Jt.jsx)("div",{className:"".concat((e=>{switch(e){case"premium":return"bg-gradient-to-r from-purple-500 to-pink-500";case"basic":return"bg-gradient-to-r from-blue-500 to-cyan-500";default:return"bg-gradient-to-r from-slate-500 to-slate-600"}})(null===d||void 0===d?void 0:d.tier)," rounded-2xl p-6 mb-6 text-white shadow-lg"),children:(0,Jt.jsx)("div",{className:"flex items-start justify-between",children:(0,Jt.jsxs)("div",{className:"flex-1",children:[(0,Jt.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(e=>{switch(e){case"premium":return(0,Jt.jsx)($r,{className:"w-5 h-5 text-purple-600"});case"basic":return(0,Jt.jsx)(mr,{className:"w-5 h-5 text-blue-600"});default:return(0,Jt.jsx)(en,{className:"w-5 h-5 text-slate-600"})}})(null===d||void 0===d?void 0:d.tier),(0,Jt.jsxs)("h2",{className:"text-2xl font-bold",children:[N(null===d||void 0===d?void 0:d.tier)," Plan"]})]}),(0,Jt.jsxs)("p",{className:"text-white/90 mb-4",children:["premium"===(null===d||void 0===d?void 0:d.tier)&&"Unlimited AI lessons + all features","basic"===(null===d||void 0===d?void 0:d.tier)&&"1 AI lesson per week (4 per month) + all curated content","free"===(null===d||void 0===d?void 0:d.tier)&&"Access to all curated lessons"]}),(0,Jt.jsx)("div",{className:"flex items-center space-x-4 text-sm text-white/80",children:(null===d||void 0===d?void 0:d.currentPeriodEnd)&&(0,Jt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Jt.jsx)(Ut,{className:"w-4 h-4"}),(0,Jt.jsxs)("span",{children:["canceled"===d.status?"Access until":"Renews on"," ",k(d.currentPeriodEnd)]})]})})]})})}),(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 mb-6 overflow-hidden",children:[(0,Jt.jsxs)("div",{className:"flex border-b border-slate-200",children:[(0,Jt.jsx)("button",{onClick:()=>c("account"),className:"flex-1 px-6 py-4 font-medium transition ".concat("account"===l?"bg-purple-50 text-purple-600 border-b-2 border-purple-600":"text-slate-600 hover:bg-slate-50"),children:(0,Jt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Jt.jsx)(ir,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{children:"Account"})]})}),(0,Jt.jsx)("button",{onClick:()=>c("subscription"),className:"flex-1 px-6 py-4 font-medium transition ".concat("subscription"===l?"bg-purple-50 text-purple-600 border-b-2 border-purple-600":"text-slate-600 hover:bg-slate-50"),children:(0,Jt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Jt.jsx)(bi,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{children:"Subscription"})]})}),(0,Jt.jsx)("button",{onClick:()=>c("preferences"),className:"flex-1 px-6 py-4 font-medium transition ".concat("preferences"===l?"bg-purple-50 text-purple-600 border-b-2 border-purple-600":"text-slate-600 hover:bg-slate-50"),children:(0,Jt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Jt.jsx)(Jn,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{children:"Preferences"})]})}),(0,Jt.jsx)("button",{onClick:()=>c("about"),className:"flex-1 px-6 py-4 font-medium transition ".concat("about"===l?"bg-purple-50 text-purple-600 border-b-2 border-purple-600":"text-slate-600 hover:bg-slate-50"),children:(0,Jt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Jt.jsx)(en,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{children:"Our Approach"})]})})]}),"account"===l&&(0,Jt.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Personal Information"}),(0,Jt.jsxs)("div",{className:"space-y-4",children:[(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Display Name"}),(0,Jt.jsx)("input",{type:"text",value:b.displayName,onChange:e=>x((0,r.A)((0,r.A)({},b),{},{displayName:e.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Your name"})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Address"}),(0,Jt.jsxs)("div",{className:"relative",children:[(0,Jt.jsx)("input",{type:"email",value:b.email,disabled:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg bg-slate-50 text-slate-500 cursor-not-allowed"}),(0,Jt.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:(0,Jt.jsx)(tn,{className:"w-4 h-4 text-slate-400"})})]}),(0,Jt.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Email address cannot be changed"})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Member Since"}),(0,Jt.jsx)("input",{type:"text",value:k(null===s||void 0===s||null===(i=s.metadata)||void 0===i?void 0:i.creationTime),disabled:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg bg-slate-50 text-slate-500 cursor-not-allowed"})]})]}),(0,Jt.jsxs)("div",{className:"flex items-center justify-between mt-6 pt-6 border-t border-slate-200",children:[(0,Jt.jsxs)("div",{className:"flex items-center space-x-2",children:["saving"===g&&(0,Jt.jsxs)("div",{className:"flex items-center space-x-2 text-blue-600",children:[(0,Jt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-600 border-t-transparent"}),(0,Jt.jsx)("span",{className:"text-sm",children:"Saving..."})]}),"success"===g&&(0,Jt.jsxs)("div",{className:"flex items-center space-x-2 text-green-600",children:[(0,Jt.jsx)($t,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{className:"text-sm",children:"Changes saved!"})]})]}),(0,Jt.jsxs)("button",{onClick:async()=>{y("saving"),setTimeout(()=>{y("success"),setTimeout(()=>y(null),3e3)},1e3)},disabled:"saving"===g,className:"flex items-center space-x-2 bg-purple-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-purple-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Jt.jsx)(xi,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{children:"Save Changes"})]})]})]}),(0,Jt.jsxs)("div",{className:"pt-6 border-t border-slate-200",children:[(0,Jt.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Danger Zone"}),(0,Jt.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Jt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h4",{className:"font-semibold text-red-900 mb-1",children:"Delete Account"}),(0,Jt.jsx)("p",{className:"text-sm text-red-700",children:"Permanently delete your account and all associated data. This action cannot be undone."})]}),(0,Jt.jsxs)("button",{onClick:a,className:"flex items-center space-x-2 bg-red-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-700 transition whitespace-nowrap ml-4",children:[(0,Jt.jsx)(or,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{children:"Delete Account"})]})]})})]})]}),"subscription"===l&&(0,Jt.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"AI Lesson Usage"}),(0,Jt.jsx)(ri,{userId:null===s||void 0===s?void 0:s.uid,onUpgradeClick:()=>f(!0)})]}),"free"!==(null===d||void 0===d?void 0:d.tier)&&(0,Jt.jsxs)("div",{className:"pt-6 border-t border-slate-200",children:[(0,Jt.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Billing & Payment"}),(0,Jt.jsxs)("div",{className:"space-y-4",children:[(0,Jt.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h4",{className:"font-semibold text-slate-900",children:"Payment Method"}),(0,Jt.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Manage your payment methods and billing information"})]}),(0,Jt.jsx)(bi,{className:"w-8 h-8 text-slate-400"})]}),(0,Jt.jsxs)("button",{onClick:j,className:"flex items-center space-x-2 text-purple-600 hover:text-purple-700 font-medium text-sm",children:[(0,Jt.jsx)("span",{children:"Manage Payment Methods"}),(0,Jt.jsx)(Ht,{className:"w-4 h-4"})]})]}),(0,Jt.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[(0,Jt.jsx)("h4",{className:"font-semibold text-slate-900 mb-2",children:"Subscription Status"}),(0,Jt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Jt.jsxs)("div",{className:"flex justify-between",children:[(0,Jt.jsx)("span",{className:"text-slate-600",children:"Current Plan:"}),(0,Jt.jsx)("span",{className:"font-medium text-slate-900",children:N(null===d||void 0===d?void 0:d.tier)})]}),(0,Jt.jsxs)("div",{className:"flex justify-between",children:[(0,Jt.jsx)("span",{className:"text-slate-600",children:"Status:"}),(0,Jt.jsx)("span",{className:"font-medium ".concat("active"!==(null===d||void 0===d?void 0:d.status)||null!==d&&void 0!==d&&d.cancelAtPeriodEnd?"canceled"===(null===d||void 0===d?void 0:d.status)||null!==d&&void 0!==d&&d.cancelAtPeriodEnd?"text-orange-600":"text-red-600":"text-green-600"),children:"active"!==(null===d||void 0===d?void 0:d.status)||null!==d&&void 0!==d&&d.cancelAtPeriodEnd?"canceled"===(null===d||void 0===d?void 0:d.status)||null!==d&&void 0!==d&&d.cancelAtPeriodEnd?"Canceling (access until period end)":"past_due"===(null===d||void 0===d?void 0:d.status)?"Past Due - Please Update Payment":"Inactive":"Active"})]}),(null===d||void 0===d?void 0:d.currentPeriodEnd)&&(0,Jt.jsxs)("div",{className:"flex justify-between",children:[(0,Jt.jsx)("span",{className:"text-slate-600",children:"canceled"===d.status||null!==d&&void 0!==d&&d.cancelAtPeriodEnd?"Access Until:":"Next Billing:"}),(0,Jt.jsx)("span",{className:"font-medium text-slate-900",children:k(d.currentPeriodEnd)})]}),(null===d||void 0===d?void 0:d.pendingTierChange)&&(null===d||void 0===d?void 0:d.pendingTierChangeDate)&&(0,Jt.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded p-3 mt-3",children:(0,Jt.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Jt.jsx)(qt,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("p",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Plan Change Scheduled"}),(0,Jt.jsxs)("p",{className:"text-xs text-blue-800",children:["Your plan will change to ",(0,Jt.jsx)("strong",{children:N(d.pendingTierChange)})," on"," ",(0,Jt.jsx)("strong",{children:k(d.pendingTierChangeDate)})]}),(0,Jt.jsxs)("p",{className:"text-xs text-blue-700 mt-1",children:["You'll keep your current ",(0,Jt.jsx)("strong",{children:N(d.tier)})," features until then."]})]})]})}),(null===d||void 0===d?void 0:d.cancelAtPeriodEnd)&&(0,Jt.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded p-2 mt-2",children:(0,Jt.jsxs)("p",{className:"text-xs text-orange-800",children:["Your subscription will not renew. You can reactivate anytime before ",k(d.currentPeriodEnd),"."]})})]})]}),(0,Jt.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-4",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h4",{className:"font-semibold text-slate-900",children:"Manage Your Subscription"}),(0,Jt.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Update payment methods, view invoices, and manage your plan"})]}),(0,Jt.jsx)(sr,{className:"w-8 h-8 text-blue-600"})]}),(0,Jt.jsxs)("button",{onClick:j,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-purple-700 transition shadow-md flex items-center justify-center space-x-2",children:[(0,Jt.jsx)("span",{children:"Open Billing Portal"}),(0,Jt.jsx)(Ht,{className:"w-4 h-4"})]})]})]}),"free"!==(null===d||void 0===d?void 0:d.tier)&&(0,Jt.jsx)("div",{className:"mt-6 pt-6 border-t border-slate-200",children:null!==d&&void 0!==d&&d.cancelAtPeriodEnd?(0,Jt.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Jt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h4",{className:"font-semibold text-blue-900 mb-1",children:"Reactivate Subscription"}),(0,Jt.jsx)("p",{className:"text-sm text-blue-700",children:"Your plan will not renew. Click to continue your subscription."})]}),(0,Jt.jsx)("button",{onClick:j,className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition whitespace-nowrap ml-4",children:"Reactivate"})]})}):"active"===(null===d||void 0===d?void 0:d.status)?(0,Jt.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:(0,Jt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h4",{className:"font-semibold text-orange-900 mb-1",children:"Cancel Subscription"}),(0,Jt.jsxs)("p",{className:"text-sm text-orange-700",children:["You will retain access until ",k(d.currentPeriodEnd)]})]}),(0,Jt.jsx)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to cancel your subscription? You will retain access until the end of your billing period."))try{var e;if(null===d||void 0===d||!d.stripeSubscriptionId)return void alert("No active subscription found.");const t=(null===(e="https://churchexplorer-server.vercel.app/api/ai")?void 0:e.replace("/api/ai",""))||"https://churchexplorer-hlo9hbs7g-scott-mcmurrays-projects.vercel.app",n=await fetch("".concat(t,"/api/cancel-subscription"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscriptionId:d.stripeSubscriptionId})});if(!n.ok){const e=await n.json();throw new Error(e.error||"Failed to cancel subscription")}await n.json();alert("Subscription canceled successfully. You will retain access until "+k(d.currentPeriodEnd))}catch(t){console.error("Error canceling subscription:",t),alert("Failed to cancel subscription: ".concat(t.message))}},className:"bg-orange-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-orange-700 transition whitespace-nowrap ml-4",children:"Cancel Plan"})]})}):"past_due"===(null===d||void 0===d?void 0:d.status)?(0,Jt.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Jt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h4",{className:"font-semibold text-red-900 mb-1",children:"Payment Failed"}),(0,Jt.jsx)("p",{className:"text-sm text-red-700",children:"Please update your payment method to continue accessing AI lessons."})]}),(0,Jt.jsx)("button",{onClick:j,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-700 transition whitespace-nowrap ml-4",children:"Update Payment"})]})}):null})]}),"free"===(null===d||void 0===d?void 0:d.tier)&&(0,Jt.jsx)("div",{className:"pt-6 border-t border-slate-200",children:(0,Jt.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg p-6 text-center",children:[(0,Jt.jsx)($r,{className:"w-12 h-12 text-purple-600 mx-auto mb-3"}),(0,Jt.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Unlock AI-Powered Learning"}),(0,Jt.jsx)("p",{className:"text-slate-600 mb-4",children:"Upgrade to create personalized AI lessons tailored to your interests"}),(0,Jt.jsx)("button",{onClick:()=>f(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-3 rounded-lg font-semibold hover:from-purple-700 hover:to-pink-700 transition shadow-lg",children:"View Plans & Upgrade"})]})})]}),"preferences"===l&&(0,Jt.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Email Notifications"}),(0,Jt.jsx)("div",{className:"space-y-4",children:[{key:"weeklyDigest",label:"Weekly Learning Digest",description:"Get a summary of your progress and new content"},{key:"lessonReminders",label:"Lesson Reminders",description:"Reminders to continue your learning journey"},{key:"achievements",label:"Achievement Notifications",description:"Get notified when you earn badges and milestones"},{key:"productUpdates",label:"Product Updates",description:"Learn about new features and improvements"}].map(e=>(0,Jt.jsxs)("div",{className:"flex items-start justify-between py-3 border-b border-slate-200 last:border-0",children:[(0,Jt.jsxs)("div",{className:"flex-1",children:[(0,Jt.jsx)("h4",{className:"font-medium text-slate-900",children:e.label}),(0,Jt.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:e.description})]}),(0,Jt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer ml-4",children:[(0,Jt.jsx)("input",{type:"checkbox",checked:v[e.key],onChange:t=>w((0,r.A)((0,r.A)({},v),{},{[e.key]:t.target.checked})),className:"sr-only peer"}),(0,Jt.jsx)("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]},e.key))}),(0,Jt.jsxs)("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start space-x-3",children:[(0,Jt.jsx)(qt,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,Jt.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,Jt.jsx)("p",{className:"font-medium mb-1",children:"Email Preference Note"}),(0,Jt.jsx)("p",{children:"Email notification settings are saved automatically. You can update these preferences at any time."})]})]})]}),(0,Jt.jsxs)("div",{className:"pt-6 border-t border-slate-200",children:[(0,Jt.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Privacy & Data"}),(0,Jt.jsxs)("div",{className:"space-y-3",children:[(0,Jt.jsxs)("button",{className:"w-full text-left px-4 py-3 bg-slate-50 hover:bg-slate-100 border border-slate-200 rounded-lg transition",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Jt.jsx)("span",{className:"font-medium text-slate-900",children:"Download My Data"}),(0,Jt.jsx)(Ht,{className:"w-4 h-4 text-slate-400"})]}),(0,Jt.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Export all your account data and learning progress"})]}),(0,Jt.jsxs)(dt,{to:"/legal",className:"block w-full text-left px-4 py-3 bg-slate-50 hover:bg-slate-100 border border-slate-200 rounded-lg transition",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Jt.jsx)("span",{className:"font-medium text-slate-900",children:"Terms & Privacy Policy"}),(0,Jt.jsx)(Ht,{className:"w-4 h-4 text-slate-400"})]}),(0,Jt.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Review our terms of service, privacy policy, and data practices"})]})]})]})]}),"about"===l&&(0,Jt.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Jt.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 via-purple-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-6 mb-6",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2.5 rounded-lg",children:(0,Jt.jsx)(ir,{className:"w-6 h-6 text-white"})}),(0,Jt.jsx)("h3",{className:"text-xl font-bold text-slate-900",children:"About the Creator"})]}),(0,Jt.jsxs)("div",{className:"space-y-3",children:[(0,Jt.jsxs)("p",{className:"text-base text-slate-700 leading-relaxed",children:["Church Explorer was built by a ",(0,Jt.jsx)("span",{className:"font-semibold text-blue-700",children:"Christian"}),", ",(0,Jt.jsx)("span",{className:"font-semibold text-purple-700",children:"husband"}),", and ",(0,Jt.jsx)("span",{className:"font-semibold text-indigo-700",children:"father"})," who wanted to understand more about church history\u2014what ",(0,Jt.jsx)("span",{className:"font-semibold text-green-700",children:"unites all Christians"})," across traditions, and where we ",(0,Jt.jsx)("span",{className:"font-semibold text-amber-700",children:"respectfully differ"}),"."]}),(0,Jt.jsx)("p",{className:"text-sm text-slate-600 leading-relaxed",children:"This isn't a corporate product. It's a labor of love from someone walking the same journey of faith, seeking to understand the roots of what we believe and why it matters."})]})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Our Guiding Principle"}),(0,Jt.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-purple-200 rounded-xl p-6 mb-6",children:(0,Jt.jsx)("p",{className:"text-2xl font-bold text-slate-900 italic text-center",children:'"In essentials, unity. In non-essentials, liberty. In all things, charity."'})}),(0,Jt.jsxs)("div",{className:"space-y-4 text-slate-700",children:[(0,Jt.jsx)("p",{className:"text-lg leading-relaxed",children:"This ancient motto shapes everything we do at Church Explorer. It's a timeless principle that helps believers navigate theology with both conviction and grace."}),(0,Jt.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 my-6",children:[(0,Jt.jsxs)("div",{className:"bg-white border-2 border-blue-200 rounded-lg p-4",children:[(0,Jt.jsx)("h4",{className:"font-bold text-blue-700 mb-2",children:"In Essentials, Unity"}),(0,Jt.jsx)("p",{className:"text-sm text-slate-600",children:"We focus on the core beliefs all Christians share \u2014 like the Trinity, the resurrection, and salvation through Christ."})]}),(0,Jt.jsxs)("div",{className:"bg-white border-2 border-purple-200 rounded-lg p-4",children:[(0,Jt.jsx)("h4",{className:"font-bold text-purple-700 mb-2",children:"In Non-Essentials, Liberty"}),(0,Jt.jsx)("p",{className:"text-sm text-slate-600",children:"On secondary matters where faithful believers disagree, we explore different views with respect and clarity."})]}),(0,Jt.jsxs)("div",{className:"bg-white border-2 border-green-200 rounded-lg p-4",children:[(0,Jt.jsx)("h4",{className:"font-bold text-green-700 mb-2",children:"In All Things, Charity"}),(0,Jt.jsx)("p",{className:"text-sm text-slate-600",children:"Whether discussing essentials or non-essentials, we approach every topic with love, humility, and grace."})]})]}),(0,Jt.jsxs)("p",{className:"text-base leading-relaxed",children:["Our lessons are designed to help you understand ",(0,Jt.jsx)("strong",{children:"what"})," Christians believe, ",(0,Jt.jsx)("strong",{children:"why"})," they believe it, and ",(0,Jt.jsx)("strong",{children:"how"})," those beliefs developed historically \u2014 all while distinguishing between the core doctrines that unite believers and the secondary matters where Christians can graciously disagree."]}),(0,Jt.jsx)("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 mt-4",children:(0,Jt.jsx)("p",{className:"text-sm text-slate-600 italic",children:"This approach helps us avoid both the rigidity of treating every belief as equally important and the chaos of treating no beliefs as important. It's the wisdom of the historic church applied to modern learning."})})]})]})]})]})]}),(0,Jt.jsx)(ti,{isOpen:p,onClose:()=>f(!1),currentTier:(null===d||void 0===d?void 0:d.tier)||"free",currentUser:s})]})}const wi=zt("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Ni=zt("cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);function ki(){const[t,n]=(0,e.useState)("terms");return(0,Jt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 py-8 px-4",children:(0,Jt.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Jt.jsxs)("div",{className:"mb-8 text-center",children:[(0,Jt.jsx)("h1",{className:"text-4xl font-bold text-slate-900 mb-2",children:"Legal Information"}),(0,Jt.jsx)("p",{className:"text-slate-600",children:"Our commitment to transparency and user protection"})]}),(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 mb-6 overflow-hidden",children:[(0,Jt.jsxs)("div",{className:"flex border-b border-slate-200",children:[(0,Jt.jsx)("button",{onClick:()=>n("terms"),className:"flex-1 px-6 py-4 font-medium transition ".concat("terms"===t?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:bg-slate-50"),children:(0,Jt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Jt.jsx)(wi,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{children:"Terms of Service"})]})}),(0,Jt.jsx)("button",{onClick:()=>n("privacy"),className:"flex-1 px-6 py-4 font-medium transition ".concat("privacy"===t?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:bg-slate-50"),children:(0,Jt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Jt.jsx)(Jn,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{children:"Privacy Policy"})]})}),(0,Jt.jsx)("button",{onClick:()=>n("cookies"),className:"flex-1 px-6 py-4 font-medium transition ".concat("cookies"===t?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:bg-slate-50"),children:(0,Jt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Jt.jsx)(Ni,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{children:"Cookie Policy"})]})})]}),"terms"===t&&(0,Jt.jsx)(ji,{}),"privacy"===t&&(0,Jt.jsx)(Ci,{}),"cookies"===t&&(0,Jt.jsx)(Si,{})]})]})})}function ji(){return(0,Jt.jsxs)("div",{className:"p-8 prose prose-slate max-w-none",children:[(0,Jt.jsx)("div",{className:"text-sm text-slate-500 mb-6",children:"Last Updated: November 6, 2025 | Version 1.0"}),(0,Jt.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Terms of Service"}),(0,Jt.jsx)("p",{className:"text-slate-700 mb-4",children:'Welcome to Church Explorer. By accessing or using our service, you agree to be bound by these Terms of Service ("Terms"). Please read them carefully.'}),(0,Jt.jsx)(Ti,{title:"1. Acceptance of Terms",children:(0,Jt.jsx)("p",{children:"By creating an account or using Church Explorer, you accept and agree to be bound by these Terms and our Privacy Policy. If you do not agree to these Terms, you may not use our services."})}),(0,Jt.jsxs)(Ti,{title:"2. Description of Service",children:[(0,Jt.jsx)("p",{children:"Church Explorer is an educational platform providing:"}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsx)("li",{children:"Curated lessons on Bible History, Church History, and Christian Apologetics"}),(0,Jt.jsx)("li",{children:"AI-generated personalized learning paths (for paid subscribers)"}),(0,Jt.jsx)("li",{children:"Progress tracking and gamification features"}),(0,Jt.jsx)("li",{children:"Denomination exploration tools"}),(0,Jt.jsx)("li",{children:"Community leaderboards"})]})]}),(0,Jt.jsxs)(Ti,{title:"3. User Accounts",children:[(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"3.1 Account Creation"}),(0,Jt.jsx)("p",{className:"mb-3",children:"You must provide accurate, complete, and current information during registration. You are responsible for maintaining the confidentiality of your account credentials."}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"3.2 Age Requirements"}),(0,Jt.jsx)("p",{className:"mb-3",children:"You must be at least 13 years old to use Church Explorer. Users under 18 should obtain parental consent before creating an account."}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"3.3 Account Security"}),(0,Jt.jsx)("p",{children:"You are responsible for all activities that occur under your account. Notify us immediately of any unauthorized use of your account."})]}),(0,Jt.jsxs)(Ti,{title:"4. Subscription and Payment",children:[(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"4.1 Subscription Tiers"}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Free:"})," Access to all curated lessons"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Basic ($2.99/month):"})," 1 AI-generated lesson per month + curated content"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Premium ($5.99/month):"})," Unlimited AI lessons + all features"]})]}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"4.2 Billing"}),(0,Jt.jsx)("p",{className:"mb-3",children:"Subscriptions are billed monthly or annually in advance. Payments are processed securely through Stripe. You authorize us to charge your payment method on a recurring basis."}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"4.3 Cancellation"}),(0,Jt.jsx)("p",{className:"mb-3",children:"You may cancel your subscription at any time through your profile settings. Cancellations take effect at the end of the current billing period. No refunds for partial months."}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"4.4 Price Changes"}),(0,Jt.jsx)("p",{children:"We reserve the right to change subscription prices with 30 days' notice. Continued use after price changes constitutes acceptance of new pricing."})]}),(0,Jt.jsxs)(Ti,{title:"5. User Content and AI-Generated Content",children:[(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"5.1 AI-Generated Lessons"}),(0,Jt.jsx)("p",{className:"mb-3",children:"AI-generated content is provided for educational purposes. While we strive for theological accuracy, AI-generated content should not replace formal theological study or pastoral guidance."}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"5.2 Content Accuracy"}),(0,Jt.jsx)("p",{className:"mb-3",children:"We make reasonable efforts to ensure content accuracy but do not guarantee that all content is error-free or theologically complete. Users should verify important theological questions with qualified sources."}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"5.3 Prohibited Use"}),(0,Jt.jsx)("p",{children:"You may not use Church Explorer to:"}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsx)("li",{children:"Generate content promoting heresy or false doctrine"}),(0,Jt.jsx)("li",{children:"Harass, abuse, or harm others"}),(0,Jt.jsx)("li",{children:"Violate any laws or regulations"}),(0,Jt.jsx)("li",{children:"Infringe on intellectual property rights"}),(0,Jt.jsx)("li",{children:"Attempt to circumvent usage limits or security measures"})]})]}),(0,Jt.jsxs)(Ti,{title:"6. Intellectual Property",children:[(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"6.1 Our Content"}),(0,Jt.jsx)("p",{className:"mb-3",children:"All curated lessons, design elements, and platform features are owned by Church Explorer or our licensors. You may not copy, modify, or distribute our content without permission."}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"6.2 User Rights to AI Content"}),(0,Jt.jsx)("p",{children:"You retain rights to AI-generated lessons created with your account for personal, non-commercial use. You may not resell or redistribute AI-generated content."})]}),(0,Jt.jsxs)(Ti,{title:"7. Disclaimers",children:[(0,Jt.jsxs)("p",{className:"mb-3",children:[(0,Jt.jsx)("strong",{children:"THEOLOGICAL DISCLAIMER:"})," Church Explorer provides educational content from various Christian traditions. Content does not constitute pastoral advice, theological counseling, or official church doctrine. Consult qualified religious leaders for spiritual guidance."]}),(0,Jt.jsxs)("p",{className:"mb-3",children:[(0,Jt.jsx)("strong",{children:'SERVICE PROVIDED "AS IS":'}),' We provide Church Explorer "as is" without warranties of any kind, express or implied, including but not limited to merchantability, fitness for a particular purpose, or non-infringement.']}),(0,Jt.jsxs)("p",{children:[(0,Jt.jsx)("strong",{children:"NO GUARANTEE OF AVAILABILITY:"})," We do not guarantee uninterrupted or error-free service. We may modify, suspend, or discontinue features at any time."]})]}),(0,Jt.jsx)(Ti,{title:"8. Limitation of Liability",children:(0,Jt.jsx)("p",{children:"To the maximum extent permitted by law, Church Explorer and its operators shall not be liable for any indirect, incidental, special, consequential, or punitive damages, or any loss of profits or revenues, whether incurred directly or indirectly, or any loss of data, use, goodwill, or other intangible losses."})}),(0,Jt.jsx)(Ti,{title:"9. Indemnification",children:(0,Jt.jsx)("p",{children:"You agree to indemnify and hold harmless Church Explorer from any claims, damages, losses, liabilities, and expenses arising from your use of the service or violation of these Terms."})}),(0,Jt.jsx)(Ti,{title:"10. Termination",children:(0,Jt.jsx)("p",{children:"We reserve the right to suspend or terminate your account at any time for violation of these Terms, fraudulent activity, or other harmful conduct. Upon termination, your right to use the service ceases immediately."})}),(0,Jt.jsx)(Ti,{title:"11. Governing Law",children:(0,Jt.jsx)("p",{children:"These Terms are governed by the laws of the State of Ohio, United States, without regard to conflict of law principles. Any disputes shall be resolved in the state or federal courts located in Ohio."})}),(0,Jt.jsxs)(Ti,{title:"12. Business Information",children:[(0,Jt.jsx)("p",{className:"mb-4",children:"Church Explorer is operated as a sole proprietorship by:"}),(0,Jt.jsx)("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 mb-4",children:(0,Jt.jsxs)("ul",{className:"list-none space-y-2",children:[(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Business Name:"})," Church Explorer"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Type:"})," Sole Proprietorship"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Location:"})," Ohio, United States"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Contact Email:"})," scottymcmurray@gmail.com"]})]})}),(0,Jt.jsxs)("p",{className:"text-sm text-slate-600",children:["For payment processing, we use Stripe, Inc. as our third-party payment processor. Your payment information is processed securely by Stripe and is subject to their",(0,Jt.jsx)("a",{href:"https://stripe.com/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline ml-1",children:"Privacy Policy"}),"."]})]}),(0,Jt.jsx)(Ti,{title:"13. Changes to Terms",children:(0,Jt.jsx)("p",{children:"We may update these Terms from time to time. We will notify users of material changes via email or in-app notification. Continued use after changes constitutes acceptance of modified Terms."})}),(0,Jt.jsxs)(Ti,{title:"14. Contact Information",children:[(0,Jt.jsx)("p",{children:"For questions about these Terms, contact us at:"}),(0,Jt.jsxs)("ul",{className:"list-none pl-0 mb-4",children:[(0,Jt.jsx)("li",{children:"Email: scottymcmurray@gmail.com"}),(0,Jt.jsx)("li",{children:"Website: www.churchexplorer.org"})]})]}),(0,Jt.jsx)("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Jt.jsx)("p",{className:"text-sm text-blue-900",children:(0,Jt.jsx)("strong",{children:"By using Church Explorer, you acknowledge that you have read, understood, and agree to be bound by these Terms of Service."})})})]})}function Ci(){return(0,Jt.jsxs)("div",{className:"p-8 prose prose-slate max-w-none",children:[(0,Jt.jsx)("div",{className:"text-sm text-slate-500 mb-6",children:"Last Updated: November 6, 2025 | Version 1.0"}),(0,Jt.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Privacy Policy"}),(0,Jt.jsx)("p",{className:"text-slate-700 mb-4",children:'Church Explorer ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our service.'}),(0,Jt.jsxs)(Ti,{title:"1. Information We Collect",children:[(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"1.1 Information You Provide"}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Account Information:"})," Name, email address, password, country"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Payment Information:"})," Processed securely by Stripe (we do not store credit card numbers)"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Profile Information:"})," Display name, preferences, email notification settings"]})]}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"1.2 Information Automatically Collected"}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Usage Data:"})," Lessons completed, XP earned, streaks, time spent on lessons"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"AI Lesson Data:"})," Topics requested, lessons generated, completion status"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Device Information:"})," Browser type, operating system, IP address (via Firebase)"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Authentication Data:"})," Login times, authentication method (via Firebase Auth)"]})]}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"1.3 Information from Third Parties"}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Firebase/Google:"})," Authentication and hosting services"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Stripe:"})," Payment processing (they have their own privacy policy)"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"OpenAI:"})," AI lesson generation (anonymized requests)"]})]})]}),(0,Jt.jsxs)(Ti,{title:"2. How We Use Your Information",children:[(0,Jt.jsx)("p",{children:"We use collected information for:"}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Service Delivery:"})," Provide and maintain Church Explorer features"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Personalization:"})," Track progress, maintain streaks, generate AI lessons tailored to your interests"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Communication:"})," Send lesson reminders, achievement notifications, product updates (with your consent)"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Payment Processing:"})," Manage subscriptions and billing"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Analytics:"})," Understand usage patterns to improve the service"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Security:"})," Detect fraud, prevent abuse, protect user accounts"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Legal Compliance:"})," Comply with applicable laws and regulations"]})]})]}),(0,Jt.jsxs)(Ti,{title:"3. How We Share Your Information",children:[(0,Jt.jsx)("p",{className:"mb-3",children:"We do not sell your personal information. We may share information with:"}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"3.1 Service Providers"}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Firebase/Google Cloud:"})," Database, authentication, hosting"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Stripe:"})," Payment processing"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"OpenAI:"})," AI lesson generation (requests are anonymized)"]})]}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"3.2 Legal Requirements"}),(0,Jt.jsx)("p",{className:"mb-3",children:"We may disclose information if required by law, court order, or to protect our rights or safety of users."}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"3.3 Business Transfers"}),(0,Jt.jsx)("p",{children:"In the event of a merger, acquisition, or sale of assets, user information may be transferred to the acquiring entity."})]}),(0,Jt.jsxs)(Ti,{title:"4. Data Storage and Security",children:[(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"4.1 Where We Store Data"}),(0,Jt.jsx)("p",{className:"mb-3",children:"Your data is stored on Firebase/Google Cloud servers, which may be located in various countries. By using our service, you consent to this transfer."}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"4.2 Security Measures"}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsx)("li",{children:"Encryption in transit (HTTPS/TLS)"}),(0,Jt.jsx)("li",{children:"Encryption at rest (Firebase encryption)"}),(0,Jt.jsx)("li",{children:"Secure authentication (Firebase Auth with password hashing)"}),(0,Jt.jsx)("li",{children:"Regular security audits and updates"})]}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"4.3 Data Retention"}),(0,Jt.jsx)("p",{children:"We retain your information for as long as your account is active or as needed to provide services. Upon account deletion, we delete your data within 30 days, except where retention is required by law."})]}),(0,Jt.jsxs)(Ti,{title:"5. Your Privacy Rights",children:[(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"5.1 GDPR Rights (EU Users)"}),(0,Jt.jsx)("p",{children:"If you are in the European Union, you have the right to:"}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Access:"})," Request a copy of your personal data"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Rectification:"})," Correct inaccurate information"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Erasure:"}),' Request deletion of your data ("right to be forgotten")']}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Data Portability:"})," Receive your data in a structured format"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Restriction:"})," Limit how we process your data"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Objection:"})," Object to certain types of processing"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Withdraw Consent:"})," Withdraw consent for email communications"]})]}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"5.2 CCPA Rights (California Users)"}),(0,Jt.jsx)("p",{children:"If you are a California resident, you have the right to:"}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsx)("li",{children:"Know what personal information we collect and how it's used"}),(0,Jt.jsx)("li",{children:"Request deletion of your personal information"}),(0,Jt.jsx)("li",{children:"Opt-out of the sale of personal information (we don't sell data)"}),(0,Jt.jsx)("li",{children:"Non-discrimination for exercising your rights"})]}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"5.3 How to Exercise Your Rights"}),(0,Jt.jsx)("p",{children:"To exercise these rights:"}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsx)("li",{children:"Visit your Profile page to update information or delete your account"}),(0,Jt.jsx)("li",{children:"Contact us at scottymcmurray@gmail.com for data access or portability requests"}),(0,Jt.jsx)("li",{children:"Use preference toggles in your profile to manage email communications"})]})]}),(0,Jt.jsxs)(Ti,{title:"6. International Data Transfers",children:[(0,Jt.jsx)("p",{className:"mb-3",children:"Church Explorer is operated from the United States. If you are accessing our service from outside the United States, please be aware that your information may be transferred to, stored, and processed in the United States where our servers and third-party service providers are located."}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"For European Union Users:"}),(0,Jt.jsx)("p",{className:"mb-3",children:"When we transfer data from the EU to the United States, we rely on:"}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Standard Contractual Clauses (SCCs):"})," Our service providers (Firebase/Google, Stripe, OpenAI) use EU-approved Standard Contractual Clauses to ensure adequate protection of your data."]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Data Processing Agreements:"})," Our third-party processors have entered into Data Processing Agreements that comply with GDPR requirements."]})]}),(0,Jt.jsxs)("p",{className:"text-sm text-slate-600 bg-slate-50 border border-slate-200 rounded p-3",children:["Learn more about our service providers' data protection measures:",(0,Jt.jsx)("br",{}),"\u2022 Firebase: ",(0,Jt.jsx)("a",{href:"https://firebase.google.com/support/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Firebase Privacy & Security"}),(0,Jt.jsx)("br",{}),"\u2022 Stripe: ",(0,Jt.jsx)("a",{href:"https://stripe.com/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Stripe Privacy Policy"}),(0,Jt.jsx)("br",{}),"\u2022 OpenAI: ",(0,Jt.jsx)("a",{href:"https://openai.com/policies/privacy-policy",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"OpenAI Privacy Policy"})]})]}),(0,Jt.jsxs)(Ti,{title:"7. Cookies and Tracking",children:[(0,Jt.jsx)("p",{children:"We use cookies and similar technologies to:"}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsx)("li",{children:"Keep you logged in to your account"}),(0,Jt.jsx)("li",{children:"Remember your preferences and settings"}),(0,Jt.jsx)("li",{children:"Analyze how users interact with our platform"}),(0,Jt.jsx)("li",{children:"Improve platform performance and user experience"})]}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"Types of Cookies We Use:"}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Essential Cookies:"})," Required for authentication and basic platform functionality"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Analytics Cookies:"})," Help us understand usage patterns (Firebase Analytics)"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Preference Cookies:"})," Remember your settings and choices"]})]}),(0,Jt.jsx)("p",{children:"You can control cookies through your browser settings or our cookie consent banner. Note that disabling essential cookies may limit platform functionality."}),(0,Jt.jsxs)("p",{className:"mt-2",children:["See our ",(0,Jt.jsx)(dt,{to:"/legal",className:"text-blue-600 hover:underline",children:"Cookie Policy"})," for full details. We do not use third-party advertising cookies or tracking pixels."]})]}),(0,Jt.jsxs)(Ti,{title:"8. Children's Privacy",children:[(0,Jt.jsx)("p",{className:"mb-3",children:"Church Explorer is not directed to children under 13. We do not knowingly collect information from children under 13. If you believe a child has provided us with information, contact us immediately."}),(0,Jt.jsx)("p",{children:"Users aged 13-17 should obtain parental consent before using our service."})]}),(0,Jt.jsx)(Ti,{title:"9. Third-Party Links",children:(0,Jt.jsx)("p",{children:"Our service may contain links to third-party websites or resources. We are not responsible for the privacy practices of these third parties. Please review their privacy policies."})}),(0,Jt.jsx)(Ti,{title:"10. Changes to Privacy Policy",children:(0,Jt.jsx)("p",{children:"We may update this Privacy Policy periodically. We will notify you of material changes via email or in-app notification. Your continued use after changes constitutes acceptance."})}),(0,Jt.jsxs)(Ti,{title:"11. Contact Us",children:[(0,Jt.jsx)("p",{children:"For privacy-related questions or to exercise your rights:"}),(0,Jt.jsxs)("ul",{className:"list-none pl-0 mb-4",children:[(0,Jt.jsx)("li",{children:"Email: scottymcmurray@gmail.com"}),(0,Jt.jsx)("li",{children:"Website: www.churchexplorer.org/legal"})]})]}),(0,Jt.jsx)("div",{className:"mt-8 p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,Jt.jsxs)("p",{className:"text-sm text-green-900",children:[(0,Jt.jsx)("strong",{children:"Your privacy matters to us."})," We are committed to protecting your personal information and being transparent about our data practices. If you have any concerns, please don't hesitate to contact us."]})})]})}function Si(){return(0,Jt.jsxs)("div",{className:"p-8 prose prose-slate max-w-none",children:[(0,Jt.jsx)("div",{className:"text-sm text-slate-500 mb-6",children:"Last Updated: November 6, 2025 | Version 1.0"}),(0,Jt.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Cookie Policy"}),(0,Jt.jsx)("p",{className:"text-slate-700 mb-4",children:"This Cookie Policy explains how Church Explorer uses cookies and similar technologies to recognize you when you visit our service."}),(0,Jt.jsx)(Ti,{title:"1. What Are Cookies?",children:(0,Jt.jsx)("p",{children:"Cookies are small text files stored on your device when you visit a website. They help websites remember information about your visit, such as your preferences and login status."})}),(0,Jt.jsxs)(Ti,{title:"2. How We Use Cookies",children:[(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"2.1 Essential Cookies"}),(0,Jt.jsx)("p",{className:"mb-3",children:"These cookies are necessary for the service to function:"}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Authentication Cookies (Firebase Auth):"})," Keep you logged in between sessions"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Session Cookies:"})," Maintain your session state while using the app"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Security Cookies:"})," Protect against cross-site request forgery (CSRF)"]})]}),(0,Jt.jsx)("p",{className:"mb-3 text-sm text-slate-600",children:(0,Jt.jsx)("em",{children:"These cookies are essential and cannot be disabled without affecting functionality."})}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"2.2 Functional Cookies"}),(0,Jt.jsx)("p",{className:"mb-3",children:"These cookies enhance functionality:"}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Preference Cookies:"})," Remember your settings and preferences"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Progress Cookies:"})," Temporarily store lesson progress before syncing to database"]})]}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"2.3 Analytics Cookies"}),(0,Jt.jsx)("p",{className:"mb-3",children:"We use analytics cookies to improve our service:"}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Firebase Analytics:"})," Used to understand which pages and features users find most helpful"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Usage Tracking:"})," Help us identify popular content and improve user experience"]})]}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"2.4 Cookies We Do NOT Use"}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"\u274c Advertising Cookies:"})," We do not serve ads or use advertising cookies"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"\u274c Third-Party Tracking:"})," We do not share data with advertising networks"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"\u274c Social Media Cookies:"})," We do not embed social media trackers"]})]})]}),(0,Jt.jsxs)(Ti,{title:"3. Third-Party Cookies",children:[(0,Jt.jsx)("p",{className:"mb-3",children:"We use the following third-party services that may set cookies:"}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"3.1 Firebase (Google)"}),(0,Jt.jsx)("p",{className:"mb-3",children:"Firebase Authentication sets cookies to manage your login session. These are essential for authentication."}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsx)("li",{children:"Cookie names: __session, firebase-auth-token"}),(0,Jt.jsx)("li",{children:"Purpose: Authentication and session management"}),(0,Jt.jsx)("li",{children:"Duration: Session or persistent (up to 30 days)"}),(0,Jt.jsx)("li",{children:(0,Jt.jsx)("a",{href:"https://firebase.google.com/support/privacy",className:"text-blue-600 hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Firebase Privacy Policy"})})]}),(0,Jt.jsxs)("p",{className:"mb-3",children:[(0,Jt.jsx)("strong",{children:"Firebase Analytics:"})," We use Firebase Analytics to understand user behavior and improve the service."]}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsx)("li",{children:"Cookie names: _ga, _gid, _gat (Google Analytics via Firebase)"}),(0,Jt.jsx)("li",{children:"Purpose: Analyze page views, user engagement, and feature usage"}),(0,Jt.jsx)("li",{children:"Duration: 2 years (_ga), 24 hours (_gid), 1 minute (_gat)"}),(0,Jt.jsx)("li",{children:"You can opt-out through browser settings or Google Analytics opt-out tools"})]}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"3.2 Stripe"}),(0,Jt.jsx)("p",{className:"mb-3",children:"Stripe may set cookies during payment processing to prevent fraud."}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsx)("li",{children:"Cookie names: __stripe_mid, __stripe_sid"}),(0,Jt.jsx)("li",{children:"Purpose: Fraud prevention and payment processing"}),(0,Jt.jsx)("li",{children:"Duration: Session or 1 year"}),(0,Jt.jsx)("li",{children:(0,Jt.jsx)("a",{href:"https://stripe.com/privacy",className:"text-blue-600 hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Stripe Privacy Policy"})})]})]}),(0,Jt.jsxs)(Ti,{title:"4. Local Storage",children:[(0,Jt.jsx)("p",{className:"mb-3",children:"In addition to cookies, we may use browser local storage for:"}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsx)("li",{children:"Caching lesson content for offline access"}),(0,Jt.jsx)("li",{children:"Storing user preferences (theme, notification settings)"}),(0,Jt.jsx)("li",{children:"Temporarily storing draft AI lesson requests"})]}),(0,Jt.jsx)("p",{className:"text-sm text-slate-600",children:(0,Jt.jsx)("em",{children:"Note: Based on our code audit, we currently do NOT use localStorage for persistent data. All user data is stored in Firestore."})})]}),(0,Jt.jsxs)(Ti,{title:"5. Managing Cookies",children:[(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"5.1 Browser Settings"}),(0,Jt.jsx)("p",{className:"mb-3",children:"You can control cookies through your browser settings:"}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Chrome:"})," Settings \u2192 Privacy and Security \u2192 Cookies and other site data"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Firefox:"})," Settings \u2192 Privacy & Security \u2192 Cookies and Site Data"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Safari:"})," Preferences \u2192 Privacy \u2192 Cookies and website data"]}),(0,Jt.jsxs)("li",{children:[(0,Jt.jsx)("strong",{children:"Edge:"})," Settings \u2192 Cookies and site permissions"]})]}),(0,Jt.jsx)("h4",{className:"font-semibold mb-2",children:"5.2 Impact of Disabling Cookies"}),(0,Jt.jsx)("p",{children:"If you disable essential cookies, you will not be able to:"}),(0,Jt.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Jt.jsx)("li",{children:"Stay logged in between sessions"}),(0,Jt.jsx)("li",{children:"Save your progress"}),(0,Jt.jsx)("li",{children:"Use subscription features"}),(0,Jt.jsx)("li",{children:"Access personalized content"})]})]}),(0,Jt.jsx)(Ti,{title:"6. Do Not Track",children:(0,Jt.jsx)("p",{children:'Some browsers include a "Do Not Track" (DNT) feature. We respect user privacy preferences. You can disable analytics cookies through your browser settings or use Google\'s opt-out tools.'})}),(0,Jt.jsx)(Ti,{title:"7. Updates to Cookie Policy",children:(0,Jt.jsx)("p",{children:"We may update this Cookie Policy to reflect changes in technology or regulations. Check this page periodically for updates."})}),(0,Jt.jsxs)(Ti,{title:"8. Contact Us",children:[(0,Jt.jsx)("p",{children:"If you have questions about our use of cookies:"}),(0,Jt.jsxs)("ul",{className:"list-none pl-0 mb-4",children:[(0,Jt.jsx)("li",{children:"Email: scottymcmurray@gmail.com"}),(0,Jt.jsx)("li",{children:"Website: www.churchexplorer.org/legal"})]})]}),(0,Jt.jsx)("div",{className:"mt-8 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:(0,Jt.jsxs)("p",{className:"text-sm text-purple-900",children:[(0,Jt.jsx)("strong",{children:"Privacy-First Approach:"})," We use Firebase Analytics to improve our service based on how users interact with content. We do not use advertising cookies or share data with advertising networks. You can opt-out of analytics through your browser settings."]})})]})}function Ti(t){let{title:n,children:r}=t;const[i,s]=(0,e.useState)(!0);return(0,Jt.jsxs)("div",{className:"mb-6 border-b border-slate-200 pb-6",children:[(0,Jt.jsxs)("button",{onClick:()=>s(!i),className:"flex items-center justify-between w-full text-left mb-3 hover:text-blue-600 transition",children:[(0,Jt.jsx)("h3",{className:"text-lg font-bold text-slate-900",children:n}),i?(0,Jt.jsx)(Sr,{className:"w-5 h-5 text-slate-400"}):(0,Jt.jsx)(nn,{className:"w-5 h-5 text-slate-400"})]}),i&&(0,Jt.jsx)("div",{className:"text-slate-700",children:r})]})}function Ai(t){let{currentUser:n,showProfileMenu:r,setShowProfileMenu:i,setShowAuth:s,handleSignOut:a,setShowDeleteConfirm:o,setDeletePassword:l,setDeleteError:c,authLoading:d}=t;const[u,h]=(0,e.useState)(!1);return(0,Jt.jsxs)("nav",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg sticky top-0 z-50",children:[(0,Jt.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,Jt.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,Jt.jsx)(dt,{to:"/",className:"text-xl font-bold hover:text-blue-100 transition",children:"Church Explorer"}),(0,Jt.jsxs)("div",{className:"flex items-center space-x-3",children:[n&&(d?(0,Jt.jsx)("div",{className:"w-8 h-8 bg-white/20 rounded-lg animate-pulse","aria-hidden":"true"}):(0,Jt.jsx)("button",{onClick:()=>h(!u),className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition backdrop-blur-sm","aria-label":"Open menu",children:(0,Jt.jsx)(rr,{className:"w-6 h-6 text-white"})})),(0,Jt.jsx)("div",{className:"relative",children:d?(0,Jt.jsx)("div",{className:"px-3 py-2",children:(0,Jt.jsx)("div",{className:"w-24 h-8 bg-white/20 rounded-lg animate-pulse"})}):n?(0,Jt.jsxs)("div",{children:[(0,Jt.jsxs)("button",{onClick:()=>i(!r),className:"flex items-center space-x-2 px-3 sm:px-4 py-2 bg-white text-blue-600 rounded-lg font-medium hover:bg-blue-50 transition",children:[(0,Jt.jsx)(ir,{className:"w-5 h-5"}),(0,Jt.jsx)("span",{className:"hidden sm:inline",children:n.displayName||"User"}),(0,Jt.jsx)(nn,{className:"w-4 h-4 hidden sm:inline"})]}),r&&(0,Jt.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[(0,Jt.jsxs)("div",{className:"px-4 py-2 border-b border-gray-100",children:[(0,Jt.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:n.displayName||"User"}),(0,Jt.jsx)("p",{className:"text-xs text-gray-500 truncate",children:n.email})]}),(0,Jt.jsxs)(dt,{to:"/profile",onClick:()=>i(!1),className:"w-full flex items-center space-x-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition",children:[(0,Jt.jsx)(sr,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{children:"Profile & Settings"})]}),(0,Jt.jsxs)("button",{onClick:a,className:"w-full flex items-center space-x-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition",children:[(0,Jt.jsx)(ar,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{children:"Sign Out"})]}),(0,Jt.jsxs)("button",{onClick:()=>{o(!0),i(!1),l(""),c("")},className:"w-full flex items-center space-x-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition border-t border-gray-100",children:[(0,Jt.jsx)(or,{className:"w-4 h-4"}),(0,Jt.jsx)("span",{children:"Delete Account"})]})]})]}):(0,Jt.jsxs)("button",{onClick:()=>s(!0),className:"flex items-center px-3 sm:px-4 py-2 bg-white text-blue-600 rounded-lg font-medium hover:bg-blue-50 transition whitespace-nowrap",title:"Sign in or create a new account",children:[(0,Jt.jsx)(ir,{className:"w-5 h-5 sm:mr-2"}),(0,Jt.jsx)("span",{className:"hidden sm:inline",children:"Sign In / Sign Up"})]})})]})]})}),(0,Jt.jsx)("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 transition-opacity duration-300 ".concat(u?"opacity-100":"opacity-0 pointer-events-none"),onClick:()=>h(!1),children:(0,Jt.jsx)("div",{className:"fixed top-0 right-0 h-full w-64 bg-white/10 backdrop-blur-xl shadow-2xl border-l border-white/20 transform transition-transform duration-300 ".concat(u?"translate-x-0":"translate-x-full"),onClick:e=>e.stopPropagation(),children:(0,Jt.jsxs)("div",{className:"p-6",children:[(0,Jt.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,Jt.jsx)("h2",{className:"text-xl font-bold text-white",children:"Menu"}),(0,Jt.jsx)("button",{onClick:()=>h(!1),className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition backdrop-blur-sm","aria-label":"Close menu",children:(0,Jt.jsx)(sn,{className:"w-5 h-5 text-white"})})]}),(0,Jt.jsxs)("div",{className:"space-y-3",children:[(0,Jt.jsxs)(dt,{to:"/",onClick:()=>h(!1),className:"flex items-center px-4 py-3 rounded-lg transition text-left bg-white/10 hover:bg-white/20 text-white backdrop-blur-sm",children:[(0,Jt.jsx)(lr,{className:"w-5 h-5 mr-3"}),(0,Jt.jsx)("span",{children:"Home"})]}),(0,Jt.jsxs)(dt,{to:"/learn",onClick:()=>h(!1),className:"flex items-center px-4 py-3 rounded-lg transition text-left bg-white/10 hover:bg-white/20 text-white backdrop-blur-sm",children:[(0,Jt.jsx)(Yt,{className:"w-5 h-5 mr-3"}),(0,Jt.jsx)("span",{children:"Curated Learning"})]}),(0,Jt.jsxs)(dt,{to:"/ai-paths",onClick:()=>h(!1),className:"flex items-center px-4 py-3 rounded-lg transition text-left bg-white/10 hover:bg-white/20 text-white backdrop-blur-sm",children:[(0,Jt.jsx)(cr,{className:"w-5 h-5 mr-3"}),(0,Jt.jsx)("span",{children:"AI Learning"})]}),(0,Jt.jsxs)(dt,{to:"/explorer",onClick:()=>h(!1),className:"flex items-center px-4 py-3 rounded-lg transition text-left bg-white/10 hover:bg-white/20 text-white backdrop-blur-sm",children:[(0,Jt.jsx)(Gt,{className:"w-5 h-5 mr-3"}),(0,Jt.jsx)("span",{children:"Explore"})]}),(0,Jt.jsxs)(dt,{to:"/leaderboard",onClick:()=>h(!1),className:"flex items-center px-4 py-3 rounded-lg transition text-left bg-white/10 hover:bg-white/20 text-white backdrop-blur-sm",children:[(0,Jt.jsx)(Zt,{className:"w-5 h-5 mr-3"}),(0,Jt.jsx)("span",{children:"Leaderboard"})]})]})]})})})]})}function Ei(e){let{userProgress:t,onShowAuth:n,currentUser:r,onProgressUpdate:i}=e;const s=ce();return(0,Jt.jsx)(wr,{userProgress:t,onNavigate:(e,t)=>s("/".concat(e),t),onStartOnboarding:()=>s("/onboarding"),onShowAuth:n,currentUser:r,onProgressUpdate:i})}function Pi(e){let{userProgress:t}=e;const n=ce();return(0,Jt.jsx)(Tr,{userProgress:t,onNavigate:e=>n("/".concat(e)),onGoBack:()=>n(-1)})}function Ii(e){let{currentUser:t,onDeleteAccount:n,onSignOut:r}=e;return(0,Jt.jsx)(vi,{currentUser:t,onDeleteAccount:n,onSignOut:r})}function _i(){const e=ce();return(0,Jt.jsx)(Ir,{onNavigate:t=>e("/".concat(t)),onGoBack:()=>e(-1)})}function Ri(e){let{userProgress:t,onProgressUpdate:n}=e;const r=ce();return(0,Jt.jsx)(Mn,{userProgress:t,onNavigate:e=>r("/".concat(e)),onGoBack:()=>r(-1),onProgressUpdate:n})}function Di(e){let{userProgress:t,onProgressUpdate:n}=e;const r=ce();return(0,Jt.jsx)(Gn,{userProgress:t,onNavigate:e=>r("/".concat(e)),onGoBack:()=>r(-1),onProgressUpdate:n})}function Li(e){let{userProgress:t,onProgressUpdate:n}=e;const r=ce();return(0,Jt.jsx)(nr,{userProgress:t,onNavigate:e=>r("/".concat(e)),onGoBack:()=>r(-1),onProgressUpdate:n})}function Oi(){const e=ce();return(0,Jt.jsx)(Kt,{initialView:"church",onNavigate:t=>e("/".concat(t))})}function Mi(){const e=ce();return(0,Jt.jsx)(Kt,{initialView:"bible",onNavigate:t=>e("/".concat(t))})}function Bi(){const e=ce();return(0,Jt.jsx)(_r,{onNavigate:t=>e("/".concat(t))})}function Fi(e){let{setShowAuth:t}=e;const n=ce();return(0,Jt.jsx)(Pr,{onComplete:e=>{let{view:t}=e;return n("/".concat(t))},setShowAuth:t})}function zi(t){let{currentUser:i}=t;const{pathId:s}=de(),a=ce(),[o,l]=(0,e.useState)(null),[c,d]=(0,e.useState)(!0);return(0,e.useEffect)(()=>{(async()=>{if(null!==i&&void 0!==i&&i.uid)try{const{getAIPathsFromFirestore:a,getAIPathProgressFromFirestore:o}=await Promise.resolve().then(n.bind(n,54)),c=await a(i.uid);if(c.success&&c.paths){const n=c.paths.find(e=>e.id===s);if(n){var e,t;const a=await o(i.uid,s),c=(0,r.A)((0,r.A)({},n),{},{completedLessons:a.success&&(null===(e=a.progress)||void 0===e?void 0:e.completedLessons)||[],completed:!!(n.lessons&&a.success&&null!==(t=a.progress)&&void 0!==t&&t.completedLessons)&&a.progress.completedLessons.length>=n.lessons.length});l(c)}}}catch(a){console.error("Error loading AI path:",a)}finally{d(!1)}else d(!1)})()},[s,i]),c?(0,Jt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 flex items-center justify-center",children:(0,Jt.jsxs)("div",{className:"text-center",children:[(0,Jt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-purple-600 border-t-transparent mx-auto mb-4"}),(0,Jt.jsx)("p",{className:"text-slate-600",children:"Loading path..."})]})}):o?(0,Jt.jsx)(Xr,{path:o,currentUser:i,onGoBack:()=>a("/ai-paths")}):(0,Jt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 flex items-center justify-center",children:(0,Jt.jsxs)("div",{className:"text-center",children:[(0,Jt.jsx)("p",{className:"text-slate-600 mb-4",children:"Path not found"}),(0,Jt.jsx)("button",{onClick:()=>a("/ai-paths"),className:"bg-purple-600 text-white px-6 py-2 rounded-xl font-semibold",children:"Back to AI Paths"})]})})}function qi(){const t=ce(),[i,s]=(0,e.useState)(null),[a,o]=(0,e.useState)(null),[l,c]=(0,e.useState)(!0),[d,u]=(0,e.useState)(!1),[h,m]=(0,e.useState)(!1),[p,f]=(0,e.useState)(!1),[g,y]=(0,e.useState)(!1),[b,x]=(0,e.useState)(""),[v,w]=(0,e.useState)(""),[N,k]=(0,e.useState)(0),j=async()=>{if(i)try{const{getUserProgress:t,getAIPathsFromFirestore:s,getAIPathProgressFromFirestore:a}=await Promise.resolve().then(n.bind(n,54)),l=await t(i.uid);if(l.success&&l.progress){var e;const t=l.progress,n=await s(i.uid);if(n.success){const e=await Promise.all((n.paths||[]).map(async e=>{const t=await a(i.uid,e.id);return t.success&&t.progress?(0,r.A)((0,r.A)({},e),{},{completedLessons:t.progress.completedLessons||[],completed:!(!e.lessons||!t.progress.completedLessons)&&t.progress.completedLessons.length>=e.lessons.length}):(0,r.A)((0,r.A)({},e),{},{completedLessons:[],completed:!1})}));t.aiPaths=e}o(t),console.log("\u2705 User progress refreshed, totalXP:",t.totalXP,"AI Paths:",null===(e=t.aiPaths)||void 0===e?void 0:e.length)}}catch(t){console.error("Error refreshing progress:",t)}};(0,e.useEffect)(()=>{const e=(t=e=>{s(e),e&&d&&u(!1),e&&y(!1),(async()=>{try{if(e){console.log("Auth state change - user logged in, fetching progress...");const t=await(0,On.getUserProgress)(e.uid);if(console.log("Progress result:",t),t&&t.success&&t.progress){const i=t.progress,{getAIPathsFromFirestore:s,getAIPathProgressFromFirestore:a}=await Promise.resolve().then(n.bind(n,54)),l=await s(e.uid);if(l.success){const t=await Promise.all((l.paths||[]).map(async t=>{const n=await a(e.uid,t.id);return n.success&&n.progress?(0,r.A)((0,r.A)({},t),{},{completedLessons:n.progress.completedLessons||[],completed:!(!t.lessons||!n.progress.completedLessons)&&n.progress.completedLessons.length>=t.lessons.length}):(0,r.A)((0,r.A)({},t),{},{completedLessons:[],completed:!1})}));i.aiPaths=t,console.log("\u2705 Loaded AI paths from Firestore:",i.aiPaths.length)}else i.aiPaths=[],console.warn("Failed to load AI paths:",l.error);o(i),console.log("\u2705 Progress loaded from Firestore (single source of truth)")}}else o(null)}catch(t){console.error("Error loading user progress on auth change:",t)}finally{c(!1)}})()},(0,fn.hg)(yn.j,t));var t;return()=>e()},[d]),(0,e.useEffect)(()=>{const e=e=>{h&&!e.target.closest(".relative")&&m(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[h]);const C=async()=>{await(async()=>{try{return await(0,fn.CI)(yn.j),{success:!0}}catch(e){return console.error("Sign out error:",e),{success:!1,error:e.message}}})(),s(null),o(null),m(!1),k(e=>e+1),t("/")},S=async()=>{if(w(""),!b.trim())return void w("Please enter your password");const e=await(async e=>{try{const t=yn.j.currentUser;if(!t)return{success:!1,error:"No user logged in"};const n=t.uid,r=t.email,i=fn.IX.credential(r,e);return await(0,fn.kZ)(t,i),await(0,gn.deleteDoc)((0,gn.doc)(yn.db,"users",n)),await(0,fn.hG)(t),{success:!0}}catch(t){return console.error("Delete account error:",t),"auth/wrong-password"===t.code?{success:!1,error:"Incorrect password. Please try again."}:"auth/too-many-requests"===t.code?{success:!1,error:"Too many attempts. Please try again later."}:{success:!1,error:t.message}}})(b);e.success?(s(null),o(null),m(!1),f(!1),x(""),w(""),k(e=>e+1),t("/")):w(e.error)};return(0,Jt.jsxs)("div",{className:"min-h-screen",children:[(0,Jt.jsx)(Ai,{currentUser:i,showProfileMenu:h,setShowProfileMenu:m,setShowAuth:u,authLoading:l,handleSignOut:C,setShowDeleteConfirm:f,setDeletePassword:x,setDeleteError:w}),l?(0,Jt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 flex items-center justify-center",children:(0,Jt.jsxs)("div",{className:"text-center",children:[(0,Jt.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,Jt.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading..."})]})}):(0,Jt.jsxs)("div",{children:[(0,Jt.jsxs)(Ee,{children:[(0,Jt.jsx)(Te,{path:"/",element:i?(0,Jt.jsx)(Ei,{userProgress:a,onShowAuth:()=>u(!0),currentUser:i,onProgressUpdate:j}):(0,Jt.jsx)(Fi,{setShowAuth:u})}),(0,Jt.jsx)(Te,{path:"/learn",element:(0,Jt.jsx)(Pi,{userProgress:a})}),(0,Jt.jsx)(Te,{path:"/explorer",element:(0,Jt.jsx)(_i,{})}),(0,Jt.jsx)(Te,{path:"/study-guide",element:(0,Jt.jsx)(Ri,{userProgress:a,onProgressUpdate:j})}),(0,Jt.jsx)(Te,{path:"/bible-history",element:(0,Jt.jsx)(Di,{userProgress:a,onProgressUpdate:j})}),(0,Jt.jsx)(Te,{path:"/apologetics",element:(0,Jt.jsx)(Li,{userProgress:a,onProgressUpdate:j})}),(0,Jt.jsx)(Te,{path:"/explore-church",element:(0,Jt.jsx)(Oi,{})}),(0,Jt.jsx)(Te,{path:"/explore-bible",element:(0,Jt.jsx)(Mi,{})}),(0,Jt.jsx)(Te,{path:"/explore-denominations",element:(0,Jt.jsx)(Bi,{})}),(0,Jt.jsx)(Te,{path:"/onboarding",element:(0,Jt.jsx)(Fi,{setShowAuth:u})}),(0,Jt.jsx)(Te,{path:"/leaderboard",element:(0,Jt.jsx)(Lr,{currentUser:i})}),(0,Jt.jsx)(Te,{path:"/profile",element:(0,Jt.jsx)(Ii,{currentUser:i,onDeleteAccount:()=>f(!0),onSignOut:C})}),(0,Jt.jsx)(Te,{path:"/legal",element:(0,Jt.jsx)(ki,{})}),(0,Jt.jsx)(Te,{path:"/ai-paths",element:(0,Jt.jsx)(gi,{currentUser:i})}),(0,Jt.jsx)(Te,{path:"/ai-path/:pathId",element:(0,Jt.jsx)(zi,{currentUser:i})}),(0,Jt.jsx)(Te,{path:"/ai-lesson/:lessonId",element:(0,Jt.jsx)(yi,{currentUser:i,onProgressUpdate:j})})]}),(0,Jt.jsx)("footer",{className:"bg-gradient-to-r from-slate-800 to-slate-900 text-slate-300 py-6 mt-12",children:(0,Jt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[(0,Jt.jsx)("p",{className:"text-sm italic mb-2",children:'"In essentials, unity. In non-essentials, liberty. In all things, charity."'}),(0,Jt.jsxs)("div",{className:"flex items-center justify-center gap-4 text-xs text-slate-400",children:[(0,Jt.jsx)(dt,{to:"/legal",className:"hover:text-white transition",children:"Legal & Privacy"}),(0,Jt.jsx)("span",{children:"\xb7"}),(0,Jt.jsxs)("span",{children:["\xa9 ",(new Date).getFullYear()," Church Explorer"]})]})]})}),d&&(0,Jt.jsx)(Br,{onSuccess:e=>{s(e),u(!1)},onClose:()=>u(!1)}),g&&(0,Jt.jsx)(Fr,{onSignUp:()=>{y(!1),u(!0)},onDismiss:()=>{y(!1)},xp:(null===a||void 0===a?void 0:a.totalXP)||0})]},N),p&&(0,Jt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Jt.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[(0,Jt.jsx)("div",{className:"flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mx-auto mb-4",children:(0,Jt.jsx)(or,{className:"w-8 h-8 text-red-600"})}),(0,Jt.jsx)("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Delete Account?"}),(0,Jt.jsx)("p",{className:"text-gray-600 text-center mb-6",children:"This action cannot be undone. All your progress, XP, and account data will be permanently deleted."}),(0,Jt.jsxs)("div",{className:"mb-6",children:[(0,Jt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Enter your password to confirm"}),(0,Jt.jsx)("input",{type:"password",value:b,onChange:e=>x(e.target.value),placeholder:"Password",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",onKeyDown:e=>{"Enter"===e.key&&S()}}),v&&(0,Jt.jsx)("p",{className:"mt-2 text-sm text-red-600",children:v})]}),(0,Jt.jsxs)("div",{className:"flex gap-3",children:[(0,Jt.jsx)("button",{onClick:()=>{f(!1),x(""),w("")},className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition",children:"Cancel"}),(0,Jt.jsx)("button",{onClick:S,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-xl font-semibold hover:bg-red-700 transition",children:"Delete Forever"})]})]})})]})}const Wi=function(){return(0,Jt.jsxs)(lt,{children:[(0,Jt.jsx)(qi,{}),(0,Jt.jsx)(Rt,{location:"bottom",buttonText:"Accept All",declineButtonText:"Decline",enableDeclineButton:!0,cookieName:"churchExplorerCookieConsent",style:{background:"linear-gradient(to right, rgb(37, 99, 235), rgb(147, 51, 234))",alignItems:"center"},buttonStyle:{background:"#fff",color:"#1e293b",fontSize:"14px",fontWeight:"600",borderRadius:"8px",padding:"10px 24px"},declineButtonStyle:{background:"transparent",border:"2px solid #fff",color:"#fff",fontSize:"14px",fontWeight:"600",borderRadius:"8px",padding:"8px 24px"},expires:365,children:(0,Jt.jsxs)("span",{style:{fontSize:"14px"},children:["We use cookies to keep you logged in and improve your experience. See our ",(0,Jt.jsx)(dt,{to:"/legal",style:{color:"#fff",textDecoration:"underline"},children:"Cookie Policy"})," for details."]})})]})};t.createRoot(document.getElementById("root")).render((0,Jt.jsx)(e.StrictMode,{children:(0,Jt.jsx)(Wi,{})}))})()})();
//# sourceMappingURL=main.7b4c9047.js.map